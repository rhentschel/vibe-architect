var FN=t=>{throw TypeError(t)};var Z1=(t,e,n)=>e.has(t)||FN("Cannot "+n);var ln=(t,e,n)=>(Z1(t,e,"read from private field"),n?n.call(t):e.get(t)),bs=(t,e,n)=>e.has(t)?FN("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Ir=(t,e,n,r)=>(Z1(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),vs=(t,e,n)=>(Z1(t,e,"access private method"),n);var IN=(t,e,n,r)=>({set _(i){Ir(t,e,i,n)},get _(){return ln(t,e,r)}});function see(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Li=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $l(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function aee(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var J1={exports:{}},ah={};var PN;function oee(){if(PN)return ah;PN=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,s){var a=null;if(s!==void 0&&(a=""+s),i.key!==void 0&&(a=""+i.key),"key"in i){s={};for(var o in i)o!=="key"&&(s[o]=i[o])}else s=i;return i=s.ref,{$$typeof:t,type:r,key:a,ref:i!==void 0?i:null,props:s}}return ah.Fragment=e,ah.jsx=n,ah.jsxs=n,ah}var LN;function lee(){return LN||(LN=1,J1.exports=oee()),J1.exports}var I=lee(),Q1={exports:{}},ht={};var BN;function cee(){if(BN)return ht;BN=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.for("react.activity"),p=Symbol.iterator;function g(L){return L===null||typeof L!="object"?null:(L=p&&L[p]||L["@@iterator"],typeof L=="function"?L:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,b={};function x(L,K,j){this.props=L,this.context=K,this.refs=b,this.updater=j||v}x.prototype.isReactComponent={},x.prototype.setState=function(L,K){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,K,"setState")},x.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function w(){}w.prototype=x.prototype;function D(L,K,j){this.props=L,this.context=K,this.refs=b,this.updater=j||v}var E=D.prototype=new w;E.constructor=D,y(E,x.prototype),E.isPureReactComponent=!0;var A=Array.isArray;function S(){}var T={H:null,A:null,T:null,S:null},M=Object.prototype.hasOwnProperty;function R(L,K,j){var Y=j.ref;return{$$typeof:t,type:L,key:K,ref:Y!==void 0?Y:null,props:j}}function O(L,K){return R(L.type,K,L.props)}function z(L){return typeof L=="object"&&L!==null&&L.$$typeof===t}function F(L){var K={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(j){return K[j]})}var q=/\/+/g;function k(L,K){return typeof L=="object"&&L!==null&&L.key!=null?F(""+L.key):K.toString(36)}function H(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(S,S):(L.status="pending",L.then(function(K){L.status==="pending"&&(L.status="fulfilled",L.value=K)},function(K){L.status==="pending"&&(L.status="rejected",L.reason=K)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function N(L,K,j,Y,ee){var re=typeof L;(re==="undefined"||re==="boolean")&&(L=null);var se=!1;if(L===null)se=!0;else switch(re){case"bigint":case"string":case"number":se=!0;break;case"object":switch(L.$$typeof){case t:case e:se=!0;break;case d:return se=L._init,N(se(L._payload),K,j,Y,ee)}}if(se)return ee=ee(L),se=Y===""?"."+k(L,0):Y,A(ee)?(j="",se!=null&&(j=se.replace(q,"$&/")+"/"),N(ee,K,j,"",function(Re){return Re})):ee!=null&&(z(ee)&&(ee=O(ee,j+(ee.key==null||L&&L.key===ee.key?"":(""+ee.key).replace(q,"$&/")+"/")+se)),K.push(ee)),1;se=0;var ye=Y===""?".":Y+":";if(A(L))for(var xe=0;xe<L.length;xe++)Y=L[xe],re=ye+k(Y,xe),se+=N(Y,K,j,re,ee);else if(xe=g(L),typeof xe=="function")for(L=xe.call(L),xe=0;!(Y=L.next()).done;)Y=Y.value,re=ye+k(Y,xe++),se+=N(Y,K,j,re,ee);else if(re==="object"){if(typeof L.then=="function")return N(H(L),K,j,Y,ee);throw K=String(L),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return se}function B(L,K,j){if(L==null)return L;var Y=[],ee=0;return N(L,Y,"","",function(re){return K.call(j,re,ee++)}),Y}function G(L){if(L._status===-1){var K=L._result;K=K(),K.then(function(j){(L._status===0||L._status===-1)&&(L._status=1,L._result=j)},function(j){(L._status===0||L._status===-1)&&(L._status=2,L._result=j)}),L._status===-1&&(L._status=0,L._result=K)}if(L._status===1)return L._result.default;throw L._result}var $=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},W={map:B,forEach:function(L,K,j){B(L,function(){K.apply(this,arguments)},j)},count:function(L){var K=0;return B(L,function(){K++}),K},toArray:function(L){return B(L,function(K){return K})||[]},only:function(L){if(!z(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return ht.Activity=h,ht.Children=W,ht.Component=x,ht.Fragment=n,ht.Profiler=i,ht.PureComponent=D,ht.StrictMode=r,ht.Suspense=l,ht.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=T,ht.__COMPILER_RUNTIME={__proto__:null,c:function(L){return T.H.useMemoCache(L)}},ht.cache=function(L){return function(){return L.apply(null,arguments)}},ht.cacheSignal=function(){return null},ht.cloneElement=function(L,K,j){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var Y=y({},L.props),ee=L.key;if(K!=null)for(re in K.key!==void 0&&(ee=""+K.key),K)!M.call(K,re)||re==="key"||re==="__self"||re==="__source"||re==="ref"&&K.ref===void 0||(Y[re]=K[re]);var re=arguments.length-2;if(re===1)Y.children=j;else if(1<re){for(var se=Array(re),ye=0;ye<re;ye++)se[ye]=arguments[ye+2];Y.children=se}return R(L.type,ee,Y)},ht.createContext=function(L){return L={$$typeof:a,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:s,_context:L},L},ht.createElement=function(L,K,j){var Y,ee={},re=null;if(K!=null)for(Y in K.key!==void 0&&(re=""+K.key),K)M.call(K,Y)&&Y!=="key"&&Y!=="__self"&&Y!=="__source"&&(ee[Y]=K[Y]);var se=arguments.length-2;if(se===1)ee.children=j;else if(1<se){for(var ye=Array(se),xe=0;xe<se;xe++)ye[xe]=arguments[xe+2];ee.children=ye}if(L&&L.defaultProps)for(Y in se=L.defaultProps,se)ee[Y]===void 0&&(ee[Y]=se[Y]);return R(L,re,ee)},ht.createRef=function(){return{current:null}},ht.forwardRef=function(L){return{$$typeof:o,render:L}},ht.isValidElement=z,ht.lazy=function(L){return{$$typeof:d,_payload:{_status:-1,_result:L},_init:G}},ht.memo=function(L,K){return{$$typeof:c,type:L,compare:K===void 0?null:K}},ht.startTransition=function(L){var K=T.T,j={};T.T=j;try{var Y=L(),ee=T.S;ee!==null&&ee(j,Y),typeof Y=="object"&&Y!==null&&typeof Y.then=="function"&&Y.then(S,$)}catch(re){$(re)}finally{K!==null&&j.types!==null&&(K.types=j.types),T.T=K}},ht.unstable_useCacheRefresh=function(){return T.H.useCacheRefresh()},ht.use=function(L){return T.H.use(L)},ht.useActionState=function(L,K,j){return T.H.useActionState(L,K,j)},ht.useCallback=function(L,K){return T.H.useCallback(L,K)},ht.useContext=function(L){return T.H.useContext(L)},ht.useDebugValue=function(){},ht.useDeferredValue=function(L,K){return T.H.useDeferredValue(L,K)},ht.useEffect=function(L,K){return T.H.useEffect(L,K)},ht.useEffectEvent=function(L){return T.H.useEffectEvent(L)},ht.useId=function(){return T.H.useId()},ht.useImperativeHandle=function(L,K,j){return T.H.useImperativeHandle(L,K,j)},ht.useInsertionEffect=function(L,K){return T.H.useInsertionEffect(L,K)},ht.useLayoutEffect=function(L,K){return T.H.useLayoutEffect(L,K)},ht.useMemo=function(L,K){return T.H.useMemo(L,K)},ht.useOptimistic=function(L,K){return T.H.useOptimistic(L,K)},ht.useReducer=function(L,K,j){return T.H.useReducer(L,K,j)},ht.useRef=function(L){return T.H.useRef(L)},ht.useState=function(L){return T.H.useState(L)},ht.useSyncExternalStore=function(L,K,j){return T.H.useSyncExternalStore(L,K,j)},ht.useTransition=function(){return T.H.useTransition()},ht.version="19.2.4",ht}var jN;function Vf(){return jN||(jN=1,Q1.exports=cee()),Q1.exports}var V=Vf();const Ce=$l(V),kq=see({__proto__:null,default:Ce},[V]);var ex={exports:{}},oh={},tx={exports:{}},nx={};var zN;function uee(){return zN||(zN=1,(function(t){function e(N,B){var G=N.length;N.push(B);e:for(;0<G;){var $=G-1>>>1,W=N[$];if(0<i(W,B))N[$]=B,N[G]=W,G=$;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var B=N[0],G=N.pop();if(G!==B){N[0]=G;e:for(var $=0,W=N.length,L=W>>>1;$<L;){var K=2*($+1)-1,j=N[K],Y=K+1,ee=N[Y];if(0>i(j,G))Y<W&&0>i(ee,j)?(N[$]=ee,N[Y]=G,$=Y):(N[$]=j,N[K]=G,$=K);else if(Y<W&&0>i(ee,G))N[$]=ee,N[Y]=G,$=Y;else break e}}return B}function i(N,B){var G=N.sortIndex-B.sortIndex;return G!==0?G:N.id-B.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],c=[],d=1,h=null,p=3,g=!1,v=!1,y=!1,b=!1,x=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function E(N){for(var B=n(c);B!==null;){if(B.callback===null)r(c);else if(B.startTime<=N)r(c),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(c)}}function A(N){if(y=!1,E(N),!v)if(n(l)!==null)v=!0,S||(S=!0,F());else{var B=n(c);B!==null&&H(A,B.startTime-N)}}var S=!1,T=-1,M=5,R=-1;function O(){return b?!0:!(t.unstable_now()-R<M)}function z(){if(b=!1,S){var N=t.unstable_now();R=N;var B=!0;try{e:{v=!1,y&&(y=!1,w(T),T=-1),g=!0;var G=p;try{t:{for(E(N),h=n(l);h!==null&&!(h.expirationTime>N&&O());){var $=h.callback;if(typeof $=="function"){h.callback=null,p=h.priorityLevel;var W=$(h.expirationTime<=N);if(N=t.unstable_now(),typeof W=="function"){h.callback=W,E(N),B=!0;break t}h===n(l)&&r(l),E(N)}else r(l);h=n(l)}if(h!==null)B=!0;else{var L=n(c);L!==null&&H(A,L.startTime-N),B=!1}}break e}finally{h=null,p=G,g=!1}B=void 0}}finally{B?F():S=!1}}}var F;if(typeof D=="function")F=function(){D(z)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,k=q.port2;q.port1.onmessage=z,F=function(){k.postMessage(null)}}else F=function(){x(z,0)};function H(N,B){T=x(function(){N(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(N){switch(p){case 1:case 2:case 3:var B=3;break;default:B=p}var G=p;p=B;try{return N()}finally{p=G}},t.unstable_requestPaint=function(){b=!0},t.unstable_runWithPriority=function(N,B){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var G=p;p=N;try{return B()}finally{p=G}},t.unstable_scheduleCallback=function(N,B,G){var $=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?$+G:$):G=$,N){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=G+W,N={id:d++,callback:B,priorityLevel:N,startTime:G,expirationTime:W,sortIndex:-1},G>$?(N.sortIndex=G,e(c,N),n(l)===null&&N===n(c)&&(y?(w(T),T=-1):y=!0,H(A,G-$))):(N.sortIndex=W,e(l,N),v||g||(v=!0,S||(S=!0,F()))),N},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(N){var B=p;return function(){var G=p;p=B;try{return N.apply(this,arguments)}finally{p=G}}}})(nx)),nx}var qN;function dee(){return qN||(qN=1,tx.exports=uee()),tx.exports}var rx={exports:{}},cr={};var WN;function hee(){if(WN)return cr;WN=1;var t=Vf();function e(l){var c="https://react.dev/errors/"+l;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)c+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+l+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(l,c,d){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:h==null?null:""+h,children:l,containerInfo:c,implementation:d}}var a=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(l,c){if(l==="font")return"";if(typeof c=="string")return c==="use-credentials"?c:""}return cr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,cr.createPortal=function(l,c){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)throw Error(e(299));return s(l,c,null,d)},cr.flushSync=function(l){var c=a.T,d=r.p;try{if(a.T=null,r.p=2,l)return l()}finally{a.T=c,r.p=d,r.d.f()}},cr.preconnect=function(l,c){typeof l=="string"&&(c?(c=c.crossOrigin,c=typeof c=="string"?c==="use-credentials"?c:"":void 0):c=null,r.d.C(l,c))},cr.prefetchDNS=function(l){typeof l=="string"&&r.d.D(l)},cr.preinit=function(l,c){if(typeof l=="string"&&c&&typeof c.as=="string"){var d=c.as,h=o(d,c.crossOrigin),p=typeof c.integrity=="string"?c.integrity:void 0,g=typeof c.fetchPriority=="string"?c.fetchPriority:void 0;d==="style"?r.d.S(l,typeof c.precedence=="string"?c.precedence:void 0,{crossOrigin:h,integrity:p,fetchPriority:g}):d==="script"&&r.d.X(l,{crossOrigin:h,integrity:p,fetchPriority:g,nonce:typeof c.nonce=="string"?c.nonce:void 0})}},cr.preinitModule=function(l,c){if(typeof l=="string")if(typeof c=="object"&&c!==null){if(c.as==null||c.as==="script"){var d=o(c.as,c.crossOrigin);r.d.M(l,{crossOrigin:d,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0})}}else c==null&&r.d.M(l)},cr.preload=function(l,c){if(typeof l=="string"&&typeof c=="object"&&c!==null&&typeof c.as=="string"){var d=c.as,h=o(d,c.crossOrigin);r.d.L(l,d,{crossOrigin:h,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0,type:typeof c.type=="string"?c.type:void 0,fetchPriority:typeof c.fetchPriority=="string"?c.fetchPriority:void 0,referrerPolicy:typeof c.referrerPolicy=="string"?c.referrerPolicy:void 0,imageSrcSet:typeof c.imageSrcSet=="string"?c.imageSrcSet:void 0,imageSizes:typeof c.imageSizes=="string"?c.imageSizes:void 0,media:typeof c.media=="string"?c.media:void 0})}},cr.preloadModule=function(l,c){if(typeof l=="string")if(c){var d=o(c.as,c.crossOrigin);r.d.m(l,{as:typeof c.as=="string"&&c.as!=="script"?c.as:void 0,crossOrigin:d,integrity:typeof c.integrity=="string"?c.integrity:void 0})}else r.d.m(l)},cr.requestFormReset=function(l){r.d.r(l)},cr.unstable_batchedUpdates=function(l,c){return l(c)},cr.useFormState=function(l,c,d){return a.H.useFormState(l,c,d)},cr.useFormStatus=function(){return a.H.useHostTransitionStatus()},cr.version="19.2.4",cr}var VN;function Rq(){if(VN)return rx.exports;VN=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),rx.exports=hee(),rx.exports}var HN;function fee(){if(HN)return oh;HN=1;var t=dee(),e=Vf(),n=Rq();function r(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)f+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}function s(u){var f=u,m=u;if(u.alternate)for(;f.return;)f=f.return;else{u=f;do f=u,(f.flags&4098)!==0&&(m=f.return),u=f.return;while(u)}return f.tag===3?m:null}function a(u){if(u.tag===13){var f=u.memoizedState;if(f===null&&(u=u.alternate,u!==null&&(f=u.memoizedState)),f!==null)return f.dehydrated}return null}function o(u){if(u.tag===31){var f=u.memoizedState;if(f===null&&(u=u.alternate,u!==null&&(f=u.memoizedState)),f!==null)return f.dehydrated}return null}function l(u){if(s(u)!==u)throw Error(r(188))}function c(u){var f=u.alternate;if(!f){if(f=s(u),f===null)throw Error(r(188));return f!==u?null:u}for(var m=u,_=f;;){var C=m.return;if(C===null)break;var U=C.alternate;if(U===null){if(_=C.return,_!==null){m=_;continue}break}if(C.child===U.child){for(U=C.child;U;){if(U===m)return l(C),u;if(U===_)return l(C),f;U=U.sibling}throw Error(r(188))}if(m.return!==_.return)m=C,_=U;else{for(var X=!1,ne=C.child;ne;){if(ne===m){X=!0,m=C,_=U;break}if(ne===_){X=!0,_=C,m=U;break}ne=ne.sibling}if(!X){for(ne=U.child;ne;){if(ne===m){X=!0,m=U,_=C;break}if(ne===_){X=!0,_=U,m=C;break}ne=ne.sibling}if(!X)throw Error(r(189))}}if(m.alternate!==_)throw Error(r(190))}if(m.tag!==3)throw Error(r(188));return m.stateNode.current===m?u:f}function d(u){var f=u.tag;if(f===5||f===26||f===27||f===6)return u;for(u=u.child;u!==null;){if(f=d(u),f!==null)return f;u=u.sibling}return null}var h=Object.assign,p=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),w=Symbol.for("react.consumer"),D=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),S=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function F(u){return u===null||typeof u!="object"?null:(u=z&&u[z]||u["@@iterator"],typeof u=="function"?u:null)}var q=Symbol.for("react.client.reference");function k(u){if(u==null)return null;if(typeof u=="function")return u.$$typeof===q?null:u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case y:return"Fragment";case x:return"Profiler";case b:return"StrictMode";case A:return"Suspense";case S:return"SuspenseList";case R:return"Activity"}if(typeof u=="object")switch(u.$$typeof){case v:return"Portal";case D:return u.displayName||"Context";case w:return(u._context.displayName||"Context")+".Consumer";case E:var f=u.render;return u=u.displayName,u||(u=f.displayName||f.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case T:return f=u.displayName||null,f!==null?f:k(u.type)||"Memo";case M:f=u._payload,u=u._init;try{return k(u(f))}catch{}}return null}var H=Array.isArray,N=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G={pending:!1,data:null,method:null,action:null},$=[],W=-1;function L(u){return{current:u}}function K(u){0>W||(u.current=$[W],$[W]=null,W--)}function j(u,f){W++,$[W]=u.current,u.current=f}var Y=L(null),ee=L(null),re=L(null),se=L(null);function ye(u,f){switch(j(re,f),j(ee,u),j(Y,null),f.nodeType){case 9:case 11:u=(u=f.documentElement)&&(u=u.namespaceURI)?iN(u):0;break;default:if(u=f.tagName,f=f.namespaceURI)f=iN(f),u=sN(f,u);else switch(u){case"svg":u=1;break;case"math":u=2;break;default:u=0}}K(Y),j(Y,u)}function xe(){K(Y),K(ee),K(re)}function Re(u){u.memoizedState!==null&&j(se,u);var f=Y.current,m=sN(f,u.type);f!==m&&(j(ee,u),j(Y,m))}function Fe(u){ee.current===u&&(K(Y),K(ee)),se.current===u&&(K(se),nh._currentValue=G)}var qe,We;function P(u){if(qe===void 0)try{throw Error()}catch(m){var f=m.stack.trim().match(/\n( *(at )?)/);qe=f&&f[1]||"",We=-1<m.stack.indexOf(`
    at`)?" (<anonymous>)":-1<m.stack.indexOf("@")?"@unknown:0:0":""}return`
`+qe+u+We}var oe=!1;function ce(u,f){if(!u||oe)return"";oe=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var _={DetermineComponentFrameRoot:function(){try{if(f){var Ne=function(){throw Error()};if(Object.defineProperty(Ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ne,[])}catch(ke){var Ae=ke}Reflect.construct(u,[],Ne)}else{try{Ne.call()}catch(ke){Ae=ke}u.call(Ne.prototype)}}else{try{throw Error()}catch(ke){Ae=ke}(Ne=u())&&typeof Ne.catch=="function"&&Ne.catch(function(){})}}catch(ke){if(ke&&Ae&&typeof ke.stack=="string")return[ke.stack,Ae.stack]}return[null,null]}};_.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var C=Object.getOwnPropertyDescriptor(_.DetermineComponentFrameRoot,"name");C&&C.configurable&&Object.defineProperty(_.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var U=_.DetermineComponentFrameRoot(),X=U[0],ne=U[1];if(X&&ne){var he=X.split(`
`),_e=ne.split(`
`);for(C=_=0;_<he.length&&!he[_].includes("DetermineComponentFrameRoot");)_++;for(;C<_e.length&&!_e[C].includes("DetermineComponentFrameRoot");)C++;if(_===he.length||C===_e.length)for(_=he.length-1,C=_e.length-1;1<=_&&0<=C&&he[_]!==_e[C];)C--;for(;1<=_&&0<=C;_--,C--)if(he[_]!==_e[C]){if(_!==1||C!==1)do if(_--,C--,0>C||he[_]!==_e[C]){var Me=`
`+he[_].replace(" at new "," at ");return u.displayName&&Me.includes("<anonymous>")&&(Me=Me.replace("<anonymous>",u.displayName)),Me}while(1<=_&&0<=C);break}}}finally{oe=!1,Error.prepareStackTrace=m}return(m=u?u.displayName||u.name:"")?P(m):""}function Q(u,f){switch(u.tag){case 26:case 27:case 5:return P(u.type);case 16:return P("Lazy");case 13:return u.child!==f&&f!==null?P("Suspense Fallback"):P("Suspense");case 19:return P("SuspenseList");case 0:case 15:return ce(u.type,!1);case 11:return ce(u.type.render,!1);case 1:return ce(u.type,!0);case 31:return P("Activity");default:return""}}function J(u){try{var f="",m=null;do f+=Q(u,m),m=u,u=u.return;while(u);return f}catch(_){return`
Error generating stack: `+_.message+`
`+_.stack}}var ue=Object.prototype.hasOwnProperty,De=t.unstable_scheduleCallback,Se=t.unstable_cancelCallback,fe=t.unstable_shouldYield,ie=t.unstable_requestPaint,le=t.unstable_now,me=t.unstable_getCurrentPriorityLevel,ae=t.unstable_ImmediatePriority,ve=t.unstable_UserBlockingPriority,Ue=t.unstable_NormalPriority,Le=t.unstable_LowPriority,Pe=t.unstable_IdlePriority,Ve=t.log,tt=t.unstable_setDisableYieldValue,pe=null,Te=null;function Be(u){if(typeof Ve=="function"&&tt(u),Te&&typeof Te.setStrictMode=="function")try{Te.setStrictMode(pe,u)}catch{}}var Ie=Math.clz32?Math.clz32:qt,Qe=Math.log,st=Math.LN2;function qt(u){return u>>>=0,u===0?32:31-(Qe(u)/st|0)|0}var Kt=256,Pn=262144,Z=4194304;function te(u){var f=u&42;if(f!==0)return f;switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return u&261888;case 262144:case 524288:case 1048576:case 2097152:return u&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return u&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return u}}function de(u,f,m){var _=u.pendingLanes;if(_===0)return 0;var C=0,U=u.suspendedLanes,X=u.pingedLanes;u=u.warmLanes;var ne=_&134217727;return ne!==0?(_=ne&~U,_!==0?C=te(_):(X&=ne,X!==0?C=te(X):m||(m=ne&~u,m!==0&&(C=te(m))))):(ne=_&~U,ne!==0?C=te(ne):X!==0?C=te(X):m||(m=_&~u,m!==0&&(C=te(m)))),C===0?0:f!==0&&f!==C&&(f&U)===0&&(U=C&-C,m=f&-f,U>=m||U===32&&(m&4194048)!==0)?f:C}function Ee(u,f){return(u.pendingLanes&~(u.suspendedLanes&~u.pingedLanes)&f)===0}function ze(u,f){switch(u){case 1:case 2:case 4:case 8:case 64:return f+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function at(){var u=Z;return Z<<=1,(Z&62914560)===0&&(Z=4194304),u}function It(u){for(var f=[],m=0;31>m;m++)f.push(u);return f}function pn(u,f){u.pendingLanes|=f,f!==268435456&&(u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0)}function gr(u,f,m,_,C,U){var X=u.pendingLanes;u.pendingLanes=m,u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0,u.expiredLanes&=m,u.entangledLanes&=m,u.errorRecoveryDisabledLanes&=m,u.shellSuspendCounter=0;var ne=u.entanglements,he=u.expirationTimes,_e=u.hiddenUpdates;for(m=X&~m;0<m;){var Me=31-Ie(m),Ne=1<<Me;ne[Me]=0,he[Me]=-1;var Ae=_e[Me];if(Ae!==null)for(_e[Me]=null,Me=0;Me<Ae.length;Me++){var ke=Ae[Me];ke!==null&&(ke.lane&=-536870913)}m&=~Ne}_!==0&&Kr(u,_,0),U!==0&&C===0&&u.tag!==0&&(u.suspendedLanes|=U&~(X&~f))}function Kr(u,f,m){u.pendingLanes|=f,u.suspendedLanes&=~f;var _=31-Ie(f);u.entangledLanes|=f,u.entanglements[_]=u.entanglements[_]|1073741824|m&261930}function kr(u,f){var m=u.entangledLanes|=f;for(u=u.entanglements;m;){var _=31-Ie(m),C=1<<_;C&f|u[_]&f&&(u[_]|=f),m&=~C}}function yi(u,f){var m=f&-f;return m=(m&42)!==0?1:Yr(m),(m&(u.suspendedLanes|f))!==0?0:m}function Yr(u){switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=128;break;case 268435456:u=134217728;break;default:u=0}return u}function Zr(u){return u&=-u,2<u?8<u?(u&134217727)!==0?32:268435456:8:2}function mr(){var u=B.p;return u!==0?u:(u=window.event,u===void 0?32:CN(u.type))}function bi(u,f){var m=B.p;try{return B.p=u,f()}finally{B.p=m}}var lr=Math.random().toString(36).slice(2),At="__reactFiber$"+lr,Sn="__reactProps$"+lr,yr="__reactContainer$"+lr,ka="__reactEvents$"+lr,zv="__reactListeners$"+lr,qv="__reactHandles$"+lr,Ep="__reactResources$"+lr,jo="__reactMarker$"+lr;function yd(u){delete u[At],delete u[Sn],delete u[ka],delete u[zv],delete u[qv]}function Ra(u){var f=u[At];if(f)return f;for(var m=u.parentNode;m;){if(f=m[yr]||m[At]){if(m=f.alternate,f.child!==null||m!==null&&m.child!==null)for(u=hN(u);u!==null;){if(m=u[At])return m;u=hN(u)}return f}u=m,m=u.parentNode}return null}function Bs(u){if(u=u[At]||u[yr]){var f=u.tag;if(f===5||f===6||f===13||f===31||f===26||f===27||f===3)return u}return null}function zo(u){var f=u.tag;if(f===5||f===26||f===27||f===6)return u.stateNode;throw Error(r(33))}function Ua(u){var f=u[Ep];return f||(f=u[Ep]={hoistableStyles:new Map,hoistableScripts:new Map}),f}function An(u){u[jo]=!0}var Sp=new Set,Ap={};function js(u,f){zs(u,f),zs(u+"Capture",f)}function zs(u,f){for(Ap[u]=f,u=0;u<f.length;u++)Sp.add(f[u])}var Wv=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Tp={},Cp={};function bd(u){return ue.call(Cp,u)?!0:ue.call(Tp,u)?!1:Wv.test(u)?Cp[u]=!0:(Tp[u]=!0,!1)}function kp(u,f,m){if(bd(f))if(m===null)u.removeAttribute(f);else{switch(typeof m){case"undefined":case"function":case"symbol":u.removeAttribute(f);return;case"boolean":var _=f.toLowerCase().slice(0,5);if(_!=="data-"&&_!=="aria-"){u.removeAttribute(f);return}}u.setAttribute(f,""+m)}}function Rp(u,f,m){if(m===null)u.removeAttribute(f);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(f);return}u.setAttribute(f,""+m)}}function qs(u,f,m,_){if(_===null)u.removeAttribute(m);else{switch(typeof _){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(m);return}u.setAttributeNS(f,m,""+_)}}function vi(u){switch(typeof u){case"bigint":case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function Y3(u){var f=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(f==="checkbox"||f==="radio")}function JZ(u,f,m){var _=Object.getOwnPropertyDescriptor(u.constructor.prototype,f);if(!u.hasOwnProperty(f)&&typeof _<"u"&&typeof _.get=="function"&&typeof _.set=="function"){var C=_.get,U=_.set;return Object.defineProperty(u,f,{configurable:!0,get:function(){return C.call(this)},set:function(X){m=""+X,U.call(this,X)}}),Object.defineProperty(u,f,{enumerable:_.enumerable}),{getValue:function(){return m},setValue:function(X){m=""+X},stopTracking:function(){u._valueTracker=null,delete u[f]}}}}function Vv(u){if(!u._valueTracker){var f=Y3(u)?"checked":"value";u._valueTracker=JZ(u,f,""+u[f])}}function Z3(u){if(!u)return!1;var f=u._valueTracker;if(!f)return!0;var m=f.getValue(),_="";return u&&(_=Y3(u)?u.checked?"true":"false":u.value),u=_,u!==m?(f.setValue(u),!0):!1}function Up(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}var QZ=/[\n"\\]/g;function xi(u){return u.replace(QZ,function(f){return"\\"+f.charCodeAt(0).toString(16)+" "})}function Hv(u,f,m,_,C,U,X,ne){u.name="",X!=null&&typeof X!="function"&&typeof X!="symbol"&&typeof X!="boolean"?u.type=X:u.removeAttribute("type"),f!=null?X==="number"?(f===0&&u.value===""||u.value!=f)&&(u.value=""+vi(f)):u.value!==""+vi(f)&&(u.value=""+vi(f)):X!=="submit"&&X!=="reset"||u.removeAttribute("value"),f!=null?$v(u,X,vi(f)):m!=null?$v(u,X,vi(m)):_!=null&&u.removeAttribute("value"),C==null&&U!=null&&(u.defaultChecked=!!U),C!=null&&(u.checked=C&&typeof C!="function"&&typeof C!="symbol"),ne!=null&&typeof ne!="function"&&typeof ne!="symbol"&&typeof ne!="boolean"?u.name=""+vi(ne):u.removeAttribute("name")}function J3(u,f,m,_,C,U,X,ne){if(U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"&&(u.type=U),f!=null||m!=null){if(!(U!=="submit"&&U!=="reset"||f!=null)){Vv(u);return}m=m!=null?""+vi(m):"",f=f!=null?""+vi(f):m,ne||f===u.value||(u.value=f),u.defaultValue=f}_=_??C,_=typeof _!="function"&&typeof _!="symbol"&&!!_,u.checked=ne?u.checked:!!_,u.defaultChecked=!!_,X!=null&&typeof X!="function"&&typeof X!="symbol"&&typeof X!="boolean"&&(u.name=X),Vv(u)}function $v(u,f,m){f==="number"&&Up(u.ownerDocument)===u||u.defaultValue===""+m||(u.defaultValue=""+m)}function oc(u,f,m,_){if(u=u.options,f){f={};for(var C=0;C<m.length;C++)f["$"+m[C]]=!0;for(m=0;m<u.length;m++)C=f.hasOwnProperty("$"+u[m].value),u[m].selected!==C&&(u[m].selected=C),C&&_&&(u[m].defaultSelected=!0)}else{for(m=""+vi(m),f=null,C=0;C<u.length;C++){if(u[C].value===m){u[C].selected=!0,_&&(u[C].defaultSelected=!0);return}f!==null||u[C].disabled||(f=u[C])}f!==null&&(f.selected=!0)}}function Q3(u,f,m){if(f!=null&&(f=""+vi(f),f!==u.value&&(u.value=f),m==null)){u.defaultValue!==f&&(u.defaultValue=f);return}u.defaultValue=m!=null?""+vi(m):""}function eU(u,f,m,_){if(f==null){if(_!=null){if(m!=null)throw Error(r(92));if(H(_)){if(1<_.length)throw Error(r(93));_=_[0]}m=_}m==null&&(m=""),f=m}m=vi(f),u.defaultValue=m,_=u.textContent,_===m&&_!==""&&_!==null&&(u.value=_),Vv(u)}function lc(u,f){if(f){var m=u.firstChild;if(m&&m===u.lastChild&&m.nodeType===3){m.nodeValue=f;return}}u.textContent=f}var eJ=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function tU(u,f,m){var _=f.indexOf("--")===0;m==null||typeof m=="boolean"||m===""?_?u.setProperty(f,""):f==="float"?u.cssFloat="":u[f]="":_?u.setProperty(f,m):typeof m!="number"||m===0||eJ.has(f)?f==="float"?u.cssFloat=m:u[f]=(""+m).trim():u[f]=m+"px"}function nU(u,f,m){if(f!=null&&typeof f!="object")throw Error(r(62));if(u=u.style,m!=null){for(var _ in m)!m.hasOwnProperty(_)||f!=null&&f.hasOwnProperty(_)||(_.indexOf("--")===0?u.setProperty(_,""):_==="float"?u.cssFloat="":u[_]="");for(var C in f)_=f[C],f.hasOwnProperty(C)&&m[C]!==_&&tU(u,C,_)}else for(var U in f)f.hasOwnProperty(U)&&tU(u,U,f[U])}function Gv(u){if(u.indexOf("-")===-1)return!1;switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tJ=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),nJ=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Mp(u){return nJ.test(""+u)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":u}function Ws(){}var Xv=null;function Kv(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var cc=null,uc=null;function rU(u){var f=Bs(u);if(f&&(u=f.stateNode)){var m=u[Sn]||null;e:switch(u=f.stateNode,f.type){case"input":if(Hv(u,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name),f=m.name,m.type==="radio"&&f!=null){for(m=u;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll('input[name="'+xi(""+f)+'"][type="radio"]'),f=0;f<m.length;f++){var _=m[f];if(_!==u&&_.form===u.form){var C=_[Sn]||null;if(!C)throw Error(r(90));Hv(_,C.value,C.defaultValue,C.defaultValue,C.checked,C.defaultChecked,C.type,C.name)}}for(f=0;f<m.length;f++)_=m[f],_.form===u.form&&Z3(_)}break e;case"textarea":Q3(u,m.value,m.defaultValue);break e;case"select":f=m.value,f!=null&&oc(u,!!m.multiple,f,!1)}}}var Yv=!1;function iU(u,f,m){if(Yv)return u(f,m);Yv=!0;try{var _=u(f);return _}finally{if(Yv=!1,(cc!==null||uc!==null)&&(vg(),cc&&(f=cc,u=uc,uc=cc=null,rU(f),u)))for(f=0;f<u.length;f++)rU(u[f])}}function vd(u,f){var m=u.stateNode;if(m===null)return null;var _=m[Sn]||null;if(_===null)return null;m=_[f];e:switch(f){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(_=!_.disabled)||(u=u.type,_=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!_;break e;default:u=!1}if(u)return null;if(m&&typeof m!="function")throw Error(r(231,f,typeof m));return m}var Vs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zv=!1;if(Vs)try{var xd={};Object.defineProperty(xd,"passive",{get:function(){Zv=!0}}),window.addEventListener("test",xd,xd),window.removeEventListener("test",xd,xd)}catch{Zv=!1}var Ma=null,Jv=null,Op=null;function sU(){if(Op)return Op;var u,f=Jv,m=f.length,_,C="value"in Ma?Ma.value:Ma.textContent,U=C.length;for(u=0;u<m&&f[u]===C[u];u++);var X=m-u;for(_=1;_<=X&&f[m-_]===C[U-_];_++);return Op=C.slice(u,1<_?1-_:void 0)}function Np(u){var f=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&f===13&&(u=13)):u=f,u===10&&(u=13),32<=u||u===13?u:0}function Fp(){return!0}function aU(){return!1}function Rr(u){function f(m,_,C,U,X){this._reactName=m,this._targetInst=C,this.type=_,this.nativeEvent=U,this.target=X,this.currentTarget=null;for(var ne in u)u.hasOwnProperty(ne)&&(m=u[ne],this[ne]=m?m(U):U[ne]);return this.isDefaultPrevented=(U.defaultPrevented!=null?U.defaultPrevented:U.returnValue===!1)?Fp:aU,this.isPropagationStopped=aU,this}return h(f.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=Fp)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=Fp)},persist:function(){},isPersistent:Fp}),f}var qo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ip=Rr(qo),wd=h({},qo,{view:0,detail:0}),rJ=Rr(wd),Qv,e0,_d,Pp=h({},wd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:n0,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==_d&&(_d&&u.type==="mousemove"?(Qv=u.screenX-_d.screenX,e0=u.screenY-_d.screenY):e0=Qv=0,_d=u),Qv)},movementY:function(u){return"movementY"in u?u.movementY:e0}}),oU=Rr(Pp),iJ=h({},Pp,{dataTransfer:0}),sJ=Rr(iJ),aJ=h({},wd,{relatedTarget:0}),t0=Rr(aJ),oJ=h({},qo,{animationName:0,elapsedTime:0,pseudoElement:0}),lJ=Rr(oJ),cJ=h({},qo,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),uJ=Rr(cJ),dJ=h({},qo,{data:0}),lU=Rr(dJ),hJ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fJ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pJ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gJ(u){var f=this.nativeEvent;return f.getModifierState?f.getModifierState(u):(u=pJ[u])?!!f[u]:!1}function n0(){return gJ}var mJ=h({},wd,{key:function(u){if(u.key){var f=hJ[u.key]||u.key;if(f!=="Unidentified")return f}return u.type==="keypress"?(u=Np(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?fJ[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:n0,charCode:function(u){return u.type==="keypress"?Np(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?Np(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),yJ=Rr(mJ),bJ=h({},Pp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cU=Rr(bJ),vJ=h({},wd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:n0}),xJ=Rr(vJ),wJ=h({},qo,{propertyName:0,elapsedTime:0,pseudoElement:0}),_J=Rr(wJ),DJ=h({},Pp,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),EJ=Rr(DJ),SJ=h({},qo,{newState:0,oldState:0}),AJ=Rr(SJ),TJ=[9,13,27,32],r0=Vs&&"CompositionEvent"in window,Dd=null;Vs&&"documentMode"in document&&(Dd=document.documentMode);var CJ=Vs&&"TextEvent"in window&&!Dd,uU=Vs&&(!r0||Dd&&8<Dd&&11>=Dd),dU=" ",hU=!1;function fU(u,f){switch(u){case"keyup":return TJ.indexOf(f.keyCode)!==-1;case"keydown":return f.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pU(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var dc=!1;function kJ(u,f){switch(u){case"compositionend":return pU(f);case"keypress":return f.which!==32?null:(hU=!0,dU);case"textInput":return u=f.data,u===dU&&hU?null:u;default:return null}}function RJ(u,f){if(dc)return u==="compositionend"||!r0&&fU(u,f)?(u=sU(),Op=Jv=Ma=null,dc=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(f.ctrlKey||f.altKey||f.metaKey)||f.ctrlKey&&f.altKey){if(f.char&&1<f.char.length)return f.char;if(f.which)return String.fromCharCode(f.which)}return null;case"compositionend":return uU&&f.locale!=="ko"?null:f.data;default:return null}}var UJ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gU(u){var f=u&&u.nodeName&&u.nodeName.toLowerCase();return f==="input"?!!UJ[u.type]:f==="textarea"}function mU(u,f,m,_){cc?uc?uc.push(_):uc=[_]:cc=_,f=Ag(f,"onChange"),0<f.length&&(m=new Ip("onChange","change",null,m,_),u.push({event:m,listeners:f}))}var Ed=null,Sd=null;function MJ(u){JO(u,0)}function Lp(u){var f=zo(u);if(Z3(f))return u}function yU(u,f){if(u==="change")return f}var bU=!1;if(Vs){var i0;if(Vs){var s0="oninput"in document;if(!s0){var vU=document.createElement("div");vU.setAttribute("oninput","return;"),s0=typeof vU.oninput=="function"}i0=s0}else i0=!1;bU=i0&&(!document.documentMode||9<document.documentMode)}function xU(){Ed&&(Ed.detachEvent("onpropertychange",wU),Sd=Ed=null)}function wU(u){if(u.propertyName==="value"&&Lp(Sd)){var f=[];mU(f,Sd,u,Kv(u)),iU(MJ,f)}}function OJ(u,f,m){u==="focusin"?(xU(),Ed=f,Sd=m,Ed.attachEvent("onpropertychange",wU)):u==="focusout"&&xU()}function NJ(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return Lp(Sd)}function FJ(u,f){if(u==="click")return Lp(f)}function IJ(u,f){if(u==="input"||u==="change")return Lp(f)}function PJ(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var Jr=typeof Object.is=="function"?Object.is:PJ;function Ad(u,f){if(Jr(u,f))return!0;if(typeof u!="object"||u===null||typeof f!="object"||f===null)return!1;var m=Object.keys(u),_=Object.keys(f);if(m.length!==_.length)return!1;for(_=0;_<m.length;_++){var C=m[_];if(!ue.call(f,C)||!Jr(u[C],f[C]))return!1}return!0}function _U(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function DU(u,f){var m=_U(u);u=0;for(var _;m;){if(m.nodeType===3){if(_=u+m.textContent.length,u<=f&&_>=f)return{node:m,offset:f-u};u=_}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=_U(m)}}function EU(u,f){return u&&f?u===f?!0:u&&u.nodeType===3?!1:f&&f.nodeType===3?EU(u,f.parentNode):"contains"in u?u.contains(f):u.compareDocumentPosition?!!(u.compareDocumentPosition(f)&16):!1:!1}function SU(u){u=u!=null&&u.ownerDocument!=null&&u.ownerDocument.defaultView!=null?u.ownerDocument.defaultView:window;for(var f=Up(u.document);f instanceof u.HTMLIFrameElement;){try{var m=typeof f.contentWindow.location.href=="string"}catch{m=!1}if(m)u=f.contentWindow;else break;f=Up(u.document)}return f}function a0(u){var f=u&&u.nodeName&&u.nodeName.toLowerCase();return f&&(f==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||f==="textarea"||u.contentEditable==="true")}var LJ=Vs&&"documentMode"in document&&11>=document.documentMode,hc=null,o0=null,Td=null,l0=!1;function AU(u,f,m){var _=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;l0||hc==null||hc!==Up(_)||(_=hc,"selectionStart"in _&&a0(_)?_={start:_.selectionStart,end:_.selectionEnd}:(_=(_.ownerDocument&&_.ownerDocument.defaultView||window).getSelection(),_={anchorNode:_.anchorNode,anchorOffset:_.anchorOffset,focusNode:_.focusNode,focusOffset:_.focusOffset}),Td&&Ad(Td,_)||(Td=_,_=Ag(o0,"onSelect"),0<_.length&&(f=new Ip("onSelect","select",null,f,m),u.push({event:f,listeners:_}),f.target=hc)))}function Wo(u,f){var m={};return m[u.toLowerCase()]=f.toLowerCase(),m["Webkit"+u]="webkit"+f,m["Moz"+u]="moz"+f,m}var fc={animationend:Wo("Animation","AnimationEnd"),animationiteration:Wo("Animation","AnimationIteration"),animationstart:Wo("Animation","AnimationStart"),transitionrun:Wo("Transition","TransitionRun"),transitionstart:Wo("Transition","TransitionStart"),transitioncancel:Wo("Transition","TransitionCancel"),transitionend:Wo("Transition","TransitionEnd")},c0={},TU={};Vs&&(TU=document.createElement("div").style,"AnimationEvent"in window||(delete fc.animationend.animation,delete fc.animationiteration.animation,delete fc.animationstart.animation),"TransitionEvent"in window||delete fc.transitionend.transition);function Vo(u){if(c0[u])return c0[u];if(!fc[u])return u;var f=fc[u],m;for(m in f)if(f.hasOwnProperty(m)&&m in TU)return c0[u]=f[m];return u}var CU=Vo("animationend"),kU=Vo("animationiteration"),RU=Vo("animationstart"),BJ=Vo("transitionrun"),jJ=Vo("transitionstart"),zJ=Vo("transitioncancel"),UU=Vo("transitionend"),MU=new Map,u0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");u0.push("scrollEnd");function Gi(u,f){MU.set(u,f),js(f,[u])}var Bp=typeof reportError=="function"?reportError:function(u){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var f=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof u=="object"&&u!==null&&typeof u.message=="string"?String(u.message):String(u),error:u});if(!window.dispatchEvent(f))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",u);return}console.error(u)},wi=[],pc=0,d0=0;function jp(){for(var u=pc,f=d0=pc=0;f<u;){var m=wi[f];wi[f++]=null;var _=wi[f];wi[f++]=null;var C=wi[f];wi[f++]=null;var U=wi[f];if(wi[f++]=null,_!==null&&C!==null){var X=_.pending;X===null?C.next=C:(C.next=X.next,X.next=C),_.pending=C}U!==0&&OU(m,C,U)}}function zp(u,f,m,_){wi[pc++]=u,wi[pc++]=f,wi[pc++]=m,wi[pc++]=_,d0|=_,u.lanes|=_,u=u.alternate,u!==null&&(u.lanes|=_)}function h0(u,f,m,_){return zp(u,f,m,_),qp(u)}function Ho(u,f){return zp(u,null,null,f),qp(u)}function OU(u,f,m){u.lanes|=m;var _=u.alternate;_!==null&&(_.lanes|=m);for(var C=!1,U=u.return;U!==null;)U.childLanes|=m,_=U.alternate,_!==null&&(_.childLanes|=m),U.tag===22&&(u=U.stateNode,u===null||u._visibility&1||(C=!0)),u=U,U=U.return;return u.tag===3?(U=u.stateNode,C&&f!==null&&(C=31-Ie(m),u=U.hiddenUpdates,_=u[C],_===null?u[C]=[f]:_.push(f),f.lane=m|536870912),U):null}function qp(u){if(50<Kd)throw Kd=0,w1=null,Error(r(185));for(var f=u.return;f!==null;)u=f,f=u.return;return u.tag===3?u.stateNode:null}var gc={};function qJ(u,f,m,_){this.tag=u,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=_,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qr(u,f,m,_){return new qJ(u,f,m,_)}function f0(u){return u=u.prototype,!(!u||!u.isReactComponent)}function Hs(u,f){var m=u.alternate;return m===null?(m=Qr(u.tag,f,u.key,u.mode),m.elementType=u.elementType,m.type=u.type,m.stateNode=u.stateNode,m.alternate=u,u.alternate=m):(m.pendingProps=f,m.type=u.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=u.flags&65011712,m.childLanes=u.childLanes,m.lanes=u.lanes,m.child=u.child,m.memoizedProps=u.memoizedProps,m.memoizedState=u.memoizedState,m.updateQueue=u.updateQueue,f=u.dependencies,m.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},m.sibling=u.sibling,m.index=u.index,m.ref=u.ref,m.refCleanup=u.refCleanup,m}function NU(u,f){u.flags&=65011714;var m=u.alternate;return m===null?(u.childLanes=0,u.lanes=f,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=m.childLanes,u.lanes=m.lanes,u.child=m.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=m.memoizedProps,u.memoizedState=m.memoizedState,u.updateQueue=m.updateQueue,u.type=m.type,f=m.dependencies,u.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),u}function Wp(u,f,m,_,C,U){var X=0;if(_=u,typeof u=="function")f0(u)&&(X=1);else if(typeof u=="string")X=GQ(u,m,Y.current)?26:u==="html"||u==="head"||u==="body"?27:5;else e:switch(u){case R:return u=Qr(31,m,f,C),u.elementType=R,u.lanes=U,u;case y:return $o(m.children,C,U,f);case b:X=8,C|=24;break;case x:return u=Qr(12,m,f,C|2),u.elementType=x,u.lanes=U,u;case A:return u=Qr(13,m,f,C),u.elementType=A,u.lanes=U,u;case S:return u=Qr(19,m,f,C),u.elementType=S,u.lanes=U,u;default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case D:X=10;break e;case w:X=9;break e;case E:X=11;break e;case T:X=14;break e;case M:X=16,_=null;break e}X=29,m=Error(r(130,u===null?"null":typeof u,"")),_=null}return f=Qr(X,m,f,C),f.elementType=u,f.type=_,f.lanes=U,f}function $o(u,f,m,_){return u=Qr(7,u,_,f),u.lanes=m,u}function p0(u,f,m){return u=Qr(6,u,null,f),u.lanes=m,u}function FU(u){var f=Qr(18,null,null,0);return f.stateNode=u,f}function g0(u,f,m){return f=Qr(4,u.children!==null?u.children:[],u.key,f),f.lanes=m,f.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},f}var IU=new WeakMap;function _i(u,f){if(typeof u=="object"&&u!==null){var m=IU.get(u);return m!==void 0?m:(f={value:u,source:f,stack:J(f)},IU.set(u,f),f)}return{value:u,source:f,stack:J(f)}}var mc=[],yc=0,Vp=null,Cd=0,Di=[],Ei=0,Oa=null,ps=1,gs="";function $s(u,f){mc[yc++]=Cd,mc[yc++]=Vp,Vp=u,Cd=f}function PU(u,f,m){Di[Ei++]=ps,Di[Ei++]=gs,Di[Ei++]=Oa,Oa=u;var _=ps;u=gs;var C=32-Ie(_)-1;_&=~(1<<C),m+=1;var U=32-Ie(f)+C;if(30<U){var X=C-C%5;U=(_&(1<<X)-1).toString(32),_>>=X,C-=X,ps=1<<32-Ie(f)+C|m<<C|_,gs=U+u}else ps=1<<U|m<<C|_,gs=u}function m0(u){u.return!==null&&($s(u,1),PU(u,1,0))}function y0(u){for(;u===Vp;)Vp=mc[--yc],mc[yc]=null,Cd=mc[--yc],mc[yc]=null;for(;u===Oa;)Oa=Di[--Ei],Di[Ei]=null,gs=Di[--Ei],Di[Ei]=null,ps=Di[--Ei],Di[Ei]=null}function LU(u,f){Di[Ei++]=ps,Di[Ei++]=gs,Di[Ei++]=Oa,ps=f.id,gs=f.overflow,Oa=u}var Jn=null,rn=null,kt=!1,Na=null,Si=!1,b0=Error(r(519));function Fa(u){var f=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw kd(_i(f,u)),b0}function BU(u){var f=u.stateNode,m=u.type,_=u.memoizedProps;switch(f[At]=u,f[Sn]=_,m){case"dialog":_t("cancel",f),_t("close",f);break;case"iframe":case"object":case"embed":_t("load",f);break;case"video":case"audio":for(m=0;m<Zd.length;m++)_t(Zd[m],f);break;case"source":_t("error",f);break;case"img":case"image":case"link":_t("error",f),_t("load",f);break;case"details":_t("toggle",f);break;case"input":_t("invalid",f),J3(f,_.value,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name,!0);break;case"select":_t("invalid",f);break;case"textarea":_t("invalid",f),eU(f,_.value,_.defaultValue,_.children)}m=_.children,typeof m!="string"&&typeof m!="number"&&typeof m!="bigint"||f.textContent===""+m||_.suppressHydrationWarning===!0||nN(f.textContent,m)?(_.popover!=null&&(_t("beforetoggle",f),_t("toggle",f)),_.onScroll!=null&&_t("scroll",f),_.onScrollEnd!=null&&_t("scrollend",f),_.onClick!=null&&(f.onclick=Ws),f=!0):f=!1,f||Fa(u,!0)}function jU(u){for(Jn=u.return;Jn;)switch(Jn.tag){case 5:case 31:case 13:Si=!1;return;case 27:case 3:Si=!0;return;default:Jn=Jn.return}}function bc(u){if(u!==Jn)return!1;if(!kt)return jU(u),kt=!0,!1;var f=u.tag,m;if((m=f!==3&&f!==27)&&((m=f===5)&&(m=u.type,m=!(m!=="form"&&m!=="button")||I1(u.type,u.memoizedProps)),m=!m),m&&rn&&Fa(u),jU(u),f===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));rn=dN(u)}else if(f===31){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));rn=dN(u)}else f===27?(f=rn,Ka(u.type)?(u=z1,z1=null,rn=u):rn=f):rn=Jn?Ti(u.stateNode.nextSibling):null;return!0}function Go(){rn=Jn=null,kt=!1}function v0(){var u=Na;return u!==null&&(Nr===null?Nr=u:Nr.push.apply(Nr,u),Na=null),u}function kd(u){Na===null?Na=[u]:Na.push(u)}var x0=L(null),Xo=null,Gs=null;function Ia(u,f,m){j(x0,f._currentValue),f._currentValue=m}function Xs(u){u._currentValue=x0.current,K(x0)}function w0(u,f,m){for(;u!==null;){var _=u.alternate;if((u.childLanes&f)!==f?(u.childLanes|=f,_!==null&&(_.childLanes|=f)):_!==null&&(_.childLanes&f)!==f&&(_.childLanes|=f),u===m)break;u=u.return}}function _0(u,f,m,_){var C=u.child;for(C!==null&&(C.return=u);C!==null;){var U=C.dependencies;if(U!==null){var X=C.child;U=U.firstContext;e:for(;U!==null;){var ne=U;U=C;for(var he=0;he<f.length;he++)if(ne.context===f[he]){U.lanes|=m,ne=U.alternate,ne!==null&&(ne.lanes|=m),w0(U.return,m,u),_||(X=null);break e}U=ne.next}}else if(C.tag===18){if(X=C.return,X===null)throw Error(r(341));X.lanes|=m,U=X.alternate,U!==null&&(U.lanes|=m),w0(X,m,u),X=null}else X=C.child;if(X!==null)X.return=C;else for(X=C;X!==null;){if(X===u){X=null;break}if(C=X.sibling,C!==null){C.return=X.return,X=C;break}X=X.return}C=X}}function vc(u,f,m,_){u=null;for(var C=f,U=!1;C!==null;){if(!U){if((C.flags&524288)!==0)U=!0;else if((C.flags&262144)!==0)break}if(C.tag===10){var X=C.alternate;if(X===null)throw Error(r(387));if(X=X.memoizedProps,X!==null){var ne=C.type;Jr(C.pendingProps.value,X.value)||(u!==null?u.push(ne):u=[ne])}}else if(C===se.current){if(X=C.alternate,X===null)throw Error(r(387));X.memoizedState.memoizedState!==C.memoizedState.memoizedState&&(u!==null?u.push(nh):u=[nh])}C=C.return}u!==null&&_0(f,u,m,_),f.flags|=262144}function Hp(u){for(u=u.firstContext;u!==null;){if(!Jr(u.context._currentValue,u.memoizedValue))return!0;u=u.next}return!1}function Ko(u){Xo=u,Gs=null,u=u.dependencies,u!==null&&(u.firstContext=null)}function Qn(u){return zU(Xo,u)}function $p(u,f){return Xo===null&&Ko(u),zU(u,f)}function zU(u,f){var m=f._currentValue;if(f={context:f,memoizedValue:m,next:null},Gs===null){if(u===null)throw Error(r(308));Gs=f,u.dependencies={lanes:0,firstContext:f},u.flags|=524288}else Gs=Gs.next=f;return m}var WJ=typeof AbortController<"u"?AbortController:function(){var u=[],f=this.signal={aborted:!1,addEventListener:function(m,_){u.push(_)}};this.abort=function(){f.aborted=!0,u.forEach(function(m){return m()})}},VJ=t.unstable_scheduleCallback,HJ=t.unstable_NormalPriority,Tn={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function D0(){return{controller:new WJ,data:new Map,refCount:0}}function Rd(u){u.refCount--,u.refCount===0&&VJ(HJ,function(){u.controller.abort()})}var Ud=null,E0=0,xc=0,wc=null;function $J(u,f){if(Ud===null){var m=Ud=[];E0=0,xc=T1(),wc={status:"pending",value:void 0,then:function(_){m.push(_)}}}return E0++,f.then(qU,qU),f}function qU(){if(--E0===0&&Ud!==null){wc!==null&&(wc.status="fulfilled");var u=Ud;Ud=null,xc=0,wc=null;for(var f=0;f<u.length;f++)(0,u[f])()}}function GJ(u,f){var m=[],_={status:"pending",value:null,reason:null,then:function(C){m.push(C)}};return u.then(function(){_.status="fulfilled",_.value=f;for(var C=0;C<m.length;C++)(0,m[C])(f)},function(C){for(_.status="rejected",_.reason=C,C=0;C<m.length;C++)(0,m[C])(void 0)}),_}var WU=N.S;N.S=function(u,f){AO=le(),typeof f=="object"&&f!==null&&typeof f.then=="function"&&$J(u,f),WU!==null&&WU(u,f)};var Yo=L(null);function S0(){var u=Yo.current;return u!==null?u:Yt.pooledCache}function Gp(u,f){f===null?j(Yo,Yo.current):j(Yo,f.pool)}function VU(){var u=S0();return u===null?null:{parent:Tn._currentValue,pool:u}}var _c=Error(r(460)),A0=Error(r(474)),Xp=Error(r(542)),Kp={then:function(){}};function HU(u){return u=u.status,u==="fulfilled"||u==="rejected"}function $U(u,f,m){switch(m=u[m],m===void 0?u.push(f):m!==f&&(f.then(Ws,Ws),f=m),f.status){case"fulfilled":return f.value;case"rejected":throw u=f.reason,XU(u),u;default:if(typeof f.status=="string")f.then(Ws,Ws);else{if(u=Yt,u!==null&&100<u.shellSuspendCounter)throw Error(r(482));u=f,u.status="pending",u.then(function(_){if(f.status==="pending"){var C=f;C.status="fulfilled",C.value=_}},function(_){if(f.status==="pending"){var C=f;C.status="rejected",C.reason=_}})}switch(f.status){case"fulfilled":return f.value;case"rejected":throw u=f.reason,XU(u),u}throw Jo=f,_c}}function Zo(u){try{var f=u._init;return f(u._payload)}catch(m){throw m!==null&&typeof m=="object"&&typeof m.then=="function"?(Jo=m,_c):m}}var Jo=null;function GU(){if(Jo===null)throw Error(r(459));var u=Jo;return Jo=null,u}function XU(u){if(u===_c||u===Xp)throw Error(r(483))}var Dc=null,Md=0;function Yp(u){var f=Md;return Md+=1,Dc===null&&(Dc=[]),$U(Dc,u,f)}function Od(u,f){f=f.props.ref,u.ref=f!==void 0?f:null}function Zp(u,f){throw f.$$typeof===p?Error(r(525)):(u=Object.prototype.toString.call(f),Error(r(31,u==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":u)))}function KU(u){function f(be,ge){if(u){var we=be.deletions;we===null?(be.deletions=[ge],be.flags|=16):we.push(ge)}}function m(be,ge){if(!u)return null;for(;ge!==null;)f(be,ge),ge=ge.sibling;return null}function _(be){for(var ge=new Map;be!==null;)be.key!==null?ge.set(be.key,be):ge.set(be.index,be),be=be.sibling;return ge}function C(be,ge){return be=Hs(be,ge),be.index=0,be.sibling=null,be}function U(be,ge,we){return be.index=we,u?(we=be.alternate,we!==null?(we=we.index,we<ge?(be.flags|=67108866,ge):we):(be.flags|=67108866,ge)):(be.flags|=1048576,ge)}function X(be){return u&&be.alternate===null&&(be.flags|=67108866),be}function ne(be,ge,we,Oe){return ge===null||ge.tag!==6?(ge=p0(we,be.mode,Oe),ge.return=be,ge):(ge=C(ge,we),ge.return=be,ge)}function he(be,ge,we,Oe){var nt=we.type;return nt===y?Me(be,ge,we.props.children,Oe,we.key):ge!==null&&(ge.elementType===nt||typeof nt=="object"&&nt!==null&&nt.$$typeof===M&&Zo(nt)===ge.type)?(ge=C(ge,we.props),Od(ge,we),ge.return=be,ge):(ge=Wp(we.type,we.key,we.props,null,be.mode,Oe),Od(ge,we),ge.return=be,ge)}function _e(be,ge,we,Oe){return ge===null||ge.tag!==4||ge.stateNode.containerInfo!==we.containerInfo||ge.stateNode.implementation!==we.implementation?(ge=g0(we,be.mode,Oe),ge.return=be,ge):(ge=C(ge,we.children||[]),ge.return=be,ge)}function Me(be,ge,we,Oe,nt){return ge===null||ge.tag!==7?(ge=$o(we,be.mode,Oe,nt),ge.return=be,ge):(ge=C(ge,we),ge.return=be,ge)}function Ne(be,ge,we){if(typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint")return ge=p0(""+ge,be.mode,we),ge.return=be,ge;if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case g:return we=Wp(ge.type,ge.key,ge.props,null,be.mode,we),Od(we,ge),we.return=be,we;case v:return ge=g0(ge,be.mode,we),ge.return=be,ge;case M:return ge=Zo(ge),Ne(be,ge,we)}if(H(ge)||F(ge))return ge=$o(ge,be.mode,we,null),ge.return=be,ge;if(typeof ge.then=="function")return Ne(be,Yp(ge),we);if(ge.$$typeof===D)return Ne(be,$p(be,ge),we);Zp(be,ge)}return null}function Ae(be,ge,we,Oe){var nt=ge!==null?ge.key:null;if(typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint")return nt!==null?null:ne(be,ge,""+we,Oe);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case g:return we.key===nt?he(be,ge,we,Oe):null;case v:return we.key===nt?_e(be,ge,we,Oe):null;case M:return we=Zo(we),Ae(be,ge,we,Oe)}if(H(we)||F(we))return nt!==null?null:Me(be,ge,we,Oe,null);if(typeof we.then=="function")return Ae(be,ge,Yp(we),Oe);if(we.$$typeof===D)return Ae(be,ge,$p(be,we),Oe);Zp(be,we)}return null}function ke(be,ge,we,Oe,nt){if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number"||typeof Oe=="bigint")return be=be.get(we)||null,ne(ge,be,""+Oe,nt);if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case g:return be=be.get(Oe.key===null?we:Oe.key)||null,he(ge,be,Oe,nt);case v:return be=be.get(Oe.key===null?we:Oe.key)||null,_e(ge,be,Oe,nt);case M:return Oe=Zo(Oe),ke(be,ge,we,Oe,nt)}if(H(Oe)||F(Oe))return be=be.get(we)||null,Me(ge,be,Oe,nt,null);if(typeof Oe.then=="function")return ke(be,ge,we,Yp(Oe),nt);if(Oe.$$typeof===D)return ke(be,ge,we,$p(ge,Oe),nt);Zp(ge,Oe)}return null}function Ge(be,ge,we,Oe){for(var nt=null,Nt=null,Ze=ge,yt=ge=0,Ct=null;Ze!==null&&yt<we.length;yt++){Ze.index>yt?(Ct=Ze,Ze=null):Ct=Ze.sibling;var Ft=Ae(be,Ze,we[yt],Oe);if(Ft===null){Ze===null&&(Ze=Ct);break}u&&Ze&&Ft.alternate===null&&f(be,Ze),ge=U(Ft,ge,yt),Nt===null?nt=Ft:Nt.sibling=Ft,Nt=Ft,Ze=Ct}if(yt===we.length)return m(be,Ze),kt&&$s(be,yt),nt;if(Ze===null){for(;yt<we.length;yt++)Ze=Ne(be,we[yt],Oe),Ze!==null&&(ge=U(Ze,ge,yt),Nt===null?nt=Ze:Nt.sibling=Ze,Nt=Ze);return kt&&$s(be,yt),nt}for(Ze=_(Ze);yt<we.length;yt++)Ct=ke(Ze,be,yt,we[yt],Oe),Ct!==null&&(u&&Ct.alternate!==null&&Ze.delete(Ct.key===null?yt:Ct.key),ge=U(Ct,ge,yt),Nt===null?nt=Ct:Nt.sibling=Ct,Nt=Ct);return u&&Ze.forEach(function(eo){return f(be,eo)}),kt&&$s(be,yt),nt}function lt(be,ge,we,Oe){if(we==null)throw Error(r(151));for(var nt=null,Nt=null,Ze=ge,yt=ge=0,Ct=null,Ft=we.next();Ze!==null&&!Ft.done;yt++,Ft=we.next()){Ze.index>yt?(Ct=Ze,Ze=null):Ct=Ze.sibling;var eo=Ae(be,Ze,Ft.value,Oe);if(eo===null){Ze===null&&(Ze=Ct);break}u&&Ze&&eo.alternate===null&&f(be,Ze),ge=U(eo,ge,yt),Nt===null?nt=eo:Nt.sibling=eo,Nt=eo,Ze=Ct}if(Ft.done)return m(be,Ze),kt&&$s(be,yt),nt;if(Ze===null){for(;!Ft.done;yt++,Ft=we.next())Ft=Ne(be,Ft.value,Oe),Ft!==null&&(ge=U(Ft,ge,yt),Nt===null?nt=Ft:Nt.sibling=Ft,Nt=Ft);return kt&&$s(be,yt),nt}for(Ze=_(Ze);!Ft.done;yt++,Ft=we.next())Ft=ke(Ze,be,yt,Ft.value,Oe),Ft!==null&&(u&&Ft.alternate!==null&&Ze.delete(Ft.key===null?yt:Ft.key),ge=U(Ft,ge,yt),Nt===null?nt=Ft:Nt.sibling=Ft,Nt=Ft);return u&&Ze.forEach(function(iee){return f(be,iee)}),kt&&$s(be,yt),nt}function Gt(be,ge,we,Oe){if(typeof we=="object"&&we!==null&&we.type===y&&we.key===null&&(we=we.props.children),typeof we=="object"&&we!==null){switch(we.$$typeof){case g:e:{for(var nt=we.key;ge!==null;){if(ge.key===nt){if(nt=we.type,nt===y){if(ge.tag===7){m(be,ge.sibling),Oe=C(ge,we.props.children),Oe.return=be,be=Oe;break e}}else if(ge.elementType===nt||typeof nt=="object"&&nt!==null&&nt.$$typeof===M&&Zo(nt)===ge.type){m(be,ge.sibling),Oe=C(ge,we.props),Od(Oe,we),Oe.return=be,be=Oe;break e}m(be,ge);break}else f(be,ge);ge=ge.sibling}we.type===y?(Oe=$o(we.props.children,be.mode,Oe,we.key),Oe.return=be,be=Oe):(Oe=Wp(we.type,we.key,we.props,null,be.mode,Oe),Od(Oe,we),Oe.return=be,be=Oe)}return X(be);case v:e:{for(nt=we.key;ge!==null;){if(ge.key===nt)if(ge.tag===4&&ge.stateNode.containerInfo===we.containerInfo&&ge.stateNode.implementation===we.implementation){m(be,ge.sibling),Oe=C(ge,we.children||[]),Oe.return=be,be=Oe;break e}else{m(be,ge);break}else f(be,ge);ge=ge.sibling}Oe=g0(we,be.mode,Oe),Oe.return=be,be=Oe}return X(be);case M:return we=Zo(we),Gt(be,ge,we,Oe)}if(H(we))return Ge(be,ge,we,Oe);if(F(we)){if(nt=F(we),typeof nt!="function")throw Error(r(150));return we=nt.call(we),lt(be,ge,we,Oe)}if(typeof we.then=="function")return Gt(be,ge,Yp(we),Oe);if(we.$$typeof===D)return Gt(be,ge,$p(be,we),Oe);Zp(be,we)}return typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint"?(we=""+we,ge!==null&&ge.tag===6?(m(be,ge.sibling),Oe=C(ge,we),Oe.return=be,be=Oe):(m(be,ge),Oe=p0(we,be.mode,Oe),Oe.return=be,be=Oe),X(be)):m(be,ge)}return function(be,ge,we,Oe){try{Md=0;var nt=Gt(be,ge,we,Oe);return Dc=null,nt}catch(Ze){if(Ze===_c||Ze===Xp)throw Ze;var Nt=Qr(29,Ze,null,be.mode);return Nt.lanes=Oe,Nt.return=be,Nt}}}var Qo=KU(!0),YU=KU(!1),Pa=!1;function T0(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function C0(u,f){u=u.updateQueue,f.updateQueue===u&&(f.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,callbacks:null})}function La(u){return{lane:u,tag:0,payload:null,callback:null,next:null}}function Ba(u,f,m){var _=u.updateQueue;if(_===null)return null;if(_=_.shared,(Pt&2)!==0){var C=_.pending;return C===null?f.next=f:(f.next=C.next,C.next=f),_.pending=f,f=qp(u),OU(u,null,m),f}return zp(u,_,f,m),qp(u)}function Nd(u,f,m){if(f=f.updateQueue,f!==null&&(f=f.shared,(m&4194048)!==0)){var _=f.lanes;_&=u.pendingLanes,m|=_,f.lanes=m,kr(u,m)}}function k0(u,f){var m=u.updateQueue,_=u.alternate;if(_!==null&&(_=_.updateQueue,m===_)){var C=null,U=null;if(m=m.firstBaseUpdate,m!==null){do{var X={lane:m.lane,tag:m.tag,payload:m.payload,callback:null,next:null};U===null?C=U=X:U=U.next=X,m=m.next}while(m!==null);U===null?C=U=f:U=U.next=f}else C=U=f;m={baseState:_.baseState,firstBaseUpdate:C,lastBaseUpdate:U,shared:_.shared,callbacks:_.callbacks},u.updateQueue=m;return}u=m.lastBaseUpdate,u===null?m.firstBaseUpdate=f:u.next=f,m.lastBaseUpdate=f}var R0=!1;function Fd(){if(R0){var u=wc;if(u!==null)throw u}}function Id(u,f,m,_){R0=!1;var C=u.updateQueue;Pa=!1;var U=C.firstBaseUpdate,X=C.lastBaseUpdate,ne=C.shared.pending;if(ne!==null){C.shared.pending=null;var he=ne,_e=he.next;he.next=null,X===null?U=_e:X.next=_e,X=he;var Me=u.alternate;Me!==null&&(Me=Me.updateQueue,ne=Me.lastBaseUpdate,ne!==X&&(ne===null?Me.firstBaseUpdate=_e:ne.next=_e,Me.lastBaseUpdate=he))}if(U!==null){var Ne=C.baseState;X=0,Me=_e=he=null,ne=U;do{var Ae=ne.lane&-536870913,ke=Ae!==ne.lane;if(ke?(Tt&Ae)===Ae:(_&Ae)===Ae){Ae!==0&&Ae===xc&&(R0=!0),Me!==null&&(Me=Me.next={lane:0,tag:ne.tag,payload:ne.payload,callback:null,next:null});e:{var Ge=u,lt=ne;Ae=f;var Gt=m;switch(lt.tag){case 1:if(Ge=lt.payload,typeof Ge=="function"){Ne=Ge.call(Gt,Ne,Ae);break e}Ne=Ge;break e;case 3:Ge.flags=Ge.flags&-65537|128;case 0:if(Ge=lt.payload,Ae=typeof Ge=="function"?Ge.call(Gt,Ne,Ae):Ge,Ae==null)break e;Ne=h({},Ne,Ae);break e;case 2:Pa=!0}}Ae=ne.callback,Ae!==null&&(u.flags|=64,ke&&(u.flags|=8192),ke=C.callbacks,ke===null?C.callbacks=[Ae]:ke.push(Ae))}else ke={lane:Ae,tag:ne.tag,payload:ne.payload,callback:ne.callback,next:null},Me===null?(_e=Me=ke,he=Ne):Me=Me.next=ke,X|=Ae;if(ne=ne.next,ne===null){if(ne=C.shared.pending,ne===null)break;ke=ne,ne=ke.next,ke.next=null,C.lastBaseUpdate=ke,C.shared.pending=null}}while(!0);Me===null&&(he=Ne),C.baseState=he,C.firstBaseUpdate=_e,C.lastBaseUpdate=Me,U===null&&(C.shared.lanes=0),Va|=X,u.lanes=X,u.memoizedState=Ne}}function ZU(u,f){if(typeof u!="function")throw Error(r(191,u));u.call(f)}function JU(u,f){var m=u.callbacks;if(m!==null)for(u.callbacks=null,u=0;u<m.length;u++)ZU(m[u],f)}var Ec=L(null),Jp=L(0);function QU(u,f){u=ra,j(Jp,u),j(Ec,f),ra=u|f.baseLanes}function U0(){j(Jp,ra),j(Ec,Ec.current)}function M0(){ra=Jp.current,K(Ec),K(Jp)}var ei=L(null),Ai=null;function ja(u){var f=u.alternate;j(wn,wn.current&1),j(ei,u),Ai===null&&(f===null||Ec.current!==null||f.memoizedState!==null)&&(Ai=u)}function O0(u){j(wn,wn.current),j(ei,u),Ai===null&&(Ai=u)}function eM(u){u.tag===22?(j(wn,wn.current),j(ei,u),Ai===null&&(Ai=u)):za()}function za(){j(wn,wn.current),j(ei,ei.current)}function ti(u){K(ei),Ai===u&&(Ai=null),K(wn)}var wn=L(0);function Qp(u){for(var f=u;f!==null;){if(f.tag===13){var m=f.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||B1(m)||j1(m)))return f}else if(f.tag===19&&(f.memoizedProps.revealOrder==="forwards"||f.memoizedProps.revealOrder==="backwards"||f.memoizedProps.revealOrder==="unstable_legacy-backwards"||f.memoizedProps.revealOrder==="together")){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var Ks=0,mt=null,Ht=null,Cn=null,eg=!1,Sc=!1,el=!1,tg=0,Pd=0,Ac=null,XJ=0;function gn(){throw Error(r(321))}function N0(u,f){if(f===null)return!1;for(var m=0;m<f.length&&m<u.length;m++)if(!Jr(u[m],f[m]))return!1;return!0}function F0(u,f,m,_,C,U){return Ks=U,mt=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,N.H=u===null||u.memoizedState===null?PM:Y0,el=!1,U=m(_,C),el=!1,Sc&&(U=nM(f,m,_,C)),tM(u),U}function tM(u){N.H=jd;var f=Ht!==null&&Ht.next!==null;if(Ks=0,Cn=Ht=mt=null,eg=!1,Pd=0,Ac=null,f)throw Error(r(300));u===null||kn||(u=u.dependencies,u!==null&&Hp(u)&&(kn=!0))}function nM(u,f,m,_){mt=u;var C=0;do{if(Sc&&(Ac=null),Pd=0,Sc=!1,25<=C)throw Error(r(301));if(C+=1,Cn=Ht=null,u.updateQueue!=null){var U=u.updateQueue;U.lastEffect=null,U.events=null,U.stores=null,U.memoCache!=null&&(U.memoCache.index=0)}N.H=LM,U=f(m,_)}while(Sc);return U}function KJ(){var u=N.H,f=u.useState()[0];return f=typeof f.then=="function"?Ld(f):f,u=u.useState()[0],(Ht!==null?Ht.memoizedState:null)!==u&&(mt.flags|=1024),f}function I0(){var u=tg!==0;return tg=0,u}function P0(u,f,m){f.updateQueue=u.updateQueue,f.flags&=-2053,u.lanes&=~m}function L0(u){if(eg){for(u=u.memoizedState;u!==null;){var f=u.queue;f!==null&&(f.pending=null),u=u.next}eg=!1}Ks=0,Cn=Ht=mt=null,Sc=!1,Pd=tg=0,Ac=null}function br(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Cn===null?mt.memoizedState=Cn=u:Cn=Cn.next=u,Cn}function _n(){if(Ht===null){var u=mt.alternate;u=u!==null?u.memoizedState:null}else u=Ht.next;var f=Cn===null?mt.memoizedState:Cn.next;if(f!==null)Cn=f,Ht=u;else{if(u===null)throw mt.alternate===null?Error(r(467)):Error(r(310));Ht=u,u={memoizedState:Ht.memoizedState,baseState:Ht.baseState,baseQueue:Ht.baseQueue,queue:Ht.queue,next:null},Cn===null?mt.memoizedState=Cn=u:Cn=Cn.next=u}return Cn}function ng(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ld(u){var f=Pd;return Pd+=1,Ac===null&&(Ac=[]),u=$U(Ac,u,f),f=mt,(Cn===null?f.memoizedState:Cn.next)===null&&(f=f.alternate,N.H=f===null||f.memoizedState===null?PM:Y0),u}function rg(u){if(u!==null&&typeof u=="object"){if(typeof u.then=="function")return Ld(u);if(u.$$typeof===D)return Qn(u)}throw Error(r(438,String(u)))}function B0(u){var f=null,m=mt.updateQueue;if(m!==null&&(f=m.memoCache),f==null){var _=mt.alternate;_!==null&&(_=_.updateQueue,_!==null&&(_=_.memoCache,_!=null&&(f={data:_.data.map(function(C){return C.slice()}),index:0})))}if(f==null&&(f={data:[],index:0}),m===null&&(m=ng(),mt.updateQueue=m),m.memoCache=f,m=f.data[f.index],m===void 0)for(m=f.data[f.index]=Array(u),_=0;_<u;_++)m[_]=O;return f.index++,m}function Ys(u,f){return typeof f=="function"?f(u):f}function ig(u){var f=_n();return j0(f,Ht,u)}function j0(u,f,m){var _=u.queue;if(_===null)throw Error(r(311));_.lastRenderedReducer=m;var C=u.baseQueue,U=_.pending;if(U!==null){if(C!==null){var X=C.next;C.next=U.next,U.next=X}f.baseQueue=C=U,_.pending=null}if(U=u.baseState,C===null)u.memoizedState=U;else{f=C.next;var ne=X=null,he=null,_e=f,Me=!1;do{var Ne=_e.lane&-536870913;if(Ne!==_e.lane?(Tt&Ne)===Ne:(Ks&Ne)===Ne){var Ae=_e.revertLane;if(Ae===0)he!==null&&(he=he.next={lane:0,revertLane:0,gesture:null,action:_e.action,hasEagerState:_e.hasEagerState,eagerState:_e.eagerState,next:null}),Ne===xc&&(Me=!0);else if((Ks&Ae)===Ae){_e=_e.next,Ae===xc&&(Me=!0);continue}else Ne={lane:0,revertLane:_e.revertLane,gesture:null,action:_e.action,hasEagerState:_e.hasEagerState,eagerState:_e.eagerState,next:null},he===null?(ne=he=Ne,X=U):he=he.next=Ne,mt.lanes|=Ae,Va|=Ae;Ne=_e.action,el&&m(U,Ne),U=_e.hasEagerState?_e.eagerState:m(U,Ne)}else Ae={lane:Ne,revertLane:_e.revertLane,gesture:_e.gesture,action:_e.action,hasEagerState:_e.hasEagerState,eagerState:_e.eagerState,next:null},he===null?(ne=he=Ae,X=U):he=he.next=Ae,mt.lanes|=Ne,Va|=Ne;_e=_e.next}while(_e!==null&&_e!==f);if(he===null?X=U:he.next=ne,!Jr(U,u.memoizedState)&&(kn=!0,Me&&(m=wc,m!==null)))throw m;u.memoizedState=U,u.baseState=X,u.baseQueue=he,_.lastRenderedState=U}return C===null&&(_.lanes=0),[u.memoizedState,_.dispatch]}function z0(u){var f=_n(),m=f.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=u;var _=m.dispatch,C=m.pending,U=f.memoizedState;if(C!==null){m.pending=null;var X=C=C.next;do U=u(U,X.action),X=X.next;while(X!==C);Jr(U,f.memoizedState)||(kn=!0),f.memoizedState=U,f.baseQueue===null&&(f.baseState=U),m.lastRenderedState=U}return[U,_]}function rM(u,f,m){var _=mt,C=_n(),U=kt;if(U){if(m===void 0)throw Error(r(407));m=m()}else m=f();var X=!Jr((Ht||C).memoizedState,m);if(X&&(C.memoizedState=m,kn=!0),C=C.queue,V0(aM.bind(null,_,C,u),[u]),C.getSnapshot!==f||X||Cn!==null&&Cn.memoizedState.tag&1){if(_.flags|=2048,Tc(9,{destroy:void 0},sM.bind(null,_,C,m,f),null),Yt===null)throw Error(r(349));U||(Ks&127)!==0||iM(_,f,m)}return m}function iM(u,f,m){u.flags|=16384,u={getSnapshot:f,value:m},f=mt.updateQueue,f===null?(f=ng(),mt.updateQueue=f,f.stores=[u]):(m=f.stores,m===null?f.stores=[u]:m.push(u))}function sM(u,f,m,_){f.value=m,f.getSnapshot=_,oM(f)&&lM(u)}function aM(u,f,m){return m(function(){oM(f)&&lM(u)})}function oM(u){var f=u.getSnapshot;u=u.value;try{var m=f();return!Jr(u,m)}catch{return!0}}function lM(u){var f=Ho(u,2);f!==null&&Fr(f,u,2)}function q0(u){var f=br();if(typeof u=="function"){var m=u;if(u=m(),el){Be(!0);try{m()}finally{Be(!1)}}}return f.memoizedState=f.baseState=u,f.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ys,lastRenderedState:u},f}function cM(u,f,m,_){return u.baseState=m,j0(u,Ht,typeof _=="function"?_:Ys)}function YJ(u,f,m,_,C){if(og(u))throw Error(r(485));if(u=f.action,u!==null){var U={payload:C,action:u,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(X){U.listeners.push(X)}};N.T!==null?m(!0):U.isTransition=!1,_(U),m=f.pending,m===null?(U.next=f.pending=U,uM(f,U)):(U.next=m.next,f.pending=m.next=U)}}function uM(u,f){var m=f.action,_=f.payload,C=u.state;if(f.isTransition){var U=N.T,X={};N.T=X;try{var ne=m(C,_),he=N.S;he!==null&&he(X,ne),dM(u,f,ne)}catch(_e){W0(u,f,_e)}finally{U!==null&&X.types!==null&&(U.types=X.types),N.T=U}}else try{U=m(C,_),dM(u,f,U)}catch(_e){W0(u,f,_e)}}function dM(u,f,m){m!==null&&typeof m=="object"&&typeof m.then=="function"?m.then(function(_){hM(u,f,_)},function(_){return W0(u,f,_)}):hM(u,f,m)}function hM(u,f,m){f.status="fulfilled",f.value=m,fM(f),u.state=m,f=u.pending,f!==null&&(m=f.next,m===f?u.pending=null:(m=m.next,f.next=m,uM(u,m)))}function W0(u,f,m){var _=u.pending;if(u.pending=null,_!==null){_=_.next;do f.status="rejected",f.reason=m,fM(f),f=f.next;while(f!==_)}u.action=null}function fM(u){u=u.listeners;for(var f=0;f<u.length;f++)(0,u[f])()}function pM(u,f){return f}function gM(u,f){if(kt){var m=Yt.formState;if(m!==null){e:{var _=mt;if(kt){if(rn){t:{for(var C=rn,U=Si;C.nodeType!==8;){if(!U){C=null;break t}if(C=Ti(C.nextSibling),C===null){C=null;break t}}U=C.data,C=U==="F!"||U==="F"?C:null}if(C){rn=Ti(C.nextSibling),_=C.data==="F!";break e}}Fa(_)}_=!1}_&&(f=m[0])}}return m=br(),m.memoizedState=m.baseState=f,_={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pM,lastRenderedState:f},m.queue=_,m=NM.bind(null,mt,_),_.dispatch=m,_=q0(!1),U=K0.bind(null,mt,!1,_.queue),_=br(),C={state:f,dispatch:null,action:u,pending:null},_.queue=C,m=YJ.bind(null,mt,C,U,m),C.dispatch=m,_.memoizedState=u,[f,m,!1]}function mM(u){var f=_n();return yM(f,Ht,u)}function yM(u,f,m){if(f=j0(u,f,pM)[0],u=ig(Ys)[0],typeof f=="object"&&f!==null&&typeof f.then=="function")try{var _=Ld(f)}catch(X){throw X===_c?Xp:X}else _=f;f=_n();var C=f.queue,U=C.dispatch;return m!==f.memoizedState&&(mt.flags|=2048,Tc(9,{destroy:void 0},ZJ.bind(null,C,m),null)),[_,U,u]}function ZJ(u,f){u.action=f}function bM(u){var f=_n(),m=Ht;if(m!==null)return yM(f,m,u);_n(),f=f.memoizedState,m=_n();var _=m.queue.dispatch;return m.memoizedState=u,[f,_,!1]}function Tc(u,f,m,_){return u={tag:u,create:m,deps:_,inst:f,next:null},f=mt.updateQueue,f===null&&(f=ng(),mt.updateQueue=f),m=f.lastEffect,m===null?f.lastEffect=u.next=u:(_=m.next,m.next=u,u.next=_,f.lastEffect=u),u}function vM(){return _n().memoizedState}function sg(u,f,m,_){var C=br();mt.flags|=u,C.memoizedState=Tc(1|f,{destroy:void 0},m,_===void 0?null:_)}function ag(u,f,m,_){var C=_n();_=_===void 0?null:_;var U=C.memoizedState.inst;Ht!==null&&_!==null&&N0(_,Ht.memoizedState.deps)?C.memoizedState=Tc(f,U,m,_):(mt.flags|=u,C.memoizedState=Tc(1|f,U,m,_))}function xM(u,f){sg(8390656,8,u,f)}function V0(u,f){ag(2048,8,u,f)}function JJ(u){mt.flags|=4;var f=mt.updateQueue;if(f===null)f=ng(),mt.updateQueue=f,f.events=[u];else{var m=f.events;m===null?f.events=[u]:m.push(u)}}function wM(u){var f=_n().memoizedState;return JJ({ref:f,nextImpl:u}),function(){if((Pt&2)!==0)throw Error(r(440));return f.impl.apply(void 0,arguments)}}function _M(u,f){return ag(4,2,u,f)}function DM(u,f){return ag(4,4,u,f)}function EM(u,f){if(typeof f=="function"){u=u();var m=f(u);return function(){typeof m=="function"?m():f(null)}}if(f!=null)return u=u(),f.current=u,function(){f.current=null}}function SM(u,f,m){m=m!=null?m.concat([u]):null,ag(4,4,EM.bind(null,f,u),m)}function H0(){}function AM(u,f){var m=_n();f=f===void 0?null:f;var _=m.memoizedState;return f!==null&&N0(f,_[1])?_[0]:(m.memoizedState=[u,f],u)}function TM(u,f){var m=_n();f=f===void 0?null:f;var _=m.memoizedState;if(f!==null&&N0(f,_[1]))return _[0];if(_=u(),el){Be(!0);try{u()}finally{Be(!1)}}return m.memoizedState=[_,f],_}function $0(u,f,m){return m===void 0||(Ks&1073741824)!==0&&(Tt&261930)===0?u.memoizedState=f:(u.memoizedState=m,u=CO(),mt.lanes|=u,Va|=u,m)}function CM(u,f,m,_){return Jr(m,f)?m:Ec.current!==null?(u=$0(u,m,_),Jr(u,f)||(kn=!0),u):(Ks&42)===0||(Ks&1073741824)!==0&&(Tt&261930)===0?(kn=!0,u.memoizedState=m):(u=CO(),mt.lanes|=u,Va|=u,f)}function kM(u,f,m,_,C){var U=B.p;B.p=U!==0&&8>U?U:8;var X=N.T,ne={};N.T=ne,K0(u,!1,f,m);try{var he=C(),_e=N.S;if(_e!==null&&_e(ne,he),he!==null&&typeof he=="object"&&typeof he.then=="function"){var Me=GJ(he,_);Bd(u,f,Me,ii(u))}else Bd(u,f,_,ii(u))}catch(Ne){Bd(u,f,{then:function(){},status:"rejected",reason:Ne},ii())}finally{B.p=U,X!==null&&ne.types!==null&&(X.types=ne.types),N.T=X}}function QJ(){}function G0(u,f,m,_){if(u.tag!==5)throw Error(r(476));var C=RM(u).queue;kM(u,C,f,G,m===null?QJ:function(){return UM(u),m(_)})}function RM(u){var f=u.memoizedState;if(f!==null)return f;f={memoizedState:G,baseState:G,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ys,lastRenderedState:G},next:null};var m={};return f.next={memoizedState:m,baseState:m,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ys,lastRenderedState:m},next:null},u.memoizedState=f,u=u.alternate,u!==null&&(u.memoizedState=f),f}function UM(u){var f=RM(u);f.next===null&&(f=u.alternate.memoizedState),Bd(u,f.next.queue,{},ii())}function X0(){return Qn(nh)}function MM(){return _n().memoizedState}function OM(){return _n().memoizedState}function eQ(u){for(var f=u.return;f!==null;){switch(f.tag){case 24:case 3:var m=ii();u=La(m);var _=Ba(f,u,m);_!==null&&(Fr(_,f,m),Nd(_,f,m)),f={cache:D0()},u.payload=f;return}f=f.return}}function tQ(u,f,m){var _=ii();m={lane:_,revertLane:0,gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},og(u)?FM(f,m):(m=h0(u,f,m,_),m!==null&&(Fr(m,u,_),IM(m,f,_)))}function NM(u,f,m){var _=ii();Bd(u,f,m,_)}function Bd(u,f,m,_){var C={lane:_,revertLane:0,gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null};if(og(u))FM(f,C);else{var U=u.alternate;if(u.lanes===0&&(U===null||U.lanes===0)&&(U=f.lastRenderedReducer,U!==null))try{var X=f.lastRenderedState,ne=U(X,m);if(C.hasEagerState=!0,C.eagerState=ne,Jr(ne,X))return zp(u,f,C,0),Yt===null&&jp(),!1}catch{}if(m=h0(u,f,C,_),m!==null)return Fr(m,u,_),IM(m,f,_),!0}return!1}function K0(u,f,m,_){if(_={lane:2,revertLane:T1(),gesture:null,action:_,hasEagerState:!1,eagerState:null,next:null},og(u)){if(f)throw Error(r(479))}else f=h0(u,m,_,2),f!==null&&Fr(f,u,2)}function og(u){var f=u.alternate;return u===mt||f!==null&&f===mt}function FM(u,f){Sc=eg=!0;var m=u.pending;m===null?f.next=f:(f.next=m.next,m.next=f),u.pending=f}function IM(u,f,m){if((m&4194048)!==0){var _=f.lanes;_&=u.pendingLanes,m|=_,f.lanes=m,kr(u,m)}}var jd={readContext:Qn,use:rg,useCallback:gn,useContext:gn,useEffect:gn,useImperativeHandle:gn,useLayoutEffect:gn,useInsertionEffect:gn,useMemo:gn,useReducer:gn,useRef:gn,useState:gn,useDebugValue:gn,useDeferredValue:gn,useTransition:gn,useSyncExternalStore:gn,useId:gn,useHostTransitionStatus:gn,useFormState:gn,useActionState:gn,useOptimistic:gn,useMemoCache:gn,useCacheRefresh:gn};jd.useEffectEvent=gn;var PM={readContext:Qn,use:rg,useCallback:function(u,f){return br().memoizedState=[u,f===void 0?null:f],u},useContext:Qn,useEffect:xM,useImperativeHandle:function(u,f,m){m=m!=null?m.concat([u]):null,sg(4194308,4,EM.bind(null,f,u),m)},useLayoutEffect:function(u,f){return sg(4194308,4,u,f)},useInsertionEffect:function(u,f){sg(4,2,u,f)},useMemo:function(u,f){var m=br();f=f===void 0?null:f;var _=u();if(el){Be(!0);try{u()}finally{Be(!1)}}return m.memoizedState=[_,f],_},useReducer:function(u,f,m){var _=br();if(m!==void 0){var C=m(f);if(el){Be(!0);try{m(f)}finally{Be(!1)}}}else C=f;return _.memoizedState=_.baseState=C,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:C},_.queue=u,u=u.dispatch=tQ.bind(null,mt,u),[_.memoizedState,u]},useRef:function(u){var f=br();return u={current:u},f.memoizedState=u},useState:function(u){u=q0(u);var f=u.queue,m=NM.bind(null,mt,f);return f.dispatch=m,[u.memoizedState,m]},useDebugValue:H0,useDeferredValue:function(u,f){var m=br();return $0(m,u,f)},useTransition:function(){var u=q0(!1);return u=kM.bind(null,mt,u.queue,!0,!1),br().memoizedState=u,[!1,u]},useSyncExternalStore:function(u,f,m){var _=mt,C=br();if(kt){if(m===void 0)throw Error(r(407));m=m()}else{if(m=f(),Yt===null)throw Error(r(349));(Tt&127)!==0||iM(_,f,m)}C.memoizedState=m;var U={value:m,getSnapshot:f};return C.queue=U,xM(aM.bind(null,_,U,u),[u]),_.flags|=2048,Tc(9,{destroy:void 0},sM.bind(null,_,U,m,f),null),m},useId:function(){var u=br(),f=Yt.identifierPrefix;if(kt){var m=gs,_=ps;m=(_&~(1<<32-Ie(_)-1)).toString(32)+m,f="_"+f+"R_"+m,m=tg++,0<m&&(f+="H"+m.toString(32)),f+="_"}else m=XJ++,f="_"+f+"r_"+m.toString(32)+"_";return u.memoizedState=f},useHostTransitionStatus:X0,useFormState:gM,useActionState:gM,useOptimistic:function(u){var f=br();f.memoizedState=f.baseState=u;var m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return f.queue=m,f=K0.bind(null,mt,!0,m),m.dispatch=f,[u,f]},useMemoCache:B0,useCacheRefresh:function(){return br().memoizedState=eQ.bind(null,mt)},useEffectEvent:function(u){var f=br(),m={impl:u};return f.memoizedState=m,function(){if((Pt&2)!==0)throw Error(r(440));return m.impl.apply(void 0,arguments)}}},Y0={readContext:Qn,use:rg,useCallback:AM,useContext:Qn,useEffect:V0,useImperativeHandle:SM,useInsertionEffect:_M,useLayoutEffect:DM,useMemo:TM,useReducer:ig,useRef:vM,useState:function(){return ig(Ys)},useDebugValue:H0,useDeferredValue:function(u,f){var m=_n();return CM(m,Ht.memoizedState,u,f)},useTransition:function(){var u=ig(Ys)[0],f=_n().memoizedState;return[typeof u=="boolean"?u:Ld(u),f]},useSyncExternalStore:rM,useId:MM,useHostTransitionStatus:X0,useFormState:mM,useActionState:mM,useOptimistic:function(u,f){var m=_n();return cM(m,Ht,u,f)},useMemoCache:B0,useCacheRefresh:OM};Y0.useEffectEvent=wM;var LM={readContext:Qn,use:rg,useCallback:AM,useContext:Qn,useEffect:V0,useImperativeHandle:SM,useInsertionEffect:_M,useLayoutEffect:DM,useMemo:TM,useReducer:z0,useRef:vM,useState:function(){return z0(Ys)},useDebugValue:H0,useDeferredValue:function(u,f){var m=_n();return Ht===null?$0(m,u,f):CM(m,Ht.memoizedState,u,f)},useTransition:function(){var u=z0(Ys)[0],f=_n().memoizedState;return[typeof u=="boolean"?u:Ld(u),f]},useSyncExternalStore:rM,useId:MM,useHostTransitionStatus:X0,useFormState:bM,useActionState:bM,useOptimistic:function(u,f){var m=_n();return Ht!==null?cM(m,Ht,u,f):(m.baseState=u,[u,m.queue.dispatch])},useMemoCache:B0,useCacheRefresh:OM};LM.useEffectEvent=wM;function Z0(u,f,m,_){f=u.memoizedState,m=m(_,f),m=m==null?f:h({},f,m),u.memoizedState=m,u.lanes===0&&(u.updateQueue.baseState=m)}var J0={enqueueSetState:function(u,f,m){u=u._reactInternals;var _=ii(),C=La(_);C.payload=f,m!=null&&(C.callback=m),f=Ba(u,C,_),f!==null&&(Fr(f,u,_),Nd(f,u,_))},enqueueReplaceState:function(u,f,m){u=u._reactInternals;var _=ii(),C=La(_);C.tag=1,C.payload=f,m!=null&&(C.callback=m),f=Ba(u,C,_),f!==null&&(Fr(f,u,_),Nd(f,u,_))},enqueueForceUpdate:function(u,f){u=u._reactInternals;var m=ii(),_=La(m);_.tag=2,f!=null&&(_.callback=f),f=Ba(u,_,m),f!==null&&(Fr(f,u,m),Nd(f,u,m))}};function BM(u,f,m,_,C,U,X){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(_,U,X):f.prototype&&f.prototype.isPureReactComponent?!Ad(m,_)||!Ad(C,U):!0}function jM(u,f,m,_){u=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(m,_),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(m,_),f.state!==u&&J0.enqueueReplaceState(f,f.state,null)}function tl(u,f){var m=f;if("ref"in f){m={};for(var _ in f)_!=="ref"&&(m[_]=f[_])}if(u=u.defaultProps){m===f&&(m=h({},m));for(var C in u)m[C]===void 0&&(m[C]=u[C])}return m}function zM(u){Bp(u)}function qM(u){console.error(u)}function WM(u){Bp(u)}function lg(u,f){try{var m=u.onUncaughtError;m(f.value,{componentStack:f.stack})}catch(_){setTimeout(function(){throw _})}}function VM(u,f,m){try{var _=u.onCaughtError;_(m.value,{componentStack:m.stack,errorBoundary:f.tag===1?f.stateNode:null})}catch(C){setTimeout(function(){throw C})}}function Q0(u,f,m){return m=La(m),m.tag=3,m.payload={element:null},m.callback=function(){lg(u,f)},m}function HM(u){return u=La(u),u.tag=3,u}function $M(u,f,m,_){var C=m.type.getDerivedStateFromError;if(typeof C=="function"){var U=_.value;u.payload=function(){return C(U)},u.callback=function(){VM(f,m,_)}}var X=m.stateNode;X!==null&&typeof X.componentDidCatch=="function"&&(u.callback=function(){VM(f,m,_),typeof C!="function"&&(Ha===null?Ha=new Set([this]):Ha.add(this));var ne=_.stack;this.componentDidCatch(_.value,{componentStack:ne!==null?ne:""})})}function nQ(u,f,m,_,C){if(m.flags|=32768,_!==null&&typeof _=="object"&&typeof _.then=="function"){if(f=m.alternate,f!==null&&vc(f,m,C,!0),m=ei.current,m!==null){switch(m.tag){case 31:case 13:return Ai===null?xg():m.alternate===null&&mn===0&&(mn=3),m.flags&=-257,m.flags|=65536,m.lanes=C,_===Kp?m.flags|=16384:(f=m.updateQueue,f===null?m.updateQueue=new Set([_]):f.add(_),E1(u,_,C)),!1;case 22:return m.flags|=65536,_===Kp?m.flags|=16384:(f=m.updateQueue,f===null?(f={transitions:null,markerInstances:null,retryQueue:new Set([_])},m.updateQueue=f):(m=f.retryQueue,m===null?f.retryQueue=new Set([_]):m.add(_)),E1(u,_,C)),!1}throw Error(r(435,m.tag))}return E1(u,_,C),xg(),!1}if(kt)return f=ei.current,f!==null?((f.flags&65536)===0&&(f.flags|=256),f.flags|=65536,f.lanes=C,_!==b0&&(u=Error(r(422),{cause:_}),kd(_i(u,m)))):(_!==b0&&(f=Error(r(423),{cause:_}),kd(_i(f,m))),u=u.current.alternate,u.flags|=65536,C&=-C,u.lanes|=C,_=_i(_,m),C=Q0(u.stateNode,_,C),k0(u,C),mn!==4&&(mn=2)),!1;var U=Error(r(520),{cause:_});if(U=_i(U,m),Xd===null?Xd=[U]:Xd.push(U),mn!==4&&(mn=2),f===null)return!0;_=_i(_,m),m=f;do{switch(m.tag){case 3:return m.flags|=65536,u=C&-C,m.lanes|=u,u=Q0(m.stateNode,_,u),k0(m,u),!1;case 1:if(f=m.type,U=m.stateNode,(m.flags&128)===0&&(typeof f.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(Ha===null||!Ha.has(U))))return m.flags|=65536,C&=-C,m.lanes|=C,C=HM(C),$M(C,u,m,_),k0(m,C),!1}m=m.return}while(m!==null);return!1}var e1=Error(r(461)),kn=!1;function er(u,f,m,_){f.child=u===null?YU(f,null,m,_):Qo(f,u.child,m,_)}function GM(u,f,m,_,C){m=m.render;var U=f.ref;if("ref"in _){var X={};for(var ne in _)ne!=="ref"&&(X[ne]=_[ne])}else X=_;return Ko(f),_=F0(u,f,m,X,U,C),ne=I0(),u!==null&&!kn?(P0(u,f,C),Zs(u,f,C)):(kt&&ne&&m0(f),f.flags|=1,er(u,f,_,C),f.child)}function XM(u,f,m,_,C){if(u===null){var U=m.type;return typeof U=="function"&&!f0(U)&&U.defaultProps===void 0&&m.compare===null?(f.tag=15,f.type=U,KM(u,f,U,_,C)):(u=Wp(m.type,null,_,f,f.mode,C),u.ref=f.ref,u.return=f,f.child=u)}if(U=u.child,!l1(u,C)){var X=U.memoizedProps;if(m=m.compare,m=m!==null?m:Ad,m(X,_)&&u.ref===f.ref)return Zs(u,f,C)}return f.flags|=1,u=Hs(U,_),u.ref=f.ref,u.return=f,f.child=u}function KM(u,f,m,_,C){if(u!==null){var U=u.memoizedProps;if(Ad(U,_)&&u.ref===f.ref)if(kn=!1,f.pendingProps=_=U,l1(u,C))(u.flags&131072)!==0&&(kn=!0);else return f.lanes=u.lanes,Zs(u,f,C)}return t1(u,f,m,_,C)}function YM(u,f,m,_){var C=_.children,U=u!==null?u.memoizedState:null;if(u===null&&f.stateNode===null&&(f.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),_.mode==="hidden"){if((f.flags&128)!==0){if(U=U!==null?U.baseLanes|m:m,u!==null){for(_=f.child=u.child,C=0;_!==null;)C=C|_.lanes|_.childLanes,_=_.sibling;_=C&~U}else _=0,f.child=null;return ZM(u,f,U,m,_)}if((m&536870912)!==0)f.memoizedState={baseLanes:0,cachePool:null},u!==null&&Gp(f,U!==null?U.cachePool:null),U!==null?QU(f,U):U0(),eM(f);else return _=f.lanes=536870912,ZM(u,f,U!==null?U.baseLanes|m:m,m,_)}else U!==null?(Gp(f,U.cachePool),QU(f,U),za(),f.memoizedState=null):(u!==null&&Gp(f,null),U0(),za());return er(u,f,C,m),f.child}function zd(u,f){return u!==null&&u.tag===22||f.stateNode!==null||(f.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.sibling}function ZM(u,f,m,_,C){var U=S0();return U=U===null?null:{parent:Tn._currentValue,pool:U},f.memoizedState={baseLanes:m,cachePool:U},u!==null&&Gp(f,null),U0(),eM(f),u!==null&&vc(u,f,_,!0),f.childLanes=C,null}function cg(u,f){return f=dg({mode:f.mode,children:f.children},u.mode),f.ref=u.ref,u.child=f,f.return=u,f}function JM(u,f,m){return Qo(f,u.child,null,m),u=cg(f,f.pendingProps),u.flags|=2,ti(f),f.memoizedState=null,u}function rQ(u,f,m){var _=f.pendingProps,C=(f.flags&128)!==0;if(f.flags&=-129,u===null){if(kt){if(_.mode==="hidden")return u=cg(f,_),f.lanes=536870912,zd(null,u);if(O0(f),(u=rn)?(u=uN(u,Si),u=u!==null&&u.data==="&"?u:null,u!==null&&(f.memoizedState={dehydrated:u,treeContext:Oa!==null?{id:ps,overflow:gs}:null,retryLane:536870912,hydrationErrors:null},m=FU(u),m.return=f,f.child=m,Jn=f,rn=null)):u=null,u===null)throw Fa(f);return f.lanes=536870912,null}return cg(f,_)}var U=u.memoizedState;if(U!==null){var X=U.dehydrated;if(O0(f),C)if(f.flags&256)f.flags&=-257,f=JM(u,f,m);else if(f.memoizedState!==null)f.child=u.child,f.flags|=128,f=null;else throw Error(r(558));else if(kn||vc(u,f,m,!1),C=(m&u.childLanes)!==0,kn||C){if(_=Yt,_!==null&&(X=yi(_,m),X!==0&&X!==U.retryLane))throw U.retryLane=X,Ho(u,X),Fr(_,u,X),e1;xg(),f=JM(u,f,m)}else u=U.treeContext,rn=Ti(X.nextSibling),Jn=f,kt=!0,Na=null,Si=!1,u!==null&&LU(f,u),f=cg(f,_),f.flags|=4096;return f}return u=Hs(u.child,{mode:_.mode,children:_.children}),u.ref=f.ref,f.child=u,u.return=f,u}function ug(u,f){var m=f.ref;if(m===null)u!==null&&u.ref!==null&&(f.flags|=4194816);else{if(typeof m!="function"&&typeof m!="object")throw Error(r(284));(u===null||u.ref!==m)&&(f.flags|=4194816)}}function t1(u,f,m,_,C){return Ko(f),m=F0(u,f,m,_,void 0,C),_=I0(),u!==null&&!kn?(P0(u,f,C),Zs(u,f,C)):(kt&&_&&m0(f),f.flags|=1,er(u,f,m,C),f.child)}function QM(u,f,m,_,C,U){return Ko(f),f.updateQueue=null,m=nM(f,_,m,C),tM(u),_=I0(),u!==null&&!kn?(P0(u,f,U),Zs(u,f,U)):(kt&&_&&m0(f),f.flags|=1,er(u,f,m,U),f.child)}function eO(u,f,m,_,C){if(Ko(f),f.stateNode===null){var U=gc,X=m.contextType;typeof X=="object"&&X!==null&&(U=Qn(X)),U=new m(_,U),f.memoizedState=U.state!==null&&U.state!==void 0?U.state:null,U.updater=J0,f.stateNode=U,U._reactInternals=f,U=f.stateNode,U.props=_,U.state=f.memoizedState,U.refs={},T0(f),X=m.contextType,U.context=typeof X=="object"&&X!==null?Qn(X):gc,U.state=f.memoizedState,X=m.getDerivedStateFromProps,typeof X=="function"&&(Z0(f,m,X,_),U.state=f.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof U.getSnapshotBeforeUpdate=="function"||typeof U.UNSAFE_componentWillMount!="function"&&typeof U.componentWillMount!="function"||(X=U.state,typeof U.componentWillMount=="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount=="function"&&U.UNSAFE_componentWillMount(),X!==U.state&&J0.enqueueReplaceState(U,U.state,null),Id(f,_,U,C),Fd(),U.state=f.memoizedState),typeof U.componentDidMount=="function"&&(f.flags|=4194308),_=!0}else if(u===null){U=f.stateNode;var ne=f.memoizedProps,he=tl(m,ne);U.props=he;var _e=U.context,Me=m.contextType;X=gc,typeof Me=="object"&&Me!==null&&(X=Qn(Me));var Ne=m.getDerivedStateFromProps;Me=typeof Ne=="function"||typeof U.getSnapshotBeforeUpdate=="function",ne=f.pendingProps!==ne,Me||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(ne||_e!==X)&&jM(f,U,_,X),Pa=!1;var Ae=f.memoizedState;U.state=Ae,Id(f,_,U,C),Fd(),_e=f.memoizedState,ne||Ae!==_e||Pa?(typeof Ne=="function"&&(Z0(f,m,Ne,_),_e=f.memoizedState),(he=Pa||BM(f,m,he,_,Ae,_e,X))?(Me||typeof U.UNSAFE_componentWillMount!="function"&&typeof U.componentWillMount!="function"||(typeof U.componentWillMount=="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount=="function"&&U.UNSAFE_componentWillMount()),typeof U.componentDidMount=="function"&&(f.flags|=4194308)):(typeof U.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=_,f.memoizedState=_e),U.props=_,U.state=_e,U.context=X,_=he):(typeof U.componentDidMount=="function"&&(f.flags|=4194308),_=!1)}else{U=f.stateNode,C0(u,f),X=f.memoizedProps,Me=tl(m,X),U.props=Me,Ne=f.pendingProps,Ae=U.context,_e=m.contextType,he=gc,typeof _e=="object"&&_e!==null&&(he=Qn(_e)),ne=m.getDerivedStateFromProps,(_e=typeof ne=="function"||typeof U.getSnapshotBeforeUpdate=="function")||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(X!==Ne||Ae!==he)&&jM(f,U,_,he),Pa=!1,Ae=f.memoizedState,U.state=Ae,Id(f,_,U,C),Fd();var ke=f.memoizedState;X!==Ne||Ae!==ke||Pa||u!==null&&u.dependencies!==null&&Hp(u.dependencies)?(typeof ne=="function"&&(Z0(f,m,ne,_),ke=f.memoizedState),(Me=Pa||BM(f,m,Me,_,Ae,ke,he)||u!==null&&u.dependencies!==null&&Hp(u.dependencies))?(_e||typeof U.UNSAFE_componentWillUpdate!="function"&&typeof U.componentWillUpdate!="function"||(typeof U.componentWillUpdate=="function"&&U.componentWillUpdate(_,ke,he),typeof U.UNSAFE_componentWillUpdate=="function"&&U.UNSAFE_componentWillUpdate(_,ke,he)),typeof U.componentDidUpdate=="function"&&(f.flags|=4),typeof U.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof U.componentDidUpdate!="function"||X===u.memoizedProps&&Ae===u.memoizedState||(f.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||X===u.memoizedProps&&Ae===u.memoizedState||(f.flags|=1024),f.memoizedProps=_,f.memoizedState=ke),U.props=_,U.state=ke,U.context=he,_=Me):(typeof U.componentDidUpdate!="function"||X===u.memoizedProps&&Ae===u.memoizedState||(f.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||X===u.memoizedProps&&Ae===u.memoizedState||(f.flags|=1024),_=!1)}return U=_,ug(u,f),_=(f.flags&128)!==0,U||_?(U=f.stateNode,m=_&&typeof m.getDerivedStateFromError!="function"?null:U.render(),f.flags|=1,u!==null&&_?(f.child=Qo(f,u.child,null,C),f.child=Qo(f,null,m,C)):er(u,f,m,C),f.memoizedState=U.state,u=f.child):u=Zs(u,f,C),u}function tO(u,f,m,_){return Go(),f.flags|=256,er(u,f,m,_),f.child}var n1={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function r1(u){return{baseLanes:u,cachePool:VU()}}function i1(u,f,m){return u=u!==null?u.childLanes&~m:0,f&&(u|=ri),u}function nO(u,f,m){var _=f.pendingProps,C=!1,U=(f.flags&128)!==0,X;if((X=U)||(X=u!==null&&u.memoizedState===null?!1:(wn.current&2)!==0),X&&(C=!0,f.flags&=-129),X=(f.flags&32)!==0,f.flags&=-33,u===null){if(kt){if(C?ja(f):za(),(u=rn)?(u=uN(u,Si),u=u!==null&&u.data!=="&"?u:null,u!==null&&(f.memoizedState={dehydrated:u,treeContext:Oa!==null?{id:ps,overflow:gs}:null,retryLane:536870912,hydrationErrors:null},m=FU(u),m.return=f,f.child=m,Jn=f,rn=null)):u=null,u===null)throw Fa(f);return j1(u)?f.lanes=32:f.lanes=536870912,null}var ne=_.children;return _=_.fallback,C?(za(),C=f.mode,ne=dg({mode:"hidden",children:ne},C),_=$o(_,C,m,null),ne.return=f,_.return=f,ne.sibling=_,f.child=ne,_=f.child,_.memoizedState=r1(m),_.childLanes=i1(u,X,m),f.memoizedState=n1,zd(null,_)):(ja(f),s1(f,ne))}var he=u.memoizedState;if(he!==null&&(ne=he.dehydrated,ne!==null)){if(U)f.flags&256?(ja(f),f.flags&=-257,f=a1(u,f,m)):f.memoizedState!==null?(za(),f.child=u.child,f.flags|=128,f=null):(za(),ne=_.fallback,C=f.mode,_=dg({mode:"visible",children:_.children},C),ne=$o(ne,C,m,null),ne.flags|=2,_.return=f,ne.return=f,_.sibling=ne,f.child=_,Qo(f,u.child,null,m),_=f.child,_.memoizedState=r1(m),_.childLanes=i1(u,X,m),f.memoizedState=n1,f=zd(null,_));else if(ja(f),j1(ne)){if(X=ne.nextSibling&&ne.nextSibling.dataset,X)var _e=X.dgst;X=_e,_=Error(r(419)),_.stack="",_.digest=X,kd({value:_,source:null,stack:null}),f=a1(u,f,m)}else if(kn||vc(u,f,m,!1),X=(m&u.childLanes)!==0,kn||X){if(X=Yt,X!==null&&(_=yi(X,m),_!==0&&_!==he.retryLane))throw he.retryLane=_,Ho(u,_),Fr(X,u,_),e1;B1(ne)||xg(),f=a1(u,f,m)}else B1(ne)?(f.flags|=192,f.child=u.child,f=null):(u=he.treeContext,rn=Ti(ne.nextSibling),Jn=f,kt=!0,Na=null,Si=!1,u!==null&&LU(f,u),f=s1(f,_.children),f.flags|=4096);return f}return C?(za(),ne=_.fallback,C=f.mode,he=u.child,_e=he.sibling,_=Hs(he,{mode:"hidden",children:_.children}),_.subtreeFlags=he.subtreeFlags&65011712,_e!==null?ne=Hs(_e,ne):(ne=$o(ne,C,m,null),ne.flags|=2),ne.return=f,_.return=f,_.sibling=ne,f.child=_,zd(null,_),_=f.child,ne=u.child.memoizedState,ne===null?ne=r1(m):(C=ne.cachePool,C!==null?(he=Tn._currentValue,C=C.parent!==he?{parent:he,pool:he}:C):C=VU(),ne={baseLanes:ne.baseLanes|m,cachePool:C}),_.memoizedState=ne,_.childLanes=i1(u,X,m),f.memoizedState=n1,zd(u.child,_)):(ja(f),m=u.child,u=m.sibling,m=Hs(m,{mode:"visible",children:_.children}),m.return=f,m.sibling=null,u!==null&&(X=f.deletions,X===null?(f.deletions=[u],f.flags|=16):X.push(u)),f.child=m,f.memoizedState=null,m)}function s1(u,f){return f=dg({mode:"visible",children:f},u.mode),f.return=u,u.child=f}function dg(u,f){return u=Qr(22,u,null,f),u.lanes=0,u}function a1(u,f,m){return Qo(f,u.child,null,m),u=s1(f,f.pendingProps.children),u.flags|=2,f.memoizedState=null,u}function rO(u,f,m){u.lanes|=f;var _=u.alternate;_!==null&&(_.lanes|=f),w0(u.return,f,m)}function o1(u,f,m,_,C,U){var X=u.memoizedState;X===null?u.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:_,tail:m,tailMode:C,treeForkCount:U}:(X.isBackwards=f,X.rendering=null,X.renderingStartTime=0,X.last=_,X.tail=m,X.tailMode=C,X.treeForkCount=U)}function iO(u,f,m){var _=f.pendingProps,C=_.revealOrder,U=_.tail;_=_.children;var X=wn.current,ne=(X&2)!==0;if(ne?(X=X&1|2,f.flags|=128):X&=1,j(wn,X),er(u,f,_,m),_=kt?Cd:0,!ne&&u!==null&&(u.flags&128)!==0)e:for(u=f.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&rO(u,m,f);else if(u.tag===19)rO(u,m,f);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===f)break e;for(;u.sibling===null;){if(u.return===null||u.return===f)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}switch(C){case"forwards":for(m=f.child,C=null;m!==null;)u=m.alternate,u!==null&&Qp(u)===null&&(C=m),m=m.sibling;m=C,m===null?(C=f.child,f.child=null):(C=m.sibling,m.sibling=null),o1(f,!1,C,m,U,_);break;case"backwards":case"unstable_legacy-backwards":for(m=null,C=f.child,f.child=null;C!==null;){if(u=C.alternate,u!==null&&Qp(u)===null){f.child=C;break}u=C.sibling,C.sibling=m,m=C,C=u}o1(f,!0,m,null,U,_);break;case"together":o1(f,!1,null,null,void 0,_);break;default:f.memoizedState=null}return f.child}function Zs(u,f,m){if(u!==null&&(f.dependencies=u.dependencies),Va|=f.lanes,(m&f.childLanes)===0)if(u!==null){if(vc(u,f,m,!1),(m&f.childLanes)===0)return null}else return null;if(u!==null&&f.child!==u.child)throw Error(r(153));if(f.child!==null){for(u=f.child,m=Hs(u,u.pendingProps),f.child=m,m.return=f;u.sibling!==null;)u=u.sibling,m=m.sibling=Hs(u,u.pendingProps),m.return=f;m.sibling=null}return f.child}function l1(u,f){return(u.lanes&f)!==0?!0:(u=u.dependencies,!!(u!==null&&Hp(u)))}function iQ(u,f,m){switch(f.tag){case 3:ye(f,f.stateNode.containerInfo),Ia(f,Tn,u.memoizedState.cache),Go();break;case 27:case 5:Re(f);break;case 4:ye(f,f.stateNode.containerInfo);break;case 10:Ia(f,f.type,f.memoizedProps.value);break;case 31:if(f.memoizedState!==null)return f.flags|=128,O0(f),null;break;case 13:var _=f.memoizedState;if(_!==null)return _.dehydrated!==null?(ja(f),f.flags|=128,null):(m&f.child.childLanes)!==0?nO(u,f,m):(ja(f),u=Zs(u,f,m),u!==null?u.sibling:null);ja(f);break;case 19:var C=(u.flags&128)!==0;if(_=(m&f.childLanes)!==0,_||(vc(u,f,m,!1),_=(m&f.childLanes)!==0),C){if(_)return iO(u,f,m);f.flags|=128}if(C=f.memoizedState,C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),j(wn,wn.current),_)break;return null;case 22:return f.lanes=0,YM(u,f,m,f.pendingProps);case 24:Ia(f,Tn,u.memoizedState.cache)}return Zs(u,f,m)}function sO(u,f,m){if(u!==null)if(u.memoizedProps!==f.pendingProps)kn=!0;else{if(!l1(u,m)&&(f.flags&128)===0)return kn=!1,iQ(u,f,m);kn=(u.flags&131072)!==0}else kn=!1,kt&&(f.flags&1048576)!==0&&PU(f,Cd,f.index);switch(f.lanes=0,f.tag){case 16:e:{var _=f.pendingProps;if(u=Zo(f.elementType),f.type=u,typeof u=="function")f0(u)?(_=tl(u,_),f.tag=1,f=eO(null,f,u,_,m)):(f.tag=0,f=t1(null,f,u,_,m));else{if(u!=null){var C=u.$$typeof;if(C===E){f.tag=11,f=GM(null,f,u,_,m);break e}else if(C===T){f.tag=14,f=XM(null,f,u,_,m);break e}}throw f=k(u)||u,Error(r(306,f,""))}}return f;case 0:return t1(u,f,f.type,f.pendingProps,m);case 1:return _=f.type,C=tl(_,f.pendingProps),eO(u,f,_,C,m);case 3:e:{if(ye(f,f.stateNode.containerInfo),u===null)throw Error(r(387));_=f.pendingProps;var U=f.memoizedState;C=U.element,C0(u,f),Id(f,_,null,m);var X=f.memoizedState;if(_=X.cache,Ia(f,Tn,_),_!==U.cache&&_0(f,[Tn],m,!0),Fd(),_=X.element,U.isDehydrated)if(U={element:_,isDehydrated:!1,cache:X.cache},f.updateQueue.baseState=U,f.memoizedState=U,f.flags&256){f=tO(u,f,_,m);break e}else if(_!==C){C=_i(Error(r(424)),f),kd(C),f=tO(u,f,_,m);break e}else for(u=f.stateNode.containerInfo,u.nodeType===9?u=u.body:u=u.nodeName==="HTML"?u.ownerDocument.body:u,rn=Ti(u.firstChild),Jn=f,kt=!0,Na=null,Si=!0,m=YU(f,null,_,m),f.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(Go(),_===C){f=Zs(u,f,m);break e}er(u,f,_,m)}f=f.child}return f;case 26:return ug(u,f),u===null?(m=mN(f.type,null,f.pendingProps,null))?f.memoizedState=m:kt||(m=f.type,u=f.pendingProps,_=Tg(re.current).createElement(m),_[At]=f,_[Sn]=u,tr(_,m,u),An(_),f.stateNode=_):f.memoizedState=mN(f.type,u.memoizedProps,f.pendingProps,u.memoizedState),null;case 27:return Re(f),u===null&&kt&&(_=f.stateNode=fN(f.type,f.pendingProps,re.current),Jn=f,Si=!0,C=rn,Ka(f.type)?(z1=C,rn=Ti(_.firstChild)):rn=C),er(u,f,f.pendingProps.children,m),ug(u,f),u===null&&(f.flags|=4194304),f.child;case 5:return u===null&&kt&&((C=_=rn)&&(_=NQ(_,f.type,f.pendingProps,Si),_!==null?(f.stateNode=_,Jn=f,rn=Ti(_.firstChild),Si=!1,C=!0):C=!1),C||Fa(f)),Re(f),C=f.type,U=f.pendingProps,X=u!==null?u.memoizedProps:null,_=U.children,I1(C,U)?_=null:X!==null&&I1(C,X)&&(f.flags|=32),f.memoizedState!==null&&(C=F0(u,f,KJ,null,null,m),nh._currentValue=C),ug(u,f),er(u,f,_,m),f.child;case 6:return u===null&&kt&&((u=m=rn)&&(m=FQ(m,f.pendingProps,Si),m!==null?(f.stateNode=m,Jn=f,rn=null,u=!0):u=!1),u||Fa(f)),null;case 13:return nO(u,f,m);case 4:return ye(f,f.stateNode.containerInfo),_=f.pendingProps,u===null?f.child=Qo(f,null,_,m):er(u,f,_,m),f.child;case 11:return GM(u,f,f.type,f.pendingProps,m);case 7:return er(u,f,f.pendingProps,m),f.child;case 8:return er(u,f,f.pendingProps.children,m),f.child;case 12:return er(u,f,f.pendingProps.children,m),f.child;case 10:return _=f.pendingProps,Ia(f,f.type,_.value),er(u,f,_.children,m),f.child;case 9:return C=f.type._context,_=f.pendingProps.children,Ko(f),C=Qn(C),_=_(C),f.flags|=1,er(u,f,_,m),f.child;case 14:return XM(u,f,f.type,f.pendingProps,m);case 15:return KM(u,f,f.type,f.pendingProps,m);case 19:return iO(u,f,m);case 31:return rQ(u,f,m);case 22:return YM(u,f,m,f.pendingProps);case 24:return Ko(f),_=Qn(Tn),u===null?(C=S0(),C===null&&(C=Yt,U=D0(),C.pooledCache=U,U.refCount++,U!==null&&(C.pooledCacheLanes|=m),C=U),f.memoizedState={parent:_,cache:C},T0(f),Ia(f,Tn,C)):((u.lanes&m)!==0&&(C0(u,f),Id(f,null,null,m),Fd()),C=u.memoizedState,U=f.memoizedState,C.parent!==_?(C={parent:_,cache:_},f.memoizedState=C,f.lanes===0&&(f.memoizedState=f.updateQueue.baseState=C),Ia(f,Tn,_)):(_=U.cache,Ia(f,Tn,_),_!==C.cache&&_0(f,[Tn],m,!0))),er(u,f,f.pendingProps.children,m),f.child;case 29:throw f.pendingProps}throw Error(r(156,f.tag))}function Js(u){u.flags|=4}function c1(u,f,m,_,C){if((f=(u.mode&32)!==0)&&(f=!1),f){if(u.flags|=16777216,(C&335544128)===C)if(u.stateNode.complete)u.flags|=8192;else if(MO())u.flags|=8192;else throw Jo=Kp,A0}else u.flags&=-16777217}function aO(u,f){if(f.type!=="stylesheet"||(f.state.loading&4)!==0)u.flags&=-16777217;else if(u.flags|=16777216,!wN(f))if(MO())u.flags|=8192;else throw Jo=Kp,A0}function hg(u,f){f!==null&&(u.flags|=4),u.flags&16384&&(f=u.tag!==22?at():536870912,u.lanes|=f,Uc|=f)}function qd(u,f){if(!kt)switch(u.tailMode){case"hidden":f=u.tail;for(var m=null;f!==null;)f.alternate!==null&&(m=f),f=f.sibling;m===null?u.tail=null:m.sibling=null;break;case"collapsed":m=u.tail;for(var _=null;m!==null;)m.alternate!==null&&(_=m),m=m.sibling;_===null?f||u.tail===null?u.tail=null:u.tail.sibling=null:_.sibling=null}}function sn(u){var f=u.alternate!==null&&u.alternate.child===u.child,m=0,_=0;if(f)for(var C=u.child;C!==null;)m|=C.lanes|C.childLanes,_|=C.subtreeFlags&65011712,_|=C.flags&65011712,C.return=u,C=C.sibling;else for(C=u.child;C!==null;)m|=C.lanes|C.childLanes,_|=C.subtreeFlags,_|=C.flags,C.return=u,C=C.sibling;return u.subtreeFlags|=_,u.childLanes=m,f}function sQ(u,f,m){var _=f.pendingProps;switch(y0(f),f.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return sn(f),null;case 1:return sn(f),null;case 3:return m=f.stateNode,_=null,u!==null&&(_=u.memoizedState.cache),f.memoizedState.cache!==_&&(f.flags|=2048),Xs(Tn),xe(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(u===null||u.child===null)&&(bc(f)?Js(f):u===null||u.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,v0())),sn(f),null;case 26:var C=f.type,U=f.memoizedState;return u===null?(Js(f),U!==null?(sn(f),aO(f,U)):(sn(f),c1(f,C,null,_,m))):U?U!==u.memoizedState?(Js(f),sn(f),aO(f,U)):(sn(f),f.flags&=-16777217):(u=u.memoizedProps,u!==_&&Js(f),sn(f),c1(f,C,u,_,m)),null;case 27:if(Fe(f),m=re.current,C=f.type,u!==null&&f.stateNode!=null)u.memoizedProps!==_&&Js(f);else{if(!_){if(f.stateNode===null)throw Error(r(166));return sn(f),null}u=Y.current,bc(f)?BU(f):(u=fN(C,_,m),f.stateNode=u,Js(f))}return sn(f),null;case 5:if(Fe(f),C=f.type,u!==null&&f.stateNode!=null)u.memoizedProps!==_&&Js(f);else{if(!_){if(f.stateNode===null)throw Error(r(166));return sn(f),null}if(U=Y.current,bc(f))BU(f);else{var X=Tg(re.current);switch(U){case 1:U=X.createElementNS("http://www.w3.org/2000/svg",C);break;case 2:U=X.createElementNS("http://www.w3.org/1998/Math/MathML",C);break;default:switch(C){case"svg":U=X.createElementNS("http://www.w3.org/2000/svg",C);break;case"math":U=X.createElementNS("http://www.w3.org/1998/Math/MathML",C);break;case"script":U=X.createElement("div"),U.innerHTML="<script><\/script>",U=U.removeChild(U.firstChild);break;case"select":U=typeof _.is=="string"?X.createElement("select",{is:_.is}):X.createElement("select"),_.multiple?U.multiple=!0:_.size&&(U.size=_.size);break;default:U=typeof _.is=="string"?X.createElement(C,{is:_.is}):X.createElement(C)}}U[At]=f,U[Sn]=_;e:for(X=f.child;X!==null;){if(X.tag===5||X.tag===6)U.appendChild(X.stateNode);else if(X.tag!==4&&X.tag!==27&&X.child!==null){X.child.return=X,X=X.child;continue}if(X===f)break e;for(;X.sibling===null;){if(X.return===null||X.return===f)break e;X=X.return}X.sibling.return=X.return,X=X.sibling}f.stateNode=U;e:switch(tr(U,C,_),C){case"button":case"input":case"select":case"textarea":_=!!_.autoFocus;break e;case"img":_=!0;break e;default:_=!1}_&&Js(f)}}return sn(f),c1(f,f.type,u===null?null:u.memoizedProps,f.pendingProps,m),null;case 6:if(u&&f.stateNode!=null)u.memoizedProps!==_&&Js(f);else{if(typeof _!="string"&&f.stateNode===null)throw Error(r(166));if(u=re.current,bc(f)){if(u=f.stateNode,m=f.memoizedProps,_=null,C=Jn,C!==null)switch(C.tag){case 27:case 5:_=C.memoizedProps}u[At]=f,u=!!(u.nodeValue===m||_!==null&&_.suppressHydrationWarning===!0||nN(u.nodeValue,m)),u||Fa(f,!0)}else u=Tg(u).createTextNode(_),u[At]=f,f.stateNode=u}return sn(f),null;case 31:if(m=f.memoizedState,u===null||u.memoizedState!==null){if(_=bc(f),m!==null){if(u===null){if(!_)throw Error(r(318));if(u=f.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(557));u[At]=f}else Go(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;sn(f),u=!1}else m=v0(),u!==null&&u.memoizedState!==null&&(u.memoizedState.hydrationErrors=m),u=!0;if(!u)return f.flags&256?(ti(f),f):(ti(f),null);if((f.flags&128)!==0)throw Error(r(558))}return sn(f),null;case 13:if(_=f.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(C=bc(f),_!==null&&_.dehydrated!==null){if(u===null){if(!C)throw Error(r(318));if(C=f.memoizedState,C=C!==null?C.dehydrated:null,!C)throw Error(r(317));C[At]=f}else Go(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;sn(f),C=!1}else C=v0(),u!==null&&u.memoizedState!==null&&(u.memoizedState.hydrationErrors=C),C=!0;if(!C)return f.flags&256?(ti(f),f):(ti(f),null)}return ti(f),(f.flags&128)!==0?(f.lanes=m,f):(m=_!==null,u=u!==null&&u.memoizedState!==null,m&&(_=f.child,C=null,_.alternate!==null&&_.alternate.memoizedState!==null&&_.alternate.memoizedState.cachePool!==null&&(C=_.alternate.memoizedState.cachePool.pool),U=null,_.memoizedState!==null&&_.memoizedState.cachePool!==null&&(U=_.memoizedState.cachePool.pool),U!==C&&(_.flags|=2048)),m!==u&&m&&(f.child.flags|=8192),hg(f,f.updateQueue),sn(f),null);case 4:return xe(),u===null&&U1(f.stateNode.containerInfo),sn(f),null;case 10:return Xs(f.type),sn(f),null;case 19:if(K(wn),_=f.memoizedState,_===null)return sn(f),null;if(C=(f.flags&128)!==0,U=_.rendering,U===null)if(C)qd(_,!1);else{if(mn!==0||u!==null&&(u.flags&128)!==0)for(u=f.child;u!==null;){if(U=Qp(u),U!==null){for(f.flags|=128,qd(_,!1),u=U.updateQueue,f.updateQueue=u,hg(f,u),f.subtreeFlags=0,u=m,m=f.child;m!==null;)NU(m,u),m=m.sibling;return j(wn,wn.current&1|2),kt&&$s(f,_.treeForkCount),f.child}u=u.sibling}_.tail!==null&&le()>yg&&(f.flags|=128,C=!0,qd(_,!1),f.lanes=4194304)}else{if(!C)if(u=Qp(U),u!==null){if(f.flags|=128,C=!0,u=u.updateQueue,f.updateQueue=u,hg(f,u),qd(_,!0),_.tail===null&&_.tailMode==="hidden"&&!U.alternate&&!kt)return sn(f),null}else 2*le()-_.renderingStartTime>yg&&m!==536870912&&(f.flags|=128,C=!0,qd(_,!1),f.lanes=4194304);_.isBackwards?(U.sibling=f.child,f.child=U):(u=_.last,u!==null?u.sibling=U:f.child=U,_.last=U)}return _.tail!==null?(u=_.tail,_.rendering=u,_.tail=u.sibling,_.renderingStartTime=le(),u.sibling=null,m=wn.current,j(wn,C?m&1|2:m&1),kt&&$s(f,_.treeForkCount),u):(sn(f),null);case 22:case 23:return ti(f),M0(),_=f.memoizedState!==null,u!==null?u.memoizedState!==null!==_&&(f.flags|=8192):_&&(f.flags|=8192),_?(m&536870912)!==0&&(f.flags&128)===0&&(sn(f),f.subtreeFlags&6&&(f.flags|=8192)):sn(f),m=f.updateQueue,m!==null&&hg(f,m.retryQueue),m=null,u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),_=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(_=f.memoizedState.cachePool.pool),_!==m&&(f.flags|=2048),u!==null&&K(Yo),null;case 24:return m=null,u!==null&&(m=u.memoizedState.cache),f.memoizedState.cache!==m&&(f.flags|=2048),Xs(Tn),sn(f),null;case 25:return null;case 30:return null}throw Error(r(156,f.tag))}function aQ(u,f){switch(y0(f),f.tag){case 1:return u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 3:return Xs(Tn),xe(),u=f.flags,(u&65536)!==0&&(u&128)===0?(f.flags=u&-65537|128,f):null;case 26:case 27:case 5:return Fe(f),null;case 31:if(f.memoizedState!==null){if(ti(f),f.alternate===null)throw Error(r(340));Go()}return u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 13:if(ti(f),u=f.memoizedState,u!==null&&u.dehydrated!==null){if(f.alternate===null)throw Error(r(340));Go()}return u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 19:return K(wn),null;case 4:return xe(),null;case 10:return Xs(f.type),null;case 22:case 23:return ti(f),M0(),u!==null&&K(Yo),u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 24:return Xs(Tn),null;case 25:return null;default:return null}}function oO(u,f){switch(y0(f),f.tag){case 3:Xs(Tn),xe();break;case 26:case 27:case 5:Fe(f);break;case 4:xe();break;case 31:f.memoizedState!==null&&ti(f);break;case 13:ti(f);break;case 19:K(wn);break;case 10:Xs(f.type);break;case 22:case 23:ti(f),M0(),u!==null&&K(Yo);break;case 24:Xs(Tn)}}function Wd(u,f){try{var m=f.updateQueue,_=m!==null?m.lastEffect:null;if(_!==null){var C=_.next;m=C;do{if((m.tag&u)===u){_=void 0;var U=m.create,X=m.inst;_=U(),X.destroy=_}m=m.next}while(m!==C)}}catch(ne){Vt(f,f.return,ne)}}function qa(u,f,m){try{var _=f.updateQueue,C=_!==null?_.lastEffect:null;if(C!==null){var U=C.next;_=U;do{if((_.tag&u)===u){var X=_.inst,ne=X.destroy;if(ne!==void 0){X.destroy=void 0,C=f;var he=m,_e=ne;try{_e()}catch(Me){Vt(C,he,Me)}}}_=_.next}while(_!==U)}}catch(Me){Vt(f,f.return,Me)}}function lO(u){var f=u.updateQueue;if(f!==null){var m=u.stateNode;try{JU(f,m)}catch(_){Vt(u,u.return,_)}}}function cO(u,f,m){m.props=tl(u.type,u.memoizedProps),m.state=u.memoizedState;try{m.componentWillUnmount()}catch(_){Vt(u,f,_)}}function Vd(u,f){try{var m=u.ref;if(m!==null){switch(u.tag){case 26:case 27:case 5:var _=u.stateNode;break;case 30:_=u.stateNode;break;default:_=u.stateNode}typeof m=="function"?u.refCleanup=m(_):m.current=_}}catch(C){Vt(u,f,C)}}function ms(u,f){var m=u.ref,_=u.refCleanup;if(m!==null)if(typeof _=="function")try{_()}catch(C){Vt(u,f,C)}finally{u.refCleanup=null,u=u.alternate,u!=null&&(u.refCleanup=null)}else if(typeof m=="function")try{m(null)}catch(C){Vt(u,f,C)}else m.current=null}function uO(u){var f=u.type,m=u.memoizedProps,_=u.stateNode;try{e:switch(f){case"button":case"input":case"select":case"textarea":m.autoFocus&&_.focus();break e;case"img":m.src?_.src=m.src:m.srcSet&&(_.srcset=m.srcSet)}}catch(C){Vt(u,u.return,C)}}function u1(u,f,m){try{var _=u.stateNode;CQ(_,u.type,m,f),_[Sn]=f}catch(C){Vt(u,u.return,C)}}function dO(u){return u.tag===5||u.tag===3||u.tag===26||u.tag===27&&Ka(u.type)||u.tag===4}function d1(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||dO(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.tag===27&&Ka(u.type)||u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function h1(u,f,m){var _=u.tag;if(_===5||_===6)u=u.stateNode,f?(m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m).insertBefore(u,f):(f=m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m,f.appendChild(u),m=m._reactRootContainer,m!=null||f.onclick!==null||(f.onclick=Ws));else if(_!==4&&(_===27&&Ka(u.type)&&(m=u.stateNode,f=null),u=u.child,u!==null))for(h1(u,f,m),u=u.sibling;u!==null;)h1(u,f,m),u=u.sibling}function fg(u,f,m){var _=u.tag;if(_===5||_===6)u=u.stateNode,f?m.insertBefore(u,f):m.appendChild(u);else if(_!==4&&(_===27&&Ka(u.type)&&(m=u.stateNode),u=u.child,u!==null))for(fg(u,f,m),u=u.sibling;u!==null;)fg(u,f,m),u=u.sibling}function hO(u){var f=u.stateNode,m=u.memoizedProps;try{for(var _=u.type,C=f.attributes;C.length;)f.removeAttributeNode(C[0]);tr(f,_,m),f[At]=u,f[Sn]=m}catch(U){Vt(u,u.return,U)}}var Qs=!1,Rn=!1,f1=!1,fO=typeof WeakSet=="function"?WeakSet:Set,Gn=null;function oQ(u,f){if(u=u.containerInfo,N1=Ng,u=SU(u),a0(u)){if("selectionStart"in u)var m={start:u.selectionStart,end:u.selectionEnd};else e:{m=(m=u.ownerDocument)&&m.defaultView||window;var _=m.getSelection&&m.getSelection();if(_&&_.rangeCount!==0){m=_.anchorNode;var C=_.anchorOffset,U=_.focusNode;_=_.focusOffset;try{m.nodeType,U.nodeType}catch{m=null;break e}var X=0,ne=-1,he=-1,_e=0,Me=0,Ne=u,Ae=null;t:for(;;){for(var ke;Ne!==m||C!==0&&Ne.nodeType!==3||(ne=X+C),Ne!==U||_!==0&&Ne.nodeType!==3||(he=X+_),Ne.nodeType===3&&(X+=Ne.nodeValue.length),(ke=Ne.firstChild)!==null;)Ae=Ne,Ne=ke;for(;;){if(Ne===u)break t;if(Ae===m&&++_e===C&&(ne=X),Ae===U&&++Me===_&&(he=X),(ke=Ne.nextSibling)!==null)break;Ne=Ae,Ae=Ne.parentNode}Ne=ke}m=ne===-1||he===-1?null:{start:ne,end:he}}else m=null}m=m||{start:0,end:0}}else m=null;for(F1={focusedElem:u,selectionRange:m},Ng=!1,Gn=f;Gn!==null;)if(f=Gn,u=f.child,(f.subtreeFlags&1028)!==0&&u!==null)u.return=f,Gn=u;else for(;Gn!==null;){switch(f=Gn,U=f.alternate,u=f.flags,f.tag){case 0:if((u&4)!==0&&(u=f.updateQueue,u=u!==null?u.events:null,u!==null))for(m=0;m<u.length;m++)C=u[m],C.ref.impl=C.nextImpl;break;case 11:case 15:break;case 1:if((u&1024)!==0&&U!==null){u=void 0,m=f,C=U.memoizedProps,U=U.memoizedState,_=m.stateNode;try{var Ge=tl(m.type,C);u=_.getSnapshotBeforeUpdate(Ge,U),_.__reactInternalSnapshotBeforeUpdate=u}catch(lt){Vt(m,m.return,lt)}}break;case 3:if((u&1024)!==0){if(u=f.stateNode.containerInfo,m=u.nodeType,m===9)L1(u);else if(m===1)switch(u.nodeName){case"HEAD":case"HTML":case"BODY":L1(u);break;default:u.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((u&1024)!==0)throw Error(r(163))}if(u=f.sibling,u!==null){u.return=f.return,Gn=u;break}Gn=f.return}}function pO(u,f,m){var _=m.flags;switch(m.tag){case 0:case 11:case 15:ta(u,m),_&4&&Wd(5,m);break;case 1:if(ta(u,m),_&4)if(u=m.stateNode,f===null)try{u.componentDidMount()}catch(X){Vt(m,m.return,X)}else{var C=tl(m.type,f.memoizedProps);f=f.memoizedState;try{u.componentDidUpdate(C,f,u.__reactInternalSnapshotBeforeUpdate)}catch(X){Vt(m,m.return,X)}}_&64&&lO(m),_&512&&Vd(m,m.return);break;case 3:if(ta(u,m),_&64&&(u=m.updateQueue,u!==null)){if(f=null,m.child!==null)switch(m.child.tag){case 27:case 5:f=m.child.stateNode;break;case 1:f=m.child.stateNode}try{JU(u,f)}catch(X){Vt(m,m.return,X)}}break;case 27:f===null&&_&4&&hO(m);case 26:case 5:ta(u,m),f===null&&_&4&&uO(m),_&512&&Vd(m,m.return);break;case 12:ta(u,m);break;case 31:ta(u,m),_&4&&yO(u,m);break;case 13:ta(u,m),_&4&&bO(u,m),_&64&&(u=m.memoizedState,u!==null&&(u=u.dehydrated,u!==null&&(m=mQ.bind(null,m),IQ(u,m))));break;case 22:if(_=m.memoizedState!==null||Qs,!_){f=f!==null&&f.memoizedState!==null||Rn,C=Qs;var U=Rn;Qs=_,(Rn=f)&&!U?na(u,m,(m.subtreeFlags&8772)!==0):ta(u,m),Qs=C,Rn=U}break;case 30:break;default:ta(u,m)}}function gO(u){var f=u.alternate;f!==null&&(u.alternate=null,gO(f)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(f=u.stateNode,f!==null&&yd(f)),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}var on=null,Ur=!1;function ea(u,f,m){for(m=m.child;m!==null;)mO(u,f,m),m=m.sibling}function mO(u,f,m){if(Te&&typeof Te.onCommitFiberUnmount=="function")try{Te.onCommitFiberUnmount(pe,m)}catch{}switch(m.tag){case 26:Rn||ms(m,f),ea(u,f,m),m.memoizedState?m.memoizedState.count--:m.stateNode&&(m=m.stateNode,m.parentNode.removeChild(m));break;case 27:Rn||ms(m,f);var _=on,C=Ur;Ka(m.type)&&(on=m.stateNode,Ur=!1),ea(u,f,m),Qd(m.stateNode),on=_,Ur=C;break;case 5:Rn||ms(m,f);case 6:if(_=on,C=Ur,on=null,ea(u,f,m),on=_,Ur=C,on!==null)if(Ur)try{(on.nodeType===9?on.body:on.nodeName==="HTML"?on.ownerDocument.body:on).removeChild(m.stateNode)}catch(U){Vt(m,f,U)}else try{on.removeChild(m.stateNode)}catch(U){Vt(m,f,U)}break;case 18:on!==null&&(Ur?(u=on,lN(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,m.stateNode),Bc(u)):lN(on,m.stateNode));break;case 4:_=on,C=Ur,on=m.stateNode.containerInfo,Ur=!0,ea(u,f,m),on=_,Ur=C;break;case 0:case 11:case 14:case 15:qa(2,m,f),Rn||qa(4,m,f),ea(u,f,m);break;case 1:Rn||(ms(m,f),_=m.stateNode,typeof _.componentWillUnmount=="function"&&cO(m,f,_)),ea(u,f,m);break;case 21:ea(u,f,m);break;case 22:Rn=(_=Rn)||m.memoizedState!==null,ea(u,f,m),Rn=_;break;default:ea(u,f,m)}}function yO(u,f){if(f.memoizedState===null&&(u=f.alternate,u!==null&&(u=u.memoizedState,u!==null))){u=u.dehydrated;try{Bc(u)}catch(m){Vt(f,f.return,m)}}}function bO(u,f){if(f.memoizedState===null&&(u=f.alternate,u!==null&&(u=u.memoizedState,u!==null&&(u=u.dehydrated,u!==null))))try{Bc(u)}catch(m){Vt(f,f.return,m)}}function lQ(u){switch(u.tag){case 31:case 13:case 19:var f=u.stateNode;return f===null&&(f=u.stateNode=new fO),f;case 22:return u=u.stateNode,f=u._retryCache,f===null&&(f=u._retryCache=new fO),f;default:throw Error(r(435,u.tag))}}function pg(u,f){var m=lQ(u);f.forEach(function(_){if(!m.has(_)){m.add(_);var C=yQ.bind(null,u,_);_.then(C,C)}})}function Mr(u,f){var m=f.deletions;if(m!==null)for(var _=0;_<m.length;_++){var C=m[_],U=u,X=f,ne=X;e:for(;ne!==null;){switch(ne.tag){case 27:if(Ka(ne.type)){on=ne.stateNode,Ur=!1;break e}break;case 5:on=ne.stateNode,Ur=!1;break e;case 3:case 4:on=ne.stateNode.containerInfo,Ur=!0;break e}ne=ne.return}if(on===null)throw Error(r(160));mO(U,X,C),on=null,Ur=!1,U=C.alternate,U!==null&&(U.return=null),C.return=null}if(f.subtreeFlags&13886)for(f=f.child;f!==null;)vO(f,u),f=f.sibling}var Xi=null;function vO(u,f){var m=u.alternate,_=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:Mr(f,u),Or(u),_&4&&(qa(3,u,u.return),Wd(3,u),qa(5,u,u.return));break;case 1:Mr(f,u),Or(u),_&512&&(Rn||m===null||ms(m,m.return)),_&64&&Qs&&(u=u.updateQueue,u!==null&&(_=u.callbacks,_!==null&&(m=u.shared.hiddenCallbacks,u.shared.hiddenCallbacks=m===null?_:m.concat(_))));break;case 26:var C=Xi;if(Mr(f,u),Or(u),_&512&&(Rn||m===null||ms(m,m.return)),_&4){var U=m!==null?m.memoizedState:null;if(_=u.memoizedState,m===null)if(_===null)if(u.stateNode===null){e:{_=u.type,m=u.memoizedProps,C=C.ownerDocument||C;t:switch(_){case"title":U=C.getElementsByTagName("title")[0],(!U||U[jo]||U[At]||U.namespaceURI==="http://www.w3.org/2000/svg"||U.hasAttribute("itemprop"))&&(U=C.createElement(_),C.head.insertBefore(U,C.querySelector("head > title"))),tr(U,_,m),U[At]=u,An(U),_=U;break e;case"link":var X=vN("link","href",C).get(_+(m.href||""));if(X){for(var ne=0;ne<X.length;ne++)if(U=X[ne],U.getAttribute("href")===(m.href==null||m.href===""?null:m.href)&&U.getAttribute("rel")===(m.rel==null?null:m.rel)&&U.getAttribute("title")===(m.title==null?null:m.title)&&U.getAttribute("crossorigin")===(m.crossOrigin==null?null:m.crossOrigin)){X.splice(ne,1);break t}}U=C.createElement(_),tr(U,_,m),C.head.appendChild(U);break;case"meta":if(X=vN("meta","content",C).get(_+(m.content||""))){for(ne=0;ne<X.length;ne++)if(U=X[ne],U.getAttribute("content")===(m.content==null?null:""+m.content)&&U.getAttribute("name")===(m.name==null?null:m.name)&&U.getAttribute("property")===(m.property==null?null:m.property)&&U.getAttribute("http-equiv")===(m.httpEquiv==null?null:m.httpEquiv)&&U.getAttribute("charset")===(m.charSet==null?null:m.charSet)){X.splice(ne,1);break t}}U=C.createElement(_),tr(U,_,m),C.head.appendChild(U);break;default:throw Error(r(468,_))}U[At]=u,An(U),_=U}u.stateNode=_}else xN(C,u.type,u.stateNode);else u.stateNode=bN(C,_,u.memoizedProps);else U!==_?(U===null?m.stateNode!==null&&(m=m.stateNode,m.parentNode.removeChild(m)):U.count--,_===null?xN(C,u.type,u.stateNode):bN(C,_,u.memoizedProps)):_===null&&u.stateNode!==null&&u1(u,u.memoizedProps,m.memoizedProps)}break;case 27:Mr(f,u),Or(u),_&512&&(Rn||m===null||ms(m,m.return)),m!==null&&_&4&&u1(u,u.memoizedProps,m.memoizedProps);break;case 5:if(Mr(f,u),Or(u),_&512&&(Rn||m===null||ms(m,m.return)),u.flags&32){C=u.stateNode;try{lc(C,"")}catch(Ge){Vt(u,u.return,Ge)}}_&4&&u.stateNode!=null&&(C=u.memoizedProps,u1(u,C,m!==null?m.memoizedProps:C)),_&1024&&(f1=!0);break;case 6:if(Mr(f,u),Or(u),_&4){if(u.stateNode===null)throw Error(r(162));_=u.memoizedProps,m=u.stateNode;try{m.nodeValue=_}catch(Ge){Vt(u,u.return,Ge)}}break;case 3:if(Rg=null,C=Xi,Xi=Cg(f.containerInfo),Mr(f,u),Xi=C,Or(u),_&4&&m!==null&&m.memoizedState.isDehydrated)try{Bc(f.containerInfo)}catch(Ge){Vt(u,u.return,Ge)}f1&&(f1=!1,xO(u));break;case 4:_=Xi,Xi=Cg(u.stateNode.containerInfo),Mr(f,u),Or(u),Xi=_;break;case 12:Mr(f,u),Or(u);break;case 31:Mr(f,u),Or(u),_&4&&(_=u.updateQueue,_!==null&&(u.updateQueue=null,pg(u,_)));break;case 13:Mr(f,u),Or(u),u.child.flags&8192&&u.memoizedState!==null!=(m!==null&&m.memoizedState!==null)&&(mg=le()),_&4&&(_=u.updateQueue,_!==null&&(u.updateQueue=null,pg(u,_)));break;case 22:C=u.memoizedState!==null;var he=m!==null&&m.memoizedState!==null,_e=Qs,Me=Rn;if(Qs=_e||C,Rn=Me||he,Mr(f,u),Rn=Me,Qs=_e,Or(u),_&8192)e:for(f=u.stateNode,f._visibility=C?f._visibility&-2:f._visibility|1,C&&(m===null||he||Qs||Rn||nl(u)),m=null,f=u;;){if(f.tag===5||f.tag===26){if(m===null){he=m=f;try{if(U=he.stateNode,C)X=U.style,typeof X.setProperty=="function"?X.setProperty("display","none","important"):X.display="none";else{ne=he.stateNode;var Ne=he.memoizedProps.style,Ae=Ne!=null&&Ne.hasOwnProperty("display")?Ne.display:null;ne.style.display=Ae==null||typeof Ae=="boolean"?"":(""+Ae).trim()}}catch(Ge){Vt(he,he.return,Ge)}}}else if(f.tag===6){if(m===null){he=f;try{he.stateNode.nodeValue=C?"":he.memoizedProps}catch(Ge){Vt(he,he.return,Ge)}}}else if(f.tag===18){if(m===null){he=f;try{var ke=he.stateNode;C?cN(ke,!0):cN(he.stateNode,!1)}catch(Ge){Vt(he,he.return,Ge)}}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===u)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===u)break e;for(;f.sibling===null;){if(f.return===null||f.return===u)break e;m===f&&(m=null),f=f.return}m===f&&(m=null),f.sibling.return=f.return,f=f.sibling}_&4&&(_=u.updateQueue,_!==null&&(m=_.retryQueue,m!==null&&(_.retryQueue=null,pg(u,m))));break;case 19:Mr(f,u),Or(u),_&4&&(_=u.updateQueue,_!==null&&(u.updateQueue=null,pg(u,_)));break;case 30:break;case 21:break;default:Mr(f,u),Or(u)}}function Or(u){var f=u.flags;if(f&2){try{for(var m,_=u.return;_!==null;){if(dO(_)){m=_;break}_=_.return}if(m==null)throw Error(r(160));switch(m.tag){case 27:var C=m.stateNode,U=d1(u);fg(u,U,C);break;case 5:var X=m.stateNode;m.flags&32&&(lc(X,""),m.flags&=-33);var ne=d1(u);fg(u,ne,X);break;case 3:case 4:var he=m.stateNode.containerInfo,_e=d1(u);h1(u,_e,he);break;default:throw Error(r(161))}}catch(Me){Vt(u,u.return,Me)}u.flags&=-3}f&4096&&(u.flags&=-4097)}function xO(u){if(u.subtreeFlags&1024)for(u=u.child;u!==null;){var f=u;xO(f),f.tag===5&&f.flags&1024&&f.stateNode.reset(),u=u.sibling}}function ta(u,f){if(f.subtreeFlags&8772)for(f=f.child;f!==null;)pO(u,f.alternate,f),f=f.sibling}function nl(u){for(u=u.child;u!==null;){var f=u;switch(f.tag){case 0:case 11:case 14:case 15:qa(4,f,f.return),nl(f);break;case 1:ms(f,f.return);var m=f.stateNode;typeof m.componentWillUnmount=="function"&&cO(f,f.return,m),nl(f);break;case 27:Qd(f.stateNode);case 26:case 5:ms(f,f.return),nl(f);break;case 22:f.memoizedState===null&&nl(f);break;case 30:nl(f);break;default:nl(f)}u=u.sibling}}function na(u,f,m){for(m=m&&(f.subtreeFlags&8772)!==0,f=f.child;f!==null;){var _=f.alternate,C=u,U=f,X=U.flags;switch(U.tag){case 0:case 11:case 15:na(C,U,m),Wd(4,U);break;case 1:if(na(C,U,m),_=U,C=_.stateNode,typeof C.componentDidMount=="function")try{C.componentDidMount()}catch(_e){Vt(_,_.return,_e)}if(_=U,C=_.updateQueue,C!==null){var ne=_.stateNode;try{var he=C.shared.hiddenCallbacks;if(he!==null)for(C.shared.hiddenCallbacks=null,C=0;C<he.length;C++)ZU(he[C],ne)}catch(_e){Vt(_,_.return,_e)}}m&&X&64&&lO(U),Vd(U,U.return);break;case 27:hO(U);case 26:case 5:na(C,U,m),m&&_===null&&X&4&&uO(U),Vd(U,U.return);break;case 12:na(C,U,m);break;case 31:na(C,U,m),m&&X&4&&yO(C,U);break;case 13:na(C,U,m),m&&X&4&&bO(C,U);break;case 22:U.memoizedState===null&&na(C,U,m),Vd(U,U.return);break;case 30:break;default:na(C,U,m)}f=f.sibling}}function p1(u,f){var m=null;u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),u=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(u=f.memoizedState.cachePool.pool),u!==m&&(u!=null&&u.refCount++,m!=null&&Rd(m))}function g1(u,f){u=null,f.alternate!==null&&(u=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==u&&(f.refCount++,u!=null&&Rd(u))}function Ki(u,f,m,_){if(f.subtreeFlags&10256)for(f=f.child;f!==null;)wO(u,f,m,_),f=f.sibling}function wO(u,f,m,_){var C=f.flags;switch(f.tag){case 0:case 11:case 15:Ki(u,f,m,_),C&2048&&Wd(9,f);break;case 1:Ki(u,f,m,_);break;case 3:Ki(u,f,m,_),C&2048&&(u=null,f.alternate!==null&&(u=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==u&&(f.refCount++,u!=null&&Rd(u)));break;case 12:if(C&2048){Ki(u,f,m,_),u=f.stateNode;try{var U=f.memoizedProps,X=U.id,ne=U.onPostCommit;typeof ne=="function"&&ne(X,f.alternate===null?"mount":"update",u.passiveEffectDuration,-0)}catch(he){Vt(f,f.return,he)}}else Ki(u,f,m,_);break;case 31:Ki(u,f,m,_);break;case 13:Ki(u,f,m,_);break;case 23:break;case 22:U=f.stateNode,X=f.alternate,f.memoizedState!==null?U._visibility&2?Ki(u,f,m,_):Hd(u,f):U._visibility&2?Ki(u,f,m,_):(U._visibility|=2,Cc(u,f,m,_,(f.subtreeFlags&10256)!==0||!1)),C&2048&&p1(X,f);break;case 24:Ki(u,f,m,_),C&2048&&g1(f.alternate,f);break;default:Ki(u,f,m,_)}}function Cc(u,f,m,_,C){for(C=C&&((f.subtreeFlags&10256)!==0||!1),f=f.child;f!==null;){var U=u,X=f,ne=m,he=_,_e=X.flags;switch(X.tag){case 0:case 11:case 15:Cc(U,X,ne,he,C),Wd(8,X);break;case 23:break;case 22:var Me=X.stateNode;X.memoizedState!==null?Me._visibility&2?Cc(U,X,ne,he,C):Hd(U,X):(Me._visibility|=2,Cc(U,X,ne,he,C)),C&&_e&2048&&p1(X.alternate,X);break;case 24:Cc(U,X,ne,he,C),C&&_e&2048&&g1(X.alternate,X);break;default:Cc(U,X,ne,he,C)}f=f.sibling}}function Hd(u,f){if(f.subtreeFlags&10256)for(f=f.child;f!==null;){var m=u,_=f,C=_.flags;switch(_.tag){case 22:Hd(m,_),C&2048&&p1(_.alternate,_);break;case 24:Hd(m,_),C&2048&&g1(_.alternate,_);break;default:Hd(m,_)}f=f.sibling}}var $d=8192;function kc(u,f,m){if(u.subtreeFlags&$d)for(u=u.child;u!==null;)_O(u,f,m),u=u.sibling}function _O(u,f,m){switch(u.tag){case 26:kc(u,f,m),u.flags&$d&&u.memoizedState!==null&&XQ(m,Xi,u.memoizedState,u.memoizedProps);break;case 5:kc(u,f,m);break;case 3:case 4:var _=Xi;Xi=Cg(u.stateNode.containerInfo),kc(u,f,m),Xi=_;break;case 22:u.memoizedState===null&&(_=u.alternate,_!==null&&_.memoizedState!==null?(_=$d,$d=16777216,kc(u,f,m),$d=_):kc(u,f,m));break;default:kc(u,f,m)}}function DO(u){var f=u.alternate;if(f!==null&&(u=f.child,u!==null)){f.child=null;do f=u.sibling,u.sibling=null,u=f;while(u!==null)}}function Gd(u){var f=u.deletions;if((u.flags&16)!==0){if(f!==null)for(var m=0;m<f.length;m++){var _=f[m];Gn=_,SO(_,u)}DO(u)}if(u.subtreeFlags&10256)for(u=u.child;u!==null;)EO(u),u=u.sibling}function EO(u){switch(u.tag){case 0:case 11:case 15:Gd(u),u.flags&2048&&qa(9,u,u.return);break;case 3:Gd(u);break;case 12:Gd(u);break;case 22:var f=u.stateNode;u.memoizedState!==null&&f._visibility&2&&(u.return===null||u.return.tag!==13)?(f._visibility&=-3,gg(u)):Gd(u);break;default:Gd(u)}}function gg(u){var f=u.deletions;if((u.flags&16)!==0){if(f!==null)for(var m=0;m<f.length;m++){var _=f[m];Gn=_,SO(_,u)}DO(u)}for(u=u.child;u!==null;){switch(f=u,f.tag){case 0:case 11:case 15:qa(8,f,f.return),gg(f);break;case 22:m=f.stateNode,m._visibility&2&&(m._visibility&=-3,gg(f));break;default:gg(f)}u=u.sibling}}function SO(u,f){for(;Gn!==null;){var m=Gn;switch(m.tag){case 0:case 11:case 15:qa(8,m,f);break;case 23:case 22:if(m.memoizedState!==null&&m.memoizedState.cachePool!==null){var _=m.memoizedState.cachePool.pool;_!=null&&_.refCount++}break;case 24:Rd(m.memoizedState.cache)}if(_=m.child,_!==null)_.return=m,Gn=_;else e:for(m=u;Gn!==null;){_=Gn;var C=_.sibling,U=_.return;if(gO(_),_===m){Gn=null;break e}if(C!==null){C.return=U,Gn=C;break e}Gn=U}}}var cQ={getCacheForType:function(u){var f=Qn(Tn),m=f.data.get(u);return m===void 0&&(m=u(),f.data.set(u,m)),m},cacheSignal:function(){return Qn(Tn).controller.signal}},uQ=typeof WeakMap=="function"?WeakMap:Map,Pt=0,Yt=null,wt=null,Tt=0,Wt=0,ni=null,Wa=!1,Rc=!1,m1=!1,ra=0,mn=0,Va=0,rl=0,y1=0,ri=0,Uc=0,Xd=null,Nr=null,b1=!1,mg=0,AO=0,yg=1/0,bg=null,Ha=null,Ln=0,$a=null,Mc=null,ia=0,v1=0,x1=null,TO=null,Kd=0,w1=null;function ii(){return(Pt&2)!==0&&Tt!==0?Tt&-Tt:N.T!==null?T1():mr()}function CO(){if(ri===0)if((Tt&536870912)===0||kt){var u=Pn;Pn<<=1,(Pn&3932160)===0&&(Pn=262144),ri=u}else ri=536870912;return u=ei.current,u!==null&&(u.flags|=32),ri}function Fr(u,f,m){(u===Yt&&(Wt===2||Wt===9)||u.cancelPendingCommit!==null)&&(Oc(u,0),Ga(u,Tt,ri,!1)),pn(u,m),((Pt&2)===0||u!==Yt)&&(u===Yt&&((Pt&2)===0&&(rl|=m),mn===4&&Ga(u,Tt,ri,!1)),ys(u))}function kO(u,f,m){if((Pt&6)!==0)throw Error(r(327));var _=!m&&(f&127)===0&&(f&u.expiredLanes)===0||Ee(u,f),C=_?fQ(u,f):D1(u,f,!0),U=_;do{if(C===0){Rc&&!_&&Ga(u,f,0,!1);break}else{if(m=u.current.alternate,U&&!dQ(m)){C=D1(u,f,!1),U=!1;continue}if(C===2){if(U=f,u.errorRecoveryDisabledLanes&U)var X=0;else X=u.pendingLanes&-536870913,X=X!==0?X:X&536870912?536870912:0;if(X!==0){f=X;e:{var ne=u;C=Xd;var he=ne.current.memoizedState.isDehydrated;if(he&&(Oc(ne,X).flags|=256),X=D1(ne,X,!1),X!==2){if(m1&&!he){ne.errorRecoveryDisabledLanes|=U,rl|=U,C=4;break e}U=Nr,Nr=C,U!==null&&(Nr===null?Nr=U:Nr.push.apply(Nr,U))}C=X}if(U=!1,C!==2)continue}}if(C===1){Oc(u,0),Ga(u,f,0,!0);break}e:{switch(_=u,U=C,U){case 0:case 1:throw Error(r(345));case 4:if((f&4194048)!==f)break;case 6:Ga(_,f,ri,!Wa);break e;case 2:Nr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((f&62914560)===f&&(C=mg+300-le(),10<C)){if(Ga(_,f,ri,!Wa),de(_,0,!0)!==0)break e;ia=f,_.timeoutHandle=aN(RO.bind(null,_,m,Nr,bg,b1,f,ri,rl,Uc,Wa,U,"Throttled",-0,0),C);break e}RO(_,m,Nr,bg,b1,f,ri,rl,Uc,Wa,U,null,-0,0)}}break}while(!0);ys(u)}function RO(u,f,m,_,C,U,X,ne,he,_e,Me,Ne,Ae,ke){if(u.timeoutHandle=-1,Ne=f.subtreeFlags,Ne&8192||(Ne&16785408)===16785408){Ne={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ws},_O(f,U,Ne);var Ge=(U&62914560)===U?mg-le():(U&4194048)===U?AO-le():0;if(Ge=KQ(Ne,Ge),Ge!==null){ia=U,u.cancelPendingCommit=Ge(LO.bind(null,u,f,U,m,_,C,X,ne,he,Me,Ne,null,Ae,ke)),Ga(u,U,X,!_e);return}}LO(u,f,U,m,_,C,X,ne,he)}function dQ(u){for(var f=u;;){var m=f.tag;if((m===0||m===11||m===15)&&f.flags&16384&&(m=f.updateQueue,m!==null&&(m=m.stores,m!==null)))for(var _=0;_<m.length;_++){var C=m[_],U=C.getSnapshot;C=C.value;try{if(!Jr(U(),C))return!1}catch{return!1}}if(m=f.child,f.subtreeFlags&16384&&m!==null)m.return=f,f=m;else{if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function Ga(u,f,m,_){f&=~y1,f&=~rl,u.suspendedLanes|=f,u.pingedLanes&=~f,_&&(u.warmLanes|=f),_=u.expirationTimes;for(var C=f;0<C;){var U=31-Ie(C),X=1<<U;_[U]=-1,C&=~X}m!==0&&Kr(u,m,f)}function vg(){return(Pt&6)===0?(Yd(0),!1):!0}function _1(){if(wt!==null){if(Wt===0)var u=wt.return;else u=wt,Gs=Xo=null,L0(u),Dc=null,Md=0,u=wt;for(;u!==null;)oO(u.alternate,u),u=u.return;wt=null}}function Oc(u,f){var m=u.timeoutHandle;m!==-1&&(u.timeoutHandle=-1,UQ(m)),m=u.cancelPendingCommit,m!==null&&(u.cancelPendingCommit=null,m()),ia=0,_1(),Yt=u,wt=m=Hs(u.current,null),Tt=f,Wt=0,ni=null,Wa=!1,Rc=Ee(u,f),m1=!1,Uc=ri=y1=rl=Va=mn=0,Nr=Xd=null,b1=!1,(f&8)!==0&&(f|=f&32);var _=u.entangledLanes;if(_!==0)for(u=u.entanglements,_&=f;0<_;){var C=31-Ie(_),U=1<<C;f|=u[C],_&=~U}return ra=f,jp(),m}function UO(u,f){mt=null,N.H=jd,f===_c||f===Xp?(f=GU(),Wt=3):f===A0?(f=GU(),Wt=4):Wt=f===e1?8:f!==null&&typeof f=="object"&&typeof f.then=="function"?6:1,ni=f,wt===null&&(mn=1,lg(u,_i(f,u.current)))}function MO(){var u=ei.current;return u===null?!0:(Tt&4194048)===Tt?Ai===null:(Tt&62914560)===Tt||(Tt&536870912)!==0?u===Ai:!1}function OO(){var u=N.H;return N.H=jd,u===null?jd:u}function NO(){var u=N.A;return N.A=cQ,u}function xg(){mn=4,Wa||(Tt&4194048)!==Tt&&ei.current!==null||(Rc=!0),(Va&134217727)===0&&(rl&134217727)===0||Yt===null||Ga(Yt,Tt,ri,!1)}function D1(u,f,m){var _=Pt;Pt|=2;var C=OO(),U=NO();(Yt!==u||Tt!==f)&&(bg=null,Oc(u,f)),f=!1;var X=mn;e:do try{if(Wt!==0&&wt!==null){var ne=wt,he=ni;switch(Wt){case 8:_1(),X=6;break e;case 3:case 2:case 9:case 6:ei.current===null&&(f=!0);var _e=Wt;if(Wt=0,ni=null,Nc(u,ne,he,_e),m&&Rc){X=0;break e}break;default:_e=Wt,Wt=0,ni=null,Nc(u,ne,he,_e)}}hQ(),X=mn;break}catch(Me){UO(u,Me)}while(!0);return f&&u.shellSuspendCounter++,Gs=Xo=null,Pt=_,N.H=C,N.A=U,wt===null&&(Yt=null,Tt=0,jp()),X}function hQ(){for(;wt!==null;)FO(wt)}function fQ(u,f){var m=Pt;Pt|=2;var _=OO(),C=NO();Yt!==u||Tt!==f?(bg=null,yg=le()+500,Oc(u,f)):Rc=Ee(u,f);e:do try{if(Wt!==0&&wt!==null){f=wt;var U=ni;t:switch(Wt){case 1:Wt=0,ni=null,Nc(u,f,U,1);break;case 2:case 9:if(HU(U)){Wt=0,ni=null,IO(f);break}f=function(){Wt!==2&&Wt!==9||Yt!==u||(Wt=7),ys(u)},U.then(f,f);break e;case 3:Wt=7;break e;case 4:Wt=5;break e;case 7:HU(U)?(Wt=0,ni=null,IO(f)):(Wt=0,ni=null,Nc(u,f,U,7));break;case 5:var X=null;switch(wt.tag){case 26:X=wt.memoizedState;case 5:case 27:var ne=wt;if(X?wN(X):ne.stateNode.complete){Wt=0,ni=null;var he=ne.sibling;if(he!==null)wt=he;else{var _e=ne.return;_e!==null?(wt=_e,wg(_e)):wt=null}break t}}Wt=0,ni=null,Nc(u,f,U,5);break;case 6:Wt=0,ni=null,Nc(u,f,U,6);break;case 8:_1(),mn=6;break e;default:throw Error(r(462))}}pQ();break}catch(Me){UO(u,Me)}while(!0);return Gs=Xo=null,N.H=_,N.A=C,Pt=m,wt!==null?0:(Yt=null,Tt=0,jp(),mn)}function pQ(){for(;wt!==null&&!fe();)FO(wt)}function FO(u){var f=sO(u.alternate,u,ra);u.memoizedProps=u.pendingProps,f===null?wg(u):wt=f}function IO(u){var f=u,m=f.alternate;switch(f.tag){case 15:case 0:f=QM(m,f,f.pendingProps,f.type,void 0,Tt);break;case 11:f=QM(m,f,f.pendingProps,f.type.render,f.ref,Tt);break;case 5:L0(f);default:oO(m,f),f=wt=NU(f,ra),f=sO(m,f,ra)}u.memoizedProps=u.pendingProps,f===null?wg(u):wt=f}function Nc(u,f,m,_){Gs=Xo=null,L0(f),Dc=null,Md=0;var C=f.return;try{if(nQ(u,C,f,m,Tt)){mn=1,lg(u,_i(m,u.current)),wt=null;return}}catch(U){if(C!==null)throw wt=C,U;mn=1,lg(u,_i(m,u.current)),wt=null;return}f.flags&32768?(kt||_===1?u=!0:Rc||(Tt&536870912)!==0?u=!1:(Wa=u=!0,(_===2||_===9||_===3||_===6)&&(_=ei.current,_!==null&&_.tag===13&&(_.flags|=16384))),PO(f,u)):wg(f)}function wg(u){var f=u;do{if((f.flags&32768)!==0){PO(f,Wa);return}u=f.return;var m=sQ(f.alternate,f,ra);if(m!==null){wt=m;return}if(f=f.sibling,f!==null){wt=f;return}wt=f=u}while(f!==null);mn===0&&(mn=5)}function PO(u,f){do{var m=aQ(u.alternate,u);if(m!==null){m.flags&=32767,wt=m;return}if(m=u.return,m!==null&&(m.flags|=32768,m.subtreeFlags=0,m.deletions=null),!f&&(u=u.sibling,u!==null)){wt=u;return}wt=u=m}while(u!==null);mn=6,wt=null}function LO(u,f,m,_,C,U,X,ne,he){u.cancelPendingCommit=null;do _g();while(Ln!==0);if((Pt&6)!==0)throw Error(r(327));if(f!==null){if(f===u.current)throw Error(r(177));if(U=f.lanes|f.childLanes,U|=d0,gr(u,m,U,X,ne,he),u===Yt&&(wt=Yt=null,Tt=0),Mc=f,$a=u,ia=m,v1=U,x1=C,TO=_,(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?(u.callbackNode=null,u.callbackPriority=0,bQ(Ue,function(){return WO(),null})):(u.callbackNode=null,u.callbackPriority=0),_=(f.flags&13878)!==0,(f.subtreeFlags&13878)!==0||_){_=N.T,N.T=null,C=B.p,B.p=2,X=Pt,Pt|=4;try{oQ(u,f,m)}finally{Pt=X,B.p=C,N.T=_}}Ln=1,BO(),jO(),zO()}}function BO(){if(Ln===1){Ln=0;var u=$a,f=Mc,m=(f.flags&13878)!==0;if((f.subtreeFlags&13878)!==0||m){m=N.T,N.T=null;var _=B.p;B.p=2;var C=Pt;Pt|=4;try{vO(f,u);var U=F1,X=SU(u.containerInfo),ne=U.focusedElem,he=U.selectionRange;if(X!==ne&&ne&&ne.ownerDocument&&EU(ne.ownerDocument.documentElement,ne)){if(he!==null&&a0(ne)){var _e=he.start,Me=he.end;if(Me===void 0&&(Me=_e),"selectionStart"in ne)ne.selectionStart=_e,ne.selectionEnd=Math.min(Me,ne.value.length);else{var Ne=ne.ownerDocument||document,Ae=Ne&&Ne.defaultView||window;if(Ae.getSelection){var ke=Ae.getSelection(),Ge=ne.textContent.length,lt=Math.min(he.start,Ge),Gt=he.end===void 0?lt:Math.min(he.end,Ge);!ke.extend&&lt>Gt&&(X=Gt,Gt=lt,lt=X);var be=DU(ne,lt),ge=DU(ne,Gt);if(be&&ge&&(ke.rangeCount!==1||ke.anchorNode!==be.node||ke.anchorOffset!==be.offset||ke.focusNode!==ge.node||ke.focusOffset!==ge.offset)){var we=Ne.createRange();we.setStart(be.node,be.offset),ke.removeAllRanges(),lt>Gt?(ke.addRange(we),ke.extend(ge.node,ge.offset)):(we.setEnd(ge.node,ge.offset),ke.addRange(we))}}}}for(Ne=[],ke=ne;ke=ke.parentNode;)ke.nodeType===1&&Ne.push({element:ke,left:ke.scrollLeft,top:ke.scrollTop});for(typeof ne.focus=="function"&&ne.focus(),ne=0;ne<Ne.length;ne++){var Oe=Ne[ne];Oe.element.scrollLeft=Oe.left,Oe.element.scrollTop=Oe.top}}Ng=!!N1,F1=N1=null}finally{Pt=C,B.p=_,N.T=m}}u.current=f,Ln=2}}function jO(){if(Ln===2){Ln=0;var u=$a,f=Mc,m=(f.flags&8772)!==0;if((f.subtreeFlags&8772)!==0||m){m=N.T,N.T=null;var _=B.p;B.p=2;var C=Pt;Pt|=4;try{pO(u,f.alternate,f)}finally{Pt=C,B.p=_,N.T=m}}Ln=3}}function zO(){if(Ln===4||Ln===3){Ln=0,ie();var u=$a,f=Mc,m=ia,_=TO;(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?Ln=5:(Ln=0,Mc=$a=null,qO(u,u.pendingLanes));var C=u.pendingLanes;if(C===0&&(Ha=null),Zr(m),f=f.stateNode,Te&&typeof Te.onCommitFiberRoot=="function")try{Te.onCommitFiberRoot(pe,f,void 0,(f.current.flags&128)===128)}catch{}if(_!==null){f=N.T,C=B.p,B.p=2,N.T=null;try{for(var U=u.onRecoverableError,X=0;X<_.length;X++){var ne=_[X];U(ne.value,{componentStack:ne.stack})}}finally{N.T=f,B.p=C}}(ia&3)!==0&&_g(),ys(u),C=u.pendingLanes,(m&261930)!==0&&(C&42)!==0?u===w1?Kd++:(Kd=0,w1=u):Kd=0,Yd(0)}}function qO(u,f){(u.pooledCacheLanes&=f)===0&&(f=u.pooledCache,f!=null&&(u.pooledCache=null,Rd(f)))}function _g(){return BO(),jO(),zO(),WO()}function WO(){if(Ln!==5)return!1;var u=$a,f=v1;v1=0;var m=Zr(ia),_=N.T,C=B.p;try{B.p=32>m?32:m,N.T=null,m=x1,x1=null;var U=$a,X=ia;if(Ln=0,Mc=$a=null,ia=0,(Pt&6)!==0)throw Error(r(331));var ne=Pt;if(Pt|=4,EO(U.current),wO(U,U.current,X,m),Pt=ne,Yd(0,!1),Te&&typeof Te.onPostCommitFiberRoot=="function")try{Te.onPostCommitFiberRoot(pe,U)}catch{}return!0}finally{B.p=C,N.T=_,qO(u,f)}}function VO(u,f,m){f=_i(m,f),f=Q0(u.stateNode,f,2),u=Ba(u,f,2),u!==null&&(pn(u,2),ys(u))}function Vt(u,f,m){if(u.tag===3)VO(u,u,m);else for(;f!==null;){if(f.tag===3){VO(f,u,m);break}else if(f.tag===1){var _=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof _.componentDidCatch=="function"&&(Ha===null||!Ha.has(_))){u=_i(m,u),m=HM(2),_=Ba(f,m,2),_!==null&&($M(m,_,f,u),pn(_,2),ys(_));break}}f=f.return}}function E1(u,f,m){var _=u.pingCache;if(_===null){_=u.pingCache=new uQ;var C=new Set;_.set(f,C)}else C=_.get(f),C===void 0&&(C=new Set,_.set(f,C));C.has(m)||(m1=!0,C.add(m),u=gQ.bind(null,u,f,m),f.then(u,u))}function gQ(u,f,m){var _=u.pingCache;_!==null&&_.delete(f),u.pingedLanes|=u.suspendedLanes&m,u.warmLanes&=~m,Yt===u&&(Tt&m)===m&&(mn===4||mn===3&&(Tt&62914560)===Tt&&300>le()-mg?(Pt&2)===0&&Oc(u,0):y1|=m,Uc===Tt&&(Uc=0)),ys(u)}function HO(u,f){f===0&&(f=at()),u=Ho(u,f),u!==null&&(pn(u,f),ys(u))}function mQ(u){var f=u.memoizedState,m=0;f!==null&&(m=f.retryLane),HO(u,m)}function yQ(u,f){var m=0;switch(u.tag){case 31:case 13:var _=u.stateNode,C=u.memoizedState;C!==null&&(m=C.retryLane);break;case 19:_=u.stateNode;break;case 22:_=u.stateNode._retryCache;break;default:throw Error(r(314))}_!==null&&_.delete(f),HO(u,m)}function bQ(u,f){return De(u,f)}var Dg=null,Fc=null,S1=!1,Eg=!1,A1=!1,Xa=0;function ys(u){u!==Fc&&u.next===null&&(Fc===null?Dg=Fc=u:Fc=Fc.next=u),Eg=!0,S1||(S1=!0,xQ())}function Yd(u,f){if(!A1&&Eg){A1=!0;do for(var m=!1,_=Dg;_!==null;){if(u!==0){var C=_.pendingLanes;if(C===0)var U=0;else{var X=_.suspendedLanes,ne=_.pingedLanes;U=(1<<31-Ie(42|u)+1)-1,U&=C&~(X&~ne),U=U&201326741?U&201326741|1:U?U|2:0}U!==0&&(m=!0,KO(_,U))}else U=Tt,U=de(_,_===Yt?U:0,_.cancelPendingCommit!==null||_.timeoutHandle!==-1),(U&3)===0||Ee(_,U)||(m=!0,KO(_,U));_=_.next}while(m);A1=!1}}function vQ(){$O()}function $O(){Eg=S1=!1;var u=0;Xa!==0&&RQ()&&(u=Xa);for(var f=le(),m=null,_=Dg;_!==null;){var C=_.next,U=GO(_,f);U===0?(_.next=null,m===null?Dg=C:m.next=C,C===null&&(Fc=m)):(m=_,(u!==0||(U&3)!==0)&&(Eg=!0)),_=C}Ln!==0&&Ln!==5||Yd(u),Xa!==0&&(Xa=0)}function GO(u,f){for(var m=u.suspendedLanes,_=u.pingedLanes,C=u.expirationTimes,U=u.pendingLanes&-62914561;0<U;){var X=31-Ie(U),ne=1<<X,he=C[X];he===-1?((ne&m)===0||(ne&_)!==0)&&(C[X]=ze(ne,f)):he<=f&&(u.expiredLanes|=ne),U&=~ne}if(f=Yt,m=Tt,m=de(u,u===f?m:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),_=u.callbackNode,m===0||u===f&&(Wt===2||Wt===9)||u.cancelPendingCommit!==null)return _!==null&&_!==null&&Se(_),u.callbackNode=null,u.callbackPriority=0;if((m&3)===0||Ee(u,m)){if(f=m&-m,f===u.callbackPriority)return f;switch(_!==null&&Se(_),Zr(m)){case 2:case 8:m=ve;break;case 32:m=Ue;break;case 268435456:m=Pe;break;default:m=Ue}return _=XO.bind(null,u),m=De(m,_),u.callbackPriority=f,u.callbackNode=m,f}return _!==null&&_!==null&&Se(_),u.callbackPriority=2,u.callbackNode=null,2}function XO(u,f){if(Ln!==0&&Ln!==5)return u.callbackNode=null,u.callbackPriority=0,null;var m=u.callbackNode;if(_g()&&u.callbackNode!==m)return null;var _=Tt;return _=de(u,u===Yt?_:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),_===0?null:(kO(u,_,f),GO(u,le()),u.callbackNode!=null&&u.callbackNode===m?XO.bind(null,u):null)}function KO(u,f){if(_g())return null;kO(u,f,!0)}function xQ(){MQ(function(){(Pt&6)!==0?De(ae,vQ):$O()})}function T1(){if(Xa===0){var u=xc;u===0&&(u=Kt,Kt<<=1,(Kt&261888)===0&&(Kt=256)),Xa=u}return Xa}function YO(u){return u==null||typeof u=="symbol"||typeof u=="boolean"?null:typeof u=="function"?u:Mp(""+u)}function ZO(u,f){var m=f.ownerDocument.createElement("input");return m.name=f.name,m.value=f.value,u.id&&m.setAttribute("form",u.id),f.parentNode.insertBefore(m,f),u=new FormData(u),m.parentNode.removeChild(m),u}function wQ(u,f,m,_,C){if(f==="submit"&&m&&m.stateNode===C){var U=YO((C[Sn]||null).action),X=_.submitter;X&&(f=(f=X[Sn]||null)?YO(f.formAction):X.getAttribute("formAction"),f!==null&&(U=f,X=null));var ne=new Ip("action","action",null,_,C);u.push({event:ne,listeners:[{instance:null,listener:function(){if(_.defaultPrevented){if(Xa!==0){var he=X?ZO(C,X):new FormData(C);G0(m,{pending:!0,data:he,method:C.method,action:U},null,he)}}else typeof U=="function"&&(ne.preventDefault(),he=X?ZO(C,X):new FormData(C),G0(m,{pending:!0,data:he,method:C.method,action:U},U,he))},currentTarget:C}]})}}for(var C1=0;C1<u0.length;C1++){var k1=u0[C1],_Q=k1.toLowerCase(),DQ=k1[0].toUpperCase()+k1.slice(1);Gi(_Q,"on"+DQ)}Gi(CU,"onAnimationEnd"),Gi(kU,"onAnimationIteration"),Gi(RU,"onAnimationStart"),Gi("dblclick","onDoubleClick"),Gi("focusin","onFocus"),Gi("focusout","onBlur"),Gi(BJ,"onTransitionRun"),Gi(jJ,"onTransitionStart"),Gi(zJ,"onTransitionCancel"),Gi(UU,"onTransitionEnd"),zs("onMouseEnter",["mouseout","mouseover"]),zs("onMouseLeave",["mouseout","mouseover"]),zs("onPointerEnter",["pointerout","pointerover"]),zs("onPointerLeave",["pointerout","pointerover"]),js("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),js("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),js("onBeforeInput",["compositionend","keypress","textInput","paste"]),js("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),js("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),js("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),EQ=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zd));function JO(u,f){f=(f&4)!==0;for(var m=0;m<u.length;m++){var _=u[m],C=_.event;_=_.listeners;e:{var U=void 0;if(f)for(var X=_.length-1;0<=X;X--){var ne=_[X],he=ne.instance,_e=ne.currentTarget;if(ne=ne.listener,he!==U&&C.isPropagationStopped())break e;U=ne,C.currentTarget=_e;try{U(C)}catch(Me){Bp(Me)}C.currentTarget=null,U=he}else for(X=0;X<_.length;X++){if(ne=_[X],he=ne.instance,_e=ne.currentTarget,ne=ne.listener,he!==U&&C.isPropagationStopped())break e;U=ne,C.currentTarget=_e;try{U(C)}catch(Me){Bp(Me)}C.currentTarget=null,U=he}}}}function _t(u,f){var m=f[ka];m===void 0&&(m=f[ka]=new Set);var _=u+"__bubble";m.has(_)||(QO(f,u,2,!1),m.add(_))}function R1(u,f,m){var _=0;f&&(_|=4),QO(m,u,_,f)}var Sg="_reactListening"+Math.random().toString(36).slice(2);function U1(u){if(!u[Sg]){u[Sg]=!0,Sp.forEach(function(m){m!=="selectionchange"&&(EQ.has(m)||R1(m,!1,u),R1(m,!0,u))});var f=u.nodeType===9?u:u.ownerDocument;f===null||f[Sg]||(f[Sg]=!0,R1("selectionchange",!1,f))}}function QO(u,f,m,_){switch(CN(f)){case 2:var C=JQ;break;case 8:C=QQ;break;default:C=$1}m=C.bind(null,f,m,u),C=void 0,!Zv||f!=="touchstart"&&f!=="touchmove"&&f!=="wheel"||(C=!0),_?C!==void 0?u.addEventListener(f,m,{capture:!0,passive:C}):u.addEventListener(f,m,!0):C!==void 0?u.addEventListener(f,m,{passive:C}):u.addEventListener(f,m,!1)}function M1(u,f,m,_,C){var U=_;if((f&1)===0&&(f&2)===0&&_!==null)e:for(;;){if(_===null)return;var X=_.tag;if(X===3||X===4){var ne=_.stateNode.containerInfo;if(ne===C)break;if(X===4)for(X=_.return;X!==null;){var he=X.tag;if((he===3||he===4)&&X.stateNode.containerInfo===C)return;X=X.return}for(;ne!==null;){if(X=Ra(ne),X===null)return;if(he=X.tag,he===5||he===6||he===26||he===27){_=U=X;continue e}ne=ne.parentNode}}_=_.return}iU(function(){var _e=U,Me=Kv(m),Ne=[];e:{var Ae=MU.get(u);if(Ae!==void 0){var ke=Ip,Ge=u;switch(u){case"keypress":if(Np(m)===0)break e;case"keydown":case"keyup":ke=yJ;break;case"focusin":Ge="focus",ke=t0;break;case"focusout":Ge="blur",ke=t0;break;case"beforeblur":case"afterblur":ke=t0;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ke=oU;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ke=sJ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ke=xJ;break;case CU:case kU:case RU:ke=lJ;break;case UU:ke=_J;break;case"scroll":case"scrollend":ke=rJ;break;case"wheel":ke=EJ;break;case"copy":case"cut":case"paste":ke=uJ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ke=cU;break;case"toggle":case"beforetoggle":ke=AJ}var lt=(f&4)!==0,Gt=!lt&&(u==="scroll"||u==="scrollend"),be=lt?Ae!==null?Ae+"Capture":null:Ae;lt=[];for(var ge=_e,we;ge!==null;){var Oe=ge;if(we=Oe.stateNode,Oe=Oe.tag,Oe!==5&&Oe!==26&&Oe!==27||we===null||be===null||(Oe=vd(ge,be),Oe!=null&&lt.push(Jd(ge,Oe,we))),Gt)break;ge=ge.return}0<lt.length&&(Ae=new ke(Ae,Ge,null,m,Me),Ne.push({event:Ae,listeners:lt}))}}if((f&7)===0){e:{if(Ae=u==="mouseover"||u==="pointerover",ke=u==="mouseout"||u==="pointerout",Ae&&m!==Xv&&(Ge=m.relatedTarget||m.fromElement)&&(Ra(Ge)||Ge[yr]))break e;if((ke||Ae)&&(Ae=Me.window===Me?Me:(Ae=Me.ownerDocument)?Ae.defaultView||Ae.parentWindow:window,ke?(Ge=m.relatedTarget||m.toElement,ke=_e,Ge=Ge?Ra(Ge):null,Ge!==null&&(Gt=s(Ge),lt=Ge.tag,Ge!==Gt||lt!==5&&lt!==27&&lt!==6)&&(Ge=null)):(ke=null,Ge=_e),ke!==Ge)){if(lt=oU,Oe="onMouseLeave",be="onMouseEnter",ge="mouse",(u==="pointerout"||u==="pointerover")&&(lt=cU,Oe="onPointerLeave",be="onPointerEnter",ge="pointer"),Gt=ke==null?Ae:zo(ke),we=Ge==null?Ae:zo(Ge),Ae=new lt(Oe,ge+"leave",ke,m,Me),Ae.target=Gt,Ae.relatedTarget=we,Oe=null,Ra(Me)===_e&&(lt=new lt(be,ge+"enter",Ge,m,Me),lt.target=we,lt.relatedTarget=Gt,Oe=lt),Gt=Oe,ke&&Ge)t:{for(lt=SQ,be=ke,ge=Ge,we=0,Oe=be;Oe;Oe=lt(Oe))we++;Oe=0;for(var nt=ge;nt;nt=lt(nt))Oe++;for(;0<we-Oe;)be=lt(be),we--;for(;0<Oe-we;)ge=lt(ge),Oe--;for(;we--;){if(be===ge||ge!==null&&be===ge.alternate){lt=be;break t}be=lt(be),ge=lt(ge)}lt=null}else lt=null;ke!==null&&eN(Ne,Ae,ke,lt,!1),Ge!==null&&Gt!==null&&eN(Ne,Gt,Ge,lt,!0)}}e:{if(Ae=_e?zo(_e):window,ke=Ae.nodeName&&Ae.nodeName.toLowerCase(),ke==="select"||ke==="input"&&Ae.type==="file")var Nt=yU;else if(gU(Ae))if(bU)Nt=IJ;else{Nt=NJ;var Ze=OJ}else ke=Ae.nodeName,!ke||ke.toLowerCase()!=="input"||Ae.type!=="checkbox"&&Ae.type!=="radio"?_e&&Gv(_e.elementType)&&(Nt=yU):Nt=FJ;if(Nt&&(Nt=Nt(u,_e))){mU(Ne,Nt,m,Me);break e}Ze&&Ze(u,Ae,_e),u==="focusout"&&_e&&Ae.type==="number"&&_e.memoizedProps.value!=null&&$v(Ae,"number",Ae.value)}switch(Ze=_e?zo(_e):window,u){case"focusin":(gU(Ze)||Ze.contentEditable==="true")&&(hc=Ze,o0=_e,Td=null);break;case"focusout":Td=o0=hc=null;break;case"mousedown":l0=!0;break;case"contextmenu":case"mouseup":case"dragend":l0=!1,AU(Ne,m,Me);break;case"selectionchange":if(LJ)break;case"keydown":case"keyup":AU(Ne,m,Me)}var yt;if(r0)e:{switch(u){case"compositionstart":var Ct="onCompositionStart";break e;case"compositionend":Ct="onCompositionEnd";break e;case"compositionupdate":Ct="onCompositionUpdate";break e}Ct=void 0}else dc?fU(u,m)&&(Ct="onCompositionEnd"):u==="keydown"&&m.keyCode===229&&(Ct="onCompositionStart");Ct&&(uU&&m.locale!=="ko"&&(dc||Ct!=="onCompositionStart"?Ct==="onCompositionEnd"&&dc&&(yt=sU()):(Ma=Me,Jv="value"in Ma?Ma.value:Ma.textContent,dc=!0)),Ze=Ag(_e,Ct),0<Ze.length&&(Ct=new lU(Ct,u,null,m,Me),Ne.push({event:Ct,listeners:Ze}),yt?Ct.data=yt:(yt=pU(m),yt!==null&&(Ct.data=yt)))),(yt=CJ?kJ(u,m):RJ(u,m))&&(Ct=Ag(_e,"onBeforeInput"),0<Ct.length&&(Ze=new lU("onBeforeInput","beforeinput",null,m,Me),Ne.push({event:Ze,listeners:Ct}),Ze.data=yt)),wQ(Ne,u,_e,m,Me)}JO(Ne,f)})}function Jd(u,f,m){return{instance:u,listener:f,currentTarget:m}}function Ag(u,f){for(var m=f+"Capture",_=[];u!==null;){var C=u,U=C.stateNode;if(C=C.tag,C!==5&&C!==26&&C!==27||U===null||(C=vd(u,m),C!=null&&_.unshift(Jd(u,C,U)),C=vd(u,f),C!=null&&_.push(Jd(u,C,U))),u.tag===3)return _;u=u.return}return[]}function SQ(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5&&u.tag!==27);return u||null}function eN(u,f,m,_,C){for(var U=f._reactName,X=[];m!==null&&m!==_;){var ne=m,he=ne.alternate,_e=ne.stateNode;if(ne=ne.tag,he!==null&&he===_)break;ne!==5&&ne!==26&&ne!==27||_e===null||(he=_e,C?(_e=vd(m,U),_e!=null&&X.unshift(Jd(m,_e,he))):C||(_e=vd(m,U),_e!=null&&X.push(Jd(m,_e,he)))),m=m.return}X.length!==0&&u.push({event:f,listeners:X})}var AQ=/\r\n?/g,TQ=/\u0000|\uFFFD/g;function tN(u){return(typeof u=="string"?u:""+u).replace(AQ,`
`).replace(TQ,"")}function nN(u,f){return f=tN(f),tN(u)===f}function $t(u,f,m,_,C,U){switch(m){case"children":typeof _=="string"?f==="body"||f==="textarea"&&_===""||lc(u,_):(typeof _=="number"||typeof _=="bigint")&&f!=="body"&&lc(u,""+_);break;case"className":Rp(u,"class",_);break;case"tabIndex":Rp(u,"tabindex",_);break;case"dir":case"role":case"viewBox":case"width":case"height":Rp(u,m,_);break;case"style":nU(u,_,U);break;case"data":if(f!=="object"){Rp(u,"data",_);break}case"src":case"href":if(_===""&&(f!=="a"||m!=="href")){u.removeAttribute(m);break}if(_==null||typeof _=="function"||typeof _=="symbol"||typeof _=="boolean"){u.removeAttribute(m);break}_=Mp(""+_),u.setAttribute(m,_);break;case"action":case"formAction":if(typeof _=="function"){u.setAttribute(m,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof U=="function"&&(m==="formAction"?(f!=="input"&&$t(u,f,"name",C.name,C,null),$t(u,f,"formEncType",C.formEncType,C,null),$t(u,f,"formMethod",C.formMethod,C,null),$t(u,f,"formTarget",C.formTarget,C,null)):($t(u,f,"encType",C.encType,C,null),$t(u,f,"method",C.method,C,null),$t(u,f,"target",C.target,C,null)));if(_==null||typeof _=="symbol"||typeof _=="boolean"){u.removeAttribute(m);break}_=Mp(""+_),u.setAttribute(m,_);break;case"onClick":_!=null&&(u.onclick=Ws);break;case"onScroll":_!=null&&_t("scroll",u);break;case"onScrollEnd":_!=null&&_t("scrollend",u);break;case"dangerouslySetInnerHTML":if(_!=null){if(typeof _!="object"||!("__html"in _))throw Error(r(61));if(m=_.__html,m!=null){if(C.children!=null)throw Error(r(60));u.innerHTML=m}}break;case"multiple":u.multiple=_&&typeof _!="function"&&typeof _!="symbol";break;case"muted":u.muted=_&&typeof _!="function"&&typeof _!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(_==null||typeof _=="function"||typeof _=="boolean"||typeof _=="symbol"){u.removeAttribute("xlink:href");break}m=Mp(""+_),u.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",m);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":_!=null&&typeof _!="function"&&typeof _!="symbol"?u.setAttribute(m,""+_):u.removeAttribute(m);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":_&&typeof _!="function"&&typeof _!="symbol"?u.setAttribute(m,""):u.removeAttribute(m);break;case"capture":case"download":_===!0?u.setAttribute(m,""):_!==!1&&_!=null&&typeof _!="function"&&typeof _!="symbol"?u.setAttribute(m,_):u.removeAttribute(m);break;case"cols":case"rows":case"size":case"span":_!=null&&typeof _!="function"&&typeof _!="symbol"&&!isNaN(_)&&1<=_?u.setAttribute(m,_):u.removeAttribute(m);break;case"rowSpan":case"start":_==null||typeof _=="function"||typeof _=="symbol"||isNaN(_)?u.removeAttribute(m):u.setAttribute(m,_);break;case"popover":_t("beforetoggle",u),_t("toggle",u),kp(u,"popover",_);break;case"xlinkActuate":qs(u,"http://www.w3.org/1999/xlink","xlink:actuate",_);break;case"xlinkArcrole":qs(u,"http://www.w3.org/1999/xlink","xlink:arcrole",_);break;case"xlinkRole":qs(u,"http://www.w3.org/1999/xlink","xlink:role",_);break;case"xlinkShow":qs(u,"http://www.w3.org/1999/xlink","xlink:show",_);break;case"xlinkTitle":qs(u,"http://www.w3.org/1999/xlink","xlink:title",_);break;case"xlinkType":qs(u,"http://www.w3.org/1999/xlink","xlink:type",_);break;case"xmlBase":qs(u,"http://www.w3.org/XML/1998/namespace","xml:base",_);break;case"xmlLang":qs(u,"http://www.w3.org/XML/1998/namespace","xml:lang",_);break;case"xmlSpace":qs(u,"http://www.w3.org/XML/1998/namespace","xml:space",_);break;case"is":kp(u,"is",_);break;case"innerText":case"textContent":break;default:(!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(m=tJ.get(m)||m,kp(u,m,_))}}function O1(u,f,m,_,C,U){switch(m){case"style":nU(u,_,U);break;case"dangerouslySetInnerHTML":if(_!=null){if(typeof _!="object"||!("__html"in _))throw Error(r(61));if(m=_.__html,m!=null){if(C.children!=null)throw Error(r(60));u.innerHTML=m}}break;case"children":typeof _=="string"?lc(u,_):(typeof _=="number"||typeof _=="bigint")&&lc(u,""+_);break;case"onScroll":_!=null&&_t("scroll",u);break;case"onScrollEnd":_!=null&&_t("scrollend",u);break;case"onClick":_!=null&&(u.onclick=Ws);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ap.hasOwnProperty(m))e:{if(m[0]==="o"&&m[1]==="n"&&(C=m.endsWith("Capture"),f=m.slice(2,C?m.length-7:void 0),U=u[Sn]||null,U=U!=null?U[m]:null,typeof U=="function"&&u.removeEventListener(f,U,C),typeof _=="function")){typeof U!="function"&&U!==null&&(m in u?u[m]=null:u.hasAttribute(m)&&u.removeAttribute(m)),u.addEventListener(f,_,C);break e}m in u?u[m]=_:_===!0?u.setAttribute(m,""):kp(u,m,_)}}}function tr(u,f,m){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":_t("error",u),_t("load",u);var _=!1,C=!1,U;for(U in m)if(m.hasOwnProperty(U)){var X=m[U];if(X!=null)switch(U){case"src":_=!0;break;case"srcSet":C=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,f));default:$t(u,f,U,X,m,null)}}C&&$t(u,f,"srcSet",m.srcSet,m,null),_&&$t(u,f,"src",m.src,m,null);return;case"input":_t("invalid",u);var ne=U=X=C=null,he=null,_e=null;for(_ in m)if(m.hasOwnProperty(_)){var Me=m[_];if(Me!=null)switch(_){case"name":C=Me;break;case"type":X=Me;break;case"checked":he=Me;break;case"defaultChecked":_e=Me;break;case"value":U=Me;break;case"defaultValue":ne=Me;break;case"children":case"dangerouslySetInnerHTML":if(Me!=null)throw Error(r(137,f));break;default:$t(u,f,_,Me,m,null)}}J3(u,U,ne,he,_e,X,C,!1);return;case"select":_t("invalid",u),_=X=U=null;for(C in m)if(m.hasOwnProperty(C)&&(ne=m[C],ne!=null))switch(C){case"value":U=ne;break;case"defaultValue":X=ne;break;case"multiple":_=ne;default:$t(u,f,C,ne,m,null)}f=U,m=X,u.multiple=!!_,f!=null?oc(u,!!_,f,!1):m!=null&&oc(u,!!_,m,!0);return;case"textarea":_t("invalid",u),U=C=_=null;for(X in m)if(m.hasOwnProperty(X)&&(ne=m[X],ne!=null))switch(X){case"value":_=ne;break;case"defaultValue":C=ne;break;case"children":U=ne;break;case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(91));break;default:$t(u,f,X,ne,m,null)}eU(u,_,C,U);return;case"option":for(he in m)m.hasOwnProperty(he)&&(_=m[he],_!=null)&&(he==="selected"?u.selected=_&&typeof _!="function"&&typeof _!="symbol":$t(u,f,he,_,m,null));return;case"dialog":_t("beforetoggle",u),_t("toggle",u),_t("cancel",u),_t("close",u);break;case"iframe":case"object":_t("load",u);break;case"video":case"audio":for(_=0;_<Zd.length;_++)_t(Zd[_],u);break;case"image":_t("error",u),_t("load",u);break;case"details":_t("toggle",u);break;case"embed":case"source":case"link":_t("error",u),_t("load",u);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(_e in m)if(m.hasOwnProperty(_e)&&(_=m[_e],_!=null))switch(_e){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,f));default:$t(u,f,_e,_,m,null)}return;default:if(Gv(f)){for(Me in m)m.hasOwnProperty(Me)&&(_=m[Me],_!==void 0&&O1(u,f,Me,_,m,void 0));return}}for(ne in m)m.hasOwnProperty(ne)&&(_=m[ne],_!=null&&$t(u,f,ne,_,m,null))}function CQ(u,f,m,_){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var C=null,U=null,X=null,ne=null,he=null,_e=null,Me=null;for(ke in m){var Ne=m[ke];if(m.hasOwnProperty(ke)&&Ne!=null)switch(ke){case"checked":break;case"value":break;case"defaultValue":he=Ne;default:_.hasOwnProperty(ke)||$t(u,f,ke,null,_,Ne)}}for(var Ae in _){var ke=_[Ae];if(Ne=m[Ae],_.hasOwnProperty(Ae)&&(ke!=null||Ne!=null))switch(Ae){case"type":U=ke;break;case"name":C=ke;break;case"checked":_e=ke;break;case"defaultChecked":Me=ke;break;case"value":X=ke;break;case"defaultValue":ne=ke;break;case"children":case"dangerouslySetInnerHTML":if(ke!=null)throw Error(r(137,f));break;default:ke!==Ne&&$t(u,f,Ae,ke,_,Ne)}}Hv(u,X,ne,he,_e,Me,U,C);return;case"select":ke=X=ne=Ae=null;for(U in m)if(he=m[U],m.hasOwnProperty(U)&&he!=null)switch(U){case"value":break;case"multiple":ke=he;default:_.hasOwnProperty(U)||$t(u,f,U,null,_,he)}for(C in _)if(U=_[C],he=m[C],_.hasOwnProperty(C)&&(U!=null||he!=null))switch(C){case"value":Ae=U;break;case"defaultValue":ne=U;break;case"multiple":X=U;default:U!==he&&$t(u,f,C,U,_,he)}f=ne,m=X,_=ke,Ae!=null?oc(u,!!m,Ae,!1):!!_!=!!m&&(f!=null?oc(u,!!m,f,!0):oc(u,!!m,m?[]:"",!1));return;case"textarea":ke=Ae=null;for(ne in m)if(C=m[ne],m.hasOwnProperty(ne)&&C!=null&&!_.hasOwnProperty(ne))switch(ne){case"value":break;case"children":break;default:$t(u,f,ne,null,_,C)}for(X in _)if(C=_[X],U=m[X],_.hasOwnProperty(X)&&(C!=null||U!=null))switch(X){case"value":Ae=C;break;case"defaultValue":ke=C;break;case"children":break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(r(91));break;default:C!==U&&$t(u,f,X,C,_,U)}Q3(u,Ae,ke);return;case"option":for(var Ge in m)Ae=m[Ge],m.hasOwnProperty(Ge)&&Ae!=null&&!_.hasOwnProperty(Ge)&&(Ge==="selected"?u.selected=!1:$t(u,f,Ge,null,_,Ae));for(he in _)Ae=_[he],ke=m[he],_.hasOwnProperty(he)&&Ae!==ke&&(Ae!=null||ke!=null)&&(he==="selected"?u.selected=Ae&&typeof Ae!="function"&&typeof Ae!="symbol":$t(u,f,he,Ae,_,ke));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var lt in m)Ae=m[lt],m.hasOwnProperty(lt)&&Ae!=null&&!_.hasOwnProperty(lt)&&$t(u,f,lt,null,_,Ae);for(_e in _)if(Ae=_[_e],ke=m[_e],_.hasOwnProperty(_e)&&Ae!==ke&&(Ae!=null||ke!=null))switch(_e){case"children":case"dangerouslySetInnerHTML":if(Ae!=null)throw Error(r(137,f));break;default:$t(u,f,_e,Ae,_,ke)}return;default:if(Gv(f)){for(var Gt in m)Ae=m[Gt],m.hasOwnProperty(Gt)&&Ae!==void 0&&!_.hasOwnProperty(Gt)&&O1(u,f,Gt,void 0,_,Ae);for(Me in _)Ae=_[Me],ke=m[Me],!_.hasOwnProperty(Me)||Ae===ke||Ae===void 0&&ke===void 0||O1(u,f,Me,Ae,_,ke);return}}for(var be in m)Ae=m[be],m.hasOwnProperty(be)&&Ae!=null&&!_.hasOwnProperty(be)&&$t(u,f,be,null,_,Ae);for(Ne in _)Ae=_[Ne],ke=m[Ne],!_.hasOwnProperty(Ne)||Ae===ke||Ae==null&&ke==null||$t(u,f,Ne,Ae,_,ke)}function rN(u){switch(u){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function kQ(){if(typeof performance.getEntriesByType=="function"){for(var u=0,f=0,m=performance.getEntriesByType("resource"),_=0;_<m.length;_++){var C=m[_],U=C.transferSize,X=C.initiatorType,ne=C.duration;if(U&&ne&&rN(X)){for(X=0,ne=C.responseEnd,_+=1;_<m.length;_++){var he=m[_],_e=he.startTime;if(_e>ne)break;var Me=he.transferSize,Ne=he.initiatorType;Me&&rN(Ne)&&(he=he.responseEnd,X+=Me*(he<ne?1:(ne-_e)/(he-_e)))}if(--_,f+=8*(U+X)/(C.duration/1e3),u++,10<u)break}}if(0<u)return f/u/1e6}return navigator.connection&&(u=navigator.connection.downlink,typeof u=="number")?u:5}var N1=null,F1=null;function Tg(u){return u.nodeType===9?u:u.ownerDocument}function iN(u){switch(u){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sN(u,f){if(u===0)switch(f){case"svg":return 1;case"math":return 2;default:return 0}return u===1&&f==="foreignObject"?0:u}function I1(u,f){return u==="textarea"||u==="noscript"||typeof f.children=="string"||typeof f.children=="number"||typeof f.children=="bigint"||typeof f.dangerouslySetInnerHTML=="object"&&f.dangerouslySetInnerHTML!==null&&f.dangerouslySetInnerHTML.__html!=null}var P1=null;function RQ(){var u=window.event;return u&&u.type==="popstate"?u===P1?!1:(P1=u,!0):(P1=null,!1)}var aN=typeof setTimeout=="function"?setTimeout:void 0,UQ=typeof clearTimeout=="function"?clearTimeout:void 0,oN=typeof Promise=="function"?Promise:void 0,MQ=typeof queueMicrotask=="function"?queueMicrotask:typeof oN<"u"?function(u){return oN.resolve(null).then(u).catch(OQ)}:aN;function OQ(u){setTimeout(function(){throw u})}function Ka(u){return u==="head"}function lN(u,f){var m=f,_=0;do{var C=m.nextSibling;if(u.removeChild(m),C&&C.nodeType===8)if(m=C.data,m==="/$"||m==="/&"){if(_===0){u.removeChild(C),Bc(f);return}_--}else if(m==="$"||m==="$?"||m==="$~"||m==="$!"||m==="&")_++;else if(m==="html")Qd(u.ownerDocument.documentElement);else if(m==="head"){m=u.ownerDocument.head,Qd(m);for(var U=m.firstChild;U;){var X=U.nextSibling,ne=U.nodeName;U[jo]||ne==="SCRIPT"||ne==="STYLE"||ne==="LINK"&&U.rel.toLowerCase()==="stylesheet"||m.removeChild(U),U=X}}else m==="body"&&Qd(u.ownerDocument.body);m=C}while(m);Bc(f)}function cN(u,f){var m=u;u=0;do{var _=m.nextSibling;if(m.nodeType===1?f?(m._stashedDisplay=m.style.display,m.style.display="none"):(m.style.display=m._stashedDisplay||"",m.getAttribute("style")===""&&m.removeAttribute("style")):m.nodeType===3&&(f?(m._stashedText=m.nodeValue,m.nodeValue=""):m.nodeValue=m._stashedText||""),_&&_.nodeType===8)if(m=_.data,m==="/$"){if(u===0)break;u--}else m!=="$"&&m!=="$?"&&m!=="$~"&&m!=="$!"||u++;m=_}while(m)}function L1(u){var f=u.firstChild;for(f&&f.nodeType===10&&(f=f.nextSibling);f;){var m=f;switch(f=f.nextSibling,m.nodeName){case"HTML":case"HEAD":case"BODY":L1(m),yd(m);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(m.rel.toLowerCase()==="stylesheet")continue}u.removeChild(m)}}function NQ(u,f,m,_){for(;u.nodeType===1;){var C=m;if(u.nodeName.toLowerCase()!==f.toLowerCase()){if(!_&&(u.nodeName!=="INPUT"||u.type!=="hidden"))break}else if(_){if(!u[jo])switch(f){case"meta":if(!u.hasAttribute("itemprop"))break;return u;case"link":if(U=u.getAttribute("rel"),U==="stylesheet"&&u.hasAttribute("data-precedence"))break;if(U!==C.rel||u.getAttribute("href")!==(C.href==null||C.href===""?null:C.href)||u.getAttribute("crossorigin")!==(C.crossOrigin==null?null:C.crossOrigin)||u.getAttribute("title")!==(C.title==null?null:C.title))break;return u;case"style":if(u.hasAttribute("data-precedence"))break;return u;case"script":if(U=u.getAttribute("src"),(U!==(C.src==null?null:C.src)||u.getAttribute("type")!==(C.type==null?null:C.type)||u.getAttribute("crossorigin")!==(C.crossOrigin==null?null:C.crossOrigin))&&U&&u.hasAttribute("async")&&!u.hasAttribute("itemprop"))break;return u;default:return u}}else if(f==="input"&&u.type==="hidden"){var U=C.name==null?null:""+C.name;if(C.type==="hidden"&&u.getAttribute("name")===U)return u}else return u;if(u=Ti(u.nextSibling),u===null)break}return null}function FQ(u,f,m){if(f==="")return null;for(;u.nodeType!==3;)if((u.nodeType!==1||u.nodeName!=="INPUT"||u.type!=="hidden")&&!m||(u=Ti(u.nextSibling),u===null))return null;return u}function uN(u,f){for(;u.nodeType!==8;)if((u.nodeType!==1||u.nodeName!=="INPUT"||u.type!=="hidden")&&!f||(u=Ti(u.nextSibling),u===null))return null;return u}function B1(u){return u.data==="$?"||u.data==="$~"}function j1(u){return u.data==="$!"||u.data==="$?"&&u.ownerDocument.readyState!=="loading"}function IQ(u,f){var m=u.ownerDocument;if(u.data==="$~")u._reactRetry=f;else if(u.data!=="$?"||m.readyState!=="loading")f();else{var _=function(){f(),m.removeEventListener("DOMContentLoaded",_)};m.addEventListener("DOMContentLoaded",_),u._reactRetry=_}}function Ti(u){for(;u!=null;u=u.nextSibling){var f=u.nodeType;if(f===1||f===3)break;if(f===8){if(f=u.data,f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"||f==="F!"||f==="F")break;if(f==="/$"||f==="/&")return null}}return u}var z1=null;function dN(u){u=u.nextSibling;for(var f=0;u;){if(u.nodeType===8){var m=u.data;if(m==="/$"||m==="/&"){if(f===0)return Ti(u.nextSibling);f--}else m!=="$"&&m!=="$!"&&m!=="$?"&&m!=="$~"&&m!=="&"||f++}u=u.nextSibling}return null}function hN(u){u=u.previousSibling;for(var f=0;u;){if(u.nodeType===8){var m=u.data;if(m==="$"||m==="$!"||m==="$?"||m==="$~"||m==="&"){if(f===0)return u;f--}else m!=="/$"&&m!=="/&"||f++}u=u.previousSibling}return null}function fN(u,f,m){switch(f=Tg(m),u){case"html":if(u=f.documentElement,!u)throw Error(r(452));return u;case"head":if(u=f.head,!u)throw Error(r(453));return u;case"body":if(u=f.body,!u)throw Error(r(454));return u;default:throw Error(r(451))}}function Qd(u){for(var f=u.attributes;f.length;)u.removeAttributeNode(f[0]);yd(u)}var Ci=new Map,pN=new Set;function Cg(u){return typeof u.getRootNode=="function"?u.getRootNode():u.nodeType===9?u:u.ownerDocument}var sa=B.d;B.d={f:PQ,r:LQ,D:BQ,C:jQ,L:zQ,m:qQ,X:VQ,S:WQ,M:HQ};function PQ(){var u=sa.f(),f=vg();return u||f}function LQ(u){var f=Bs(u);f!==null&&f.tag===5&&f.type==="form"?UM(f):sa.r(u)}var Ic=typeof document>"u"?null:document;function gN(u,f,m){var _=Ic;if(_&&typeof f=="string"&&f){var C=xi(f);C='link[rel="'+u+'"][href="'+C+'"]',typeof m=="string"&&(C+='[crossorigin="'+m+'"]'),pN.has(C)||(pN.add(C),u={rel:u,crossOrigin:m,href:f},_.querySelector(C)===null&&(f=_.createElement("link"),tr(f,"link",u),An(f),_.head.appendChild(f)))}}function BQ(u){sa.D(u),gN("dns-prefetch",u,null)}function jQ(u,f){sa.C(u,f),gN("preconnect",u,f)}function zQ(u,f,m){sa.L(u,f,m);var _=Ic;if(_&&u&&f){var C='link[rel="preload"][as="'+xi(f)+'"]';f==="image"&&m&&m.imageSrcSet?(C+='[imagesrcset="'+xi(m.imageSrcSet)+'"]',typeof m.imageSizes=="string"&&(C+='[imagesizes="'+xi(m.imageSizes)+'"]')):C+='[href="'+xi(u)+'"]';var U=C;switch(f){case"style":U=Pc(u);break;case"script":U=Lc(u)}Ci.has(U)||(u=h({rel:"preload",href:f==="image"&&m&&m.imageSrcSet?void 0:u,as:f},m),Ci.set(U,u),_.querySelector(C)!==null||f==="style"&&_.querySelector(eh(U))||f==="script"&&_.querySelector(th(U))||(f=_.createElement("link"),tr(f,"link",u),An(f),_.head.appendChild(f)))}}function qQ(u,f){sa.m(u,f);var m=Ic;if(m&&u){var _=f&&typeof f.as=="string"?f.as:"script",C='link[rel="modulepreload"][as="'+xi(_)+'"][href="'+xi(u)+'"]',U=C;switch(_){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":U=Lc(u)}if(!Ci.has(U)&&(u=h({rel:"modulepreload",href:u},f),Ci.set(U,u),m.querySelector(C)===null)){switch(_){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(m.querySelector(th(U)))return}_=m.createElement("link"),tr(_,"link",u),An(_),m.head.appendChild(_)}}}function WQ(u,f,m){sa.S(u,f,m);var _=Ic;if(_&&u){var C=Ua(_).hoistableStyles,U=Pc(u);f=f||"default";var X=C.get(U);if(!X){var ne={loading:0,preload:null};if(X=_.querySelector(eh(U)))ne.loading=5;else{u=h({rel:"stylesheet",href:u,"data-precedence":f},m),(m=Ci.get(U))&&q1(u,m);var he=X=_.createElement("link");An(he),tr(he,"link",u),he._p=new Promise(function(_e,Me){he.onload=_e,he.onerror=Me}),he.addEventListener("load",function(){ne.loading|=1}),he.addEventListener("error",function(){ne.loading|=2}),ne.loading|=4,kg(X,f,_)}X={type:"stylesheet",instance:X,count:1,state:ne},C.set(U,X)}}}function VQ(u,f){sa.X(u,f);var m=Ic;if(m&&u){var _=Ua(m).hoistableScripts,C=Lc(u),U=_.get(C);U||(U=m.querySelector(th(C)),U||(u=h({src:u,async:!0},f),(f=Ci.get(C))&&W1(u,f),U=m.createElement("script"),An(U),tr(U,"link",u),m.head.appendChild(U)),U={type:"script",instance:U,count:1,state:null},_.set(C,U))}}function HQ(u,f){sa.M(u,f);var m=Ic;if(m&&u){var _=Ua(m).hoistableScripts,C=Lc(u),U=_.get(C);U||(U=m.querySelector(th(C)),U||(u=h({src:u,async:!0,type:"module"},f),(f=Ci.get(C))&&W1(u,f),U=m.createElement("script"),An(U),tr(U,"link",u),m.head.appendChild(U)),U={type:"script",instance:U,count:1,state:null},_.set(C,U))}}function mN(u,f,m,_){var C=(C=re.current)?Cg(C):null;if(!C)throw Error(r(446));switch(u){case"meta":case"title":return null;case"style":return typeof m.precedence=="string"&&typeof m.href=="string"?(f=Pc(m.href),m=Ua(C).hoistableStyles,_=m.get(f),_||(_={type:"style",instance:null,count:0,state:null},m.set(f,_)),_):{type:"void",instance:null,count:0,state:null};case"link":if(m.rel==="stylesheet"&&typeof m.href=="string"&&typeof m.precedence=="string"){u=Pc(m.href);var U=Ua(C).hoistableStyles,X=U.get(u);if(X||(C=C.ownerDocument||C,X={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},U.set(u,X),(U=C.querySelector(eh(u)))&&!U._p&&(X.instance=U,X.state.loading=5),Ci.has(u)||(m={rel:"preload",as:"style",href:m.href,crossOrigin:m.crossOrigin,integrity:m.integrity,media:m.media,hrefLang:m.hrefLang,referrerPolicy:m.referrerPolicy},Ci.set(u,m),U||$Q(C,u,m,X.state))),f&&_===null)throw Error(r(528,""));return X}if(f&&_!==null)throw Error(r(529,""));return null;case"script":return f=m.async,m=m.src,typeof m=="string"&&f&&typeof f!="function"&&typeof f!="symbol"?(f=Lc(m),m=Ua(C).hoistableScripts,_=m.get(f),_||(_={type:"script",instance:null,count:0,state:null},m.set(f,_)),_):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,u))}}function Pc(u){return'href="'+xi(u)+'"'}function eh(u){return'link[rel="stylesheet"]['+u+"]"}function yN(u){return h({},u,{"data-precedence":u.precedence,precedence:null})}function $Q(u,f,m,_){u.querySelector('link[rel="preload"][as="style"]['+f+"]")?_.loading=1:(f=u.createElement("link"),_.preload=f,f.addEventListener("load",function(){return _.loading|=1}),f.addEventListener("error",function(){return _.loading|=2}),tr(f,"link",m),An(f),u.head.appendChild(f))}function Lc(u){return'[src="'+xi(u)+'"]'}function th(u){return"script[async]"+u}function bN(u,f,m){if(f.count++,f.instance===null)switch(f.type){case"style":var _=u.querySelector('style[data-href~="'+xi(m.href)+'"]');if(_)return f.instance=_,An(_),_;var C=h({},m,{"data-href":m.href,"data-precedence":m.precedence,href:null,precedence:null});return _=(u.ownerDocument||u).createElement("style"),An(_),tr(_,"style",C),kg(_,m.precedence,u),f.instance=_;case"stylesheet":C=Pc(m.href);var U=u.querySelector(eh(C));if(U)return f.state.loading|=4,f.instance=U,An(U),U;_=yN(m),(C=Ci.get(C))&&q1(_,C),U=(u.ownerDocument||u).createElement("link"),An(U);var X=U;return X._p=new Promise(function(ne,he){X.onload=ne,X.onerror=he}),tr(U,"link",_),f.state.loading|=4,kg(U,m.precedence,u),f.instance=U;case"script":return U=Lc(m.src),(C=u.querySelector(th(U)))?(f.instance=C,An(C),C):(_=m,(C=Ci.get(U))&&(_=h({},m),W1(_,C)),u=u.ownerDocument||u,C=u.createElement("script"),An(C),tr(C,"link",_),u.head.appendChild(C),f.instance=C);case"void":return null;default:throw Error(r(443,f.type))}else f.type==="stylesheet"&&(f.state.loading&4)===0&&(_=f.instance,f.state.loading|=4,kg(_,m.precedence,u));return f.instance}function kg(u,f,m){for(var _=m.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),C=_.length?_[_.length-1]:null,U=C,X=0;X<_.length;X++){var ne=_[X];if(ne.dataset.precedence===f)U=ne;else if(U!==C)break}U?U.parentNode.insertBefore(u,U.nextSibling):(f=m.nodeType===9?m.head:m,f.insertBefore(u,f.firstChild))}function q1(u,f){u.crossOrigin==null&&(u.crossOrigin=f.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=f.referrerPolicy),u.title==null&&(u.title=f.title)}function W1(u,f){u.crossOrigin==null&&(u.crossOrigin=f.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=f.referrerPolicy),u.integrity==null&&(u.integrity=f.integrity)}var Rg=null;function vN(u,f,m){if(Rg===null){var _=new Map,C=Rg=new Map;C.set(m,_)}else C=Rg,_=C.get(m),_||(_=new Map,C.set(m,_));if(_.has(u))return _;for(_.set(u,null),m=m.getElementsByTagName(u),C=0;C<m.length;C++){var U=m[C];if(!(U[jo]||U[At]||u==="link"&&U.getAttribute("rel")==="stylesheet")&&U.namespaceURI!=="http://www.w3.org/2000/svg"){var X=U.getAttribute(f)||"";X=u+X;var ne=_.get(X);ne?ne.push(U):_.set(X,[U])}}return _}function xN(u,f,m){u=u.ownerDocument||u,u.head.insertBefore(m,f==="title"?u.querySelector("head > title"):null)}function GQ(u,f,m){if(m===1||f.itemProp!=null)return!1;switch(u){case"meta":case"title":return!0;case"style":if(typeof f.precedence!="string"||typeof f.href!="string"||f.href==="")break;return!0;case"link":if(typeof f.rel!="string"||typeof f.href!="string"||f.href===""||f.onLoad||f.onError)break;return f.rel==="stylesheet"?(u=f.disabled,typeof f.precedence=="string"&&u==null):!0;case"script":if(f.async&&typeof f.async!="function"&&typeof f.async!="symbol"&&!f.onLoad&&!f.onError&&f.src&&typeof f.src=="string")return!0}return!1}function wN(u){return!(u.type==="stylesheet"&&(u.state.loading&3)===0)}function XQ(u,f,m,_){if(m.type==="stylesheet"&&(typeof _.media!="string"||matchMedia(_.media).matches!==!1)&&(m.state.loading&4)===0){if(m.instance===null){var C=Pc(_.href),U=f.querySelector(eh(C));if(U){f=U._p,f!==null&&typeof f=="object"&&typeof f.then=="function"&&(u.count++,u=Ug.bind(u),f.then(u,u)),m.state.loading|=4,m.instance=U,An(U);return}U=f.ownerDocument||f,_=yN(_),(C=Ci.get(C))&&q1(_,C),U=U.createElement("link"),An(U);var X=U;X._p=new Promise(function(ne,he){X.onload=ne,X.onerror=he}),tr(U,"link",_),m.instance=U}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(m,f),(f=m.state.preload)&&(m.state.loading&3)===0&&(u.count++,m=Ug.bind(u),f.addEventListener("load",m),f.addEventListener("error",m))}}var V1=0;function KQ(u,f){return u.stylesheets&&u.count===0&&Og(u,u.stylesheets),0<u.count||0<u.imgCount?function(m){var _=setTimeout(function(){if(u.stylesheets&&Og(u,u.stylesheets),u.unsuspend){var U=u.unsuspend;u.unsuspend=null,U()}},6e4+f);0<u.imgBytes&&V1===0&&(V1=62500*kQ());var C=setTimeout(function(){if(u.waitingForImages=!1,u.count===0&&(u.stylesheets&&Og(u,u.stylesheets),u.unsuspend)){var U=u.unsuspend;u.unsuspend=null,U()}},(u.imgBytes>V1?50:800)+f);return u.unsuspend=m,function(){u.unsuspend=null,clearTimeout(_),clearTimeout(C)}}:null}function Ug(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Og(this,this.stylesheets);else if(this.unsuspend){var u=this.unsuspend;this.unsuspend=null,u()}}}var Mg=null;function Og(u,f){u.stylesheets=null,u.unsuspend!==null&&(u.count++,Mg=new Map,f.forEach(YQ,u),Mg=null,Ug.call(u))}function YQ(u,f){if(!(f.state.loading&4)){var m=Mg.get(u);if(m)var _=m.get(null);else{m=new Map,Mg.set(u,m);for(var C=u.querySelectorAll("link[data-precedence],style[data-precedence]"),U=0;U<C.length;U++){var X=C[U];(X.nodeName==="LINK"||X.getAttribute("media")!=="not all")&&(m.set(X.dataset.precedence,X),_=X)}_&&m.set(null,_)}C=f.instance,X=C.getAttribute("data-precedence"),U=m.get(X)||_,U===_&&m.set(null,C),m.set(X,C),this.count++,_=Ug.bind(this),C.addEventListener("load",_),C.addEventListener("error",_),U?U.parentNode.insertBefore(C,U.nextSibling):(u=u.nodeType===9?u.head:u,u.insertBefore(C,u.firstChild)),f.state.loading|=4}}var nh={$$typeof:D,Provider:null,Consumer:null,_currentValue:G,_currentValue2:G,_threadCount:0};function ZQ(u,f,m,_,C,U,X,ne,he){this.tag=1,this.containerInfo=u,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=It(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=It(0),this.hiddenUpdates=It(null),this.identifierPrefix=_,this.onUncaughtError=C,this.onCaughtError=U,this.onRecoverableError=X,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=he,this.incompleteTransitions=new Map}function _N(u,f,m,_,C,U,X,ne,he,_e,Me,Ne){return u=new ZQ(u,f,m,X,he,_e,Me,Ne,ne),f=1,U===!0&&(f|=24),U=Qr(3,null,null,f),u.current=U,U.stateNode=u,f=D0(),f.refCount++,u.pooledCache=f,f.refCount++,U.memoizedState={element:_,isDehydrated:m,cache:f},T0(U),u}function DN(u){return u?(u=gc,u):gc}function EN(u,f,m,_,C,U){C=DN(C),_.context===null?_.context=C:_.pendingContext=C,_=La(f),_.payload={element:m},U=U===void 0?null:U,U!==null&&(_.callback=U),m=Ba(u,_,f),m!==null&&(Fr(m,u,f),Nd(m,u,f))}function SN(u,f){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var m=u.retryLane;u.retryLane=m!==0&&m<f?m:f}}function H1(u,f){SN(u,f),(u=u.alternate)&&SN(u,f)}function AN(u){if(u.tag===13||u.tag===31){var f=Ho(u,67108864);f!==null&&Fr(f,u,67108864),H1(u,67108864)}}function TN(u){if(u.tag===13||u.tag===31){var f=ii();f=Yr(f);var m=Ho(u,f);m!==null&&Fr(m,u,f),H1(u,f)}}var Ng=!0;function JQ(u,f,m,_){var C=N.T;N.T=null;var U=B.p;try{B.p=2,$1(u,f,m,_)}finally{B.p=U,N.T=C}}function QQ(u,f,m,_){var C=N.T;N.T=null;var U=B.p;try{B.p=8,$1(u,f,m,_)}finally{B.p=U,N.T=C}}function $1(u,f,m,_){if(Ng){var C=G1(_);if(C===null)M1(u,f,_,Fg,m),kN(u,_);else if(tee(C,u,f,m,_))_.stopPropagation();else if(kN(u,_),f&4&&-1<eee.indexOf(u)){for(;C!==null;){var U=Bs(C);if(U!==null)switch(U.tag){case 3:if(U=U.stateNode,U.current.memoizedState.isDehydrated){var X=te(U.pendingLanes);if(X!==0){var ne=U;for(ne.pendingLanes|=2,ne.entangledLanes|=2;X;){var he=1<<31-Ie(X);ne.entanglements[1]|=he,X&=~he}ys(U),(Pt&6)===0&&(yg=le()+500,Yd(0))}}break;case 31:case 13:ne=Ho(U,2),ne!==null&&Fr(ne,U,2),vg(),H1(U,2)}if(U=G1(_),U===null&&M1(u,f,_,Fg,m),U===C)break;C=U}C!==null&&_.stopPropagation()}else M1(u,f,_,null,m)}}function G1(u){return u=Kv(u),X1(u)}var Fg=null;function X1(u){if(Fg=null,u=Ra(u),u!==null){var f=s(u);if(f===null)u=null;else{var m=f.tag;if(m===13){if(u=a(f),u!==null)return u;u=null}else if(m===31){if(u=o(f),u!==null)return u;u=null}else if(m===3){if(f.stateNode.current.memoizedState.isDehydrated)return f.tag===3?f.stateNode.containerInfo:null;u=null}else f!==u&&(u=null)}}return Fg=u,null}function CN(u){switch(u){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(me()){case ae:return 2;case ve:return 8;case Ue:case Le:return 32;case Pe:return 268435456;default:return 32}default:return 32}}var K1=!1,Ya=null,Za=null,Ja=null,rh=new Map,ih=new Map,Qa=[],eee="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function kN(u,f){switch(u){case"focusin":case"focusout":Ya=null;break;case"dragenter":case"dragleave":Za=null;break;case"mouseover":case"mouseout":Ja=null;break;case"pointerover":case"pointerout":rh.delete(f.pointerId);break;case"gotpointercapture":case"lostpointercapture":ih.delete(f.pointerId)}}function sh(u,f,m,_,C,U){return u===null||u.nativeEvent!==U?(u={blockedOn:f,domEventName:m,eventSystemFlags:_,nativeEvent:U,targetContainers:[C]},f!==null&&(f=Bs(f),f!==null&&AN(f)),u):(u.eventSystemFlags|=_,f=u.targetContainers,C!==null&&f.indexOf(C)===-1&&f.push(C),u)}function tee(u,f,m,_,C){switch(f){case"focusin":return Ya=sh(Ya,u,f,m,_,C),!0;case"dragenter":return Za=sh(Za,u,f,m,_,C),!0;case"mouseover":return Ja=sh(Ja,u,f,m,_,C),!0;case"pointerover":var U=C.pointerId;return rh.set(U,sh(rh.get(U)||null,u,f,m,_,C)),!0;case"gotpointercapture":return U=C.pointerId,ih.set(U,sh(ih.get(U)||null,u,f,m,_,C)),!0}return!1}function RN(u){var f=Ra(u.target);if(f!==null){var m=s(f);if(m!==null){if(f=m.tag,f===13){if(f=a(m),f!==null){u.blockedOn=f,bi(u.priority,function(){TN(m)});return}}else if(f===31){if(f=o(m),f!==null){u.blockedOn=f,bi(u.priority,function(){TN(m)});return}}else if(f===3&&m.stateNode.current.memoizedState.isDehydrated){u.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}u.blockedOn=null}function Ig(u){if(u.blockedOn!==null)return!1;for(var f=u.targetContainers;0<f.length;){var m=G1(u.nativeEvent);if(m===null){m=u.nativeEvent;var _=new m.constructor(m.type,m);Xv=_,m.target.dispatchEvent(_),Xv=null}else return f=Bs(m),f!==null&&AN(f),u.blockedOn=m,!1;f.shift()}return!0}function UN(u,f,m){Ig(u)&&m.delete(f)}function nee(){K1=!1,Ya!==null&&Ig(Ya)&&(Ya=null),Za!==null&&Ig(Za)&&(Za=null),Ja!==null&&Ig(Ja)&&(Ja=null),rh.forEach(UN),ih.forEach(UN)}function Pg(u,f){u.blockedOn===f&&(u.blockedOn=null,K1||(K1=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,nee)))}var Lg=null;function MN(u){Lg!==u&&(Lg=u,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Lg===u&&(Lg=null);for(var f=0;f<u.length;f+=3){var m=u[f],_=u[f+1],C=u[f+2];if(typeof _!="function"){if(X1(_||m)===null)continue;break}var U=Bs(m);U!==null&&(u.splice(f,3),f-=3,G0(U,{pending:!0,data:C,method:m.method,action:_},_,C))}}))}function Bc(u){function f(he){return Pg(he,u)}Ya!==null&&Pg(Ya,u),Za!==null&&Pg(Za,u),Ja!==null&&Pg(Ja,u),rh.forEach(f),ih.forEach(f);for(var m=0;m<Qa.length;m++){var _=Qa[m];_.blockedOn===u&&(_.blockedOn=null)}for(;0<Qa.length&&(m=Qa[0],m.blockedOn===null);)RN(m),m.blockedOn===null&&Qa.shift();if(m=(u.ownerDocument||u).$$reactFormReplay,m!=null)for(_=0;_<m.length;_+=3){var C=m[_],U=m[_+1],X=C[Sn]||null;if(typeof U=="function")X||MN(m);else if(X){var ne=null;if(U&&U.hasAttribute("formAction")){if(C=U,X=U[Sn]||null)ne=X.formAction;else if(X1(C)!==null)continue}else ne=X.action;typeof ne=="function"?m[_+1]=ne:(m.splice(_,3),_-=3),MN(m)}}}function ON(){function u(U){U.canIntercept&&U.info==="react-transition"&&U.intercept({handler:function(){return new Promise(function(X){return C=X})},focusReset:"manual",scroll:"manual"})}function f(){C!==null&&(C(),C=null),_||setTimeout(m,20)}function m(){if(!_&&!navigation.transition){var U=navigation.currentEntry;U&&U.url!=null&&navigation.navigate(U.url,{state:U.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var _=!1,C=null;return navigation.addEventListener("navigate",u),navigation.addEventListener("navigatesuccess",f),navigation.addEventListener("navigateerror",f),setTimeout(m,100),function(){_=!0,navigation.removeEventListener("navigate",u),navigation.removeEventListener("navigatesuccess",f),navigation.removeEventListener("navigateerror",f),C!==null&&(C(),C=null)}}}function Y1(u){this._internalRoot=u}Bg.prototype.render=Y1.prototype.render=function(u){var f=this._internalRoot;if(f===null)throw Error(r(409));var m=f.current,_=ii();EN(m,_,u,f,null,null)},Bg.prototype.unmount=Y1.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var f=u.containerInfo;EN(u.current,2,null,u,null,null),vg(),f[yr]=null}};function Bg(u){this._internalRoot=u}Bg.prototype.unstable_scheduleHydration=function(u){if(u){var f=mr();u={blockedOn:null,target:u,priority:f};for(var m=0;m<Qa.length&&f!==0&&f<Qa[m].priority;m++);Qa.splice(m,0,u),m===0&&RN(u)}};var NN=e.version;if(NN!=="19.2.4")throw Error(r(527,NN,"19.2.4"));B.findDOMNode=function(u){var f=u._reactInternals;if(f===void 0)throw typeof u.render=="function"?Error(r(188)):(u=Object.keys(u).join(","),Error(r(268,u)));return u=c(f),u=u!==null?d(u):null,u=u===null?null:u.stateNode,u};var ree={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:N,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jg.isDisabled&&jg.supportsFiber)try{pe=jg.inject(ree),Te=jg}catch{}}return oh.createRoot=function(u,f){if(!i(u))throw Error(r(299));var m=!1,_="",C=zM,U=qM,X=WM;return f!=null&&(f.unstable_strictMode===!0&&(m=!0),f.identifierPrefix!==void 0&&(_=f.identifierPrefix),f.onUncaughtError!==void 0&&(C=f.onUncaughtError),f.onCaughtError!==void 0&&(U=f.onCaughtError),f.onRecoverableError!==void 0&&(X=f.onRecoverableError)),f=_N(u,1,!1,null,null,m,_,null,C,U,X,ON),u[yr]=f.current,U1(u),new Y1(f)},oh.hydrateRoot=function(u,f,m){if(!i(u))throw Error(r(299));var _=!1,C="",U=zM,X=qM,ne=WM,he=null;return m!=null&&(m.unstable_strictMode===!0&&(_=!0),m.identifierPrefix!==void 0&&(C=m.identifierPrefix),m.onUncaughtError!==void 0&&(U=m.onUncaughtError),m.onCaughtError!==void 0&&(X=m.onCaughtError),m.onRecoverableError!==void 0&&(ne=m.onRecoverableError),m.formState!==void 0&&(he=m.formState)),f=_N(u,1,!0,f,m??null,_,C,he,U,X,ne,ON),f.context=DN(null),m=f.current,_=ii(),_=Yr(_),C=La(_),C.callback=null,Ba(m,C,_),m=_,f.current.lanes=m,pn(f,m),ys(f),u[yr]=f.current,U1(u),new Bg(f)},oh.version="19.2.4",oh}var $N;function pee(){if($N)return ex.exports;$N=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ex.exports=fee(),ex.exports}var gee=pee(),Yu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},mee={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},yee=class{#e=mee;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,e){return this.#e.setTimeout(t,e)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,e){return this.#e.setInterval(t,e)}clearInterval(t){this.#e.clearInterval(t)}},bl=new yee;function bee(t){setTimeout(t,0)}var Ol=typeof window>"u"||"Deno"in globalThis;function wr(){}function vee(t,e){return typeof t=="function"?t(e):t}function KA(t){return typeof t=="number"&&t>=0&&t!==1/0}function Uq(t,e){return Math.max(t+(e||0)-Date.now(),0)}function bo(t,e){return typeof t=="function"?t(e):t}function Fi(t,e){return typeof t=="function"?t(e):t}function GN(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:a,stale:o}=t;if(a){if(r){if(e.queryHash!==FC(a,e.options))return!1}else if(!sf(e.queryKey,a))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||i&&i!==e.state.fetchStatus||s&&!s(e))}function XN(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(Nl(e.options.mutationKey)!==Nl(s))return!1}else if(!sf(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function FC(t,e){return(e?.queryKeyHashFn||Nl)(t)}function Nl(t){return JSON.stringify(t,(e,n)=>YA(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function sf(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>sf(t[n],e[n])):!1}var xee=Object.prototype.hasOwnProperty;function Mq(t,e,n=0){if(t===e)return t;if(n>500)return e;const r=KN(t)&&KN(e);if(!r&&!(YA(t)&&YA(e)))return e;const s=(r?t:Object.keys(t)).length,a=r?e:Object.keys(e),o=a.length,l=r?new Array(o):{};let c=0;for(let d=0;d<o;d++){const h=r?d:a[d],p=t[h],g=e[h];if(p===g){l[h]=p,(r?d<s:xee.call(t,h))&&c++;continue}if(p===null||g===null||typeof p!="object"||typeof g!="object"){l[h]=g;continue}const v=Mq(p,g,n+1);l[h]=v,v===p&&c++}return s===o&&c===s?t:l}function Dy(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function KN(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function YA(t){if(!YN(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!YN(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function YN(t){return Object.prototype.toString.call(t)==="[object Object]"}function wee(t){return new Promise(e=>{bl.setTimeout(e,t)})}function ZA(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?Mq(t,e):e}function _ee(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function Dee(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var IC=Symbol();function Oq(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===IC?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function PC(t,e){return typeof t=="function"?t(...e):!!t}function Eee(t,e,n){let r=!1,i;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(i??=e(),r||(r=!0,i.aborted?n():i.addEventListener("abort",n,{once:!0})),i)}),t}var See=class extends Yu{#e;#t;#r;constructor(){super(),this.#r=t=>{if(!Ol&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#r=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},LC=new See;function JA(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}var Aee=bee;function Tee(){let t=[],e=0,n=o=>{o()},r=o=>{o()},i=Aee;const s=o=>{e?t.push(o):i(()=>{n(o)})},a=()=>{const o=t;t=[],o.length&&i(()=>{r(()=>{o.forEach(l=>{n(l)})})})};return{batch:o=>{let l;e++;try{l=o()}finally{e--,e||a()}return l},batchCalls:o=>(...l)=>{s(()=>{o(...l)})},schedule:s,setNotifyFunction:o=>{n=o},setBatchNotifyFunction:o=>{r=o},setScheduler:o=>{i=o}}}var Wn=Tee(),Cee=class extends Yu{#e=!0;#t;#r;constructor(){super(),this.#r=t=>{if(!Ol&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#r=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},Ey=new Cee;function kee(t){return Math.min(1e3*2**t,3e4)}function Nq(t){return(t??"online")==="online"?Ey.isOnline():!0}var QA=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function Fq(t){let e=!1,n=0,r;const i=JA(),s=()=>i.status!=="pending",a=y=>{if(!s()){const b=new QA(y);p(b),t.onCancel?.(b)}},o=()=>{e=!0},l=()=>{e=!1},c=()=>LC.isFocused()&&(t.networkMode==="always"||Ey.isOnline())&&t.canRun(),d=()=>Nq(t.networkMode)&&t.canRun(),h=y=>{s()||(r?.(),i.resolve(y))},p=y=>{s()||(r?.(),i.reject(y))},g=()=>new Promise(y=>{r=b=>{(s()||c())&&y(b)},t.onPause?.()}).then(()=>{r=void 0,s()||t.onContinue?.()}),v=()=>{if(s())return;let y;const b=n===0?t.initialPromise:void 0;try{y=b??t.fn()}catch(x){y=Promise.reject(x)}Promise.resolve(y).then(h).catch(x=>{if(s())return;const w=t.retry??(Ol?0:3),D=t.retryDelay??kee,E=typeof D=="function"?D(n,x):D,A=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,x);if(e||!A){p(x);return}n++,t.onFail?.(n,x),wee(E).then(()=>c()?void 0:g()).then(()=>{e?p(x):v()})})};return{promise:i,status:()=>i.status,cancel:a,continue:()=>(r?.(),i),cancelRetry:o,continueRetry:l,canStart:d,start:()=>(d()?v():g().then(v),i)}}var Iq=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),KA(this.gcTime)&&(this.#e=bl.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Ol?1/0:300*1e3))}clearGcTimeout(){this.#e&&(bl.clearTimeout(this.#e),this.#e=void 0)}},Ree=class extends Iq{#e;#t;#r;#n;#i;#a;#s;constructor(t){super(),this.#s=!1,this.#a=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#n=t.client,this.#r=this.#n.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=JN(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#i?.promise}setOptions(t){if(this.options={...this.#a,...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const e=JN(this.options);e.data!==void 0&&(this.setState(ZN(e.data,e.dataUpdatedAt)),this.#e=e)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(t,e){const n=ZA(this.state.data,t,this.options);return this.#o({data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(t,e){this.#o({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#i?.promise;return this.#i?.cancel(t),e?e.then(wr).catch(wr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>Fi(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===IC||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>bo(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Uq(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#i?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#i?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#i&&(this.#s?this.#i.cancel({revert:!0}):this.#i.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#o({type:"invalidate"})}async fetch(t,e){if(this.state.fetchStatus!=="idle"&&this.#i?.status()!=="rejected"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#i)return this.#i.continueRetry(),this.#i.promise}if(t&&this.setOptions(t),!this.options.queryFn){const o=this.observers.find(l=>l.options.queryFn);o&&this.setOptions(o.options)}const n=new AbortController,r=o=>{Object.defineProperty(o,"signal",{enumerable:!0,get:()=>(this.#s=!0,n.signal)})},i=()=>{const o=Oq(this.options,e),c=(()=>{const d={client:this.#n,queryKey:this.queryKey,meta:this.meta};return r(d),d})();return this.#s=!1,this.options.persister?this.options.persister(o,c,this):o(c)},a=(()=>{const o={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#n,state:this.state,fetchFn:i};return r(o),o})();this.options.behavior?.onFetch(a,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==a.fetchOptions?.meta)&&this.#o({type:"fetch",meta:a.fetchOptions?.meta}),this.#i=Fq({initialPromise:e?.initialPromise,fn:a.fetchFn,onCancel:o=>{o instanceof QA&&o.revert&&this.setState({...this.#t,fetchStatus:"idle"}),n.abort()},onFail:(o,l)=>{this.#o({type:"failed",failureCount:o,error:l})},onPause:()=>{this.#o({type:"pause"})},onContinue:()=>{this.#o({type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0});try{const o=await this.#i.start();if(o===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(o),this.#r.config.onSuccess?.(o,this),this.#r.config.onSettled?.(o,this.state.error,this),o}catch(o){if(o instanceof QA){if(o.silent)return this.#i.promise;if(o.revert){if(this.state.data===void 0)throw o;return this.state.data}}throw this.#o({type:"error",error:o}),this.#r.config.onError?.(o,this),this.#r.config.onSettled?.(this.state.data,o,this),o}finally{this.scheduleGc()}}#o(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...Pq(n.data,this.options),fetchMeta:t.meta??null};case"success":const r={...n,...ZN(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=t.manual?r:void 0,r;case"error":const i=t.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),Wn.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:t})})}};function Pq(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Nq(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function ZN(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function JN(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Uee=class extends Yu{constructor(t,e){super(),this.options=e,this.#e=t,this.#o=null,this.#s=JA(),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#r=void 0;#n=void 0;#i;#a;#s;#o;#c;#l;#h;#d;#f;#m;#g=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),QN(this.#t,this.options)?this.#u():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return eT(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return eT(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#E(),this.#D(),this.#t.removeObserver(this)}setOptions(t){const e=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Fi(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#x(),this.#t.setOptions(this.options),e._defaulted&&!Dy(this.options,e)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const r=this.hasListeners();r&&eF(this.#t,n,this.options,e)&&this.#u(),this.updateResult(),r&&(this.#t!==n||Fi(this.options.enabled,this.#t)!==Fi(e.enabled,this.#t)||bo(this.options.staleTime,this.#t)!==bo(e.staleTime,this.#t))&&this.#p();const i=this.#y();r&&(this.#t!==n||Fi(this.options.enabled,this.#t)!==Fi(e.enabled,this.#t)||i!==this.#m)&&this.#v(i)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),n=this.createResult(e,t);return Oee(this,n)&&(this.#n=n,this.#a=this.options,this.#i=this.#t.state),n}getCurrentResult(){return this.#n}trackResult(t,e){return new Proxy(t,{get:(n,r)=>(this.trackProp(r),e?.(r),r==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#s.status==="pending"&&this.#s.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,r))})}trackProp(t){this.#g.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),n=this.#e.getQueryCache().build(this.#e,e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return this.#u({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#u(t){this.#x();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(wr)),e}#p(){this.#E();const t=bo(this.options.staleTime,this.#t);if(Ol||this.#n.isStale||!KA(t))return;const n=Uq(this.#n.dataUpdatedAt,t)+1;this.#d=bl.setTimeout(()=>{this.#n.isStale||this.updateResult()},n)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(t){this.#D(),this.#m=t,!(Ol||Fi(this.options.enabled,this.#t)===!1||!KA(this.#m)||this.#m===0)&&(this.#f=bl.setInterval(()=>{(this.options.refetchIntervalInBackground||LC.isFocused())&&this.#u()},this.#m))}#b(){this.#p(),this.#v(this.#y())}#E(){this.#d&&(bl.clearTimeout(this.#d),this.#d=void 0)}#D(){this.#f&&(bl.clearInterval(this.#f),this.#f=void 0)}createResult(t,e){const n=this.#t,r=this.options,i=this.#n,s=this.#i,a=this.#a,l=t!==n?t.state:this.#r,{state:c}=t;let d={...c},h=!1,p;if(e._optimisticResults){const M=this.hasListeners(),R=!M&&QN(t,e),O=M&&eF(t,n,e,r);(R||O)&&(d={...d,...Pq(c.data,t.options)}),e._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:g,errorUpdatedAt:v,status:y}=d;p=d.data;let b=!1;if(e.placeholderData!==void 0&&p===void 0&&y==="pending"){let M;i?.isPlaceholderData&&e.placeholderData===a?.placeholderData?(M=i.data,b=!0):M=typeof e.placeholderData=="function"?e.placeholderData(this.#h?.state.data,this.#h):e.placeholderData,M!==void 0&&(y="success",p=ZA(i?.data,M,e),h=!0)}if(e.select&&p!==void 0&&!b)if(i&&p===s?.data&&e.select===this.#c)p=this.#l;else try{this.#c=e.select,p=e.select(p),p=ZA(i?.data,p,e),this.#l=p,this.#o=null}catch(M){this.#o=M}this.#o&&(g=this.#o,p=this.#l,v=Date.now(),y="error");const x=d.fetchStatus==="fetching",w=y==="pending",D=y==="error",E=w&&x,A=p!==void 0,T={status:y,fetchStatus:d.fetchStatus,isPending:w,isSuccess:y==="success",isError:D,isInitialLoading:E,isLoading:E,data:p,dataUpdatedAt:d.dataUpdatedAt,error:g,errorUpdatedAt:v,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>l.dataUpdateCount||d.errorUpdateCount>l.errorUpdateCount,isFetching:x,isRefetching:x&&!w,isLoadingError:D&&!A,isPaused:d.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:D&&A,isStale:BC(t,e),refetch:this.refetch,promise:this.#s,isEnabled:Fi(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const M=T.data!==void 0,R=T.status==="error"&&!M,O=q=>{R?q.reject(T.error):M&&q.resolve(T.data)},z=()=>{const q=this.#s=T.promise=JA();O(q)},F=this.#s;switch(F.status){case"pending":t.queryHash===n.queryHash&&O(F);break;case"fulfilled":(R||T.data!==F.value)&&z();break;case"rejected":(!R||T.error!==F.reason)&&z();break}}return T}updateResult(){const t=this.#n,e=this.createResult(this.#t,this.options);if(this.#i=this.#t.state,this.#a=this.options,this.#i.data!==void 0&&(this.#h=this.#t),Dy(e,t))return;this.#n=e;const n=()=>{if(!t)return!0;const{notifyOnChangeProps:r}=this.options,i=typeof r=="function"?r():r;if(i==="all"||!i&&!this.#g.size)return!0;const s=new Set(i??this.#g);return this.options.throwOnError&&s.add("error"),Object.keys(this.#n).some(a=>{const o=a;return this.#n[o]!==t[o]&&s.has(o)})};this.#A({listeners:n()})}#x(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#r=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#A(t){Wn.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#n)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function Mee(t,e){return Fi(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function QN(t,e){return Mee(t,e)||t.state.data!==void 0&&eT(t,e,e.refetchOnMount)}function eT(t,e,n){if(Fi(e.enabled,t)!==!1&&bo(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&BC(t,e)}return!1}function eF(t,e,n,r){return(t!==e||Fi(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&BC(t,n)}function BC(t,e){return Fi(e.enabled,t)!==!1&&t.isStaleByTime(bo(e.staleTime,t))}function Oee(t,e){return!Dy(t.getCurrentResult(),e)}function tF(t){return{onFetch:(e,n)=>{const r=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,s=e.state.data?.pages||[],a=e.state.data?.pageParams||[];let o={pages:[],pageParams:[]},l=0;const c=async()=>{let d=!1;const h=v=>{Eee(v,()=>e.signal,()=>d=!0)},p=Oq(e.options,e.fetchOptions),g=async(v,y,b)=>{if(d)return Promise.reject();if(y==null&&v.pages.length)return Promise.resolve(v);const w=(()=>{const S={client:e.client,queryKey:e.queryKey,pageParam:y,direction:b?"backward":"forward",meta:e.options.meta};return h(S),S})(),D=await p(w),{maxPages:E}=e.options,A=b?Dee:_ee;return{pages:A(v.pages,D,E),pageParams:A(v.pageParams,y,E)}};if(i&&s.length){const v=i==="backward",y=v?Nee:nF,b={pages:s,pageParams:a},x=y(r,b);o=await g(b,x,v)}else{const v=t??s.length;do{const y=l===0?a[0]??r.initialPageParam:nF(r,o);if(l>0&&y==null)break;o=await g(o,y),l++}while(l<v)}return o};e.options.persister?e.fetchFn=()=>e.options.persister?.(c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=c}}}function nF(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function Nee(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var Fee=class extends Iq{#e;#t;#r;#n;constructor(t){super(),this.#e=t.client,this.mutationId=t.mutationId,this.#r=t.mutationCache,this.#t=[],this.state=t.state||Lq(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(e=>e!==t),this.scheduleGc(),this.#r.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#r.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#i({type:"continue"})},n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#n=Fq({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(s,a)=>{this.#i({type:"failed",failureCount:s,error:a})},onPause:()=>{this.#i({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#r.canRun(this)});const r=this.state.status==="pending",i=!this.#n.canStart();try{if(r)e();else{this.#i({type:"pending",variables:t,isPaused:i}),this.#r.config.onMutate&&await this.#r.config.onMutate(t,this,n);const a=await this.options.onMutate?.(t,n);a!==this.state.context&&this.#i({type:"pending",context:a,variables:t,isPaused:i})}const s=await this.#n.start();return await this.#r.config.onSuccess?.(s,t,this.state.context,this,n),await this.options.onSuccess?.(s,t,this.state.context,n),await this.#r.config.onSettled?.(s,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(s,null,t,this.state.context,n),this.#i({type:"success",data:s}),s}catch(s){try{await this.#r.config.onError?.(s,t,this.state.context,this,n)}catch(a){Promise.reject(a)}try{await this.options.onError?.(s,t,this.state.context,n)}catch(a){Promise.reject(a)}try{await this.#r.config.onSettled?.(void 0,s,this.state.variables,this.state.context,this,n)}catch(a){Promise.reject(a)}try{await this.options.onSettled?.(void 0,s,t,this.state.context,n)}catch(a){Promise.reject(a)}throw this.#i({type:"error",error:s}),s}finally{this.#r.runNext(this)}}#i(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),Wn.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(t)}),this.#r.notify({mutation:this,type:"updated",action:t})})}};function Lq(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Iee=class extends Yu{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#r=0}#e;#t;#r;build(t,e,n){const r=new Fee({client:t,mutationCache:this,mutationId:++this.#r,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){this.#e.add(t);const e=zg(t);if(typeof e=="string"){const n=this.#t.get(e);n?n.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=zg(t);if(typeof e=="string"){const n=this.#t.get(e);if(n)if(n.length>1){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}else n[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=zg(t);if(typeof e=="string"){const r=this.#t.get(e)?.find(i=>i.state.status==="pending");return!r||r===t}else return!0}runNext(t){const e=zg(t);return typeof e=="string"?this.#t.get(e)?.find(r=>r!==t&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Wn.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>XN(e,n))}findAll(t={}){return this.getAll().filter(e=>XN(t,e))}notify(t){Wn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return Wn.batch(()=>Promise.all(t.map(e=>e.continue().catch(wr))))}};function zg(t){return t.options.scope?.id}var Pee=class extends Yu{#e;#t=void 0;#r;#n;constructor(e,n){super(),this.#e=e,this.setOptions(n),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=this.#e.defaultMutationOptions(e),Dy(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),n?.mutationKey&&this.options.mutationKey&&Nl(n.mutationKey)!==Nl(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(e){this.#i(),this.#a(e)}getCurrentResult(){return this.#t}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#i(),this.#a()}mutate(e,n){return this.#n=n,this.#r?.removeObserver(this),this.#r=this.#e.getMutationCache().build(this.#e,this.options),this.#r.addObserver(this),this.#r.execute(e)}#i(){const e=this.#r?.state??Lq();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#a(e){Wn.batch(()=>{if(this.#n&&this.hasListeners()){const n=this.#t.variables,r=this.#t.context,i={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};if(e?.type==="success"){try{this.#n.onSuccess?.(e.data,n,r,i)}catch(s){Promise.reject(s)}try{this.#n.onSettled?.(e.data,null,n,r,i)}catch(s){Promise.reject(s)}}else if(e?.type==="error"){try{this.#n.onError?.(e.error,n,r,i)}catch(s){Promise.reject(s)}try{this.#n.onSettled?.(void 0,e.error,n,r,i)}catch(s){Promise.reject(s)}}}this.listeners.forEach(n=>{n(this.#t)})})}},Lee=class extends Yu{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const r=e.queryKey,i=e.queryHash??FC(r,e);let s=this.get(i);return s||(s=new Ree({client:t,queryKey:r,queryHash:i,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(s)),s}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Wn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>GN(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>GN(t,n)):e}notify(t){Wn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){Wn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Wn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Bee=class{#e;#t;#r;#n;#i;#a;#s;#o;constructor(t={}){this.#e=t.queryCache||new Lee,this.#t=t.mutationCache||new Iee,this.#r=t.defaultOptions||{},this.#n=new Map,this.#i=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#s=LC.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#o=Ey.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#s?.(),this.#s=void 0,this.#o?.(),this.#o=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(bo(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=this.#e.get(r.queryHash)?.state.data,a=vee(e,s);if(a!==void 0)return this.#e.build(this,r).setData(a,{...n,manual:!0})}setQueriesData(t,e,n){return Wn.batch(()=>this.#e.findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;Wn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e;return Wn.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Wn.batch(()=>this.#e.findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(wr).catch(wr)}invalidateQueries(t,e={}){return Wn.batch(()=>(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Wn.batch(()=>this.#e.findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(wr)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(wr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(bo(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(wr).catch(wr)}fetchInfiniteQuery(t){return t.behavior=tF(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(wr).catch(wr)}ensureInfiniteQueryData(t){return t.behavior=tF(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Ey.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#r}setDefaultOptions(t){this.#r=t}setQueryDefaults(t,e){this.#n.set(Nl(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#n.values()],n={};return e.forEach(r=>{sf(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){this.#i.set(Nl(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#i.values()],n={};return e.forEach(r=>{sf(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#r.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=FC(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===IC&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#r.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},Bq=V.createContext(void 0),Gl=t=>{const e=V.useContext(Bq);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},jee=({client:t,children:e})=>(V.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),I.jsx(Bq.Provider,{value:t,children:e})),jq=V.createContext(!1),zee=()=>V.useContext(jq);jq.Provider;function qee(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Wee=V.createContext(qee()),Vee=()=>V.useContext(Wee),Hee=(t,e,n)=>{const r=n?.state.error&&typeof t.throwOnError=="function"?PC(t.throwOnError,[n.state.error,n]):t.throwOnError;(t.suspense||t.experimental_prefetchInRender||r)&&(e.isReset()||(t.retryOnMount=!1))},$ee=t=>{V.useEffect(()=>{t.clearReset()},[t])},Gee=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(i&&t.data===void 0||PC(n,[t.error,r])),Xee=t=>{if(t.suspense){const n=i=>i==="static"?i:Math.max(i??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...i)=>n(r(...i)):n(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},Kee=(t,e)=>t.isLoading&&t.isFetching&&!e,Yee=(t,e)=>t?.suspense&&e.isPending,rF=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function Zee(t,e,n){const r=zee(),i=Vee(),s=Gl(),a=s.defaultQueryOptions(t);s.getDefaultOptions().queries?._experimental_beforeQuery?.(a);const o=s.getQueryCache().get(a.queryHash);a._optimisticResults=r?"isRestoring":"optimistic",Xee(a),Hee(a,i,o),$ee(i);const l=!s.getQueryCache().get(a.queryHash),[c]=V.useState(()=>new e(s,a)),d=c.getOptimisticResult(a),h=!r&&t.subscribed!==!1;if(V.useSyncExternalStore(V.useCallback(p=>{const g=h?c.subscribe(Wn.batchCalls(p)):wr;return c.updateResult(),g},[c,h]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),V.useEffect(()=>{c.setOptions(a)},[a,c]),Yee(a,d))throw rF(a,c,i);if(Gee({result:d,errorResetBoundary:i,throwOnError:a.throwOnError,query:o,suspense:a.suspense}))throw d.error;return s.getDefaultOptions().queries?._experimental_afterQuery?.(a,d),a.experimental_prefetchInRender&&!Ol&&Kee(d,r)&&(l?rF(a,c,i):o?.promise)?.catch(wr).finally(()=>{c.updateResult()}),a.notifyOnChangeProps?d:c.trackResult(d)}function Hf(t,e){return Zee(t,Uee)}function Zu(t,e){const n=Gl(),[r]=V.useState(()=>new Pee(n,t));V.useEffect(()=>{r.setOptions(t)},[r,t]);const i=V.useSyncExternalStore(V.useCallback(a=>r.subscribe(Wn.batchCalls(a)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=V.useCallback((a,o)=>{r.mutate(a,o).catch(wr)},[r]);if(i.error&&PC(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}const Jee=new Bee({defaultOptions:{queries:{staleTime:1e3*60*5,retry:1}}});function Qee({children:t}){return I.jsx(jee,{client:Jee,children:t})}var As=function(){return As=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},As.apply(this,arguments)};function Ju(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function ete(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(d){try{c(r.next(d))}catch(h){a(h)}}function l(d){try{c(r.throw(d))}catch(h){a(h)}}function c(d){d.done?s(d.value):i(d.value).then(o,l)}c((r=r.apply(t,e||[])).next())})}function tte(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}const nte=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class jC extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class rte extends jC{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class iF extends jC{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class sF extends jC{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var tT;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(tT||(tT={}));class ite{constructor(e,{headers:n={},customFetch:r,region:i=tT.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=nte(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return ete(this,arguments,void 0,function*(n,r={}){var i;let s,a;try{const{headers:o,method:l,body:c,signal:d,timeout:h}=r;let p={},{region:g}=r;g||(g=this.region);const v=new URL(`${this.url}/${n}`);g&&g!=="any"&&(p["x-region"]=g,v.searchParams.set("forceFunctionRegion",g));let y;c&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",y=c):typeof c=="string"?(p["Content-Type"]="text/plain",y=c):typeof FormData<"u"&&c instanceof FormData?y=c:(p["Content-Type"]="application/json",y=JSON.stringify(c)):c&&typeof c!="string"&&!(typeof Blob<"u"&&c instanceof Blob)&&!(c instanceof ArrayBuffer)&&!(typeof FormData<"u"&&c instanceof FormData)?y=JSON.stringify(c):y=c;let b=d;h&&(a=new AbortController,s=setTimeout(()=>a.abort(),h),d?(b=a.signal,d.addEventListener("abort",()=>a.abort())):b=a.signal);const x=yield this.fetch(v.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),o),body:y,signal:b}).catch(A=>{throw new rte(A)}),w=x.headers.get("x-relay-error");if(w&&w==="true")throw new iF(x);if(!x.ok)throw new sF(x);let D=((i=x.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),E;return D==="application/json"?E=yield x.json():D==="application/octet-stream"||D==="application/pdf"?E=yield x.blob():D==="text/event-stream"?E=x:D==="multipart/form-data"?E=yield x.formData():E=yield x.text(),{data:E,error:null,response:x}}catch(o){return{data:null,error:o,response:o instanceof sF||o instanceof iF?o.context:void 0}}finally{s&&clearTimeout(s)}})}}var ste=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},ate=class{constructor(t){var e,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{let a=null,o=null,l=null,c=s.status,d=s.statusText;if(s.ok){var h,p;if(n.method!=="HEAD"){var g;const x=await s.text();x===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((g=n.headers.get("Accept"))===null||g===void 0)&&g.includes("application/vnd.pgrst.plan+text"))?o=x:o=JSON.parse(x))}const y=(h=n.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),b=(p=s.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");y&&b&&b.length>1&&(l=parseInt(b[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(o)&&(o.length>1?(a={code:"PGRST116",details:`Results contain ${o.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},o=null,l=null,c=406,d="Not Acceptable"):o.length===1?o=o[0]:o=null)}else{var v;const y=await s.text();try{a=JSON.parse(y),Array.isArray(a)&&s.status===404&&(o=[],a=null,c=200,d="OK")}catch{s.status===404&&y===""?(c=204,d="No Content"):a={message:y}}if(a&&n.isMaybeSingle&&(!(a==null||(v=a.details)===null||v===void 0)&&v.includes("0 rows"))&&(a=null,c=200,d="OK"),a&&n.shouldThrowOnError)throw new ste(a)}return{error:a,data:o,count:l,status:c,statusText:d}});return this.shouldThrowOnError||(i=i.catch(s=>{var a;let o="";const l=s?.cause;if(l){var c,d,h,p;const v=(c=l?.message)!==null&&c!==void 0?c:"",y=(d=l?.code)!==null&&d!==void 0?d:"";o=`${(h=s?.name)!==null&&h!==void 0?h:"FetchError"}: ${s?.message}`,o+=`

Caused by: ${(p=l?.name)!==null&&p!==void 0?p:"Error"}: ${v}`,y&&(o+=` (${y})`),l?.stack&&(o+=`
${l.stack}`)}else{var g;o=(g=s?.stack)!==null&&g!==void 0?g:""}return{error:{message:`${(a=s?.name)!==null&&a!==void 0?a:"FetchError"}: ${s?.message}`,details:o,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(t,e)}returns(){return this}overrideTypes(){return this}},ote=class extends ate{select(t){let e=!1;const n=(t??"*").split("").map(r=>/\s/.test(r)&&!e?"":(r==='"'&&(e=!e),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}={}){const s=i?`${i}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${t}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"offset":`${r}.offset`,s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(s,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:s="text"}={}){var a;const o=[t?"analyze":null,e?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${l}"; options=${o};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const aF=new RegExp("[,()]");var lu=class extends ote{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&aF.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}notIn(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&aF.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`not.in.(${n})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const s=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${s}.${e}`),this}match(t){return Object.entries(t).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}},lte=class{constructor(t,{headers:e={},schema:n,fetch:r}){this.url=t,this.headers=new Headers(e),this.schema=n,this.fetch=r}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:n=!1,count:r}=e??{},i=n?"HEAD":"GET";let s=!1;const a=(t??"*").split("").map(c=>/\s/.test(c)&&!s?"":(c==='"'&&(s=!s),c)).join(""),{url:o,headers:l}=this.cloneRequestState();return o.searchParams.set("select",a),r&&l.append("Prefer",`count=${r}`),new lu({method:i,url:o,headers:l,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:n=!0}={}){var r;const i="POST",{url:s,headers:a}=this.cloneRequestState();if(e&&a.append("Prefer",`count=${e}`),n||a.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);s.searchParams.set("columns",l.join(","))}}return new lu({method:i,url:s,headers:a,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}={}){var s;const a="POST",{url:o,headers:l}=this.cloneRequestState();if(l.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&o.searchParams.set("on_conflict",e),r&&l.append("Prefer",`count=${r}`),i||l.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(c.length>0){const d=[...new Set(c)].map(h=>`"${h}"`);o.searchParams.set("columns",d.join(","))}}return new lu({method:a,url:o,headers:l,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}update(t,{count:e}={}){var n;const r="PATCH",{url:i,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new lu({method:r,url:i,headers:s,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var e;const n="DELETE",{url:r,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new lu({method:n,url:r,headers:i,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},cte=class zq{constructor(e,{headers:n={},schema:r,fetch:i}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=i}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new lte(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new zq(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:i=!1,count:s}={}){var a;let o;const l=new URL(`${this.url}/rpc/${e}`);let c;const d=g=>g!==null&&typeof g=="object"&&(!Array.isArray(g)||g.some(d)),h=r&&Object.values(n).some(d);h?(o="POST",c=n):r||i?(o=r?"HEAD":"GET",Object.entries(n).filter(([g,v])=>v!==void 0).map(([g,v])=>[g,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([g,v])=>{l.searchParams.append(g,v)})):(o="POST",c=n);const p=new Headers(this.headers);return h?p.set("Prefer",s?`count=${s},return=minimal`:"return=minimal"):s&&p.set("Prefer",`count=${s}`),new lu({method:o,url:l,headers:p,schema:this.schemaName,body:c,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};class ute{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const r=n.versions;if(r&&r.node){const i=r.node,s=parseInt(i.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const dte="2.93.3",hte=`realtime-js/${dte}`,fte="1.0.0",qq="2.0.0",oF=qq,nT=1e4,pte=1e3,gte=100;var co;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(co||(co={}));var zn;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(zn||(zn={}));var rs;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(rs||(rs={}));var rT;(function(t){t.websocket="websocket"})(rT||(rT={}));var ml;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ml||(ml={}));class mte{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,r;const i=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var n,r;const i=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},a=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(e,n,r){var i,s;const a=e.topic,o=(i=e.ref)!==null&&i!==void 0?i:"",l=(s=e.join_ref)!==null&&s!==void 0?s:"",c=e.payload.event,d=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},h=Object.keys(d).length===0?"":JSON.stringify(d);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`ref length ${o.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const p=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+o.length+a.length+c.length+h.length,g=new ArrayBuffer(this.HEADER_LENGTH+p);let v=new DataView(g),y=0;v.setUint8(y++,this.KINDS.userBroadcastPush),v.setUint8(y++,l.length),v.setUint8(y++,o.length),v.setUint8(y++,a.length),v.setUint8(y++,c.length),v.setUint8(y++,h.length),v.setUint8(y++,n),Array.from(l,x=>v.setUint8(y++,x.charCodeAt(0))),Array.from(o,x=>v.setUint8(y++,x.charCodeAt(0))),Array.from(a,x=>v.setUint8(y++,x.charCodeAt(0))),Array.from(c,x=>v.setUint8(y++,x.charCodeAt(0))),Array.from(h,x=>v.setUint8(y++,x.charCodeAt(0)));var b=new Uint8Array(g.byteLength+r.byteLength);return b.set(new Uint8Array(g),0),b.set(new Uint8Array(r),g.byteLength),b.buffer}decode(e,n){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return n(r)}if(typeof e=="string"){const r=JSON.parse(e),[i,s,a,o,l]=r;return n({join_ref:i,ref:s,topic:a,event:o,payload:l})}return n({})}_binaryDecode(e){const n=new DataView(e),r=n.getUint8(0),i=new TextDecoder;if(r===this.KINDS.userBroadcast)return this._decodeUserBroadcast(e,n,i)}_decodeUserBroadcast(e,n,r){const i=n.getUint8(1),s=n.getUint8(2),a=n.getUint8(3),o=n.getUint8(4);let l=this.HEADER_LENGTH+4;const c=r.decode(e.slice(l,l+i));l=l+i;const d=r.decode(e.slice(l,l+s));l=l+s;const h=r.decode(e.slice(l,l+a));l=l+a;const p=e.slice(l,e.byteLength),g=o===this.JSON_ENCODING?JSON.parse(r.decode(p)):p,v={type:this.BROADCAST_EVENT,event:d,payload:g};return a>0&&(v.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:v}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([r])=>n.includes(r)))}}let Wq=class{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var Qt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Qt||(Qt={}));const lF=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((s,a)=>(s[a]=yte(a,t,e,i),s),{}):{}},yte=(t,e,n,r)=>{const i=e.find(o=>o.name===t),s=i?.type,a=n[t];return s&&!r.includes(s)?Vq(s,a):iT(a)},Vq=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return wte(e,n)}switch(t){case Qt.bool:return bte(e);case Qt.float4:case Qt.float8:case Qt.int2:case Qt.int4:case Qt.int8:case Qt.numeric:case Qt.oid:return vte(e);case Qt.json:case Qt.jsonb:return xte(e);case Qt.timestamp:return _te(e);case Qt.abstime:case Qt.date:case Qt.daterange:case Qt.int4range:case Qt.int8range:case Qt.money:case Qt.reltime:case Qt.text:case Qt.time:case Qt.timestamptz:case Qt.timetz:case Qt.tsrange:case Qt.tstzrange:return iT(e);default:return iT(e)}},iT=t=>t,bte=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},vte=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},xte=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},wte=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let s;const a=t.slice(1,n);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(o=>Vq(e,o))}return t},_te=t=>typeof t=="string"?t.replace(" ","T"):t,Hq=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class ix{constructor(e,n,r={},i=nT){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var cF;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(cF||(cF={}));class Xh{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Xh.syncState(this.state,i,s,a),this.pendingDiffs.forEach(l=>{this.state=Xh.syncDiff(this.state,l,s,a)}),this.pendingDiffs=[],o()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Xh.syncDiff(this.state,i,s,a),o())}),this.onJoin((i,s,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:a})}),this.onLeave((i,s,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const s=this.cloneDeep(e),a=this.transformState(n),o={},l={};return this.map(s,(c,d)=>{a[c]||(l[c]=d)}),this.map(a,(c,d)=>{const h=s[c];if(h){const p=d.map(b=>b.presence_ref),g=h.map(b=>b.presence_ref),v=d.filter(b=>g.indexOf(b.presence_ref)<0),y=h.filter(b=>p.indexOf(b.presence_ref)<0);v.length>0&&(o[c]=v),y.length>0&&(l[c]=y)}else o[c]=d}),this.syncDiff(s,{joins:o,leaves:l},r,i)}static syncDiff(e,n,r,i){const{joins:s,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(o,l)=>{var c;const d=(c=e[o])!==null&&c!==void 0?c:[];if(e[o]=this.cloneDeep(l),d.length>0){const h=e[o].map(g=>g.presence_ref),p=d.filter(g=>h.indexOf(g.presence_ref)<0);e[o].unshift(...p)}r(o,d,l)}),this.map(a,(o,l)=>{let c=e[o];if(!c)return;const d=l.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),e[o]=c,i(o,c,l),c.length===0&&delete e[o]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var uF;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(uF||(uF={}));var Kh;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Kh||(Kh={}));var da;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(da||(da={}));class gu{constructor(e,n={config:{}},r){var i,s;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=zn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new ix(this,rs.join,this.params,this.timeout),this.rejoinTimer=new Wq(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=zn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=zn.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=zn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=zn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=zn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(rs.reply,{},(a,o)=>{this._trigger(this._replyEventName(o),a)}),this.presence=new Xh(this),this.broadcastEndpointURL=Hq(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==zn.closed){const{config:{broadcast:a,presence:o,private:l}}=this.params,c=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(g=>g.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[Kh.PRESENCE]&&this.bindings[Kh.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,h={},p={broadcast:a,presence:Object.assign(Object.assign({},o),{enabled:d}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(g=>e?.(da.CHANNEL_ERROR,g)),this._onClose(()=>e?.(da.CLOSED)),this.updateJoinPayload(Object.assign({config:p},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:g})=>{var v;if(this.socket._isManualToken()||this.socket.setAuth(),g===void 0){e?.(da.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,b=(v=y?.length)!==null&&v!==void 0?v:0,x=[];for(let w=0;w<b;w++){const D=y[w],{filter:{event:E,schema:A,table:S,filter:T}}=D,M=g&&g[w];if(M&&M.event===E&&gu.isFilterValueEqual(M.schema,A)&&gu.isFilterValueEqual(M.table,S)&&gu.isFilterValueEqual(M.filter,T))x.push(Object.assign(Object.assign({},D),{id:M.id}));else{this.unsubscribe(),this.state=zn.errored,e?.(da.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,e&&e(da.SUBSCRIBED);return}}).receive("error",g=>{this.state=zn.errored,e?.(da.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{e?.(da.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===zn.joined&&e===Kh.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var i;if(n==null)return Promise.reject("Payload is required for httpSend()");const s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(o.status===202)return{success:!0};let l=o.statusText;try{const c=await o.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:a}=e,o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,o,l;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),c.receive("ok",()=>s("ok")),c.receive("error",()=>s("error")),c.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=zn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(rs.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new ix(this,rs.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=zn.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),a=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),a}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new ix(this,e,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>gte){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,s;const a=e.toLocaleLowerCase(),{close:o,error:l,leave:c,join:d}=rs;if(r&&[o,l,c,d].indexOf(a)>=0&&r!==this._joinRef())return;let p=this._onMessage(a,n,r);if(n&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(g=>{var v,y,b;return((v=g.filter)===null||v===void 0?void 0:v.event)==="*"||((b=(y=g.filter)===null||y===void 0?void 0:y.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===a}).map(g=>g.callback(p,r)):(s=this.bindings[a])===null||s===void 0||s.filter(g=>{var v,y,b,x,w,D;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in g){const E=g.id,A=(v=g.filter)===null||v===void 0?void 0:v.event;return E&&((y=n.ids)===null||y===void 0?void 0:y.includes(E))&&(A==="*"||A?.toLocaleLowerCase()===((b=n.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const E=(w=(x=g?.filter)===null||x===void 0?void 0:x.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return E==="*"||E===((D=n?.event)===null||D===void 0?void 0:D.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===a}).map(g=>{if(typeof p=="object"&&"ids"in p){const v=p.data,{schema:y,table:b,commit_timestamp:x,type:w,errors:D}=v;p=Object.assign(Object.assign({},{schema:y,table:b,commit_timestamp:x,eventType:w,new:{},old:{},errors:D}),this._getPayloadRecords(v))}g.callback(p,r)})}_isClosed(){return this.state===zn.closed}_isJoined(){return this.state===zn.joined}_isJoining(){return this.state===zn.joining}_isLeaving(){return this.state===zn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&gu.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(rs.close,{},e)}_onError(e){this._on(rs.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=zn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=lF(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=lF(e.columns,e.old_record)),n}}const sx=()=>{},qg={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Dte=[1e3,2e3,5e3,1e4],Ete=1e4,Ste=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Ate{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=nT,this.transport=null,this.heartbeatIntervalMs=qg.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=sx,this.ref=0,this.reconnectTimer=null,this.vsn=oF,this.logger=sx,this.conn=null,this.sendBuffer=[],this.serializer=new mte,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...s)=>i(...s):(...s)=>fetch(...s),!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${rT.websocket}`,this.httpEndpoint=Hq(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=ute.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case co.connecting:return ml.Connecting;case co.open:return ml.Open;case co.closing:return ml.Closing;default:return ml.Closed}}isConnected(){return this.connectionState()===ml.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(s=>s.topic===r);if(i)return i;{const s=new gu(`realtime:${e}`,n,this);return this.channels.push(s),s}}push(e){const{topic:n,event:r,payload:i,ref:s}=e,a=()=>{this.encode(e,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(pte,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},qg.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const c=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",c)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:i,payload:s,ref:a}=n,o=a?`(${a})`:"",l=s.status||"";this.log("receive",`${l} ${r} ${i} ${o}`.trim(),s),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(i,s,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===co.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===co.open||this.conn.readyState===co.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e);try{this.heartbeatCallback("error")}catch(n){this.log("error","error in heartbeat callback",n)}}_triggerChanError(){this.channels.forEach(e=>e._trigger(rs.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([Ste],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,r=!1;if(e)n=e,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const s={access_token:n,version:hte};n&&i.updateJoinPayload(s),i.joinedOnce&&i._isJoined()&&i._push(rs.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Wq(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},qg.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,i,s,a,o,l,c,d,h,p,g;switch(this.transport=(n=e?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e?.timeout)!==null&&r!==void 0?r:nT,this.heartbeatIntervalMs=(i=e?.heartbeatIntervalMs)!==null&&i!==void 0?i:qg.HEARTBEAT_INTERVAL,this.worker=(s=e?.worker)!==null&&s!==void 0?s:!1,this.accessToken=(a=e?.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(o=e?.heartbeatCallback)!==null&&o!==void 0?o:sx,this.vsn=(l=e?.vsn)!==null&&l!==void 0?l:oF,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e?.reconnectAfterMs)!==null&&c!==void 0?c:(v=>Dte[v-1]||Ete),this.vsn){case fte:this.encode=(d=e?.encode)!==null&&d!==void 0?d:((v,y)=>y(JSON.stringify(v))),this.decode=(h=e?.decode)!==null&&h!==void 0?h:((v,y)=>y(JSON.parse(v)));break;case qq:this.encode=(p=e?.encode)!==null&&p!==void 0?p:this.serializer.encode.bind(this.serializer),this.decode=(g=e?.decode)!==null&&g!==void 0?g:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}var af=class extends Error{constructor(t,e){super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Tte(t,e,n){const r=new URL(e,t);if(n)for(const[i,s]of Object.entries(n))s!==void 0&&r.searchParams.set(i,s);return r.toString()}async function Cte(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function kte(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:s,headers:a}){const o=Tte(t.baseUrl,r,i),l=await Cte(t.auth),c=await e(o,{method:n,headers:{...s?{"Content-Type":"application/json"}:{},...l,...a},body:s?JSON.stringify(s):void 0}),d=await c.text(),h=(c.headers.get("content-type")||"").includes("application/json"),p=h&&d?JSON.parse(d):d;if(!c.ok){const g=h?p:void 0,v=g?.error;throw new af(v?.message??`Request failed with status ${c.status}`,{status:c.status,icebergType:v?.type,icebergCode:v?.code,details:g})}return{status:c.status,headers:c.headers,data:p}}}}function Wg(t){return t.join("")}var Rte=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Wg(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Wg(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Wg(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Wg(t.namespace)}`}),!0}catch(e){if(e instanceof af&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof af&&n.status===409)return;throw n}}};function jc(t){return t.join("")}var Ute=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${jc(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${jc(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${jc(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${jc(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${jc(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${jc(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof af&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof af&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},Mte=class{constructor(t){let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=kte({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=t.accessDelegation?.join(","),this.namespaceOps=new Rte(this.client,e),this.tableOps=new Ute(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},gb=class extends Error{constructor(t,e="storage",n,r){super(t),this.__isStorageError=!0,this.namespace=e,this.name=e==="vectors"?"StorageVectorsError":"StorageError",this.status=n,this.statusCode=r}};function mb(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var Vg=class extends gb{constructor(t,e,n,r="storage"){super(t,r,e,n),this.name=r==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},$q=class extends gb{constructor(t,e,n="storage"){super(t,n),this.name=n==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=e}};const Ote=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Nte=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},sT=t=>{if(Array.isArray(t))return t.map(n=>sT(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=sT(r)}),e},Fte=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function of(t){"@babel/helpers - typeof";return of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},of(t)}function Ite(t,e){if(of(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(of(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pte(t){var e=Ite(t,"string");return of(e)=="symbol"?e:e+""}function Lte(t,e,n){return(e=Pte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ut(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dF(Object(n),!0).forEach(function(r){Lte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const hF=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},Bte=async(t,e,n,r)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!n?.noResolveJson){const i=t,s=i.status||500;if(typeof i.json=="function")i.json().then(a=>{const o=a?.statusCode||a?.code||s+"";e(new Vg(hF(a),s,o,r))}).catch(()=>{if(r==="vectors"){const a=s+"";e(new Vg(i.statusText||`HTTP ${s} error`,s,a,r))}else{const a=s+"";e(new Vg(i.statusText||`HTTP ${s} error`,s,a,r))}});else{const a=s+"";e(new Vg(i.statusText||`HTTP ${s} error`,s,a,r))}}else e(new $q(hF(t),t,r))},jte=(t,e,n,r)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"||t==="HEAD"||!r?ut(ut({},i),n):(Nte(r)?(i.headers=ut({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(r)):i.body=r,e?.duplex&&(i.duplex=e.duplex),ut(ut({},i),n))};async function lh(t,e,n,r,i,s,a){return new Promise((o,l)=>{t(n,jte(e,r,i,s)).then(c=>{if(!c.ok)throw c;if(r?.noResolveJson)return c;if(a==="vectors"){const d=c.headers.get("content-type");if(c.headers.get("content-length")==="0"||c.status===204)return{};if(!d||!d.includes("application/json"))return{}}return c.json()}).then(c=>o(c)).catch(c=>Bte(c,l,r,a))})}function Gq(t="storage"){return{get:async(e,n,r,i)=>lh(e,"GET",n,r,i,void 0,t),post:async(e,n,r,i,s)=>lh(e,"POST",n,i,s,r,t),put:async(e,n,r,i,s)=>lh(e,"PUT",n,i,s,r,t),head:async(e,n,r,i)=>lh(e,"HEAD",n,ut(ut({},r),{},{noResolveJson:!0}),i,void 0,t),remove:async(e,n,r,i,s)=>lh(e,"DELETE",n,i,s,r,t)}}const zte=Gq("storage"),{get:lf,post:ts,put:aT,head:qte,remove:zC}=zte,hi=Gq("vectors");var Qu=class{constructor(t,e={},n,r="storage"){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.fetch=Ote(n),this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(t){var e=this;try{return{data:await t(),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(mb(n))return{data:null,error:n};throw n}}},Wte=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(mb(e))return{data:null,error:e};throw e}}};let Xq;Xq=Symbol.toStringTag;var Vte=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[Xq]="BlobDownloadBuilder",this.promise=null}asStream(){return new Wte(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(mb(e))return{data:null,error:e};throw e}}};const Hte={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},fF={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var $te=class extends Qu{constructor(t,e={},n,r){super(t,e,r,"storage"),this.bucketId=n}async uploadOrUpdate(t,e,n,r){var i=this;return i.handleOperation(async()=>{let s;const a=ut(ut({},fF),r);let o=ut(ut({},i.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),l&&s.append("metadata",i.encodeMetadata(l)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.has("cacheControl")||s.append("cacheControl",a.cacheControl),l&&!s.has("metadata")&&s.append("metadata",i.encodeMetadata(l))):(s=n,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,l&&(o["x-metadata"]=i.toBase64(i.encodeMetadata(l))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!a.duplex&&(a.duplex="half")),r?.headers&&(o=ut(ut({},o),r.headers));const c=i._removeEmptyFolders(e),d=i._getFinalPath(c),h=await(t=="PUT"?aT:ts)(i.fetch,`${i.url}/object/${d}`,s,ut({headers:o},a?.duplex?{duplex:a.duplex}:{}));return{path:c,id:h.Id,fullPath:h.Key}})}async upload(t,e,n){return this.uploadOrUpdate("POST",t,e,n)}async uploadToSignedUrl(t,e,n,r){var i=this;const s=i._removeEmptyFolders(t),a=i._getFinalPath(s),o=new URL(i.url+`/object/upload/sign/${a}`);return o.searchParams.set("token",e),i.handleOperation(async()=>{let l;const c=ut({upsert:fF.upsert},r),d=ut(ut({},i.headers),{"x-upsert":String(c.upsert)});return typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType),{path:s,fullPath:(await aT(i.fetch,o.toString(),l,{headers:d})).Key}})}async createSignedUploadUrl(t,e){var n=this;return n.handleOperation(async()=>{let r=n._getFinalPath(t);const i=ut({},n.headers);e?.upsert&&(i["x-upsert"]="true");const s=await ts(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:i}),a=new URL(n.url+s.url),o=a.searchParams.get("token");if(!o)throw new gb("No token returned by API");return{signedUrl:a.toString(),path:t,token:o}})}async update(t,e,n){return this.uploadOrUpdate("PUT",t,e,n)}async move(t,e,n){var r=this;return r.handleOperation(async()=>await ts(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n?.destinationBucket},{headers:r.headers}))}async copy(t,e,n){var r=this;return r.handleOperation(async()=>({path:(await ts(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n?.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(t,e,n){var r=this;return r.handleOperation(async()=>{let i=r._getFinalPath(t),s=await ts(r.fetch,`${r.url}/object/sign/${i}`,ut({expiresIn:e},n?.transform?{transform:n.transform}:{}),{headers:r.headers});const a=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{signedUrl:encodeURI(`${r.url}${s.signedURL}${a}`)}})}async createSignedUrls(t,e,n){var r=this;return r.handleOperation(async()=>{const i=await ts(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:e,paths:t},{headers:r.headers}),s=n?.download?`&download=${n.download===!0?"":n.download}`:"";return i.map(a=>ut(ut({},a),{},{signedUrl:a.signedURL?encodeURI(`${r.url}${a.signedURL}${s}`):null}))})}download(t,e){const n=typeof e?.transform<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString(e?.transform||{}),i=r?`?${r}`:"",s=this._getFinalPath(t),a=()=>lf(this.fetch,`${this.url}/${n}/${s}${i}`,{headers:this.headers,noResolveJson:!0});return new Vte(a,this.shouldThrowOnError)}async info(t){var e=this;const n=e._getFinalPath(t);return e.handleOperation(async()=>sT(await lf(e.fetch,`${e.url}/object/info/${n}`,{headers:e.headers})))}async exists(t){var e=this;const n=e._getFinalPath(t);try{return await qte(e.fetch,`${e.url}/object/${n}`,{headers:e.headers}),{data:!0,error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(mb(r)&&r instanceof $q){const i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}}getPublicUrl(t,e){const n=this._getFinalPath(t),r=[],i=e?.download?`download=${e.download===!0?"":e.download}`:"";i!==""&&r.push(i);const s=typeof e?.transform<"u"?"render/image":"object",a=this.transformOptsToQueryString(e?.transform||{});a!==""&&r.push(a);let o=r.join("&");return o!==""&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${n}${o}`)}}}async remove(t){var e=this;return e.handleOperation(async()=>await zC(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}))}async list(t,e,n){var r=this;return r.handleOperation(async()=>{const i=ut(ut(ut({},Hte),e),{},{prefix:t||""});return await ts(r.fetch,`${r.url}/object/list/${r.bucketId}`,i,{headers:r.headers},n)})}async listV2(t,e){var n=this;return n.handleOperation(async()=>{const r=ut({},t);return await ts(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},e)})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const Gte="2.93.3",$f={"X-Client-Info":`storage-js/${Gte}`};var Xte=class extends Qu{constructor(t,e={},n,r){const i=new URL(t);r?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase."));const s=i.href.replace(/\/$/,""),a=ut(ut({},$f),e);super(s,a,n,"storage")}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const n=e.listBucketOptionsToQueryString(t);return await lf(e.fetch,`${e.url}/bucket${n}`,{headers:e.headers})})}async getBucket(t){var e=this;return e.handleOperation(async()=>await lf(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}))}async createBucket(t,e={public:!1}){var n=this;return n.handleOperation(async()=>await ts(n.fetch,`${n.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}))}async updateBucket(t,e){var n=this;return n.handleOperation(async()=>await aT(n.fetch,`${n.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}))}async emptyBucket(t){var e=this;return e.handleOperation(async()=>await ts(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await zC(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},Kte=class extends Qu{constructor(t,e={},n){const r=t.replace(/\/$/,""),i=ut(ut({},$f),e);super(r,i,n,"storage")}async createBucket(t){var e=this;return e.handleOperation(async()=>await ts(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}))}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const n=new URLSearchParams;t?.limit!==void 0&&n.set("limit",t.limit.toString()),t?.offset!==void 0&&n.set("offset",t.offset.toString()),t?.sortColumn&&n.set("sortColumn",t.sortColumn),t?.sortOrder&&n.set("sortOrder",t.sortOrder),t?.search&&n.set("search",t.search);const r=n.toString(),i=r?`${e.url}/bucket?${r}`:`${e.url}/bucket`;return await lf(e.fetch,i,{headers:e.headers})})}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await zC(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}from(t){var e=this;if(!Fte(t))throw new gb("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new Mte({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(i,s){const a=i[s];return typeof a!="function"?a:async(...o)=>{try{return{data:await a.apply(i,o),error:null}}catch(l){if(r)throw l;return{data:null,error:l}}}}})}},Yte=class extends Qu{constructor(t,e={},n){const r=t.replace(/\/$/,""),i=ut(ut({},$f),{},{"Content-Type":"application/json"},e);super(r,i,n,"vectors")}async createIndex(t){var e=this;return e.handleOperation(async()=>await hi.post(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{})}async getIndex(t,e){var n=this;return n.handleOperation(async()=>await hi.post(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers}))}async listIndexes(t){var e=this;return e.handleOperation(async()=>await hi.post(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}))}async deleteIndex(t,e){var n=this;return n.handleOperation(async()=>await hi.post(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers})||{})}},Zte=class extends Qu{constructor(t,e={},n){const r=t.replace(/\/$/,""),i=ut(ut({},$f),{},{"Content-Type":"application/json"},e);super(r,i,n,"vectors")}async putVectors(t){var e=this;if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return e.handleOperation(async()=>await hi.post(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{})}async getVectors(t){var e=this;return e.handleOperation(async()=>await hi.post(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}))}async listVectors(t){var e=this;if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return e.handleOperation(async()=>await hi.post(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}))}async queryVectors(t){var e=this;return e.handleOperation(async()=>await hi.post(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}))}async deleteVectors(t){var e=this;if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return e.handleOperation(async()=>await hi.post(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{})}},Jte=class extends Qu{constructor(t,e={},n){const r=t.replace(/\/$/,""),i=ut(ut({},$f),{},{"Content-Type":"application/json"},e);super(r,i,n,"vectors")}async createBucket(t){var e=this;return e.handleOperation(async()=>await hi.post(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}async getBucket(t){var e=this;return e.handleOperation(async()=>await hi.post(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}))}async listBuckets(t={}){var e=this;return e.handleOperation(async()=>await hi.post(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await hi.post(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}},Qte=class extends Jte{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new ene(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,n=this;return e().call(n,t)}async getBucket(t){var e=()=>super.getBucket,n=this;return e().call(n,t)}async listBuckets(t={}){var e=()=>super.listBuckets,n=this;return e().call(n,t)}async deleteBucket(t){var e=()=>super.deleteBucket,n=this;return e().call(n,t)}},ene=class extends Yte{constructor(t,e,n,r){super(t,e,r),this.vectorBucketName=n}async createIndex(t){var e=()=>super.createIndex,n=this;return e().call(n,ut(ut({},t),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,n=this;return e().call(n,ut(ut({},t),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,n=this;return e().call(n,n.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,n=this;return e().call(n,n.vectorBucketName,t)}index(t){return new tne(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},tne=class extends Zte{constructor(t,e,n,r,i){super(t,e,i),this.vectorBucketName=n,this.indexName=r}async putVectors(t){var e=()=>super.putVectors,n=this;return e().call(n,ut(ut({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(t){var e=()=>super.getVectors,n=this;return e().call(n,ut(ut({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,n=this;return e().call(n,ut(ut({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,n=this;return e().call(n,ut(ut({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,n=this;return e().call(n,ut(ut({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},nne=class extends Xte{constructor(t,e={},n,r){super(t,e,n,r)}from(t){return new $te(this.url,this.headers,t,this.fetch)}get vectors(){return new Qte(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Kte(this.url+"/iceberg",this.headers,this.fetch)}};const Kq="2.93.3",cu=30*1e3,oT=3,ax=oT*cu,rne="http://localhost:9999",ine="supabase.auth.token",sne={"X-Client-Info":`gotrue-js/${Kq}`},lT="X-Supabase-Api-Version",Yq={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},ane=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,one=600*1e3;class cf extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function et(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class lne extends cf{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function cne(t){return et(t)&&t.name==="AuthApiError"}class yl extends cf{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Sa extends cf{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class ai extends Sa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ox(t){return et(t)&&t.name==="AuthSessionMissingError"}class zc extends Sa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Hg extends Sa{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class $g extends Sa{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function une(t){return et(t)&&t.name==="AuthImplicitGrantRedirectError"}class pF extends Sa{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class dne extends Sa{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class cT extends Sa{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function lx(t){return et(t)&&t.name==="AuthRetryableFetchError"}class gF extends Sa{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class uT extends Sa{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Sy="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),mF=` 	
\r=`.split(""),hne=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<mF.length;e+=1)t[mF[e].charCodeAt(0)]=-2;for(let e=0;e<Sy.length;e+=1)t[Sy[e].charCodeAt(0)]=e;return t})();function yF(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Sy[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Sy[r]),e.queuedBits-=6}}function Zq(t,e,n){const r=hne[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function bF(t){const e=[],n=a=>{e.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=a=>{gne(a,r,n)};for(let a=0;a<t.length;a+=1)Zq(t.charCodeAt(a),i,s);return e.join("")}function fne(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function pne(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}fne(r,e)}}function gne(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Eu(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)Zq(t.charCodeAt(i),n,r);return new Uint8Array(e)}function mne(t){const e=[];return pne(t,n=>e.push(n)),new Uint8Array(e)}function vl(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>yF(i,n,r)),yF(null,n,r),e.join("")}function yne(t){return Math.round(Date.now()/1e3)+t}function bne(){return Symbol("auth-callback")}const rr=()=>typeof window<"u"&&typeof document<"u",il={tested:!1,writable:!1},Jq=()=>{if(!rr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(il.tested)return il.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),il.tested=!0,il.writable=!0}catch{il.tested=!0,il.writable=!1}return il.writable};function vne(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const Qq=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),xne=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",uu=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},sl=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},nr=async(t,e)=>{await t.removeItem(e)};class yb{constructor(){this.promise=new yb.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}yb.promiseConstructor=Promise;function Gg(t){const e=t.split(".");if(e.length!==3)throw new uT("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!ane.test(e[r]))throw new uT("JWT not in base64url format");return{header:JSON.parse(bF(e[0])),payload:JSON.parse(bF(e[1])),signature:Eu(e[2]),raw:{header:e[0],payload:e[1]}}}async function wne(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function _ne(t,e){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const a=await t(s);if(!e(s,null,a)){r(a);return}}catch(a){if(!e(s,a)){i(a);return}}})()})}function Dne(t){return("0"+t.toString(16)).substr(-2)}function Ene(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,Dne).join("")}async function Sne(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function Ane(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await Sne(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function qc(t,e,n=!1){const r=Ene();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await uu(t,`${e}-code-verifier`,i);const s=await Ane(r);return[s,r===s?"plain":"s256"]}const Tne=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Cne(t){const e=t.headers.get(lT);if(!e||!e.match(Tne))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function kne(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Rne(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Une=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Wc(t){if(!Une.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function cx(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Mne(t,e){return new Proxy(t,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const s=r.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,i)}})}function vF(t){return JSON.parse(JSON.stringify(t))}const fl=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),One=[502,503,504];async function xF(t){var e;if(!xne(t))throw new cT(fl(t),0);if(One.includes(t.status))throw new cT(fl(t),t.status);let n;try{n=await t.json()}catch(s){throw new yl(fl(s),s)}let r;const i=Cne(t);if(i&&i.getTime()>=Yq["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new gF(fl(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new ai}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new gF(fl(n),t.status,n.weak_password.reasons);throw new lne(fl(n),t.status||500,r)}const Nne=(t,e,n,r)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function ct(t,e,n,r){var i;const s=Object.assign({},r?.headers);s[lT]||(s[lT]=Yq["2024-01-01"].name),r?.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const a=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(a.redirect_to=r.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await Fne(t,e,n+o,{headers:s,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(l):{data:Object.assign({},l),error:null}}async function Fne(t,e,n,r,i,s){const a=Nne(e,r,i,s);let o;try{o=await t(n,Object.assign({},a))}catch(l){throw console.error(l),new cT(fl(l),0)}if(o.ok||await xF(o),r?.noResolveJson)return o;try{return await o.json()}catch(l){await xF(l)}}function Qi(t){var e;let n=null;Lne(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=yne(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function wF(t){const e=Qi(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function fo(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Ine(t){return{data:t,error:null}}function Pne(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=t,a=Ju(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},l=Object.assign({},a);return{data:{properties:o,user:l},error:null}}function _F(t){return t}function Lne(t){return t.access_token&&t.refresh_token&&t.expires_in}const ux=["global","local","others"];class Bne{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=Qq(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=ux[0]){if(ux.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ux.join(", ")}`);try{return await ct(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(et(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await ct(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:fo})}catch(r){if(et(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=Ju(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),await ct(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Pne,redirectTo:n?.redirectTo})}catch(n){if(et(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await ct(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:fo})}catch(n){if(et(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,s,a,o,l;try{const c={nextPage:null,lastPage:0,total:0},d=await ct(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:_F});if(d.error)throw d.error;const h=await d.json(),p=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,g=(l=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(v=>{const y=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(v.split(";")[1].split("=")[1]);c[`${b}Page`]=y}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(et(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){Wc(e);try{return await ct(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:fo})}catch(n){if(et(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Wc(e);try{return await ct(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:fo})}catch(r){if(et(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){Wc(e);try{return await ct(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:fo})}catch(r){if(et(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Wc(e.userId);try{const{data:n,error:r}=await ct(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(et(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Wc(e.userId),Wc(e.id);try{return{data:await ct(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(et(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,i,s,a,o,l;try{const c={nextPage:null,lastPage:0,total:0},d=await ct(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:_F});if(d.error)throw d.error;const h=await d.json(),p=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,g=(l=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(v=>{const y=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(v.split(";")[1].split("=")[1]);c[`${b}Page`]=y}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(et(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(e){try{return await ct(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(et(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await ct(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(et(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await ct(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(et(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await ct(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(et(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await ct(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(et(n))return{data:null,error:n};throw n}}}function DF(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const Vc={debug:!!(globalThis&&Jq()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class e7 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class jne extends e7{}async function zne(t,e,n){Vc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Vc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Vc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{Vc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Vc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new jne(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Vc.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function qne(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function t7(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function Wne(t){return parseInt(t,16)}function Vne(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function Hne(t){var e;const{chainId:n,domain:r,expirationTime:i,issuedAt:s=new Date,nonce:a,notBefore:o,requestId:l,resources:c,scheme:d,uri:h,version:p}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const g=t7(t.address),v=d?`${d}://${r}`:r,y=t.statement?`${t.statement}
`:"",b=`${v} wants you to sign in with your Ethereum account:
${g}

${y}`;let x=`URI: ${h}
Version: ${p}
Chain ID: ${n}${a?`
Nonce: ${a}`:""}
Issued At: ${s.toISOString()}`;if(i&&(x+=`
Expiration Time: ${i.toISOString()}`),o&&(x+=`
Not Before: ${o.toISOString()}`),l&&(x+=`
Request ID: ${l}`),c){let w=`
Resources:`;for(const D of c){if(!D||typeof D!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${D}`);w+=`
- ${D}`}x+=w}return`${b}
${x}`}class Nn extends Error{constructor({message:e,code:n,cause:r,name:i}){var s;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(s=i??(r instanceof Error?r.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=n}}class Ay extends Nn{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function $ne({error:t,options:e}){var n,r,i;const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Nn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=s.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Nn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=s.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Nn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Nn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Nn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Nn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return s.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new Nn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Nn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(n7(a)){if(s.rp.id!==a)return new Nn({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Nn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new Nn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Nn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Nn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function Gne({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Nn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Nn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(n7(r)){if(n.rpId!==r)return new Nn({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Nn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Nn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Nn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class Xne{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Kne=new Xne;function Yne(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,i=Ju(t,["challenge","user","excludeCredentials"]),s=Eu(e).buffer,a=Object.assign(Object.assign({},n),{id:Eu(n.id).buffer}),o=Object.assign(Object.assign({},i),{challenge:s,user:a});if(r&&r.length>0){o.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const c=r[l];o.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:Eu(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return o}function Zne(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=Ju(t,["challenge","allowCredentials"]),i=Eu(e).buffer,s=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){s.allowCredentials=new Array(n.length);for(let a=0;a<n.length;a++){const o=n[a];s.allowCredentials[a]=Object.assign(Object.assign({},o),{id:Eu(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return s}function Jne(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:vl(new Uint8Array(t.response.attestationObject)),clientDataJSON:vl(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Qne(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:vl(new Uint8Array(i.authenticatorData)),clientDataJSON:vl(new Uint8Array(i.clientDataJSON)),signature:vl(new Uint8Array(i.signature)),userHandle:i.userHandle?vl(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function n7(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function EF(){var t,e;return!!(rr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function ere(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ay("Browser returned unexpected credential type",e)}:{data:null,error:new Ay("Empty credential response",e)}}catch(e){return{data:null,error:$ne({error:e,options:t})}}}async function tre(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ay("Browser returned unexpected credential type",e)}:{data:null,error:new Ay("Empty credential response",e)}}catch(e){return{data:null,error:Gne({error:e,options:t})}}}const nre={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},rre={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Ty(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of t)if(i)for(const s in i){const a=i[s];if(a!==void 0)if(Array.isArray(a))r[s]=a;else if(n(a))r[s]=a;else if(e(a)){const o=r[s];e(o)?r[s]=Ty(o,a):r[s]=Ty(a)}else r[s]=a}return r}function ire(t,e){return Ty(nre,t,e||{})}function sre(t,e){return Ty(rre,t,e||{})}class are{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:i},s){var a;try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!o)return{data:null,error:l};const c=i??Kne.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:d}=o.webauthn.credential_options.publicKey;if(!d.name){const h=r;if(h)d.name=`${d.id}:${h}`;else{const g=(await this.client.getUser()).data.user,v=((a=g?.user_metadata)===null||a===void 0?void 0:a.name)||g?.email||g?.id||"User";d.name=`${d.id}:${v}`}}d.displayName||(d.displayName=d.name)}switch(o.webauthn.type){case"create":{const d=ire(o.webauthn.credential_options.publicKey,s?.create),{data:h,error:p}=await ere({publicKey:d,signal:c});return h?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:h}},error:null}:{data:null,error:p}}case"request":{const d=sre(o.webauthn.credential_options.publicKey,s?.request),{data:h,error:p}=await tre(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:d,signal:c}));return h?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:h}},error:null}:{data:null,error:p}}}}catch(o){return et(o)?{data:null,error:o}:{data:null,error:new yl("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!n)return{data:null,error:new cf("rpId is required for WebAuthn authentication")};try{if(!EF())return{data:null,error:new yl("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:s});if(!a)return{data:null,error:o};const{webauthn:l}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(a){return et(a)?{data:null,error:a}:{data:null,error:new yl("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!n)return{data:null,error:new cf("rpId is required for WebAuthn registration")};try{if(!EF())return{data:null,error:new yl("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(p=>p.factor_type==="webauthn"&&p.friendly_name===e&&p.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d?.id}):void 0),{data:null,error:o};const{data:l,error:c}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:s});return l?this._verify({factorId:a.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(a){return et(a)?{data:null,error:a}:{data:null,error:new yl("Unexpected error in register",a)}}}}qne();const ore={url:rne,storageKey:ine,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:sne,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function SF(t,e,n){return await n()}const Hc={};class uf{get jwks(){var e,n;return(n=(e=Hc[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Hc[this.storageKey]=Object.assign(Object.assign({},Hc[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Hc[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Hc[this.storageKey]=Object.assign(Object.assign({},Hc[this.storageKey]),{cachedAt:e})}constructor(e){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},ore),e);if(this.storageKey=s.storageKey,this.instanceID=(n=uf.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,uf.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&rr()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Bne({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Qq(s.fetch),this.lock=s.lock||SF,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,this.lockAcquireTimeout=s.lockAcquireTimeout,s.lock?this.lock=s.lock:this.persistSession&&rr()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=zne:this.lock=SF,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new are(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Jq()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=DF(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=DF(this.memoryStorage)),rr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a);try{await this._notifyAllSubscribers(a.data.event,a.data.session,!1)}catch(o){this._debug("#broadcastChannel","error",o)}})}this.initialize().catch(a=>{this._debug("#initialize()","error",a)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Kq}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},r="none";if(rr()&&(n=vne(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),rr()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),une(s)){const l=(e=s.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return{error:s}}const{session:a,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return et(n)?this._returnResult({error:n}):this._returnResult({error:new yl("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const s=await ct(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e?.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:Qi}),{data:a,error:o}=s;if(o||!a)return this._returnResult({data:{user:null,session:null},error:o});const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(s){if(et(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(e){var n,r,i;try{let s;if("email"in e){const{email:d,password:h,options:p}=e;let g=null,v=null;this.flowType==="pkce"&&([g,v]=await qc(this.storage,this.storageKey)),s=await ct(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p?.emailRedirectTo,body:{email:d,password:h,data:(n=p?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:g,code_challenge_method:v},xform:Qi})}else if("phone"in e){const{phone:d,password:h,options:p}=e;s=await ct(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=p?.data)!==null&&r!==void 0?r:{},channel:(i=p?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:Qi})}else throw new Hg("You must provide either an email or phone number and a password");const{data:a,error:o}=s;if(o||!a)return await nr(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:o});const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(s){if(await nr(this.storage,`${this.storageKey}-code-verifier`),et(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(e){try{let n;if("email"in e){const{email:s,password:a,options:o}=e;n=await ct(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:wF})}else if("phone"in e){const{phone:s,password:a,options:o}=e;n=await ct(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:wF})}else throw new Hg("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const s=new zc;return this._returnResult({data:{user:null,session:null},error:s})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(et(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,r,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,i,s,a,o,l,c,d,h,p;let g,v;if("message"in e)g=e.message,v=e.signature;else{const{chain:y,wallet:b,statement:x,options:w}=e;let D;if(rr())if(typeof b=="object")D=b;else{const R=window;if("ethereum"in R&&typeof R.ethereum=="object"&&"request"in R.ethereum&&typeof R.ethereum.request=="function")D=R.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!w?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");D=b}const E=new URL((n=w?.url)!==null&&n!==void 0?n:window.location.href),A=await D.request({method:"eth_requestAccounts"}).then(R=>R).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!A||A.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const S=t7(A[0]);let T=(r=w?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!T){const R=await D.request({method:"eth_chainId"});T=Wne(R)}const M={domain:E.host,address:S,statement:x,uri:E.href,version:"1",chainId:T,nonce:(i=w?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(s=w?.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(o=w?.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(l=w?.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=w?.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(d=w?.signInWithEthereum)===null||d===void 0?void 0:d.resources};g=Hne(M),v=await D.request({method:"personal_sign",params:[Vne(g),S]})}try{const{data:y,error:b}=await ct(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:g,signature:v},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Qi});if(b)throw b;if(!y||!y.session||!y.user){const x=new zc;return this._returnResult({data:{user:null,session:null},error:x})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:b})}catch(y){if(et(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async signInWithSolana(e){var n,r,i,s,a,o,l,c,d,h,p,g;let v,y;if("message"in e)v=e.message,y=e.signature;else{const{chain:b,wallet:x,statement:w,options:D}=e;let E;if(rr())if(typeof x=="object")E=x;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))E=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!D?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=x}const A=new URL((n=D?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in E&&E.signIn){const S=await E.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},D?.signInWithSolana),{version:"1",domain:A.host,uri:A.href}),w?{statement:w}:null));let T;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")T=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)T=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in T&&"signature"in T&&(typeof T.signedMessage=="string"||T.signedMessage instanceof Uint8Array)&&T.signature instanceof Uint8Array)v=typeof T.signedMessage=="string"?T.signedMessage:new TextDecoder().decode(T.signedMessage),y=T.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in E)||typeof E.signMessage!="function"||!("publicKey"in E)||typeof E!="object"||!E.publicKey||!("toBase58"in E.publicKey)||typeof E.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${A.host} wants you to sign in with your Solana account:`,E.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${A.href}`,`Issued At: ${(i=(r=D?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=D?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${D.signInWithSolana.notBefore}`]:[],...!((a=D?.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${D.signInWithSolana.expirationTime}`]:[],...!((o=D?.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${D.signInWithSolana.chainId}`]:[],...!((l=D?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${D.signInWithSolana.nonce}`]:[],...!((c=D?.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${D.signInWithSolana.requestId}`]:[],...!((h=(d=D?.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...D.signInWithSolana.resources.map(T=>`- ${T}`)]:[]].join(`
`);const S=await E.signMessage(new TextEncoder().encode(v),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=S}}try{const{data:b,error:x}=await ct(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:vl(y)},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Qi});if(x)throw x;if(!b||!b.session||!b.user){const w=new zc;return this._returnResult({data:{user:null,session:null},error:w})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:x})}catch(b){if(et(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async _exchangeCodeForSession(e){const n=await sl(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new dne;const{data:s,error:a}=await ct(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Qi});if(await nr(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!s||!s.session||!s.user){const o=new zc;return this._returnResult({data:{user:null,session:null,redirectType:null},error:o})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(await nr(this.storage,`${this.storageKey}-code-verifier`),et(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:s,nonce:a}=e,o=await ct(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:Qi}),{data:l,error:c}=o;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const d=new zc;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:c})}catch(n){if(et(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,r,i,s,a;try{if("email"in e){const{email:o,options:l}=e;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await qc(this.storage,this.storageKey));const{error:h}=await ct(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(n=l?.data)!==null&&n!==void 0?n:{},create_user:(r=l?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in e){const{phone:o,options:l}=e,{data:c,error:d}=await ct(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=l?.data)!==null&&i!==void 0?i:{},create_user:(s=l?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(a=l?.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c?.message_id},error:d})}throw new Hg("You must provide either an email or phone number.")}catch(o){if(await nr(this.storage,`${this.storageKey}-code-verifier`),et(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(e){var n,r;try{let i,s;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,s=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:o}=await ct(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Qi});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,c=a.user;return l?.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(et(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var n,r,i,s,a;try{let o=null,l=null;this.flowType==="pkce"&&([o,l]=await qc(this.storage,this.storageKey));const c=await ct(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:Ine});return!((s=c.data)===null||s===void 0)&&s.url&&rr()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(o){if(await nr(this.storage,`${this.storageKey}-code-verifier`),et(o))return this._returnResult({data:null,error:o});throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new ai;const{error:i}=await ct(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(et(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:s}=e,{error:a}=await ct(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in e){const{phone:r,type:i,options:s}=e,{data:a,error:o}=await ct(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a?.message_id},error:o})}throw new Hg("You must provide either an email or phone number and a type")}catch(n){if(et(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await sl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<ax:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const a=await sl(this.userStorage,this.storageKey+"-user");a?.user?e.user=a.user:e.user=cx()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};e.user=Mne(e.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await ct(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:fo}):await this._useSession(async n=>{var r,i,s;const{data:a,error:o}=n;if(o)throw o;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ai}:await ct(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:fo})})}catch(n){if(et(n))return ox(n)&&(await this._removeSession(),await nr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new ai;const a=i.session;let o=null,l=null;this.flowType==="pkce"&&e.email!=null&&([o,l]=await qc(this.storage,this.storageKey));const{data:c,error:d}=await ct(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:l}),jwt:a.access_token,xform:fo});if(d)throw d;return a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(r){if(await nr(this.storage,`${this.storageKey}-code-verifier`),et(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ai;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:a}=Gg(e.access_token);if(a.exp&&(r=a.exp,i=r<=n),i){const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!o)return{data:{user:null,session:null},error:null};s=o}else{const{data:o,error:l}=await this._getUser(e.access_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});s={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(n){if(et(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:a,error:o}=n;if(o)throw o;e=(r=a.session)!==null&&r!==void 0?r:void 0}if(!e?.refresh_token)throw new ai;const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(et(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!rr())throw new $g("No browser detected.");if(e.error||e.error_description||e.error_code)throw new $g(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new pF("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new $g("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new pF("No code detected.");const{data:w,error:D}=await this._exchangeCodeForSession(e.code);if(D)throw D;const E=new URL(window.location.href);return E.searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:o,expires_at:l,token_type:c}=e;if(!s||!o||!a||!c)throw new $g("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(o);let p=d+h;l&&(p=parseInt(l));const g=p-d;g*1e3<=cu&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${h}s`);const v=p-h;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,p,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,p,d);const{data:y,error:b}=await this._getUser(s);if(b)throw b;const x={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:h,expires_at:p,refresh_token:a,token_type:c,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:x,redirectType:e.type},error:null})}catch(r){if(et(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await sl(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s&&!ox(s))return this._returnResult({error:s});const a=(r=i.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:o}=await this.admin.signOut(a,e);if(o&&!(cne(o)&&(o.status===404||o.status===401||o.status===403)||ox(o)))return this._returnResult({error:o})}return e!=="others"&&(await this._removeSession(),await nr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=bne(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await qc(this.storage,this.storageKey,!0));try{return await ct(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(await nr(this.storage,`${this.storageKey}-code-verifier`),et(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(et(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var a,o,l,c,d;const{data:h,error:p}=s;if(p)throw p;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await ct(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return rr()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r?.url),this._returnResult({data:{provider:e.provider,url:r?.url},error:null})}catch(r){if(et(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:s}}=n;if(i)throw i;const{options:a,provider:o,token:l,access_token:c,nonce:d}=e,h=await ct(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=s?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:o,id_token:l,access_token:c,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:Qi}),{data:p,error:g}=h;return g?this._returnResult({data:{user:null,session:null},error:g}):!p||!p.session||!p.user?this._returnResult({data:{user:null,session:null},error:new zc}):(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("USER_UPDATED",p.session)),this._returnResult({data:p,error:g}))}catch(i){if(await nr(this.storage,`${this.storageKey}-code-verifier`),et(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:a}=n;if(a)throw a;return await ct(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(et(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await _ne(async i=>(i>0&&await wne(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await ct(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Qi})),(i,s)=>{const a=200*Math.pow(2,i);return s&&lx(s)&&Date.now()+a-r<cu})}catch(r){if(this._debug(n,"error",r),et(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),rr()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await sl(this.storage,this.storageKey);if(i&&this.userStorage){let a=await sl(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await uu(this.userStorage,this.storageKey+"-user",a)),i.user=(e=a?.user)!==null&&e!==void 0?e:cx()}else if(i&&!i.user&&!i.user){const a=await sl(this.storage,this.storageKey+"-user");a&&a?.user?(i.user=a.user,await nr(this.storage,this.storageKey+"-user"),await uu(this.storage,this.storageKey,i)):i.user=cx()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const s=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<ax;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${ax}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),lx(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(i.access_token);!o&&a?.user?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new ai;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new yb;const{data:s,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!s.session)throw new ai;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const o={data:s.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(s){if(this._debug(i,"error",s),et(s)){const a={data:null,error:s};return lx(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,n)}catch(l){s.push(l)}});if(await Promise.all(a),s.length>0){for(let o=0;o<s.length;o+=1)console.error(s[o]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await nr(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await uu(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const s=vF(i);await uu(this.storage,this.storageKey,s)}else{const i=vF(n);await uu(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await nr(this.storage,this.storageKey),await nr(this.storage,this.storageKey+"-code-verifier"),await nr(this.storage,this.storageKey+"-user"),this.userStorage&&await nr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&rr()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),cu);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/cu);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${cu}ms, refresh threshold is ${oT} ticks`),i<=oT&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof e7)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!rr()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(e){this._debug("#visibilityChangedCallback","error",e)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,a]=await qc(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(o.toString())}if(r?.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r?.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?this._returnResult({data:null,error:s}):await ct(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(et(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:a}=n;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:c}=await ct(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(r=s?.session)===null||r===void 0?void 0:r.access_token});return c?this._returnResult({data:null,error:c}):(e.factorType==="totp"&&l.type==="totp"&&(!((i=l?.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(n){if(et(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return this._returnResult({data:null,error:s});const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?Jne(e.webauthn.credential_response):Qne(e.webauthn.credential_response)})}:{code:e.code}),{data:o,error:l}=await ct(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:l}))})}catch(n){if(et(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return this._returnResult({data:null,error:s});const a=await ct(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});if(a.error)return a;const{data:o}=a;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:Yne(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:Zne(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(et(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(e=n?.factors)!==null&&e!==void 0?e:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(e){var n,r,i,s;if(e)try{const{payload:g}=Gg(e);let v=null;g.aal&&(v=g.aal);let y=v;const{data:{user:b},error:x}=await this.getUser(e);if(x)return this._returnResult({data:null,error:x});((r=(n=b?.factors)===null||n===void 0?void 0:n.filter(E=>E.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(y="aal2");const D=g.amr||[];return{data:{currentLevel:v,nextLevel:y,currentAuthenticationMethods:D},error:null}}catch(g){if(et(g))return this._returnResult({data:null,error:g});throw g}const{data:{session:a},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Gg(a.access_token);let c=null;l.aal&&(c=l.aal);let d=c;((s=(i=a.user.factors)===null||i===void 0?void 0:i.filter(g=>g.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(d="aal2");const p=l.amr||[];return{data:{currentLevel:c,nextLevel:d,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await ct(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new ai})})}catch(n){if(et(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:s}=r;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new ai});const a=await ct(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&rr()&&!n?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a})}catch(r){if(et(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:s}=r;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new ai});const a=await ct(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&rr()&&!n?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a})}catch(r){if(et(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;return r?this._returnResult({data:null,error:r}):n?await ct(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new ai})})}catch(e){if(et(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await ct(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new ai})})}catch(n){if(et(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(o=>o.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(o=>o.kid===e),r&&this.jwks_cached_at+one>i)return r;const{data:s,error:a}=await ct(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,r=s.keys.find(o=>o.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:g,error:v}=await this.getSession();if(v||!g.session)return this._returnResult({data:null,error:v});r=g.session.access_token}const{header:i,payload:s,signature:a,raw:{header:o,payload:l}}=Gg(r);n?.allowExpired||kne(s.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!c){const{error:g}=await this.getUser(r);if(g)throw g;return{data:{claims:s,header:i,signature:a},error:null}}const d=Rne(i.alg),h=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,a,mne(`${o}.${l}`)))throw new uT("Invalid JWT signature");return{data:{claims:s,header:i,signature:a},error:null}}catch(r){if(et(r))return this._returnResult({data:null,error:r});throw r}}}uf.nextInstanceID={};const lre=uf,cre="2.93.3";let Fh="";typeof Deno<"u"?Fh="deno":typeof document<"u"?Fh="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Fh="react-native":Fh="node";const ure={"X-Client-Info":`supabase-js-${Fh}/${cre}`},dre={headers:ure},hre={schema:"public"},fre={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},pre={};function df(t){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},df(t)}function gre(t,e){if(df(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(df(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mre(t){var e=gre(t,"string");return df(e)=="symbol"?e:e+""}function yre(t,e,n){return(e=mre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AF(Object(n),!0).forEach(function(r){yre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const bre=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),vre=()=>Headers,xre=(t,e,n)=>{const r=bre(n),i=vre();return async(s,a)=>{var o;const l=(o=await e())!==null&&o!==void 0?o:t;let c=new i(a?.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(s,yn(yn({},a),{},{headers:c}))}};function wre(t){return t.endsWith("/")?t:t+"/"}function _re(t,e){var n,r;const{db:i,auth:s,realtime:a,global:o}=t,{db:l,auth:c,realtime:d,global:h}=e,p={db:yn(yn({},l),i),auth:yn(yn({},c),s),realtime:yn(yn({},d),a),storage:{},global:yn(yn(yn({},h),o),{},{headers:yn(yn({},(n=h?.headers)!==null&&n!==void 0?n:{}),(r=o?.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?p.accessToken=t.accessToken:delete p.accessToken,p}function Dre(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(wre(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Ere=class extends lre{constructor(t){super(t)}},Sre=class{constructor(t,e,n){var r,i;this.supabaseUrl=t,this.supabaseKey=e;const s=Dre(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const a=`sb-${s.hostname.split(".")[0]}-auth-token`,o={db:hre,realtime:pre,auth:yn(yn({},fre),{},{storageKey:a}),global:dre},l=_re(n??{},o);if(this.storageKey=(r=l.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=l.global.headers)!==null&&i!==void 0?i:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}});else{var c;this.auth=this._initSupabaseAuthClient((c=l.auth)!==null&&c!==void 0?c:{},this.headers,l.global.fetch)}this.fetch=xre(e,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(yn({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new cte(new URL("rest/v1",s).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new nne(this.storageUrl.href,this.headers,this.fetch,n?.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new ite(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,n;if(t.accessToken)return await t.accessToken();const{data:r}=await t.auth.getSession();return(e=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:i,storageKey:s,flowType:a,lock:o,debug:l,throwOnError:c},d,h){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ere({url:this.authUrl.href,headers:yn(yn({},p),d),storageKey:s,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:i,flowType:a,lock:o,debug:l,throwOnError:c,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new Ate(this.realtimeUrl.href,yn(yn({},t),{},{params:yn(yn({},{apikey:this.supabaseKey}),t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e?.access_token)})}_handleTokenChanged(t,e,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Are=(t,e,n)=>new Sre(t,e,n);function Tre(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const n=e.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}Tre()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Cre="https://supabase.rolandhentschel.agency",kre="eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJzdXBhYmFzZSIsImlhdCI6MTc2NzU0NTUyMCwiZXhwIjo0OTIzMjE5MTIwLCJyb2xlIjoiYW5vbiJ9.tV14wzA_fdkuIHXepJ3d8SdNUGNqRLecJX6xpnnPfA8",Dt=Are(Cre,kre);function r7(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=r7(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Rre(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=r7(t))&&(r&&(r+=" "),r+=e);return r}const Ure=(t,e)=>{const n=new Array(t.length+e.length);for(let r=0;r<t.length;r++)n[r]=t[r];for(let r=0;r<e.length;r++)n[t.length+r]=e[r];return n},Mre=(t,e)=>({classGroupId:t,validator:e}),i7=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),Cy="-",TF=[],Ore="arbitrary..",Nre=t=>{const e=Ire(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:a=>{if(a.startsWith("[")&&a.endsWith("]"))return Fre(a);const o=a.split(Cy),l=o[0]===""&&o.length>1?1:0;return s7(o,l,e)},getConflictingClassGroupIds:(a,o)=>{if(o){const l=r[a],c=n[a];return l?c?Ure(c,l):l:c||TF}return n[a]||TF}}},s7=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const i=t[e],s=n.nextPart.get(i);if(s){const c=s7(t,e+1,s);if(c)return c}const a=n.validators;if(a===null)return;const o=e===0?t.join(Cy):t.slice(e).join(Cy),l=a.length;for(let c=0;c<l;c++){const d=a[c];if(d.validator(o))return d.classGroupId}},Fre=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),r=e.slice(0,n);return r?Ore+r:void 0})(),Ire=t=>{const{theme:e,classGroups:n}=t;return Pre(n,e)},Pre=(t,e)=>{const n=i7();for(const r in t){const i=t[r];qC(i,n,r,e)}return n},qC=(t,e,n,r)=>{const i=t.length;for(let s=0;s<i;s++){const a=t[s];Lre(a,e,n,r)}},Lre=(t,e,n,r)=>{if(typeof t=="string"){Bre(t,e,n);return}if(typeof t=="function"){jre(t,e,n,r);return}zre(t,e,n,r)},Bre=(t,e,n)=>{const r=t===""?e:a7(e,t);r.classGroupId=n},jre=(t,e,n,r)=>{if(qre(t)){qC(t(r),e,n,r);return}e.validators===null&&(e.validators=[]),e.validators.push(Mre(n,t))},zre=(t,e,n,r)=>{const i=Object.entries(t),s=i.length;for(let a=0;a<s;a++){const[o,l]=i[a];qC(l,a7(e,o),n,r)}},a7=(t,e)=>{let n=t;const r=e.split(Cy),i=r.length;for(let s=0;s<i;s++){const a=r[s];let o=n.nextPart.get(a);o||(o=i7(),n.nextPart.set(a,o)),n=o}return n},qre=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,Wre=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),r=Object.create(null);const i=(s,a)=>{n[s]=a,e++,e>t&&(e=0,r=n,n=Object.create(null))};return{get(s){let a=n[s];if(a!==void 0)return a;if((a=r[s])!==void 0)return i(s,a),a},set(s,a){s in n?n[s]=a:i(s,a)}}},dT="!",CF=":",Vre=[],kF=(t,e,n,r,i)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:r,isExternal:i}),Hre=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=i=>{const s=[];let a=0,o=0,l=0,c;const d=i.length;for(let y=0;y<d;y++){const b=i[y];if(a===0&&o===0){if(b===CF){s.push(i.slice(l,y)),l=y+1;continue}if(b==="/"){c=y;continue}}b==="["?a++:b==="]"?a--:b==="("?o++:b===")"&&o--}const h=s.length===0?i:i.slice(l);let p=h,g=!1;h.endsWith(dT)?(p=h.slice(0,-1),g=!0):h.startsWith(dT)&&(p=h.slice(1),g=!0);const v=c&&c>l?c-l:void 0;return kF(s,g,p,v)};if(e){const i=e+CF,s=r;r=a=>a.startsWith(i)?s(a.slice(i.length)):kF(Vre,!1,a,void 0,!0)}if(n){const i=r;r=s=>n({className:s,parseClassName:i})}return r},$re=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,r)=>{e.set(n,1e6+r)}),n=>{const r=[];let i=[];for(let s=0;s<n.length;s++){const a=n[s],o=a[0]==="[",l=e.has(a);o||l?(i.length>0&&(i.sort(),r.push(...i),i=[]),r.push(a)):i.push(a)}return i.length>0&&(i.sort(),r.push(...i)),r}},Gre=t=>({cache:Wre(t.cacheSize),parseClassName:Hre(t),sortModifiers:$re(t),...Nre(t)}),Xre=/\s+/,Kre=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:s}=e,a=[],o=t.trim().split(Xre);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{isExternal:h,modifiers:p,hasImportantModifier:g,baseClassName:v,maybePostfixModifierPosition:y}=n(d);if(h){l=d+(l.length>0?" "+l:l);continue}let b=!!y,x=r(b?v.substring(0,y):v);if(!x){if(!b){l=d+(l.length>0?" "+l:l);continue}if(x=r(v),!x){l=d+(l.length>0?" "+l:l);continue}b=!1}const w=p.length===0?"":p.length===1?p[0]:s(p).join(":"),D=g?w+dT:w,E=D+x;if(a.indexOf(E)>-1)continue;a.push(E);const A=i(x,b);for(let S=0;S<A.length;++S){const T=A[S];a.push(D+T)}l=d+(l.length>0?" "+l:l)}return l},Yre=(...t)=>{let e=0,n,r,i="";for(;e<t.length;)(n=t[e++])&&(r=o7(n))&&(i&&(i+=" "),i+=r);return i},o7=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=o7(t[r]))&&(n&&(n+=" "),n+=e);return n},Zre=(t,...e)=>{let n,r,i,s;const a=l=>{const c=e.reduce((d,h)=>h(d),t());return n=Gre(c),r=n.cache.get,i=n.cache.set,s=o,o(l)},o=l=>{const c=r(l);if(c)return c;const d=Kre(l,n);return i(l,d),d};return s=a,(...l)=>s(Yre(...l))},Jre=[],Bn=t=>{const e=n=>n[t]||Jre;return e.isThemeGetter=!0,e},l7=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,c7=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Qre=/^\d+\/\d+$/,eie=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,tie=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,nie=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,rie=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,iie=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,$c=t=>Qre.test(t),vt=t=>!!t&&!Number.isNaN(Number(t)),to=t=>!!t&&Number.isInteger(Number(t)),dx=t=>t.endsWith("%")&&vt(t.slice(0,-1)),aa=t=>eie.test(t),sie=()=>!0,aie=t=>tie.test(t)&&!nie.test(t),u7=()=>!1,oie=t=>rie.test(t),lie=t=>iie.test(t),cie=t=>!Xe(t)&&!Ke(t),uie=t=>ed(t,f7,u7),Xe=t=>l7.test(t),al=t=>ed(t,p7,aie),hx=t=>ed(t,gie,vt),RF=t=>ed(t,d7,u7),die=t=>ed(t,h7,lie),Xg=t=>ed(t,g7,oie),Ke=t=>c7.test(t),ch=t=>td(t,p7),hie=t=>td(t,mie),UF=t=>td(t,d7),fie=t=>td(t,f7),pie=t=>td(t,h7),Kg=t=>td(t,g7,!0),ed=(t,e,n)=>{const r=l7.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},td=(t,e,n=!1)=>{const r=c7.exec(t);return r?r[1]?e(r[1]):n:!1},d7=t=>t==="position"||t==="percentage",h7=t=>t==="image"||t==="url",f7=t=>t==="length"||t==="size"||t==="bg-size",p7=t=>t==="length",gie=t=>t==="number",mie=t=>t==="family-name",g7=t=>t==="shadow",yie=()=>{const t=Bn("color"),e=Bn("font"),n=Bn("text"),r=Bn("font-weight"),i=Bn("tracking"),s=Bn("leading"),a=Bn("breakpoint"),o=Bn("container"),l=Bn("spacing"),c=Bn("radius"),d=Bn("shadow"),h=Bn("inset-shadow"),p=Bn("text-shadow"),g=Bn("drop-shadow"),v=Bn("blur"),y=Bn("perspective"),b=Bn("aspect"),x=Bn("ease"),w=Bn("animate"),D=()=>["auto","avoid","all","avoid-page","page","left","right","column"],E=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],A=()=>[...E(),Ke,Xe],S=()=>["auto","hidden","clip","visible","scroll"],T=()=>["auto","contain","none"],M=()=>[Ke,Xe,l],R=()=>[$c,"full","auto",...M()],O=()=>[to,"none","subgrid",Ke,Xe],z=()=>["auto",{span:["full",to,Ke,Xe]},to,Ke,Xe],F=()=>[to,"auto",Ke,Xe],q=()=>["auto","min","max","fr",Ke,Xe],k=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],H=()=>["start","end","center","stretch","center-safe","end-safe"],N=()=>["auto",...M()],B=()=>[$c,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...M()],G=()=>[t,Ke,Xe],$=()=>[...E(),UF,RF,{position:[Ke,Xe]}],W=()=>["no-repeat",{repeat:["","x","y","space","round"]}],L=()=>["auto","cover","contain",fie,uie,{size:[Ke,Xe]}],K=()=>[dx,ch,al],j=()=>["","none","full",c,Ke,Xe],Y=()=>["",vt,ch,al],ee=()=>["solid","dashed","dotted","double"],re=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],se=()=>[vt,dx,UF,RF],ye=()=>["","none",v,Ke,Xe],xe=()=>["none",vt,Ke,Xe],Re=()=>["none",vt,Ke,Xe],Fe=()=>[vt,Ke,Xe],qe=()=>[$c,"full",...M()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[aa],breakpoint:[aa],color:[sie],container:[aa],"drop-shadow":[aa],ease:["in","out","in-out"],font:[cie],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[aa],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[aa],shadow:[aa],spacing:["px",vt],text:[aa],"text-shadow":[aa],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",$c,Xe,Ke,b]}],container:["container"],columns:[{columns:[vt,Xe,Ke,o]}],"break-after":[{"break-after":D()}],"break-before":[{"break-before":D()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:A()}],overflow:[{overflow:S()}],"overflow-x":[{"overflow-x":S()}],"overflow-y":[{"overflow-y":S()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:R()}],"inset-x":[{"inset-x":R()}],"inset-y":[{"inset-y":R()}],start:[{start:R()}],end:[{end:R()}],top:[{top:R()}],right:[{right:R()}],bottom:[{bottom:R()}],left:[{left:R()}],visibility:["visible","invisible","collapse"],z:[{z:[to,"auto",Ke,Xe]}],basis:[{basis:[$c,"full","auto",o,...M()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[vt,$c,"auto","initial","none",Xe]}],grow:[{grow:["",vt,Ke,Xe]}],shrink:[{shrink:["",vt,Ke,Xe]}],order:[{order:[to,"first","last","none",Ke,Xe]}],"grid-cols":[{"grid-cols":O()}],"col-start-end":[{col:z()}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":O()}],"row-start-end":[{row:z()}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":q()}],"auto-rows":[{"auto-rows":q()}],gap:[{gap:M()}],"gap-x":[{"gap-x":M()}],"gap-y":[{"gap-y":M()}],"justify-content":[{justify:[...k(),"normal"]}],"justify-items":[{"justify-items":[...H(),"normal"]}],"justify-self":[{"justify-self":["auto",...H()]}],"align-content":[{content:["normal",...k()]}],"align-items":[{items:[...H(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...H(),{baseline:["","last"]}]}],"place-content":[{"place-content":k()}],"place-items":[{"place-items":[...H(),"baseline"]}],"place-self":[{"place-self":["auto",...H()]}],p:[{p:M()}],px:[{px:M()}],py:[{py:M()}],ps:[{ps:M()}],pe:[{pe:M()}],pt:[{pt:M()}],pr:[{pr:M()}],pb:[{pb:M()}],pl:[{pl:M()}],m:[{m:N()}],mx:[{mx:N()}],my:[{my:N()}],ms:[{ms:N()}],me:[{me:N()}],mt:[{mt:N()}],mr:[{mr:N()}],mb:[{mb:N()}],ml:[{ml:N()}],"space-x":[{"space-x":M()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":M()}],"space-y-reverse":["space-y-reverse"],size:[{size:B()}],w:[{w:[o,"screen",...B()]}],"min-w":[{"min-w":[o,"screen","none",...B()]}],"max-w":[{"max-w":[o,"screen","none","prose",{screen:[a]},...B()]}],h:[{h:["screen","lh",...B()]}],"min-h":[{"min-h":["screen","lh","none",...B()]}],"max-h":[{"max-h":["screen","lh",...B()]}],"font-size":[{text:["base",n,ch,al]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Ke,hx]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",dx,Xe]}],"font-family":[{font:[hie,Xe,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Ke,Xe]}],"line-clamp":[{"line-clamp":[vt,"none",Ke,hx]}],leading:[{leading:[s,...M()]}],"list-image":[{"list-image":["none",Ke,Xe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ke,Xe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:G()}],"text-color":[{text:G()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ee(),"wavy"]}],"text-decoration-thickness":[{decoration:[vt,"from-font","auto",Ke,al]}],"text-decoration-color":[{decoration:G()}],"underline-offset":[{"underline-offset":[vt,"auto",Ke,Xe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ke,Xe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ke,Xe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:$()}],"bg-repeat":[{bg:W()}],"bg-size":[{bg:L()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},to,Ke,Xe],radial:["",Ke,Xe],conic:[to,Ke,Xe]},pie,die]}],"bg-color":[{bg:G()}],"gradient-from-pos":[{from:K()}],"gradient-via-pos":[{via:K()}],"gradient-to-pos":[{to:K()}],"gradient-from":[{from:G()}],"gradient-via":[{via:G()}],"gradient-to":[{to:G()}],rounded:[{rounded:j()}],"rounded-s":[{"rounded-s":j()}],"rounded-e":[{"rounded-e":j()}],"rounded-t":[{"rounded-t":j()}],"rounded-r":[{"rounded-r":j()}],"rounded-b":[{"rounded-b":j()}],"rounded-l":[{"rounded-l":j()}],"rounded-ss":[{"rounded-ss":j()}],"rounded-se":[{"rounded-se":j()}],"rounded-ee":[{"rounded-ee":j()}],"rounded-es":[{"rounded-es":j()}],"rounded-tl":[{"rounded-tl":j()}],"rounded-tr":[{"rounded-tr":j()}],"rounded-br":[{"rounded-br":j()}],"rounded-bl":[{"rounded-bl":j()}],"border-w":[{border:Y()}],"border-w-x":[{"border-x":Y()}],"border-w-y":[{"border-y":Y()}],"border-w-s":[{"border-s":Y()}],"border-w-e":[{"border-e":Y()}],"border-w-t":[{"border-t":Y()}],"border-w-r":[{"border-r":Y()}],"border-w-b":[{"border-b":Y()}],"border-w-l":[{"border-l":Y()}],"divide-x":[{"divide-x":Y()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Y()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ee(),"hidden","none"]}],"divide-style":[{divide:[...ee(),"hidden","none"]}],"border-color":[{border:G()}],"border-color-x":[{"border-x":G()}],"border-color-y":[{"border-y":G()}],"border-color-s":[{"border-s":G()}],"border-color-e":[{"border-e":G()}],"border-color-t":[{"border-t":G()}],"border-color-r":[{"border-r":G()}],"border-color-b":[{"border-b":G()}],"border-color-l":[{"border-l":G()}],"divide-color":[{divide:G()}],"outline-style":[{outline:[...ee(),"none","hidden"]}],"outline-offset":[{"outline-offset":[vt,Ke,Xe]}],"outline-w":[{outline:["",vt,ch,al]}],"outline-color":[{outline:G()}],shadow:[{shadow:["","none",d,Kg,Xg]}],"shadow-color":[{shadow:G()}],"inset-shadow":[{"inset-shadow":["none",h,Kg,Xg]}],"inset-shadow-color":[{"inset-shadow":G()}],"ring-w":[{ring:Y()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:G()}],"ring-offset-w":[{"ring-offset":[vt,al]}],"ring-offset-color":[{"ring-offset":G()}],"inset-ring-w":[{"inset-ring":Y()}],"inset-ring-color":[{"inset-ring":G()}],"text-shadow":[{"text-shadow":["none",p,Kg,Xg]}],"text-shadow-color":[{"text-shadow":G()}],opacity:[{opacity:[vt,Ke,Xe]}],"mix-blend":[{"mix-blend":[...re(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":re()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[vt]}],"mask-image-linear-from-pos":[{"mask-linear-from":se()}],"mask-image-linear-to-pos":[{"mask-linear-to":se()}],"mask-image-linear-from-color":[{"mask-linear-from":G()}],"mask-image-linear-to-color":[{"mask-linear-to":G()}],"mask-image-t-from-pos":[{"mask-t-from":se()}],"mask-image-t-to-pos":[{"mask-t-to":se()}],"mask-image-t-from-color":[{"mask-t-from":G()}],"mask-image-t-to-color":[{"mask-t-to":G()}],"mask-image-r-from-pos":[{"mask-r-from":se()}],"mask-image-r-to-pos":[{"mask-r-to":se()}],"mask-image-r-from-color":[{"mask-r-from":G()}],"mask-image-r-to-color":[{"mask-r-to":G()}],"mask-image-b-from-pos":[{"mask-b-from":se()}],"mask-image-b-to-pos":[{"mask-b-to":se()}],"mask-image-b-from-color":[{"mask-b-from":G()}],"mask-image-b-to-color":[{"mask-b-to":G()}],"mask-image-l-from-pos":[{"mask-l-from":se()}],"mask-image-l-to-pos":[{"mask-l-to":se()}],"mask-image-l-from-color":[{"mask-l-from":G()}],"mask-image-l-to-color":[{"mask-l-to":G()}],"mask-image-x-from-pos":[{"mask-x-from":se()}],"mask-image-x-to-pos":[{"mask-x-to":se()}],"mask-image-x-from-color":[{"mask-x-from":G()}],"mask-image-x-to-color":[{"mask-x-to":G()}],"mask-image-y-from-pos":[{"mask-y-from":se()}],"mask-image-y-to-pos":[{"mask-y-to":se()}],"mask-image-y-from-color":[{"mask-y-from":G()}],"mask-image-y-to-color":[{"mask-y-to":G()}],"mask-image-radial":[{"mask-radial":[Ke,Xe]}],"mask-image-radial-from-pos":[{"mask-radial-from":se()}],"mask-image-radial-to-pos":[{"mask-radial-to":se()}],"mask-image-radial-from-color":[{"mask-radial-from":G()}],"mask-image-radial-to-color":[{"mask-radial-to":G()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":E()}],"mask-image-conic-pos":[{"mask-conic":[vt]}],"mask-image-conic-from-pos":[{"mask-conic-from":se()}],"mask-image-conic-to-pos":[{"mask-conic-to":se()}],"mask-image-conic-from-color":[{"mask-conic-from":G()}],"mask-image-conic-to-color":[{"mask-conic-to":G()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:$()}],"mask-repeat":[{mask:W()}],"mask-size":[{mask:L()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ke,Xe]}],filter:[{filter:["","none",Ke,Xe]}],blur:[{blur:ye()}],brightness:[{brightness:[vt,Ke,Xe]}],contrast:[{contrast:[vt,Ke,Xe]}],"drop-shadow":[{"drop-shadow":["","none",g,Kg,Xg]}],"drop-shadow-color":[{"drop-shadow":G()}],grayscale:[{grayscale:["",vt,Ke,Xe]}],"hue-rotate":[{"hue-rotate":[vt,Ke,Xe]}],invert:[{invert:["",vt,Ke,Xe]}],saturate:[{saturate:[vt,Ke,Xe]}],sepia:[{sepia:["",vt,Ke,Xe]}],"backdrop-filter":[{"backdrop-filter":["","none",Ke,Xe]}],"backdrop-blur":[{"backdrop-blur":ye()}],"backdrop-brightness":[{"backdrop-brightness":[vt,Ke,Xe]}],"backdrop-contrast":[{"backdrop-contrast":[vt,Ke,Xe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",vt,Ke,Xe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[vt,Ke,Xe]}],"backdrop-invert":[{"backdrop-invert":["",vt,Ke,Xe]}],"backdrop-opacity":[{"backdrop-opacity":[vt,Ke,Xe]}],"backdrop-saturate":[{"backdrop-saturate":[vt,Ke,Xe]}],"backdrop-sepia":[{"backdrop-sepia":["",vt,Ke,Xe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":M()}],"border-spacing-x":[{"border-spacing-x":M()}],"border-spacing-y":[{"border-spacing-y":M()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ke,Xe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[vt,"initial",Ke,Xe]}],ease:[{ease:["linear","initial",x,Ke,Xe]}],delay:[{delay:[vt,Ke,Xe]}],animate:[{animate:["none",w,Ke,Xe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[y,Ke,Xe]}],"perspective-origin":[{"perspective-origin":A()}],rotate:[{rotate:xe()}],"rotate-x":[{"rotate-x":xe()}],"rotate-y":[{"rotate-y":xe()}],"rotate-z":[{"rotate-z":xe()}],scale:[{scale:Re()}],"scale-x":[{"scale-x":Re()}],"scale-y":[{"scale-y":Re()}],"scale-z":[{"scale-z":Re()}],"scale-3d":["scale-3d"],skew:[{skew:Fe()}],"skew-x":[{"skew-x":Fe()}],"skew-y":[{"skew-y":Fe()}],transform:[{transform:[Ke,Xe,"","none","gpu","cpu"]}],"transform-origin":[{origin:A()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:qe()}],"translate-x":[{"translate-x":qe()}],"translate-y":[{"translate-y":qe()}],"translate-z":[{"translate-z":qe()}],"translate-none":["translate-none"],accent:[{accent:G()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:G()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ke,Xe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ke,Xe]}],fill:[{fill:["none",...G()]}],"stroke-w":[{stroke:[vt,ch,al,hx]}],stroke:[{stroke:["none",...G()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},bie=Zre(yie);function Et(...t){return bie(Rre(t))}const dt=V.forwardRef(({className:t,variant:e="default",size:n="default",...r},i)=>I.jsx("button",{className:Et("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors","focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring","disabled:pointer-events-none disabled:opacity-50",{"bg-primary text-primary-foreground shadow hover:bg-primary/90":e==="default","bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90":e==="destructive","border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground":e==="outline","bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80":e==="secondary","hover:bg-accent hover:text-accent-foreground":e==="ghost","text-primary underline-offset-4 hover:underline":e==="link"},{"h-9 px-4 py-2":n==="default","h-8 rounded-md px-3 text-xs":n==="sm","h-10 rounded-md px-8":n==="lg","h-9 w-9":n==="icon"},t),ref:i,...r}));dt.displayName="Button";const _o=V.forwardRef(({className:t,type:e,...n},r)=>I.jsx("input",{type:e,className:Et("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors","file:border-0 file:bg-transparent file:text-sm file:font-medium","placeholder:text-muted-foreground","focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring","disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));_o.displayName="Input";const m7=V.forwardRef(({className:t,...e},n)=>I.jsx("div",{ref:n,className:Et("rounded-xl border bg-card text-card-foreground shadow",t),...e}));m7.displayName="Card";const y7=V.forwardRef(({className:t,...e},n)=>I.jsx("div",{ref:n,className:Et("flex flex-col space-y-1.5 p-6",t),...e}));y7.displayName="CardHeader";const b7=V.forwardRef(({className:t,...e},n)=>I.jsx("h3",{ref:n,className:Et("font-semibold leading-none tracking-tight",t),...e}));b7.displayName="CardTitle";const v7=V.forwardRef(({className:t,...e},n)=>I.jsx("p",{ref:n,className:Et("text-sm text-muted-foreground",t),...e}));v7.displayName="CardDescription";const x7=V.forwardRef(({className:t,...e},n)=>I.jsx("div",{ref:n,className:Et("p-6 pt-0",t),...e}));x7.displayName="CardContent";const w7=V.forwardRef(({className:t,...e},n)=>I.jsx("div",{ref:n,className:Et("flex items-center p-6 pt-0",t),...e}));w7.displayName="CardFooter";const _7=V.createContext(null);function WC(){const t=V.useContext(_7);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t}function vie({children:t}){const[e,n]=V.useState(null),[r,i]=V.useState(null),[s,a]=V.useState(!0);V.useEffect(()=>{Dt.auth.getSession().then(({data:{session:c}})=>{i(c),n(c?.user??null),a(!1)});const{data:{subscription:l}}=Dt.auth.onAuthStateChange((c,d)=>{i(d),n(d?.user??null)});return()=>l.unsubscribe()},[]);const o=async()=>{await Dt.auth.signOut()};return s?I.jsx("div",{className:"flex h-screen items-center justify-center",children:I.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):e?I.jsx(_7.Provider,{value:{user:e,session:r,isLoading:s,signOut:o},children:t}):I.jsx(xie,{})}function xie(){const[t,e]=V.useState(""),[n,r]=V.useState(""),[i,s]=V.useState(!1),[a,o]=V.useState(!1),[l,c]=V.useState(null),[d,h]=V.useState(null),p=async g=>{g.preventDefault(),o(!0),c(null),h(null);try{if(i){const{error:v}=await Dt.auth.signUp({email:t,password:n});if(v)throw v;h("Prfe deine E-Mail fr den Besttigungslink!")}else{const{error:v}=await Dt.auth.signInWithPassword({email:t,password:n});if(v)throw v}}catch(v){const y=v instanceof Error?v.message:"Ein Fehler ist aufgetreten";c(y)}finally{o(!1)}};return I.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 p-4",children:I.jsxs(m7,{className:"w-full max-w-md",children:[I.jsxs(y7,{className:"text-center",children:[I.jsx("img",{src:"/logo.png",alt:"Softwareplanung",className:"mx-auto mb-4 h-12 w-12 rounded-xl shadow-sm"}),I.jsx(b7,{children:"Softwareplanung"}),I.jsx(v7,{children:i?"Erstelle ein neues Konto":"Melde dich an, um fortzufahren"})]}),I.jsxs("form",{onSubmit:p,children:[I.jsxs(x7,{className:"space-y-4",children:[l&&I.jsx("div",{className:"rounded-lg bg-destructive/10 p-3 text-sm text-destructive",children:l}),d&&I.jsx("div",{className:"rounded-lg bg-green-100 p-3 text-sm text-green-800",children:d}),I.jsxs("div",{className:"space-y-2",children:[I.jsx("label",{htmlFor:"email",className:"text-sm font-medium",children:"E-Mail"}),I.jsx(_o,{id:"email",type:"email",value:t,onChange:g=>e(g.target.value),placeholder:"name@beispiel.de",required:!0})]}),I.jsxs("div",{className:"space-y-2",children:[I.jsx("label",{htmlFor:"password",className:"text-sm font-medium",children:"Passwort"}),I.jsx(_o,{id:"password",type:"password",value:n,onChange:g=>r(g.target.value),placeholder:"",required:!0,minLength:6})]})]}),I.jsxs(w7,{className:"flex flex-col gap-4",children:[I.jsx(dt,{type:"submit",className:"w-full",disabled:a,children:a?"Laden...":i?"Registrieren":"Anmelden"}),I.jsx("button",{type:"button",onClick:()=>{s(!i),c(null),h(null)},className:"text-sm text-muted-foreground hover:text-primary",children:i?"Bereits ein Konto? Anmelden":"Noch kein Konto? Registrieren"})]})]})]})})}function or(t){if(typeof t=="string"||typeof t=="number")return""+t;let e="";if(Array.isArray(t))for(let n=0,r;n<t.length;n++)(r=or(t[n]))!==""&&(e+=(e&&" ")+r);else for(let n in t)t[n]&&(e+=(e&&" ")+n);return e}var fx={exports:{}},px={},gx={exports:{}},mx={};var MF;function wie(){if(MF)return mx;MF=1;var t=Vf();function e(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,a=t.useDebugValue;function o(h,p){var g=p(),v=r({inst:{value:g,getSnapshot:p}}),y=v[0].inst,b=v[1];return s(function(){y.value=g,y.getSnapshot=p,l(y)&&b({inst:y})},[h,g,p]),i(function(){return l(y)&&b({inst:y}),h(function(){l(y)&&b({inst:y})})},[h]),a(g),g}function l(h){var p=h.getSnapshot;h=h.value;try{var g=p();return!n(h,g)}catch{return!0}}function c(h,p){return p()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:o;return mx.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:d,mx}var OF;function _ie(){return OF||(OF=1,gx.exports=wie()),gx.exports}var NF;function Die(){if(NF)return px;NF=1;var t=Vf(),e=_ie();function n(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,a=t.useEffect,o=t.useMemo,l=t.useDebugValue;return px.useSyncExternalStoreWithSelector=function(c,d,h,p,g){var v=s(null);if(v.current===null){var y={hasValue:!1,value:null};v.current=y}else y=v.current;v=o(function(){function x(S){if(!w){if(w=!0,D=S,S=p(S),g!==void 0&&y.hasValue){var T=y.value;if(g(T,S))return E=T}return E=S}if(T=E,r(D,S))return T;var M=p(S);return g!==void 0&&g(T,M)?(D=S,T):(D=S,E=M)}var w=!1,D,E,A=h===void 0?null:h;return[function(){return x(d())},A===null?void 0:function(){return x(A())}]},[d,h,p,g]);var b=i(c,v[0],v[1]);return a(function(){y.hasValue=!0,y.value=b},[b]),l(b),b},px}var FF;function Eie(){return FF||(FF=1,fx.exports=Die()),fx.exports}var Sie=Eie();const Aie=$l(Sie),Tie={},IF=t=>{let e;const n=new Set,r=(d,h)=>{const p=typeof d=="function"?d(e):d;if(!Object.is(p,e)){const g=e;e=h??(typeof p!="object"||p===null)?p:Object.assign({},e,p),n.forEach(v=>v(e,g))}},i=()=>e,l={setState:r,getState:i,getInitialState:()=>c,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(Tie?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},c=e=t(r,i,l);return l},Cie=t=>t?IF(t):IF,{useDebugValue:kie}=Ce,{useSyncExternalStoreWithSelector:Rie}=Aie,Uie=t=>t;function D7(t,e=Uie,n){const r=Rie(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return kie(r),r}const PF=(t,e)=>{const n=Cie(t),r=(i,s=e)=>D7(n,i,s);return Object.assign(r,n),r},Mie=(t,e)=>t?PF(t,e):PF;function Wr(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[r,i]of t)if(!Object.is(i,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(e,r)||!Object.is(t[r],e[r]))return!1;return!0}var Oie={value:()=>{}};function bb(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new zm(n)}function zm(t){this._=t}function Nie(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}zm.prototype=bb.prototype={constructor:zm,on:function(t,e){var n=this._,r=Nie(t+"",n),i,s=-1,a=r.length;if(arguments.length<2){for(;++s<a;)if((i=(t=r[s]).type)&&(i=Fie(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<a;)if(i=(t=r[s]).type)n[i]=LF(n[i],t.name,e);else if(e==null)for(i in n)n[i]=LF(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new zm(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],r=0,i=s.length;r<i;++r)s[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,s=r.length;i<s;++i)r[i].value.apply(e,n)}};function Fie(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function LF(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Oie,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var hT="http://www.w3.org/1999/xhtml";const BF={svg:"http://www.w3.org/2000/svg",xhtml:hT,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function vb(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),BF.hasOwnProperty(e)?{space:BF[e],local:t}:t}function Iie(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===hT&&e.documentElement.namespaceURI===hT?e.createElement(t):e.createElementNS(n,t)}}function Pie(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function E7(t){var e=vb(t);return(e.local?Pie:Iie)(e)}function Lie(){}function VC(t){return t==null?Lie:function(){return this.querySelector(t)}}function Bie(t){typeof t!="function"&&(t=VC(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],a=s.length,o=r[i]=new Array(a),l,c,d=0;d<a;++d)(l=s[d])&&(c=t.call(l,l.__data__,d,s))&&("__data__"in l&&(c.__data__=l.__data__),o[d]=c);return new gi(r,this._parents)}function jie(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function zie(){return[]}function S7(t){return t==null?zie:function(){return this.querySelectorAll(t)}}function qie(t){return function(){return jie(t.apply(this,arguments))}}function Wie(t){typeof t=="function"?t=qie(t):t=S7(t);for(var e=this._groups,n=e.length,r=[],i=[],s=0;s<n;++s)for(var a=e[s],o=a.length,l,c=0;c<o;++c)(l=a[c])&&(r.push(t.call(l,l.__data__,c,a)),i.push(l));return new gi(r,i)}function A7(t){return function(){return this.matches(t)}}function T7(t){return function(e){return e.matches(t)}}var Vie=Array.prototype.find;function Hie(t){return function(){return Vie.call(this.children,t)}}function $ie(){return this.firstElementChild}function Gie(t){return this.select(t==null?$ie:Hie(typeof t=="function"?t:T7(t)))}var Xie=Array.prototype.filter;function Kie(){return Array.from(this.children)}function Yie(t){return function(){return Xie.call(this.children,t)}}function Zie(t){return this.selectAll(t==null?Kie:Yie(typeof t=="function"?t:T7(t)))}function Jie(t){typeof t!="function"&&(t=A7(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],a=s.length,o=r[i]=[],l,c=0;c<a;++c)(l=s[c])&&t.call(l,l.__data__,c,s)&&o.push(l);return new gi(r,this._parents)}function C7(t){return new Array(t.length)}function Qie(){return new gi(this._enter||this._groups.map(C7),this._parents)}function ky(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}ky.prototype={constructor:ky,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function ese(t){return function(){return t}}function tse(t,e,n,r,i,s){for(var a=0,o,l=e.length,c=s.length;a<c;++a)(o=e[a])?(o.__data__=s[a],r[a]=o):n[a]=new ky(t,s[a]);for(;a<l;++a)(o=e[a])&&(i[a]=o)}function nse(t,e,n,r,i,s,a){var o,l,c=new Map,d=e.length,h=s.length,p=new Array(d),g;for(o=0;o<d;++o)(l=e[o])&&(p[o]=g=a.call(l,l.__data__,o,e)+"",c.has(g)?i[o]=l:c.set(g,l));for(o=0;o<h;++o)g=a.call(t,s[o],o,s)+"",(l=c.get(g))?(r[o]=l,l.__data__=s[o],c.delete(g)):n[o]=new ky(t,s[o]);for(o=0;o<d;++o)(l=e[o])&&c.get(p[o])===l&&(i[o]=l)}function rse(t){return t.__data__}function ise(t,e){if(!arguments.length)return Array.from(this,rse);var n=e?nse:tse,r=this._parents,i=this._groups;typeof t!="function"&&(t=ese(t));for(var s=i.length,a=new Array(s),o=new Array(s),l=new Array(s),c=0;c<s;++c){var d=r[c],h=i[c],p=h.length,g=sse(t.call(d,d&&d.__data__,c,r)),v=g.length,y=o[c]=new Array(v),b=a[c]=new Array(v),x=l[c]=new Array(p);n(d,h,y,b,x,g,e);for(var w=0,D=0,E,A;w<v;++w)if(E=y[w]){for(w>=D&&(D=w+1);!(A=b[D])&&++D<v;);E._next=A||null}}return a=new gi(a,r),a._enter=o,a._exit=l,a}function sse(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function ase(){return new gi(this._exit||this._groups.map(C7),this._parents)}function ose(t,e,n){var r=this.enter(),i=this,s=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function lse(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,s=r.length,a=Math.min(i,s),o=new Array(i),l=0;l<a;++l)for(var c=n[l],d=r[l],h=c.length,p=o[l]=new Array(h),g,v=0;v<h;++v)(g=c[v]||d[v])&&(p[v]=g);for(;l<i;++l)o[l]=n[l];return new gi(o,this._parents)}function cse(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,s=r[i],a;--i>=0;)(a=r[i])&&(s&&a.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(a,s),s=a);return this}function use(t){t||(t=dse);function e(h,p){return h&&p?t(h.__data__,p.__data__):!h-!p}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var a=n[s],o=a.length,l=i[s]=new Array(o),c,d=0;d<o;++d)(c=a[d])&&(l[d]=c);l.sort(e)}return new gi(i,this._parents).order()}function dse(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function hse(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function fse(){return Array.from(this)}function pse(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length;i<s;++i){var a=r[i];if(a)return a}return null}function gse(){let t=0;for(const e of this)++t;return t}function mse(){return!this.node()}function yse(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],s=0,a=i.length,o;s<a;++s)(o=i[s])&&t.call(o,o.__data__,s,i);return this}function bse(t){return function(){this.removeAttribute(t)}}function vse(t){return function(){this.removeAttributeNS(t.space,t.local)}}function xse(t,e){return function(){this.setAttribute(t,e)}}function wse(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function _se(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Dse(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Ese(t,e){var n=vb(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?vse:bse:typeof e=="function"?n.local?Dse:_se:n.local?wse:xse)(n,e))}function k7(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Sse(t){return function(){this.style.removeProperty(t)}}function Ase(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Tse(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Cse(t,e,n){return arguments.length>1?this.each((e==null?Sse:typeof e=="function"?Tse:Ase)(t,e,n??"")):Bu(this.node(),t)}function Bu(t,e){return t.style.getPropertyValue(e)||k7(t).getComputedStyle(t,null).getPropertyValue(e)}function kse(t){return function(){delete this[t]}}function Rse(t,e){return function(){this[t]=e}}function Use(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function Mse(t,e){return arguments.length>1?this.each((e==null?kse:typeof e=="function"?Use:Rse)(t,e)):this.node()[t]}function R7(t){return t.trim().split(/^|\s+/)}function HC(t){return t.classList||new U7(t)}function U7(t){this._node=t,this._names=R7(t.getAttribute("class")||"")}U7.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function M7(t,e){for(var n=HC(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function O7(t,e){for(var n=HC(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Ose(t){return function(){M7(this,t)}}function Nse(t){return function(){O7(this,t)}}function Fse(t,e){return function(){(e.apply(this,arguments)?M7:O7)(this,t)}}function Ise(t,e){var n=R7(t+"");if(arguments.length<2){for(var r=HC(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?Fse:e?Ose:Nse)(n,e))}function Pse(){this.textContent=""}function Lse(t){return function(){this.textContent=t}}function Bse(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function jse(t){return arguments.length?this.each(t==null?Pse:(typeof t=="function"?Bse:Lse)(t)):this.node().textContent}function zse(){this.innerHTML=""}function qse(t){return function(){this.innerHTML=t}}function Wse(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function Vse(t){return arguments.length?this.each(t==null?zse:(typeof t=="function"?Wse:qse)(t)):this.node().innerHTML}function Hse(){this.nextSibling&&this.parentNode.appendChild(this)}function $se(){return this.each(Hse)}function Gse(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Xse(){return this.each(Gse)}function Kse(t){var e=typeof t=="function"?t:E7(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Yse(){return null}function Zse(t,e){var n=typeof t=="function"?t:E7(t),r=e==null?Yse:typeof e=="function"?e:VC(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Jse(){var t=this.parentNode;t&&t.removeChild(this)}function Qse(){return this.each(Jse)}function eae(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function tae(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function nae(t){return this.select(t?tae:eae)}function rae(t){return arguments.length?this.property("__data__",t):this.node().__data__}function iae(t){return function(e){t.call(this,e,this.__data__)}}function sae(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function aae(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,s;n<i;++n)s=e[n],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.options):e[++r]=s;++r?e.length=r:delete this.__on}}}function oae(t,e,n){return function(){var r=this.__on,i,s=iae(e);if(r){for(var a=0,o=r.length;a<o;++a)if((i=r[a]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=e;return}}this.addEventListener(t.type,s,n),i={type:t.type,name:t.name,value:e,listener:s,options:n},r?r.push(i):this.__on=[i]}}function lae(t,e,n){var r=sae(t+""),i,s=r.length,a;if(arguments.length<2){var o=this.node().__on;if(o){for(var l=0,c=o.length,d;l<c;++l)for(i=0,d=o[l];i<s;++i)if((a=r[i]).type===d.type&&a.name===d.name)return d.value}return}for(o=e?oae:aae,i=0;i<s;++i)this.each(o(r[i],e,n));return this}function N7(t,e,n){var r=k7(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function cae(t,e){return function(){return N7(this,t,e)}}function uae(t,e){return function(){return N7(this,t,e.apply(this,arguments))}}function dae(t,e){return this.each((typeof e=="function"?uae:cae)(t,e))}function*hae(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length,a;i<s;++i)(a=r[i])&&(yield a)}var F7=[null];function gi(t,e){this._groups=t,this._parents=e}function Gf(){return new gi([[document.documentElement]],F7)}function fae(){return this}gi.prototype=Gf.prototype={constructor:gi,select:Bie,selectAll:Wie,selectChild:Gie,selectChildren:Zie,filter:Jie,data:ise,enter:Qie,exit:ase,join:ose,merge:lse,selection:fae,order:cse,sort:use,call:hse,nodes:fse,node:pse,size:gse,empty:mse,each:yse,attr:Ese,style:Cse,property:Mse,classed:Ise,text:jse,html:Vse,raise:$se,lower:Xse,append:Kse,insert:Zse,remove:Qse,clone:nae,datum:rae,on:lae,dispatch:dae,[Symbol.iterator]:hae};function Pi(t){return typeof t=="string"?new gi([[document.querySelector(t)]],[document.documentElement]):new gi([[t]],F7)}function pae(t){let e;for(;e=t.sourceEvent;)t=e;return t}function is(t,e){if(t=pae(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}const gae={passive:!1},hf={capture:!0,passive:!1};function yx(t){t.stopImmediatePropagation()}function Su(t){t.preventDefault(),t.stopImmediatePropagation()}function I7(t){var e=t.document.documentElement,n=Pi(t).on("dragstart.drag",Su,hf);"onselectstart"in e?n.on("selectstart.drag",Su,hf):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function P7(t,e){var n=t.document.documentElement,r=Pi(t).on("dragstart.drag",null);e&&(r.on("click.drag",Su,hf),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Yg=t=>()=>t;function fT(t,{sourceEvent:e,subject:n,target:r,identifier:i,active:s,x:a,y:o,dx:l,dy:c,dispatch:d}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:o,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:d}})}fT.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function mae(t){return!t.ctrlKey&&!t.button}function yae(){return this.parentNode}function bae(t,e){return e??{x:t.x,y:t.y}}function vae(){return navigator.maxTouchPoints||"ontouchstart"in this}function xae(){var t=mae,e=yae,n=bae,r=vae,i={},s=bb("start","drag","end"),a=0,o,l,c,d,h=0;function p(E){E.on("mousedown.drag",g).filter(r).on("touchstart.drag",b).on("touchmove.drag",x,gae).on("touchend.drag touchcancel.drag",w).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(E,A){if(!(d||!t.call(this,E,A))){var S=D(this,e.call(this,E,A),E,A,"mouse");S&&(Pi(E.view).on("mousemove.drag",v,hf).on("mouseup.drag",y,hf),I7(E.view),yx(E),c=!1,o=E.clientX,l=E.clientY,S("start",E))}}function v(E){if(Su(E),!c){var A=E.clientX-o,S=E.clientY-l;c=A*A+S*S>h}i.mouse("drag",E)}function y(E){Pi(E.view).on("mousemove.drag mouseup.drag",null),P7(E.view,c),Su(E),i.mouse("end",E)}function b(E,A){if(t.call(this,E,A)){var S=E.changedTouches,T=e.call(this,E,A),M=S.length,R,O;for(R=0;R<M;++R)(O=D(this,T,E,A,S[R].identifier,S[R]))&&(yx(E),O("start",E,S[R]))}}function x(E){var A=E.changedTouches,S=A.length,T,M;for(T=0;T<S;++T)(M=i[A[T].identifier])&&(Su(E),M("drag",E,A[T]))}function w(E){var A=E.changedTouches,S=A.length,T,M;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),T=0;T<S;++T)(M=i[A[T].identifier])&&(yx(E),M("end",E,A[T]))}function D(E,A,S,T,M,R){var O=s.copy(),z=is(R||S,A),F,q,k;if((k=n.call(E,new fT("beforestart",{sourceEvent:S,target:p,identifier:M,active:a,x:z[0],y:z[1],dx:0,dy:0,dispatch:O}),T))!=null)return F=k.x-z[0]||0,q=k.y-z[1]||0,function H(N,B,G){var $=z,W;switch(N){case"start":i[M]=H,W=a++;break;case"end":delete i[M],--a;case"drag":z=is(G||B,A),W=a;break}O.call(N,E,new fT(N,{sourceEvent:B,subject:k,target:p,identifier:M,active:W,x:z[0]+F,y:z[1]+q,dx:z[0]-$[0],dy:z[1]-$[1],dispatch:O}),T)}}return p.filter=function(E){return arguments.length?(t=typeof E=="function"?E:Yg(!!E),p):t},p.container=function(E){return arguments.length?(e=typeof E=="function"?E:Yg(E),p):e},p.subject=function(E){return arguments.length?(n=typeof E=="function"?E:Yg(E),p):n},p.touchable=function(E){return arguments.length?(r=typeof E=="function"?E:Yg(!!E),p):r},p.on=function(){var E=s.on.apply(s,arguments);return E===s?p:E},p.clickDistance=function(E){return arguments.length?(h=(E=+E)*E,p):Math.sqrt(h)},p}function $C(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function L7(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Xf(){}var ff=.7,Ry=1/ff,Au="\\s*([+-]?\\d+)\\s*",pf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Cs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",wae=/^#([0-9a-f]{3,8})$/,_ae=new RegExp(`^rgb\\(${Au},${Au},${Au}\\)$`),Dae=new RegExp(`^rgb\\(${Cs},${Cs},${Cs}\\)$`),Eae=new RegExp(`^rgba\\(${Au},${Au},${Au},${pf}\\)$`),Sae=new RegExp(`^rgba\\(${Cs},${Cs},${Cs},${pf}\\)$`),Aae=new RegExp(`^hsl\\(${pf},${Cs},${Cs}\\)$`),Tae=new RegExp(`^hsla\\(${pf},${Cs},${Cs},${pf}\\)$`),jF={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};$C(Xf,gf,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:zF,formatHex:zF,formatHex8:Cae,formatHsl:kae,formatRgb:qF,toString:qF});function zF(){return this.rgb().formatHex()}function Cae(){return this.rgb().formatHex8()}function kae(){return B7(this).formatHsl()}function qF(){return this.rgb().formatRgb()}function gf(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=wae.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?WF(e):n===3?new jr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Zg(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Zg(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=_ae.exec(t))?new jr(e[1],e[2],e[3],1):(e=Dae.exec(t))?new jr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Eae.exec(t))?Zg(e[1],e[2],e[3],e[4]):(e=Sae.exec(t))?Zg(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Aae.exec(t))?$F(e[1],e[2]/100,e[3]/100,1):(e=Tae.exec(t))?$F(e[1],e[2]/100,e[3]/100,e[4]):jF.hasOwnProperty(t)?WF(jF[t]):t==="transparent"?new jr(NaN,NaN,NaN,0):null}function WF(t){return new jr(t>>16&255,t>>8&255,t&255,1)}function Zg(t,e,n,r){return r<=0&&(t=e=n=NaN),new jr(t,e,n,r)}function Rae(t){return t instanceof Xf||(t=gf(t)),t?(t=t.rgb(),new jr(t.r,t.g,t.b,t.opacity)):new jr}function pT(t,e,n,r){return arguments.length===1?Rae(t):new jr(t,e,n,r??1)}function jr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}$C(jr,pT,L7(Xf,{brighter(t){return t=t==null?Ry:Math.pow(Ry,t),new jr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?ff:Math.pow(ff,t),new jr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new jr(kl(this.r),kl(this.g),kl(this.b),Uy(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:VF,formatHex:VF,formatHex8:Uae,formatRgb:HF,toString:HF}));function VF(){return`#${xl(this.r)}${xl(this.g)}${xl(this.b)}`}function Uae(){return`#${xl(this.r)}${xl(this.g)}${xl(this.b)}${xl((isNaN(this.opacity)?1:this.opacity)*255)}`}function HF(){const t=Uy(this.opacity);return`${t===1?"rgb(":"rgba("}${kl(this.r)}, ${kl(this.g)}, ${kl(this.b)}${t===1?")":`, ${t})`}`}function Uy(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function kl(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function xl(t){return t=kl(t),(t<16?"0":"")+t.toString(16)}function $F(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ss(t,e,n,r)}function B7(t){if(t instanceof ss)return new ss(t.h,t.s,t.l,t.opacity);if(t instanceof Xf||(t=gf(t)),!t)return new ss;if(t instanceof ss)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),a=NaN,o=s-i,l=(s+i)/2;return o?(e===s?a=(n-r)/o+(n<r)*6:n===s?a=(r-e)/o+2:a=(e-n)/o+4,o/=l<.5?s+i:2-s-i,a*=60):o=l>0&&l<1?0:a,new ss(a,o,l,t.opacity)}function Mae(t,e,n,r){return arguments.length===1?B7(t):new ss(t,e,n,r??1)}function ss(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}$C(ss,Mae,L7(Xf,{brighter(t){return t=t==null?Ry:Math.pow(Ry,t),new ss(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?ff:Math.pow(ff,t),new ss(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new jr(bx(t>=240?t-240:t+120,i,r),bx(t,i,r),bx(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new ss(GF(this.h),Jg(this.s),Jg(this.l),Uy(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Uy(this.opacity);return`${t===1?"hsl(":"hsla("}${GF(this.h)}, ${Jg(this.s)*100}%, ${Jg(this.l)*100}%${t===1?")":`, ${t})`}`}}));function GF(t){return t=(t||0)%360,t<0?t+360:t}function Jg(t){return Math.max(0,Math.min(1,t||0))}function bx(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const j7=t=>()=>t;function Oae(t,e){return function(n){return t+n*e}}function Nae(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Fae(t){return(t=+t)==1?z7:function(e,n){return n-e?Nae(e,n,t):j7(isNaN(e)?n:e)}}function z7(t,e){var n=e-t;return n?Oae(t,n):j7(isNaN(t)?e:t)}const XF=(function t(e){var n=Fae(e);function r(i,s){var a=n((i=pT(i)).r,(s=pT(s)).r),o=n(i.g,s.g),l=n(i.b,s.b),c=z7(i.opacity,s.opacity);return function(d){return i.r=a(d),i.g=o(d),i.b=l(d),i.opacity=c(d),i+""}}return r.gamma=t,r})(1);function uo(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var gT=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,vx=new RegExp(gT.source,"g");function Iae(t){return function(){return t}}function Pae(t){return function(e){return t(e)+""}}function Lae(t,e){var n=gT.lastIndex=vx.lastIndex=0,r,i,s,a=-1,o=[],l=[];for(t=t+"",e=e+"";(r=gT.exec(t))&&(i=vx.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),o[a]?o[a]+=s:o[++a]=s),(r=r[0])===(i=i[0])?o[a]?o[a]+=i:o[++a]=i:(o[++a]=null,l.push({i:a,x:uo(r,i)})),n=vx.lastIndex;return n<e.length&&(s=e.slice(n),o[a]?o[a]+=s:o[++a]=s),o.length<2?l[0]?Pae(l[0].x):Iae(e):(e=l.length,function(c){for(var d=0,h;d<e;++d)o[(h=l[d]).i]=h.x(c);return o.join("")})}var KF=180/Math.PI,mT={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function q7(t,e,n,r,i,s){var a,o,l;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(o=Math.sqrt(n*n+r*r))&&(n/=o,r/=o,l/=o),t*r<e*n&&(t=-t,e=-e,l=-l,a=-a),{translateX:i,translateY:s,rotate:Math.atan2(e,t)*KF,skewX:Math.atan(l)*KF,scaleX:a,scaleY:o}}var Qg;function Bae(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?mT:q7(e.a,e.b,e.c,e.d,e.e,e.f)}function jae(t){return t==null||(Qg||(Qg=document.createElementNS("http://www.w3.org/2000/svg","g")),Qg.setAttribute("transform",t),!(t=Qg.transform.baseVal.consolidate()))?mT:(t=t.matrix,q7(t.a,t.b,t.c,t.d,t.e,t.f))}function W7(t,e,n,r){function i(c){return c.length?c.pop()+" ":""}function s(c,d,h,p,g,v){if(c!==h||d!==p){var y=g.push("translate(",null,e,null,n);v.push({i:y-4,x:uo(c,h)},{i:y-2,x:uo(d,p)})}else(h||p)&&g.push("translate("+h+e+p+n)}function a(c,d,h,p){c!==d?(c-d>180?d+=360:d-c>180&&(c+=360),p.push({i:h.push(i(h)+"rotate(",null,r)-2,x:uo(c,d)})):d&&h.push(i(h)+"rotate("+d+r)}function o(c,d,h,p){c!==d?p.push({i:h.push(i(h)+"skewX(",null,r)-2,x:uo(c,d)}):d&&h.push(i(h)+"skewX("+d+r)}function l(c,d,h,p,g,v){if(c!==h||d!==p){var y=g.push(i(g)+"scale(",null,",",null,")");v.push({i:y-4,x:uo(c,h)},{i:y-2,x:uo(d,p)})}else(h!==1||p!==1)&&g.push(i(g)+"scale("+h+","+p+")")}return function(c,d){var h=[],p=[];return c=t(c),d=t(d),s(c.translateX,c.translateY,d.translateX,d.translateY,h,p),a(c.rotate,d.rotate,h,p),o(c.skewX,d.skewX,h,p),l(c.scaleX,c.scaleY,d.scaleX,d.scaleY,h,p),c=d=null,function(g){for(var v=-1,y=p.length,b;++v<y;)h[(b=p[v]).i]=b.x(g);return h.join("")}}}var zae=W7(Bae,"px, ","px)","deg)"),qae=W7(jae,", ",")",")"),Wae=1e-12;function YF(t){return((t=Math.exp(t))+1/t)/2}function Vae(t){return((t=Math.exp(t))-1/t)/2}function Hae(t){return((t=Math.exp(2*t))-1)/(t+1)}const $ae=(function t(e,n,r){function i(s,a){var o=s[0],l=s[1],c=s[2],d=a[0],h=a[1],p=a[2],g=d-o,v=h-l,y=g*g+v*v,b,x;if(y<Wae)x=Math.log(p/c)/e,b=function(T){return[o+T*g,l+T*v,c*Math.exp(e*T*x)]};else{var w=Math.sqrt(y),D=(p*p-c*c+r*y)/(2*c*n*w),E=(p*p-c*c-r*y)/(2*p*n*w),A=Math.log(Math.sqrt(D*D+1)-D),S=Math.log(Math.sqrt(E*E+1)-E);x=(S-A)/e,b=function(T){var M=T*x,R=YF(A),O=c/(n*w)*(R*Hae(e*M+A)-Vae(A));return[o+O*g,l+O*v,c*R/YF(e*M+A)]}}return b.duration=x*1e3*e/Math.SQRT2,b}return i.rho=function(s){var a=Math.max(.001,+s),o=a*a,l=o*o;return t(a,o,l)},i})(Math.SQRT2,2,4);var ju=0,Ih=0,uh=0,V7=1e3,My,Ph,Oy=0,Fl=0,xb=0,mf=typeof performance=="object"&&performance.now?performance:Date,H7=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function GC(){return Fl||(H7(Gae),Fl=mf.now()+xb)}function Gae(){Fl=0}function Ny(){this._call=this._time=this._next=null}Ny.prototype=$7.prototype={constructor:Ny,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?GC():+n)+(e==null?0:+e),!this._next&&Ph!==this&&(Ph?Ph._next=this:My=this,Ph=this),this._call=t,this._time=n,yT()},stop:function(){this._call&&(this._call=null,this._time=1/0,yT())}};function $7(t,e,n){var r=new Ny;return r.restart(t,e,n),r}function Xae(){GC(),++ju;for(var t=My,e;t;)(e=Fl-t._time)>=0&&t._call.call(void 0,e),t=t._next;--ju}function ZF(){Fl=(Oy=mf.now())+xb,ju=Ih=0;try{Xae()}finally{ju=0,Yae(),Fl=0}}function Kae(){var t=mf.now(),e=t-Oy;e>V7&&(xb-=e,Oy=t)}function Yae(){for(var t,e=My,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:My=n);Ph=t,yT(r)}function yT(t){if(!ju){Ih&&(Ih=clearTimeout(Ih));var e=t-Fl;e>24?(t<1/0&&(Ih=setTimeout(ZF,t-mf.now()-xb)),uh&&(uh=clearInterval(uh))):(uh||(Oy=mf.now(),uh=setInterval(Kae,V7)),ju=1,H7(ZF))}}function JF(t,e,n){var r=new Ny;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var Zae=bb("start","end","cancel","interrupt"),Jae=[],G7=0,QF=1,bT=2,qm=3,eI=4,vT=5,Wm=6;function wb(t,e,n,r,i,s){var a=t.__transition;if(!a)t.__transition={};else if(n in a)return;Qae(t,n,{name:e,index:r,group:i,on:Zae,tween:Jae,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:G7})}function XC(t,e){var n=hs(t,e);if(n.state>G7)throw new Error("too late; already scheduled");return n}function Fs(t,e){var n=hs(t,e);if(n.state>qm)throw new Error("too late; already running");return n}function hs(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Qae(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=$7(s,0,n.time);function s(c){n.state=QF,n.timer.restart(a,n.delay,n.time),n.delay<=c&&a(c-n.delay)}function a(c){var d,h,p,g;if(n.state!==QF)return l();for(d in r)if(g=r[d],g.name===n.name){if(g.state===qm)return JF(a);g.state===eI?(g.state=Wm,g.timer.stop(),g.on.call("interrupt",t,t.__data__,g.index,g.group),delete r[d]):+d<e&&(g.state=Wm,g.timer.stop(),g.on.call("cancel",t,t.__data__,g.index,g.group),delete r[d])}if(JF(function(){n.state===qm&&(n.state=eI,n.timer.restart(o,n.delay,n.time),o(c))}),n.state=bT,n.on.call("start",t,t.__data__,n.index,n.group),n.state===bT){for(n.state=qm,i=new Array(p=n.tween.length),d=0,h=-1;d<p;++d)(g=n.tween[d].value.call(t,t.__data__,n.index,n.group))&&(i[++h]=g);i.length=h+1}}function o(c){for(var d=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=vT,1),h=-1,p=i.length;++h<p;)i[h].call(t,d);n.state===vT&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=Wm,n.timer.stop(),delete r[e];for(var c in r)return;delete t.__transition}}function Vm(t,e){var n=t.__transition,r,i,s=!0,a;if(n){e=e==null?null:e+"";for(a in n){if((r=n[a]).name!==e){s=!1;continue}i=r.state>bT&&r.state<vT,r.state=Wm,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[a]}s&&delete t.__transition}}function eoe(t){return this.each(function(){Vm(this,t)})}function toe(t,e){var n,r;return function(){var i=Fs(this,t),s=i.tween;if(s!==n){r=n=s;for(var a=0,o=r.length;a<o;++a)if(r[a].name===e){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function noe(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=Fs(this,t),a=s.tween;if(a!==r){i=(r=a).slice();for(var o={name:e,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===e){i[l]=o;break}l===c&&i.push(o)}s.tween=i}}function roe(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=hs(this.node(),n).tween,i=0,s=r.length,a;i<s;++i)if((a=r[i]).name===t)return a.value;return null}return this.each((e==null?toe:noe)(n,t,e))}function KC(t,e,n){var r=t._id;return t.each(function(){var i=Fs(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return hs(i,r).value[e]}}function X7(t,e){var n;return(typeof e=="number"?uo:e instanceof gf?XF:(n=gf(e))?(e=n,XF):Lae)(t,e)}function ioe(t){return function(){this.removeAttribute(t)}}function soe(t){return function(){this.removeAttributeNS(t.space,t.local)}}function aoe(t,e,n){var r,i=n+"",s;return function(){var a=this.getAttribute(t);return a===i?null:a===r?s:s=e(r=a,n)}}function ooe(t,e,n){var r,i=n+"",s;return function(){var a=this.getAttributeNS(t.space,t.local);return a===i?null:a===r?s:s=e(r=a,n)}}function loe(t,e,n){var r,i,s;return function(){var a,o=n(this),l;return o==null?void this.removeAttribute(t):(a=this.getAttribute(t),l=o+"",a===l?null:a===r&&l===i?s:(i=l,s=e(r=a,o)))}}function coe(t,e,n){var r,i,s;return function(){var a,o=n(this),l;return o==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),l=o+"",a===l?null:a===r&&l===i?s:(i=l,s=e(r=a,o)))}}function uoe(t,e){var n=vb(t),r=n==="transform"?qae:X7;return this.attrTween(t,typeof e=="function"?(n.local?coe:loe)(n,r,KC(this,"attr."+t,e)):e==null?(n.local?soe:ioe)(n):(n.local?ooe:aoe)(n,r,e))}function doe(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function hoe(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function foe(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&hoe(t,s)),n}return i._value=e,i}function poe(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&doe(t,s)),n}return i._value=e,i}function goe(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=vb(t);return this.tween(n,(r.local?foe:poe)(r,e))}function moe(t,e){return function(){XC(this,t).delay=+e.apply(this,arguments)}}function yoe(t,e){return e=+e,function(){XC(this,t).delay=e}}function boe(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?moe:yoe)(e,t)):hs(this.node(),e).delay}function voe(t,e){return function(){Fs(this,t).duration=+e.apply(this,arguments)}}function xoe(t,e){return e=+e,function(){Fs(this,t).duration=e}}function woe(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?voe:xoe)(e,t)):hs(this.node(),e).duration}function _oe(t,e){if(typeof e!="function")throw new Error;return function(){Fs(this,t).ease=e}}function Doe(t){var e=this._id;return arguments.length?this.each(_oe(e,t)):hs(this.node(),e).ease}function Eoe(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Fs(this,t).ease=n}}function Soe(t){if(typeof t!="function")throw new Error;return this.each(Eoe(this._id,t))}function Aoe(t){typeof t!="function"&&(t=A7(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],a=s.length,o=r[i]=[],l,c=0;c<a;++c)(l=s[c])&&t.call(l,l.__data__,c,s)&&o.push(l);return new ya(r,this._parents,this._name,this._id)}function Toe(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,s=Math.min(r,i),a=new Array(r),o=0;o<s;++o)for(var l=e[o],c=n[o],d=l.length,h=a[o]=new Array(d),p,g=0;g<d;++g)(p=l[g]||c[g])&&(h[g]=p);for(;o<r;++o)a[o]=e[o];return new ya(a,this._parents,this._name,this._id)}function Coe(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function koe(t,e,n){var r,i,s=Coe(e)?XC:Fs;return function(){var a=s(this,t),o=a.on;o!==r&&(i=(r=o).copy()).on(e,n),a.on=i}}function Roe(t,e){var n=this._id;return arguments.length<2?hs(this.node(),n).on.on(t):this.each(koe(n,t,e))}function Uoe(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Moe(){return this.on("end.remove",Uoe(this._id))}function Ooe(t){var e=this._name,n=this._id;typeof t!="function"&&(t=VC(t));for(var r=this._groups,i=r.length,s=new Array(i),a=0;a<i;++a)for(var o=r[a],l=o.length,c=s[a]=new Array(l),d,h,p=0;p<l;++p)(d=o[p])&&(h=t.call(d,d.__data__,p,o))&&("__data__"in d&&(h.__data__=d.__data__),c[p]=h,wb(c[p],e,n,p,c,hs(d,n)));return new ya(s,this._parents,e,n)}function Noe(t){var e=this._name,n=this._id;typeof t!="function"&&(t=S7(t));for(var r=this._groups,i=r.length,s=[],a=[],o=0;o<i;++o)for(var l=r[o],c=l.length,d,h=0;h<c;++h)if(d=l[h]){for(var p=t.call(d,d.__data__,h,l),g,v=hs(d,n),y=0,b=p.length;y<b;++y)(g=p[y])&&wb(g,e,n,y,p,v);s.push(p),a.push(d)}return new ya(s,a,e,n)}var Foe=Gf.prototype.constructor;function Ioe(){return new Foe(this._groups,this._parents)}function Poe(t,e){var n,r,i;return function(){var s=Bu(this,t),a=(this.style.removeProperty(t),Bu(this,t));return s===a?null:s===n&&a===r?i:i=e(n=s,r=a)}}function K7(t){return function(){this.style.removeProperty(t)}}function Loe(t,e,n){var r,i=n+"",s;return function(){var a=Bu(this,t);return a===i?null:a===r?s:s=e(r=a,n)}}function Boe(t,e,n){var r,i,s;return function(){var a=Bu(this,t),o=n(this),l=o+"";return o==null&&(l=o=(this.style.removeProperty(t),Bu(this,t))),a===l?null:a===r&&l===i?s:(i=l,s=e(r=a,o))}}function joe(t,e){var n,r,i,s="style."+e,a="end."+s,o;return function(){var l=Fs(this,t),c=l.on,d=l.value[s]==null?o||(o=K7(e)):void 0;(c!==n||i!==d)&&(r=(n=c).copy()).on(a,i=d),l.on=r}}function zoe(t,e,n){var r=(t+="")=="transform"?zae:X7;return e==null?this.styleTween(t,Poe(t,r)).on("end.style."+t,K7(t)):typeof e=="function"?this.styleTween(t,Boe(t,r,KC(this,"style."+t,e))).each(joe(this._id,t)):this.styleTween(t,Loe(t,r,e),n).on("end.style."+t,null)}function qoe(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function Woe(t,e,n){var r,i;function s(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&qoe(t,a,n)),r}return s._value=e,s}function Voe(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,Woe(t,e,n??""))}function Hoe(t){return function(){this.textContent=t}}function $oe(t){return function(){var e=t(this);this.textContent=e??""}}function Goe(t){return this.tween("text",typeof t=="function"?$oe(KC(this,"text",t)):Hoe(t==null?"":t+""))}function Xoe(t){return function(e){this.textContent=t.call(this,e)}}function Koe(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&Xoe(i)),e}return r._value=t,r}function Yoe(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Koe(t))}function Zoe(){for(var t=this._name,e=this._id,n=Y7(),r=this._groups,i=r.length,s=0;s<i;++s)for(var a=r[s],o=a.length,l,c=0;c<o;++c)if(l=a[c]){var d=hs(l,e);wb(l,t,n,c,a,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new ya(r,this._parents,t,n)}function Joe(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(s,a){var o={value:a},l={value:function(){--i===0&&s()}};n.each(function(){var c=Fs(this,r),d=c.on;d!==t&&(e=(t=d).copy(),e._.cancel.push(o),e._.interrupt.push(o),e._.end.push(l)),c.on=e}),i===0&&s()})}var Qoe=0;function ya(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Y7(){return++Qoe}var oa=Gf.prototype;ya.prototype={constructor:ya,select:Ooe,selectAll:Noe,selectChild:oa.selectChild,selectChildren:oa.selectChildren,filter:Aoe,merge:Toe,selection:Ioe,transition:Zoe,call:oa.call,nodes:oa.nodes,node:oa.node,size:oa.size,empty:oa.empty,each:oa.each,on:Roe,attr:uoe,attrTween:goe,style:zoe,styleTween:Voe,text:Goe,textTween:Yoe,remove:Moe,tween:roe,delay:boe,duration:woe,ease:Doe,easeVarying:Soe,end:Joe,[Symbol.iterator]:oa[Symbol.iterator]};function ele(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var tle={time:null,delay:0,duration:250,ease:ele};function nle(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function rle(t){var e,n;t instanceof ya?(e=t._id,t=t._name):(e=Y7(),(n=tle).time=GC(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var a=r[s],o=a.length,l,c=0;c<o;++c)(l=a[c])&&wb(l,t,e,c,a,n||nle(l,e));return new ya(r,this._parents,t,e)}Gf.prototype.interrupt=eoe;Gf.prototype.transition=rle;const em=t=>()=>t;function ile(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function pa(t,e,n){this.k=t,this.x=e,this.y=n}pa.prototype={constructor:pa,scale:function(t){return t===1?this:new pa(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new pa(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var ga=new pa(1,0,0);pa.prototype;function xx(t){t.stopImmediatePropagation()}function dh(t){t.preventDefault(),t.stopImmediatePropagation()}function sle(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function ale(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function tI(){return this.__zoom||ga}function ole(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function lle(){return navigator.maxTouchPoints||"ontouchstart"in this}function cle(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],s=t.invertY(e[0][1])-n[0][1],a=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>s?(s+a)/2:Math.min(0,s)||Math.max(0,a))}function Z7(){var t=sle,e=ale,n=cle,r=ole,i=lle,s=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],o=250,l=$ae,c=bb("start","zoom","end"),d,h,p,g=500,v=150,y=0,b=10;function x(k){k.property("__zoom",tI).on("wheel.zoom",M,{passive:!1}).on("mousedown.zoom",R).on("dblclick.zoom",O).filter(i).on("touchstart.zoom",z).on("touchmove.zoom",F).on("touchend.zoom touchcancel.zoom",q).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}x.transform=function(k,H,N,B){var G=k.selection?k.selection():k;G.property("__zoom",tI),k!==G?A(k,H,N,B):G.interrupt().each(function(){S(this,arguments).event(B).start().zoom(null,typeof H=="function"?H.apply(this,arguments):H).end()})},x.scaleBy=function(k,H,N,B){x.scaleTo(k,function(){var G=this.__zoom.k,$=typeof H=="function"?H.apply(this,arguments):H;return G*$},N,B)},x.scaleTo=function(k,H,N,B){x.transform(k,function(){var G=e.apply(this,arguments),$=this.__zoom,W=N==null?E(G):typeof N=="function"?N.apply(this,arguments):N,L=$.invert(W),K=typeof H=="function"?H.apply(this,arguments):H;return n(D(w($,K),W,L),G,a)},N,B)},x.translateBy=function(k,H,N,B){x.transform(k,function(){return n(this.__zoom.translate(typeof H=="function"?H.apply(this,arguments):H,typeof N=="function"?N.apply(this,arguments):N),e.apply(this,arguments),a)},null,B)},x.translateTo=function(k,H,N,B,G){x.transform(k,function(){var $=e.apply(this,arguments),W=this.__zoom,L=B==null?E($):typeof B=="function"?B.apply(this,arguments):B;return n(ga.translate(L[0],L[1]).scale(W.k).translate(typeof H=="function"?-H.apply(this,arguments):-H,typeof N=="function"?-N.apply(this,arguments):-N),$,a)},B,G)};function w(k,H){return H=Math.max(s[0],Math.min(s[1],H)),H===k.k?k:new pa(H,k.x,k.y)}function D(k,H,N){var B=H[0]-N[0]*k.k,G=H[1]-N[1]*k.k;return B===k.x&&G===k.y?k:new pa(k.k,B,G)}function E(k){return[(+k[0][0]+ +k[1][0])/2,(+k[0][1]+ +k[1][1])/2]}function A(k,H,N,B){k.on("start.zoom",function(){S(this,arguments).event(B).start()}).on("interrupt.zoom end.zoom",function(){S(this,arguments).event(B).end()}).tween("zoom",function(){var G=this,$=arguments,W=S(G,$).event(B),L=e.apply(G,$),K=N==null?E(L):typeof N=="function"?N.apply(G,$):N,j=Math.max(L[1][0]-L[0][0],L[1][1]-L[0][1]),Y=G.__zoom,ee=typeof H=="function"?H.apply(G,$):H,re=l(Y.invert(K).concat(j/Y.k),ee.invert(K).concat(j/ee.k));return function(se){if(se===1)se=ee;else{var ye=re(se),xe=j/ye[2];se=new pa(xe,K[0]-ye[0]*xe,K[1]-ye[1]*xe)}W.zoom(null,se)}})}function S(k,H,N){return!N&&k.__zooming||new T(k,H)}function T(k,H){this.that=k,this.args=H,this.active=0,this.sourceEvent=null,this.extent=e.apply(k,H),this.taps=0}T.prototype={event:function(k){return k&&(this.sourceEvent=k),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(k,H){return this.mouse&&k!=="mouse"&&(this.mouse[1]=H.invert(this.mouse[0])),this.touch0&&k!=="touch"&&(this.touch0[1]=H.invert(this.touch0[0])),this.touch1&&k!=="touch"&&(this.touch1[1]=H.invert(this.touch1[0])),this.that.__zoom=H,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(k){var H=Pi(this.that).datum();c.call(k,this.that,new ile(k,{sourceEvent:this.sourceEvent,target:x,transform:this.that.__zoom,dispatch:c}),H)}};function M(k,...H){if(!t.apply(this,arguments))return;var N=S(this,H).event(k),B=this.__zoom,G=Math.max(s[0],Math.min(s[1],B.k*Math.pow(2,r.apply(this,arguments)))),$=is(k);if(N.wheel)(N.mouse[0][0]!==$[0]||N.mouse[0][1]!==$[1])&&(N.mouse[1]=B.invert(N.mouse[0]=$)),clearTimeout(N.wheel);else{if(B.k===G)return;N.mouse=[$,B.invert($)],Vm(this),N.start()}dh(k),N.wheel=setTimeout(W,v),N.zoom("mouse",n(D(w(B,G),N.mouse[0],N.mouse[1]),N.extent,a));function W(){N.wheel=null,N.end()}}function R(k,...H){if(p||!t.apply(this,arguments))return;var N=k.currentTarget,B=S(this,H,!0).event(k),G=Pi(k.view).on("mousemove.zoom",K,!0).on("mouseup.zoom",j,!0),$=is(k,N),W=k.clientX,L=k.clientY;I7(k.view),xx(k),B.mouse=[$,this.__zoom.invert($)],Vm(this),B.start();function K(Y){if(dh(Y),!B.moved){var ee=Y.clientX-W,re=Y.clientY-L;B.moved=ee*ee+re*re>y}B.event(Y).zoom("mouse",n(D(B.that.__zoom,B.mouse[0]=is(Y,N),B.mouse[1]),B.extent,a))}function j(Y){G.on("mousemove.zoom mouseup.zoom",null),P7(Y.view,B.moved),dh(Y),B.event(Y).end()}}function O(k,...H){if(t.apply(this,arguments)){var N=this.__zoom,B=is(k.changedTouches?k.changedTouches[0]:k,this),G=N.invert(B),$=N.k*(k.shiftKey?.5:2),W=n(D(w(N,$),B,G),e.apply(this,H),a);dh(k),o>0?Pi(this).transition().duration(o).call(A,W,B,k):Pi(this).call(x.transform,W,B,k)}}function z(k,...H){if(t.apply(this,arguments)){var N=k.touches,B=N.length,G=S(this,H,k.changedTouches.length===B).event(k),$,W,L,K;for(xx(k),W=0;W<B;++W)L=N[W],K=is(L,this),K=[K,this.__zoom.invert(K),L.identifier],G.touch0?!G.touch1&&G.touch0[2]!==K[2]&&(G.touch1=K,G.taps=0):(G.touch0=K,$=!0,G.taps=1+!!d);d&&(d=clearTimeout(d)),$&&(G.taps<2&&(h=K[0],d=setTimeout(function(){d=null},g)),Vm(this),G.start())}}function F(k,...H){if(this.__zooming){var N=S(this,H).event(k),B=k.changedTouches,G=B.length,$,W,L,K;for(dh(k),$=0;$<G;++$)W=B[$],L=is(W,this),N.touch0&&N.touch0[2]===W.identifier?N.touch0[0]=L:N.touch1&&N.touch1[2]===W.identifier&&(N.touch1[0]=L);if(W=N.that.__zoom,N.touch1){var j=N.touch0[0],Y=N.touch0[1],ee=N.touch1[0],re=N.touch1[1],se=(se=ee[0]-j[0])*se+(se=ee[1]-j[1])*se,ye=(ye=re[0]-Y[0])*ye+(ye=re[1]-Y[1])*ye;W=w(W,Math.sqrt(se/ye)),L=[(j[0]+ee[0])/2,(j[1]+ee[1])/2],K=[(Y[0]+re[0])/2,(Y[1]+re[1])/2]}else if(N.touch0)L=N.touch0[0],K=N.touch0[1];else return;N.zoom("touch",n(D(W,L,K),N.extent,a))}}function q(k,...H){if(this.__zooming){var N=S(this,H).event(k),B=k.changedTouches,G=B.length,$,W;for(xx(k),p&&clearTimeout(p),p=setTimeout(function(){p=null},g),$=0;$<G;++$)W=B[$],N.touch0&&N.touch0[2]===W.identifier?delete N.touch0:N.touch1&&N.touch1[2]===W.identifier&&delete N.touch1;if(N.touch1&&!N.touch0&&(N.touch0=N.touch1,delete N.touch1),N.touch0)N.touch0[1]=this.__zoom.invert(N.touch0[0]);else if(N.end(),N.taps===2&&(W=is(W,this),Math.hypot(h[0]-W[0],h[1]-W[1])<b)){var L=Pi(this).on("dblclick.zoom");L&&L.apply(this,arguments)}}}return x.wheelDelta=function(k){return arguments.length?(r=typeof k=="function"?k:em(+k),x):r},x.filter=function(k){return arguments.length?(t=typeof k=="function"?k:em(!!k),x):t},x.touchable=function(k){return arguments.length?(i=typeof k=="function"?k:em(!!k),x):i},x.extent=function(k){return arguments.length?(e=typeof k=="function"?k:em([[+k[0][0],+k[0][1]],[+k[1][0],+k[1][1]]]),x):e},x.scaleExtent=function(k){return arguments.length?(s[0]=+k[0],s[1]=+k[1],x):[s[0],s[1]]},x.translateExtent=function(k){return arguments.length?(a[0][0]=+k[0][0],a[1][0]=+k[1][0],a[0][1]=+k[0][1],a[1][1]=+k[1][1],x):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},x.constrain=function(k){return arguments.length?(n=k,x):n},x.duration=function(k){return arguments.length?(o=+k,x):o},x.interpolate=function(k){return arguments.length?(l=k,x):l},x.on=function(){var k=c.on.apply(c,arguments);return k===c?x:k},x.clickDistance=function(k){return arguments.length?(y=(k=+k)*k,x):Math.sqrt(y)},x.tapDistance=function(k){return arguments.length?(b=+k,x):b},x}var YC=Rq();const ule=$l(YC),_b=V.createContext(null),dle=_b.Provider,ba={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,e)=>`Couldn't create edge for ${t?"target":"source"} handle id: "${t?e.targetHandle:e.sourceHandle}", edge id: ${e.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},J7=ba.error001();function tn(t,e){const n=V.useContext(_b);if(n===null)throw new Error(J7);return D7(n,t,e)}const $n=()=>{const t=V.useContext(_b);if(t===null)throw new Error(J7);return V.useMemo(()=>({getState:t.getState,setState:t.setState,subscribe:t.subscribe,destroy:t.destroy}),[t])},hle=t=>t.userSelectionActive?"none":"all";function ZC({position:t,children:e,className:n,style:r,...i}){const s=tn(hle),a=`${t}`.split("-");return Ce.createElement("div",{className:or(["react-flow__panel",n,...a]),style:{...r,pointerEvents:s},...i},e)}function fle({proOptions:t,position:e="bottom-right"}){return t?.hideAttribution?null:Ce.createElement(ZC,{position:e,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},Ce.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const ple=({x:t,y:e,label:n,labelStyle:r={},labelShowBg:i=!0,labelBgStyle:s={},labelBgPadding:a=[2,4],labelBgBorderRadius:o=2,children:l,className:c,...d})=>{const h=V.useRef(null),[p,g]=V.useState({x:0,y:0,width:0,height:0}),v=or(["react-flow__edge-textwrapper",c]);return V.useEffect(()=>{if(h.current){const y=h.current.getBBox();g({x:y.x,y:y.y,width:y.width,height:y.height})}},[n]),typeof n>"u"||!n?null:Ce.createElement("g",{transform:`translate(${t-p.width/2} ${e-p.height/2})`,className:v,visibility:p.width?"visible":"hidden",...d},i&&Ce.createElement("rect",{width:p.width+2*a[0],x:-a[0],y:-a[1],height:p.height+2*a[1],className:"react-flow__edge-textbg",style:s,rx:o,ry:o}),Ce.createElement("text",{className:"react-flow__edge-text",y:p.height/2,dy:"0.3em",ref:h,style:r},n),l)};var gle=V.memo(ple);const JC=t=>({width:t.offsetWidth,height:t.offsetHeight}),zu=(t,e=0,n=1)=>Math.min(Math.max(t,e),n),QC=(t={x:0,y:0},e)=>({x:zu(t.x,e[0][0],e[1][0]),y:zu(t.y,e[0][1],e[1][1])}),nI=(t,e,n)=>t<e?zu(Math.abs(t-e),1,50)/50:t>n?-zu(Math.abs(t-n),1,50)/50:0,Q7=(t,e)=>{const n=nI(t.x,35,e.width-35)*20,r=nI(t.y,35,e.height-35)*20;return[n,r]},eW=t=>t.getRootNode?.()||window?.document,tW=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),yf=({x:t,y:e,width:n,height:r})=>({x:t,y:e,x2:t+n,y2:e+r}),nW=({x:t,y:e,x2:n,y2:r})=>({x:t,y:e,width:n-t,height:r-e}),rI=t=>({...t.positionAbsolute||{x:0,y:0},width:t.width||0,height:t.height||0}),mle=(t,e)=>nW(tW(yf(t),yf(e))),xT=(t,e)=>{const n=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),r=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(n*r)},yle=t=>Bi(t.width)&&Bi(t.height)&&Bi(t.x)&&Bi(t.y),Bi=t=>!isNaN(t)&&isFinite(t),xn=Symbol.for("internals"),rW=["Enter"," ","Escape"],ble=(t,e)=>{},vle=t=>"nativeEvent"in t;function wT(t){const n=(vle(t)?t.nativeEvent:t).composedPath?.()?.[0]||t.target;return["INPUT","SELECT","TEXTAREA"].includes(n?.nodeName)||n?.hasAttribute("contenteditable")||!!n?.closest(".nokey")}const iW=t=>"clientX"in t,vo=(t,e)=>{const n=iW(t),r=n?t.clientX:t.touches?.[0].clientX,i=n?t.clientY:t.touches?.[0].clientY;return{x:r-(e?.left??0),y:i-(e?.top??0)}},Fy=()=>typeof navigator<"u"&&navigator?.userAgent?.indexOf("Mac")>=0,Kf=({id:t,path:e,labelX:n,labelY:r,label:i,labelStyle:s,labelShowBg:a,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:c,style:d,markerEnd:h,markerStart:p,interactionWidth:g=20})=>Ce.createElement(Ce.Fragment,null,Ce.createElement("path",{id:t,style:d,d:e,fill:"none",className:"react-flow__edge-path",markerEnd:h,markerStart:p}),g&&Ce.createElement("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:g,className:"react-flow__edge-interaction"}),i&&Bi(n)&&Bi(r)?Ce.createElement(gle,{x:n,y:r,label:i,labelStyle:s,labelShowBg:a,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:c}):null);Kf.displayName="BaseEdge";function hh(t,e,n){return n===void 0?n:r=>{const i=e().edges.find(s=>s.id===t);i&&n(r,{...i})}}function sW({sourceX:t,sourceY:e,targetX:n,targetY:r}){const i=Math.abs(n-t)/2,s=n<t?n+i:n-i,a=Math.abs(r-e)/2,o=r<e?r+a:r-a;return[s,o,i,a]}function aW({sourceX:t,sourceY:e,targetX:n,targetY:r,sourceControlX:i,sourceControlY:s,targetControlX:a,targetControlY:o}){const l=t*.125+i*.375+a*.375+n*.125,c=e*.125+s*.375+o*.375+r*.125,d=Math.abs(l-t),h=Math.abs(c-e);return[l,c,d,h]}var Il;(function(t){t.Strict="strict",t.Loose="loose"})(Il||(Il={}));var wl;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(wl||(wl={}));var bf;(function(t){t.Partial="partial",t.Full="full"})(bf||(bf={}));var po;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(po||(po={}));var Iy;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(Iy||(Iy={}));var Je;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(Je||(Je={}));function iI({pos:t,x1:e,y1:n,x2:r,y2:i}){return t===Je.Left||t===Je.Right?[.5*(e+r),n]:[e,.5*(n+i)]}function oW({sourceX:t,sourceY:e,sourcePosition:n=Je.Bottom,targetX:r,targetY:i,targetPosition:s=Je.Top}){const[a,o]=iI({pos:n,x1:t,y1:e,x2:r,y2:i}),[l,c]=iI({pos:s,x1:r,y1:i,x2:t,y2:e}),[d,h,p,g]=aW({sourceX:t,sourceY:e,targetX:r,targetY:i,sourceControlX:a,sourceControlY:o,targetControlX:l,targetControlY:c});return[`M${t},${e} C${a},${o} ${l},${c} ${r},${i}`,d,h,p,g]}const ek=V.memo(({sourceX:t,sourceY:e,targetX:n,targetY:r,sourcePosition:i=Je.Bottom,targetPosition:s=Je.Top,label:a,labelStyle:o,labelShowBg:l,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:h,style:p,markerEnd:g,markerStart:v,interactionWidth:y})=>{const[b,x,w]=oW({sourceX:t,sourceY:e,sourcePosition:i,targetX:n,targetY:r,targetPosition:s});return Ce.createElement(Kf,{path:b,labelX:x,labelY:w,label:a,labelStyle:o,labelShowBg:l,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:h,style:p,markerEnd:g,markerStart:v,interactionWidth:y})});ek.displayName="SimpleBezierEdge";const sI={[Je.Left]:{x:-1,y:0},[Je.Right]:{x:1,y:0},[Je.Top]:{x:0,y:-1},[Je.Bottom]:{x:0,y:1}},xle=({source:t,sourcePosition:e=Je.Bottom,target:n})=>e===Je.Left||e===Je.Right?t.x<n.x?{x:1,y:0}:{x:-1,y:0}:t.y<n.y?{x:0,y:1}:{x:0,y:-1},aI=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function wle({source:t,sourcePosition:e=Je.Bottom,target:n,targetPosition:r=Je.Top,center:i,offset:s}){const a=sI[e],o=sI[r],l={x:t.x+a.x*s,y:t.y+a.y*s},c={x:n.x+o.x*s,y:n.y+o.y*s},d=xle({source:l,sourcePosition:e,target:c}),h=d.x!==0?"x":"y",p=d[h];let g=[],v,y;const b={x:0,y:0},x={x:0,y:0},[w,D,E,A]=sW({sourceX:t.x,sourceY:t.y,targetX:n.x,targetY:n.y});if(a[h]*o[h]===-1){v=i.x??w,y=i.y??D;const T=[{x:v,y:l.y},{x:v,y:c.y}],M=[{x:l.x,y},{x:c.x,y}];a[h]===p?g=h==="x"?T:M:g=h==="x"?M:T}else{const T=[{x:l.x,y:c.y}],M=[{x:c.x,y:l.y}];if(h==="x"?g=a.x===p?M:T:g=a.y===p?T:M,e===r){const q=Math.abs(t[h]-n[h]);if(q<=s){const k=Math.min(s-1,s-q);a[h]===p?b[h]=(l[h]>t[h]?-1:1)*k:x[h]=(c[h]>n[h]?-1:1)*k}}if(e!==r){const q=h==="x"?"y":"x",k=a[h]===o[q],H=l[q]>c[q],N=l[q]<c[q];(a[h]===1&&(!k&&H||k&&N)||a[h]!==1&&(!k&&N||k&&H))&&(g=h==="x"?T:M)}const R={x:l.x+b.x,y:l.y+b.y},O={x:c.x+x.x,y:c.y+x.y},z=Math.max(Math.abs(R.x-g[0].x),Math.abs(O.x-g[0].x)),F=Math.max(Math.abs(R.y-g[0].y),Math.abs(O.y-g[0].y));z>=F?(v=(R.x+O.x)/2,y=g[0].y):(v=g[0].x,y=(R.y+O.y)/2)}return[[t,{x:l.x+b.x,y:l.y+b.y},...g,{x:c.x+x.x,y:c.y+x.y},n],v,y,E,A]}function _le(t,e,n,r){const i=Math.min(aI(t,e)/2,aI(e,n)/2,r),{x:s,y:a}=e;if(t.x===s&&s===n.x||t.y===a&&a===n.y)return`L${s} ${a}`;if(t.y===a){const c=t.x<n.x?-1:1,d=t.y<n.y?1:-1;return`L ${s+i*c},${a}Q ${s},${a} ${s},${a+i*d}`}const o=t.x<n.x?1:-1,l=t.y<n.y?-1:1;return`L ${s},${a+i*l}Q ${s},${a} ${s+i*o},${a}`}function _T({sourceX:t,sourceY:e,sourcePosition:n=Je.Bottom,targetX:r,targetY:i,targetPosition:s=Je.Top,borderRadius:a=5,centerX:o,centerY:l,offset:c=20}){const[d,h,p,g,v]=wle({source:{x:t,y:e},sourcePosition:n,target:{x:r,y:i},targetPosition:s,center:{x:o,y:l},offset:c});return[d.reduce((b,x,w)=>{let D="";return w>0&&w<d.length-1?D=_le(d[w-1],x,d[w+1],a):D=`${w===0?"M":"L"}${x.x} ${x.y}`,b+=D,b},""),h,p,g,v]}const Db=V.memo(({sourceX:t,sourceY:e,targetX:n,targetY:r,label:i,labelStyle:s,labelShowBg:a,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:c,style:d,sourcePosition:h=Je.Bottom,targetPosition:p=Je.Top,markerEnd:g,markerStart:v,pathOptions:y,interactionWidth:b})=>{const[x,w,D]=_T({sourceX:t,sourceY:e,sourcePosition:h,targetX:n,targetY:r,targetPosition:p,borderRadius:y?.borderRadius,offset:y?.offset});return Ce.createElement(Kf,{path:x,labelX:w,labelY:D,label:i,labelStyle:s,labelShowBg:a,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:c,style:d,markerEnd:g,markerStart:v,interactionWidth:b})});Db.displayName="SmoothStepEdge";const tk=V.memo(t=>Ce.createElement(Db,{...t,pathOptions:V.useMemo(()=>({borderRadius:0,offset:t.pathOptions?.offset}),[t.pathOptions?.offset])}));tk.displayName="StepEdge";function Dle({sourceX:t,sourceY:e,targetX:n,targetY:r}){const[i,s,a,o]=sW({sourceX:t,sourceY:e,targetX:n,targetY:r});return[`M ${t},${e}L ${n},${r}`,i,s,a,o]}const nk=V.memo(({sourceX:t,sourceY:e,targetX:n,targetY:r,label:i,labelStyle:s,labelShowBg:a,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:c,style:d,markerEnd:h,markerStart:p,interactionWidth:g})=>{const[v,y,b]=Dle({sourceX:t,sourceY:e,targetX:n,targetY:r});return Ce.createElement(Kf,{path:v,labelX:y,labelY:b,label:i,labelStyle:s,labelShowBg:a,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:c,style:d,markerEnd:h,markerStart:p,interactionWidth:g})});nk.displayName="StraightEdge";function tm(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function oI({pos:t,x1:e,y1:n,x2:r,y2:i,c:s}){switch(t){case Je.Left:return[e-tm(e-r,s),n];case Je.Right:return[e+tm(r-e,s),n];case Je.Top:return[e,n-tm(n-i,s)];case Je.Bottom:return[e,n+tm(i-n,s)]}}function lW({sourceX:t,sourceY:e,sourcePosition:n=Je.Bottom,targetX:r,targetY:i,targetPosition:s=Je.Top,curvature:a=.25}){const[o,l]=oI({pos:n,x1:t,y1:e,x2:r,y2:i,c:a}),[c,d]=oI({pos:s,x1:r,y1:i,x2:t,y2:e,c:a}),[h,p,g,v]=aW({sourceX:t,sourceY:e,targetX:r,targetY:i,sourceControlX:o,sourceControlY:l,targetControlX:c,targetControlY:d});return[`M${t},${e} C${o},${l} ${c},${d} ${r},${i}`,h,p,g,v]}const Py=V.memo(({sourceX:t,sourceY:e,targetX:n,targetY:r,sourcePosition:i=Je.Bottom,targetPosition:s=Je.Top,label:a,labelStyle:o,labelShowBg:l,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:h,style:p,markerEnd:g,markerStart:v,pathOptions:y,interactionWidth:b})=>{const[x,w,D]=lW({sourceX:t,sourceY:e,sourcePosition:i,targetX:n,targetY:r,targetPosition:s,curvature:y?.curvature});return Ce.createElement(Kf,{path:x,labelX:w,labelY:D,label:a,labelStyle:o,labelShowBg:l,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:h,style:p,markerEnd:g,markerStart:v,interactionWidth:b})});Py.displayName="BezierEdge";const rk=V.createContext(null),Ele=rk.Provider;rk.Consumer;const Sle=()=>V.useContext(rk),Ale=t=>"id"in t&&"source"in t&&"target"in t,Tle=({source:t,sourceHandle:e,target:n,targetHandle:r})=>`reactflow__edge-${t}${e||""}-${n}${r||""}`,DT=(t,e)=>typeof t>"u"?"":typeof t=="string"?t:`${e?`${e}__`:""}${Object.keys(t).sort().map(r=>`${r}=${t[r]}`).join("&")}`,Cle=(t,e)=>e.some(n=>n.source===t.source&&n.target===t.target&&(n.sourceHandle===t.sourceHandle||!n.sourceHandle&&!t.sourceHandle)&&(n.targetHandle===t.targetHandle||!n.targetHandle&&!t.targetHandle)),kle=(t,e)=>{if(!t.source||!t.target)return e;let n;return Ale(t)?n={...t}:n={...t,id:Tle(t)},Cle(n,e)?e:e.concat(n)},ET=({x:t,y:e},[n,r,i],s,[a,o])=>{const l={x:(t-n)/i,y:(e-r)/i};return s?{x:a*Math.round(l.x/a),y:o*Math.round(l.y/o)}:l},cW=({x:t,y:e},[n,r,i])=>({x:t*i+n,y:e*i+r}),Rl=(t,e=[0,0])=>{if(!t)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(t.width??0)*e[0],r=(t.height??0)*e[1],i={x:t.position.x-n,y:t.position.y-r};return{...i,positionAbsolute:t.positionAbsolute?{x:t.positionAbsolute.x-n,y:t.positionAbsolute.y-r}:i}},Eb=(t,e=[0,0])=>{if(t.length===0)return{x:0,y:0,width:0,height:0};const n=t.reduce((r,i)=>{const{x:s,y:a}=Rl(i,e).positionAbsolute;return tW(r,yf({x:s,y:a,width:i.width||0,height:i.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return nW(n)},uW=(t,e,[n,r,i]=[0,0,1],s=!1,a=!1,o=[0,0])=>{const l={x:(e.x-n)/i,y:(e.y-r)/i,width:e.width/i,height:e.height/i},c=[];return t.forEach(d=>{const{width:h,height:p,selectable:g=!0,hidden:v=!1}=d;if(a&&!g||v)return!1;const{positionAbsolute:y}=Rl(d,o),b={x:y.x,y:y.y,width:h||0,height:p||0},x=xT(l,b),w=typeof h>"u"||typeof p>"u"||h===null||p===null,D=s&&x>0,E=(h||0)*(p||0);(w||D||x>=E||d.dragging)&&c.push(d)}),c},dW=(t,e)=>{const n=t.map(r=>r.id);return e.filter(r=>n.includes(r.source)||n.includes(r.target))},hW=(t,e,n,r,i,s=.1)=>{const a=e/(t.width*(1+s)),o=n/(t.height*(1+s)),l=Math.min(a,o),c=zu(l,r,i),d=t.x+t.width/2,h=t.y+t.height/2,p=e/2-d*c,g=n/2-h*c;return{x:p,y:g,zoom:c}},pl=(t,e=0)=>t.transition().duration(e);function lI(t,e,n,r){return(e[n]||[]).reduce((i,s)=>(`${t.id}-${s.id}-${n}`!==r&&i.push({id:s.id||null,type:n,nodeId:t.id,x:(t.positionAbsolute?.x??0)+s.x+s.width/2,y:(t.positionAbsolute?.y??0)+s.y+s.height/2}),i),[])}function Rle(t,e,n,r,i,s){const{x:a,y:o}=vo(t),c=e.elementsFromPoint(a,o).find(v=>v.classList.contains("react-flow__handle"));if(c){const v=c.getAttribute("data-nodeid");if(v){const y=ik(void 0,c),b=c.getAttribute("data-handleid"),x=s({nodeId:v,id:b,type:y});if(x){const w=i.find(D=>D.nodeId===v&&D.type===y&&D.id===b);return{handle:{id:b,type:y,nodeId:v,x:w?.x||n.x,y:w?.y||n.y},validHandleResult:x}}}}let d=[],h=1/0;if(i.forEach(v=>{const y=Math.sqrt((v.x-n.x)**2+(v.y-n.y)**2);if(y<=r){const b=s(v);y<=h&&(y<h?d=[{handle:v,validHandleResult:b}]:y===h&&d.push({handle:v,validHandleResult:b}),h=y)}}),!d.length)return{handle:null,validHandleResult:fW()};if(d.length===1)return d[0];const p=d.some(({validHandleResult:v})=>v.isValid),g=d.some(({handle:v})=>v.type==="target");return d.find(({handle:v,validHandleResult:y})=>g?v.type==="target":p?y.isValid:!0)||d[0]}const Ule={source:null,target:null,sourceHandle:null,targetHandle:null},fW=()=>({handleDomNode:null,isValid:!1,connection:Ule,endHandle:null});function pW(t,e,n,r,i,s,a){const o=i==="target",l=a.querySelector(`.react-flow__handle[data-id="${t?.nodeId}-${t?.id}-${t?.type}"]`),c={...fW(),handleDomNode:l};if(l){const d=ik(void 0,l),h=l.getAttribute("data-nodeid"),p=l.getAttribute("data-handleid"),g=l.classList.contains("connectable"),v=l.classList.contains("connectableend"),y={source:o?h:n,sourceHandle:o?p:r,target:o?n:h,targetHandle:o?r:p};c.connection=y,g&&v&&(e===Il.Strict?o&&d==="source"||!o&&d==="target":h!==n||p!==r)&&(c.endHandle={nodeId:h,handleId:p,type:d},c.isValid=s(y))}return c}function Mle({nodes:t,nodeId:e,handleId:n,handleType:r}){return t.reduce((i,s)=>{if(s[xn]){const{handleBounds:a}=s[xn];let o=[],l=[];a&&(o=lI(s,a,"source",`${e}-${n}-${r}`),l=lI(s,a,"target",`${e}-${n}-${r}`)),i.push(...o,...l)}return i},[])}function ik(t,e){return t||(e?.classList.contains("target")?"target":e?.classList.contains("source")?"source":null)}function wx(t){t?.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function Ole(t,e){let n=null;return e?n="valid":t&&!e&&(n="invalid"),n}function gW({event:t,handleId:e,nodeId:n,onConnect:r,isTarget:i,getState:s,setState:a,isValidConnection:o,edgeUpdaterType:l,onReconnectEnd:c}){const d=eW(t.target),{connectionMode:h,domNode:p,autoPanOnConnect:g,connectionRadius:v,onConnectStart:y,panBy:b,getNodes:x,cancelConnection:w}=s();let D=0,E;const{x:A,y:S}=vo(t),T=d?.elementFromPoint(A,S),M=ik(l,T),R=p?.getBoundingClientRect();if(!R||!M)return;let O,z=vo(t,R),F=!1,q=null,k=!1,H=null;const N=Mle({nodes:x(),nodeId:n,handleId:e,handleType:M}),B=()=>{if(!g)return;const[W,L]=Q7(z,R);b({x:W,y:L}),D=requestAnimationFrame(B)};a({connectionPosition:z,connectionStatus:null,connectionNodeId:n,connectionHandleId:e,connectionHandleType:M,connectionStartHandle:{nodeId:n,handleId:e,type:M},connectionEndHandle:null}),y?.(t,{nodeId:n,handleId:e,handleType:M});function G(W){const{transform:L}=s();z=vo(W,R);const{handle:K,validHandleResult:j}=Rle(W,d,ET(z,L,!1,[1,1]),v,N,Y=>pW(Y,h,n,e,i?"target":"source",o,d));if(E=K,F||(B(),F=!0),H=j.handleDomNode,q=j.connection,k=j.isValid,a({connectionPosition:E&&k?cW({x:E.x,y:E.y},L):z,connectionStatus:Ole(!!E,k),connectionEndHandle:j.endHandle}),!E&&!k&&!H)return wx(O);q.source!==q.target&&H&&(wx(O),O=H,H.classList.add("connecting","react-flow__handle-connecting"),H.classList.toggle("valid",k),H.classList.toggle("react-flow__handle-valid",k))}function $(W){(E||H)&&q&&k&&r?.(q),s().onConnectEnd?.(W),l&&c?.(W),wx(O),w(),cancelAnimationFrame(D),F=!1,k=!1,q=null,H=null,d.removeEventListener("mousemove",G),d.removeEventListener("mouseup",$),d.removeEventListener("touchmove",G),d.removeEventListener("touchend",$)}d.addEventListener("mousemove",G),d.addEventListener("mouseup",$),d.addEventListener("touchmove",G),d.addEventListener("touchend",$)}const cI=()=>!0,Nle=t=>({connectionStartHandle:t.connectionStartHandle,connectOnClick:t.connectOnClick,noPanClassName:t.noPanClassName}),Fle=(t,e,n)=>r=>{const{connectionStartHandle:i,connectionEndHandle:s,connectionClickStartHandle:a}=r;return{connecting:i?.nodeId===t&&i?.handleId===e&&i?.type===n||s?.nodeId===t&&s?.handleId===e&&s?.type===n,clickConnecting:a?.nodeId===t&&a?.handleId===e&&a?.type===n}},mW=V.forwardRef(({type:t="source",position:e=Je.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:s=!0,id:a,onConnect:o,children:l,className:c,onMouseDown:d,onTouchStart:h,...p},g)=>{const v=a||null,y=t==="target",b=$n(),x=Sle(),{connectOnClick:w,noPanClassName:D}=tn(Nle,Wr),{connecting:E,clickConnecting:A}=tn(Fle(x,v,t),Wr);x||b.getState().onError?.("010",ba.error010());const S=R=>{const{defaultEdgeOptions:O,onConnect:z,hasDefaultEdges:F}=b.getState(),q={...O,...R};if(F){const{edges:k,setEdges:H}=b.getState();H(kle(q,k))}z?.(q),o?.(q)},T=R=>{if(!x)return;const O=iW(R);i&&(O&&R.button===0||!O)&&gW({event:R,handleId:v,nodeId:x,onConnect:S,isTarget:y,getState:b.getState,setState:b.setState,isValidConnection:n||b.getState().isValidConnection||cI}),O?d?.(R):h?.(R)},M=R=>{const{onClickConnectStart:O,onClickConnectEnd:z,connectionClickStartHandle:F,connectionMode:q,isValidConnection:k}=b.getState();if(!x||!F&&!i)return;if(!F){O?.(R,{nodeId:x,handleId:v,handleType:t}),b.setState({connectionClickStartHandle:{nodeId:x,type:t,handleId:v}});return}const H=eW(R.target),N=n||k||cI,{connection:B,isValid:G}=pW({nodeId:x,id:v,type:t},q,F.nodeId,F.handleId||null,F.type,N,H);G&&S(B),z?.(R),b.setState({connectionClickStartHandle:null})};return Ce.createElement("div",{"data-handleid":v,"data-nodeid":x,"data-handlepos":e,"data-id":`${x}-${v}-${t}`,className:or(["react-flow__handle",`react-flow__handle-${e}`,"nodrag",D,c,{source:!y,target:y,connectable:r,connectablestart:i,connectableend:s,connecting:A,connectionindicator:r&&(i&&!E||s&&E)}]),onMouseDown:T,onTouchStart:T,onClick:w?M:void 0,ref:g,...p},l)});mW.displayName="Handle";var Us=V.memo(mW);const yW=({data:t,isConnectable:e,targetPosition:n=Je.Top,sourcePosition:r=Je.Bottom})=>Ce.createElement(Ce.Fragment,null,Ce.createElement(Us,{type:"target",position:n,isConnectable:e}),t?.label,Ce.createElement(Us,{type:"source",position:r,isConnectable:e}));yW.displayName="DefaultNode";var ST=V.memo(yW);const bW=({data:t,isConnectable:e,sourcePosition:n=Je.Bottom})=>Ce.createElement(Ce.Fragment,null,t?.label,Ce.createElement(Us,{type:"source",position:n,isConnectable:e}));bW.displayName="InputNode";var vW=V.memo(bW);const xW=({data:t,isConnectable:e,targetPosition:n=Je.Top})=>Ce.createElement(Ce.Fragment,null,Ce.createElement(Us,{type:"target",position:n,isConnectable:e}),t?.label);xW.displayName="OutputNode";var wW=V.memo(xW);const sk=()=>null;sk.displayName="GroupNode";const Ile=t=>({selectedNodes:t.getNodes().filter(e=>e.selected),selectedEdges:t.edges.filter(e=>e.selected).map(e=>({...e}))}),nm=t=>t.id;function Ple(t,e){return Wr(t.selectedNodes.map(nm),e.selectedNodes.map(nm))&&Wr(t.selectedEdges.map(nm),e.selectedEdges.map(nm))}const _W=V.memo(({onSelectionChange:t})=>{const e=$n(),{selectedNodes:n,selectedEdges:r}=tn(Ile,Ple);return V.useEffect(()=>{const i={nodes:n,edges:r};t?.(i),e.getState().onSelectionChange.forEach(s=>s(i))},[n,r,t]),null});_W.displayName="SelectionListener";const Lle=t=>!!t.onSelectionChange;function Ble({onSelectionChange:t}){const e=tn(Lle);return t||e?Ce.createElement(_W,{onSelectionChange:t}):null}const jle=t=>({setNodes:t.setNodes,setEdges:t.setEdges,setDefaultNodesAndEdges:t.setDefaultNodesAndEdges,setMinZoom:t.setMinZoom,setMaxZoom:t.setMaxZoom,setTranslateExtent:t.setTranslateExtent,setNodeExtent:t.setNodeExtent,reset:t.reset});function Gc(t,e){V.useEffect(()=>{typeof t<"u"&&e(t)},[t])}function xt(t,e,n){V.useEffect(()=>{typeof e<"u"&&n({[t]:e})},[e])}const zle=({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,onConnect:i,onConnectStart:s,onConnectEnd:a,onClickConnectStart:o,onClickConnectEnd:l,nodesDraggable:c,nodesConnectable:d,nodesFocusable:h,edgesFocusable:p,edgesUpdatable:g,elevateNodesOnSelect:v,minZoom:y,maxZoom:b,nodeExtent:x,onNodesChange:w,onEdgesChange:D,elementsSelectable:E,connectionMode:A,snapGrid:S,snapToGrid:T,translateExtent:M,connectOnClick:R,defaultEdgeOptions:O,fitView:z,fitViewOptions:F,onNodesDelete:q,onEdgesDelete:k,onNodeDrag:H,onNodeDragStart:N,onNodeDragStop:B,onSelectionDrag:G,onSelectionDragStart:$,onSelectionDragStop:W,noPanClassName:L,nodeOrigin:K,rfId:j,autoPanOnConnect:Y,autoPanOnNodeDrag:ee,onError:re,connectionRadius:se,isValidConnection:ye,nodeDragThreshold:xe})=>{const{setNodes:Re,setEdges:Fe,setDefaultNodesAndEdges:qe,setMinZoom:We,setMaxZoom:P,setTranslateExtent:oe,setNodeExtent:ce,reset:Q}=tn(jle,Wr),J=$n();return V.useEffect(()=>{const ue=r?.map(De=>({...De,...O}));return qe(n,ue),()=>{Q()}},[]),xt("defaultEdgeOptions",O,J.setState),xt("connectionMode",A,J.setState),xt("onConnect",i,J.setState),xt("onConnectStart",s,J.setState),xt("onConnectEnd",a,J.setState),xt("onClickConnectStart",o,J.setState),xt("onClickConnectEnd",l,J.setState),xt("nodesDraggable",c,J.setState),xt("nodesConnectable",d,J.setState),xt("nodesFocusable",h,J.setState),xt("edgesFocusable",p,J.setState),xt("edgesUpdatable",g,J.setState),xt("elementsSelectable",E,J.setState),xt("elevateNodesOnSelect",v,J.setState),xt("snapToGrid",T,J.setState),xt("snapGrid",S,J.setState),xt("onNodesChange",w,J.setState),xt("onEdgesChange",D,J.setState),xt("connectOnClick",R,J.setState),xt("fitViewOnInit",z,J.setState),xt("fitViewOnInitOptions",F,J.setState),xt("onNodesDelete",q,J.setState),xt("onEdgesDelete",k,J.setState),xt("onNodeDrag",H,J.setState),xt("onNodeDragStart",N,J.setState),xt("onNodeDragStop",B,J.setState),xt("onSelectionDrag",G,J.setState),xt("onSelectionDragStart",$,J.setState),xt("onSelectionDragStop",W,J.setState),xt("noPanClassName",L,J.setState),xt("nodeOrigin",K,J.setState),xt("rfId",j,J.setState),xt("autoPanOnConnect",Y,J.setState),xt("autoPanOnNodeDrag",ee,J.setState),xt("onError",re,J.setState),xt("connectionRadius",se,J.setState),xt("isValidConnection",ye,J.setState),xt("nodeDragThreshold",xe,J.setState),Gc(t,Re),Gc(e,Fe),Gc(y,We),Gc(b,P),Gc(M,oe),Gc(x,ce),null},uI={display:"none"},qle={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},DW="react-flow__node-desc",EW="react-flow__edge-desc",Wle="react-flow__aria-live",Vle=t=>t.ariaLiveMessage;function Hle({rfId:t}){const e=tn(Vle);return Ce.createElement("div",{id:`${Wle}-${t}`,"aria-live":"assertive","aria-atomic":"true",style:qle},e)}function $le({rfId:t,disableKeyboardA11y:e}){return Ce.createElement(Ce.Fragment,null,Ce.createElement("div",{id:`${DW}-${t}`,style:uI},"Press enter or space to select a node.",!e&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),Ce.createElement("div",{id:`${EW}-${t}`,style:uI},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!e&&Ce.createElement(Hle,{rfId:t}))}var vf=(t=null,e={actInsideInputWithModifier:!0})=>{const[n,r]=V.useState(!1),i=V.useRef(!1),s=V.useRef(new Set([])),[a,o]=V.useMemo(()=>{if(t!==null){const c=(Array.isArray(t)?t:[t]).filter(h=>typeof h=="string").map(h=>h.split("+")),d=c.reduce((h,p)=>h.concat(...p),[]);return[c,d]}return[[],[]]},[t]);return V.useEffect(()=>{const l=typeof document<"u"?document:null,c=e?.target||l;if(t!==null){const d=g=>{if(i.current=g.ctrlKey||g.metaKey||g.shiftKey,(!i.current||i.current&&!e.actInsideInputWithModifier)&&wT(g))return!1;const y=hI(g.code,o);s.current.add(g[y]),dI(a,s.current,!1)&&(g.preventDefault(),r(!0))},h=g=>{if((!i.current||i.current&&!e.actInsideInputWithModifier)&&wT(g))return!1;const y=hI(g.code,o);dI(a,s.current,!0)?(r(!1),s.current.clear()):s.current.delete(g[y]),g.key==="Meta"&&s.current.clear(),i.current=!1},p=()=>{s.current.clear(),r(!1)};return c?.addEventListener("keydown",d),c?.addEventListener("keyup",h),window.addEventListener("blur",p),()=>{c?.removeEventListener("keydown",d),c?.removeEventListener("keyup",h),window.removeEventListener("blur",p)}}},[t,r]),n};function dI(t,e,n){return t.filter(r=>n||r.length===e.size).some(r=>r.every(i=>e.has(i)))}function hI(t,e){return e.includes(t)?"code":"key"}function SW(t,e,n,r){const i=t.parentNode||t.parentId;if(!i)return n;const s=e.get(i),a=Rl(s,r);return SW(s,e,{x:(n.x??0)+a.x,y:(n.y??0)+a.y,z:(s[xn]?.z??0)>(n.z??0)?s[xn]?.z??0:n.z??0},r)}function AW(t,e,n){t.forEach(r=>{const i=r.parentNode||r.parentId;if(i&&!t.has(i))throw new Error(`Parent node ${i} not found`);if(i||n?.[r.id]){const{x:s,y:a,z:o}=SW(r,t,{...r.position,z:r[xn]?.z??0},e);r.positionAbsolute={x:s,y:a},r[xn].z=o,n?.[r.id]&&(r[xn].isParent=!0)}})}function _x(t,e,n,r){const i=new Map,s={},a=r?1e3:0;return t.forEach(o=>{const l=(Bi(o.zIndex)?o.zIndex:0)+(o.selected?a:0),c=e.get(o.id),d={...o,positionAbsolute:{x:o.position.x,y:o.position.y}},h=o.parentNode||o.parentId;h&&(s[h]=!0);const p=c?.type&&c?.type!==o.type;Object.defineProperty(d,xn,{enumerable:!1,value:{handleBounds:p?void 0:c?.[xn]?.handleBounds,z:l}}),i.set(o.id,d)}),AW(i,n,s),i}function TW(t,e={}){const{getNodes:n,width:r,height:i,minZoom:s,maxZoom:a,d3Zoom:o,d3Selection:l,fitViewOnInitDone:c,fitViewOnInit:d,nodeOrigin:h}=t(),p=e.initial&&!c&&d;if(o&&l&&(p||!e.initial)){const v=n().filter(b=>{const x=e.includeHiddenNodes?b.width&&b.height:!b.hidden;return e.nodes?.length?x&&e.nodes.some(w=>w.id===b.id):x}),y=v.every(b=>b.width&&b.height);if(v.length>0&&y){const b=Eb(v,h),{x,y:w,zoom:D}=hW(b,r,i,e.minZoom??s,e.maxZoom??a,e.padding??.1),E=ga.translate(x,w).scale(D);return typeof e.duration=="number"&&e.duration>0?o.transform(pl(l,e.duration),E):o.transform(l,E),!0}}return!1}function Gle(t,e){return t.forEach(n=>{const r=e.get(n.id);r&&e.set(r.id,{...r,[xn]:r[xn],selected:n.selected})}),new Map(e)}function Xle(t,e){return e.map(n=>{const r=t.find(i=>i.id===n.id);return r&&(n.selected=r.selected),n})}function rm({changedNodes:t,changedEdges:e,get:n,set:r}){const{nodeInternals:i,edges:s,onNodesChange:a,onEdgesChange:o,hasDefaultNodes:l,hasDefaultEdges:c}=n();t?.length&&(l&&r({nodeInternals:Gle(t,i)}),a?.(t)),e?.length&&(c&&r({edges:Xle(e,s)}),o?.(e))}const Xc=()=>{},Kle={zoomIn:Xc,zoomOut:Xc,zoomTo:Xc,getZoom:()=>1,setViewport:Xc,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:Xc,fitBounds:Xc,project:t=>t,screenToFlowPosition:t=>t,flowToScreenPosition:t=>t,viewportInitialized:!1},Yle=t=>({d3Zoom:t.d3Zoom,d3Selection:t.d3Selection}),Zle=()=>{const t=$n(),{d3Zoom:e,d3Selection:n}=tn(Yle,Wr);return V.useMemo(()=>n&&e?{zoomIn:i=>e.scaleBy(pl(n,i?.duration),1.2),zoomOut:i=>e.scaleBy(pl(n,i?.duration),1/1.2),zoomTo:(i,s)=>e.scaleTo(pl(n,s?.duration),i),getZoom:()=>t.getState().transform[2],setViewport:(i,s)=>{const[a,o,l]=t.getState().transform,c=ga.translate(i.x??a,i.y??o).scale(i.zoom??l);e.transform(pl(n,s?.duration),c)},getViewport:()=>{const[i,s,a]=t.getState().transform;return{x:i,y:s,zoom:a}},fitView:i=>TW(t.getState,i),setCenter:(i,s,a)=>{const{width:o,height:l,maxZoom:c}=t.getState(),d=typeof a?.zoom<"u"?a.zoom:c,h=o/2-i*d,p=l/2-s*d,g=ga.translate(h,p).scale(d);e.transform(pl(n,a?.duration),g)},fitBounds:(i,s)=>{const{width:a,height:o,minZoom:l,maxZoom:c}=t.getState(),{x:d,y:h,zoom:p}=hW(i,a,o,l,c,s?.padding??.1),g=ga.translate(d,h).scale(p);e.transform(pl(n,s?.duration),g)},project:i=>{const{transform:s,snapToGrid:a,snapGrid:o}=t.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),ET(i,s,a,o)},screenToFlowPosition:i=>{const{transform:s,snapToGrid:a,snapGrid:o,domNode:l}=t.getState();if(!l)return i;const{x:c,y:d}=l.getBoundingClientRect(),h={x:i.x-c,y:i.y-d};return ET(h,s,a,o)},flowToScreenPosition:i=>{const{transform:s,domNode:a}=t.getState();if(!a)return i;const{x:o,y:l}=a.getBoundingClientRect(),c=cW(i,s);return{x:c.x+o,y:c.y+l}},viewportInitialized:!0}:Kle,[e,n])};function Sb(){const t=Zle(),e=$n(),n=V.useCallback(()=>e.getState().getNodes().map(y=>({...y})),[]),r=V.useCallback(y=>e.getState().nodeInternals.get(y),[]),i=V.useCallback(()=>{const{edges:y=[]}=e.getState();return y.map(b=>({...b}))},[]),s=V.useCallback(y=>{const{edges:b=[]}=e.getState();return b.find(x=>x.id===y)},[]),a=V.useCallback(y=>{const{getNodes:b,setNodes:x,hasDefaultNodes:w,onNodesChange:D}=e.getState(),E=b(),A=typeof y=="function"?y(E):y;if(w)x(A);else if(D){const S=A.length===0?E.map(T=>({type:"remove",id:T.id})):A.map(T=>({item:T,type:"reset"}));D(S)}},[]),o=V.useCallback(y=>{const{edges:b=[],setEdges:x,hasDefaultEdges:w,onEdgesChange:D}=e.getState(),E=typeof y=="function"?y(b):y;if(w)x(E);else if(D){const A=E.length===0?b.map(S=>({type:"remove",id:S.id})):E.map(S=>({item:S,type:"reset"}));D(A)}},[]),l=V.useCallback(y=>{const b=Array.isArray(y)?y:[y],{getNodes:x,setNodes:w,hasDefaultNodes:D,onNodesChange:E}=e.getState();if(D){const S=[...x(),...b];w(S)}else if(E){const A=b.map(S=>({item:S,type:"add"}));E(A)}},[]),c=V.useCallback(y=>{const b=Array.isArray(y)?y:[y],{edges:x=[],setEdges:w,hasDefaultEdges:D,onEdgesChange:E}=e.getState();if(D)w([...x,...b]);else if(E){const A=b.map(S=>({item:S,type:"add"}));E(A)}},[]),d=V.useCallback(()=>{const{getNodes:y,edges:b=[],transform:x}=e.getState(),[w,D,E]=x;return{nodes:y().map(A=>({...A})),edges:b.map(A=>({...A})),viewport:{x:w,y:D,zoom:E}}},[]),h=V.useCallback(({nodes:y,edges:b})=>{const{nodeInternals:x,getNodes:w,edges:D,hasDefaultNodes:E,hasDefaultEdges:A,onNodesDelete:S,onEdgesDelete:T,onNodesChange:M,onEdgesChange:R}=e.getState(),O=(y||[]).map(H=>H.id),z=(b||[]).map(H=>H.id),F=w().reduce((H,N)=>{const B=N.parentNode||N.parentId,G=!O.includes(N.id)&&B&&H.find(W=>W.id===B);return(typeof N.deletable!="boolean"||N.deletable)&&(O.includes(N.id)||G)&&H.push(N),H},[]),q=D.filter(H=>typeof H.deletable=="boolean"?H.deletable:!0),k=q.filter(H=>z.includes(H.id));if(F||k){const H=dW(F,q),N=[...k,...H],B=N.reduce((G,$)=>(G.includes($.id)||G.push($.id),G),[]);if((A||E)&&(A&&e.setState({edges:D.filter(G=>!B.includes(G.id))}),E&&(F.forEach(G=>{x.delete(G.id)}),e.setState({nodeInternals:new Map(x)}))),B.length>0&&(T?.(N),R&&R(B.map(G=>({id:G,type:"remove"})))),F.length>0&&(S?.(F),M)){const G=F.map($=>({id:$.id,type:"remove"}));M(G)}}},[]),p=V.useCallback(y=>{const b=yle(y),x=b?null:e.getState().nodeInternals.get(y.id);return!b&&!x?[null,null,b]:[b?y:rI(x),x,b]},[]),g=V.useCallback((y,b=!0,x)=>{const[w,D,E]=p(y);return w?(x||e.getState().getNodes()).filter(A=>{if(!E&&(A.id===D.id||!A.positionAbsolute))return!1;const S=rI(A),T=xT(S,w);return b&&T>0||T>=w.width*w.height}):[]},[]),v=V.useCallback((y,b,x=!0)=>{const[w]=p(y);if(!w)return!1;const D=xT(w,b);return x&&D>0||D>=w.width*w.height},[]);return V.useMemo(()=>({...t,getNodes:n,getNode:r,getEdges:i,getEdge:s,setNodes:a,setEdges:o,addNodes:l,addEdges:c,toObject:d,deleteElements:h,getIntersectingNodes:g,isNodeIntersecting:v}),[t,n,r,i,s,a,o,l,c,d,h,g,v])}const Jle={actInsideInputWithModifier:!1};var Qle=({deleteKeyCode:t,multiSelectionKeyCode:e})=>{const n=$n(),{deleteElements:r}=Sb(),i=vf(t,Jle),s=vf(e);V.useEffect(()=>{if(i){const{edges:a,getNodes:o}=n.getState(),l=o().filter(d=>d.selected),c=a.filter(d=>d.selected);r({nodes:l,edges:c}),n.setState({nodesSelectionActive:!1})}},[i]),V.useEffect(()=>{n.setState({multiSelectionActive:s})},[s])};function ece(t){const e=$n();V.useEffect(()=>{let n;const r=()=>{if(!t.current)return;const i=JC(t.current);(i.height===0||i.width===0)&&e.getState().onError?.("004",ba.error004()),e.setState({width:i.width||500,height:i.height||500})};return r(),window.addEventListener("resize",r),t.current&&(n=new ResizeObserver(()=>r()),n.observe(t.current)),()=>{window.removeEventListener("resize",r),n&&t.current&&n.unobserve(t.current)}},[])}const ak={position:"absolute",width:"100%",height:"100%",top:0,left:0},tce=(t,e)=>t.x!==e.x||t.y!==e.y||t.zoom!==e.k,im=t=>({x:t.x,y:t.y,zoom:t.k}),Kc=(t,e)=>t.target.closest(`.${e}`),fI=(t,e)=>e===2&&Array.isArray(t)&&t.includes(2),pI=t=>{const e=t.ctrlKey&&Fy()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*e},nce=t=>({d3Zoom:t.d3Zoom,d3Selection:t.d3Selection,d3ZoomHandler:t.d3ZoomHandler,userSelectionActive:t.userSelectionActive}),rce=({onMove:t,onMoveStart:e,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:i=!0,zoomOnPinch:s=!0,panOnScroll:a=!1,panOnScrollSpeed:o=.5,panOnScrollMode:l=wl.Free,zoomOnDoubleClick:c=!0,elementsSelectable:d,panOnDrag:h=!0,defaultViewport:p,translateExtent:g,minZoom:v,maxZoom:y,zoomActivationKeyCode:b,preventScrolling:x=!0,children:w,noWheelClassName:D,noPanClassName:E})=>{const A=V.useRef(),S=$n(),T=V.useRef(!1),M=V.useRef(!1),R=V.useRef(null),O=V.useRef({x:0,y:0,zoom:0}),{d3Zoom:z,d3Selection:F,d3ZoomHandler:q,userSelectionActive:k}=tn(nce,Wr),H=vf(b),N=V.useRef(0),B=V.useRef(!1),G=V.useRef();return ece(R),V.useEffect(()=>{if(R.current){const $=R.current.getBoundingClientRect(),W=Z7().scaleExtent([v,y]).translateExtent(g),L=Pi(R.current).call(W),K=ga.translate(p.x,p.y).scale(zu(p.zoom,v,y)),j=[[0,0],[$.width,$.height]],Y=W.constrain()(K,j,g);W.transform(L,Y),W.wheelDelta(pI),S.setState({d3Zoom:W,d3Selection:L,d3ZoomHandler:L.on("wheel.zoom"),transform:[Y.x,Y.y,Y.k],domNode:R.current.closest(".react-flow")})}},[]),V.useEffect(()=>{F&&z&&(a&&!H&&!k?F.on("wheel.zoom",$=>{if(Kc($,D))return!1;$.preventDefault(),$.stopImmediatePropagation();const W=F.property("__zoom").k||1;if($.ctrlKey&&s){const ye=is($),xe=pI($),Re=W*Math.pow(2,xe);z.scaleTo(F,Re,ye,$);return}const L=$.deltaMode===1?20:1;let K=l===wl.Vertical?0:$.deltaX*L,j=l===wl.Horizontal?0:$.deltaY*L;!Fy()&&$.shiftKey&&l!==wl.Vertical&&(K=$.deltaY*L,j=0),z.translateBy(F,-(K/W)*o,-(j/W)*o,{internal:!0});const Y=im(F.property("__zoom")),{onViewportChangeStart:ee,onViewportChange:re,onViewportChangeEnd:se}=S.getState();clearTimeout(G.current),B.current||(B.current=!0,e?.($,Y),ee?.(Y)),B.current&&(t?.($,Y),re?.(Y),G.current=setTimeout(()=>{n?.($,Y),se?.(Y),B.current=!1},150))},{passive:!1}):typeof q<"u"&&F.on("wheel.zoom",function($,W){if(!x&&$.type==="wheel"&&!$.ctrlKey||Kc($,D))return null;$.preventDefault(),q.call(this,$,W)},{passive:!1}))},[k,a,l,F,z,q,H,s,x,D,e,t,n]),V.useEffect(()=>{z&&z.on("start",$=>{if(!$.sourceEvent||$.sourceEvent.internal)return null;N.current=$.sourceEvent?.button;const{onViewportChangeStart:W}=S.getState(),L=im($.transform);T.current=!0,O.current=L,$.sourceEvent?.type==="mousedown"&&S.setState({paneDragging:!0}),W?.(L),e?.($.sourceEvent,L)})},[z,e]),V.useEffect(()=>{z&&(k&&!T.current?z.on("zoom",null):k||z.on("zoom",$=>{const{onViewportChange:W}=S.getState();if(S.setState({transform:[$.transform.x,$.transform.y,$.transform.k]}),M.current=!!(r&&fI(h,N.current??0)),(t||W)&&!$.sourceEvent?.internal){const L=im($.transform);W?.(L),t?.($.sourceEvent,L)}}))},[k,z,t,h,r]),V.useEffect(()=>{z&&z.on("end",$=>{if(!$.sourceEvent||$.sourceEvent.internal)return null;const{onViewportChangeEnd:W}=S.getState();if(T.current=!1,S.setState({paneDragging:!1}),r&&fI(h,N.current??0)&&!M.current&&r($.sourceEvent),M.current=!1,(n||W)&&tce(O.current,$.transform)){const L=im($.transform);O.current=L,clearTimeout(A.current),A.current=setTimeout(()=>{W?.(L),n?.($.sourceEvent,L)},a?150:0)}})},[z,a,h,n,r]),V.useEffect(()=>{z&&z.filter($=>{const W=H||i,L=s&&$.ctrlKey;if((h===!0||Array.isArray(h)&&h.includes(1))&&$.button===1&&$.type==="mousedown"&&(Kc($,"react-flow__node")||Kc($,"react-flow__edge")))return!0;if(!h&&!W&&!a&&!c&&!s||k||!c&&$.type==="dblclick"||Kc($,D)&&$.type==="wheel"||Kc($,E)&&($.type!=="wheel"||a&&$.type==="wheel"&&!H)||!s&&$.ctrlKey&&$.type==="wheel"||!W&&!a&&!L&&$.type==="wheel"||!h&&($.type==="mousedown"||$.type==="touchstart")||Array.isArray(h)&&!h.includes($.button)&&$.type==="mousedown")return!1;const K=Array.isArray(h)&&h.includes($.button)||!$.button||$.button<=1;return(!$.ctrlKey||$.type==="wheel")&&K})},[k,z,i,s,a,c,h,d,H]),Ce.createElement("div",{className:"react-flow__renderer",ref:R,style:ak},w)},ice=t=>({userSelectionActive:t.userSelectionActive,userSelectionRect:t.userSelectionRect});function sce(){const{userSelectionActive:t,userSelectionRect:e}=tn(ice,Wr);return t&&e?Ce.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:e.width,height:e.height,transform:`translate(${e.x}px, ${e.y}px)`}}):null}function gI(t,e){const n=e.parentNode||e.parentId,r=t.find(i=>i.id===n);if(r){const i=e.position.x+e.width-r.width,s=e.position.y+e.height-r.height;if(i>0||s>0||e.position.x<0||e.position.y<0){if(r.style={...r.style},r.style.width=r.style.width??r.width,r.style.height=r.style.height??r.height,i>0&&(r.style.width+=i),s>0&&(r.style.height+=s),e.position.x<0){const a=Math.abs(e.position.x);r.position.x=r.position.x-a,r.style.width+=a,e.position.x=0}if(e.position.y<0){const a=Math.abs(e.position.y);r.position.y=r.position.y-a,r.style.height+=a,e.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function ace(t,e){if(t.some(r=>r.type==="reset"))return t.filter(r=>r.type==="reset").map(r=>r.item);const n=t.filter(r=>r.type==="add").map(r=>r.item);return e.reduce((r,i)=>{const s=t.filter(o=>o.id===i.id);if(s.length===0)return r.push(i),r;const a={...i};for(const o of s)if(o)switch(o.type){case"select":{a.selected=o.selected;break}case"position":{typeof o.position<"u"&&(a.position=o.position),typeof o.positionAbsolute<"u"&&(a.positionAbsolute=o.positionAbsolute),typeof o.dragging<"u"&&(a.dragging=o.dragging),a.expandParent&&gI(r,a);break}case"dimensions":{typeof o.dimensions<"u"&&(a.width=o.dimensions.width,a.height=o.dimensions.height),typeof o.updateStyle<"u"&&(a.style={...a.style||{},...o.dimensions}),typeof o.resizing=="boolean"&&(a.resizing=o.resizing),a.expandParent&&gI(r,a);break}case"remove":return r}return r.push(a),r},n)}function oce(t,e){return ace(t,e)}const ho=(t,e)=>({id:t,type:"select",selected:e});function mu(t,e){return t.reduce((n,r)=>{const i=e.includes(r.id);return!r.selected&&i?(r.selected=!0,n.push(ho(r.id,!0))):r.selected&&!i&&(r.selected=!1,n.push(ho(r.id,!1))),n},[])}const Dx=(t,e)=>n=>{n.target===e.current&&t?.(n)},lce=t=>({userSelectionActive:t.userSelectionActive,elementsSelectable:t.elementsSelectable,dragging:t.paneDragging}),CW=V.memo(({isSelecting:t,selectionMode:e=bf.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:i,onPaneClick:s,onPaneContextMenu:a,onPaneScroll:o,onPaneMouseEnter:l,onPaneMouseMove:c,onPaneMouseLeave:d,children:h})=>{const p=V.useRef(null),g=$n(),v=V.useRef(0),y=V.useRef(0),b=V.useRef(),{userSelectionActive:x,elementsSelectable:w,dragging:D}=tn(lce,Wr),E=()=>{g.setState({userSelectionActive:!1,userSelectionRect:null}),v.current=0,y.current=0},A=q=>{s?.(q),g.getState().resetSelectedElements(),g.setState({nodesSelectionActive:!1})},S=q=>{if(Array.isArray(n)&&n?.includes(2)){q.preventDefault();return}a?.(q)},T=o?q=>o(q):void 0,M=q=>{const{resetSelectedElements:k,domNode:H}=g.getState();if(b.current=H?.getBoundingClientRect(),!w||!t||q.button!==0||q.target!==p.current||!b.current)return;const{x:N,y:B}=vo(q,b.current);k(),g.setState({userSelectionRect:{width:0,height:0,startX:N,startY:B,x:N,y:B}}),r?.(q)},R=q=>{const{userSelectionRect:k,nodeInternals:H,edges:N,transform:B,onNodesChange:G,onEdgesChange:$,nodeOrigin:W,getNodes:L}=g.getState();if(!t||!b.current||!k)return;g.setState({userSelectionActive:!0,nodesSelectionActive:!1});const K=vo(q,b.current),j=k.startX??0,Y=k.startY??0,ee={...k,x:K.x<j?K.x:j,y:K.y<Y?K.y:Y,width:Math.abs(K.x-j),height:Math.abs(K.y-Y)},re=L(),se=uW(H,ee,B,e===bf.Partial,!0,W),ye=dW(se,N).map(Re=>Re.id),xe=se.map(Re=>Re.id);if(v.current!==xe.length){v.current=xe.length;const Re=mu(re,xe);Re.length&&G?.(Re)}if(y.current!==ye.length){y.current=ye.length;const Re=mu(N,ye);Re.length&&$?.(Re)}g.setState({userSelectionRect:ee})},O=q=>{if(q.button!==0)return;const{userSelectionRect:k}=g.getState();!x&&k&&q.target===p.current&&A?.(q),g.setState({nodesSelectionActive:v.current>0}),E(),i?.(q)},z=q=>{x&&(g.setState({nodesSelectionActive:v.current>0}),i?.(q)),E()},F=w&&(t||x);return Ce.createElement("div",{className:or(["react-flow__pane",{dragging:D,selection:t}]),onClick:F?void 0:Dx(A,p),onContextMenu:Dx(S,p),onWheel:Dx(T,p),onMouseEnter:F?void 0:l,onMouseDown:F?M:void 0,onMouseMove:F?R:c,onMouseUp:F?O:void 0,onMouseLeave:F?z:d,ref:p,style:ak},h,Ce.createElement(sce,null))});CW.displayName="Pane";function kW(t,e){const n=t.parentNode||t.parentId;if(!n)return!1;const r=e.get(n);return r?r.selected?!0:kW(r,e):!1}function mI(t,e,n){let r=t;do{if(r?.matches(e))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function cce(t,e,n,r){return Array.from(t.values()).filter(i=>(i.selected||i.id===r)&&(!i.parentNode||i.parentId||!kW(i,t))&&(i.draggable||e&&typeof i.draggable>"u")).map(i=>({id:i.id,position:i.position||{x:0,y:0},positionAbsolute:i.positionAbsolute||{x:0,y:0},distance:{x:n.x-(i.positionAbsolute?.x??0),y:n.y-(i.positionAbsolute?.y??0)},delta:{x:0,y:0},extent:i.extent,parentNode:i.parentNode||i.parentId,parentId:i.parentNode||i.parentId,width:i.width,height:i.height,expandParent:i.expandParent}))}function uce(t,e){return!e||e==="parent"?e:[e[0],[e[1][0]-(t.width||0),e[1][1]-(t.height||0)]]}function RW(t,e,n,r,i=[0,0],s){const a=uce(t,t.extent||r);let o=a;const l=t.parentNode||t.parentId;if(t.extent==="parent"&&!t.expandParent)if(l&&t.width&&t.height){const h=n.get(l),{x:p,y:g}=Rl(h,i).positionAbsolute;o=h&&Bi(p)&&Bi(g)&&Bi(h.width)&&Bi(h.height)?[[p+t.width*i[0],g+t.height*i[1]],[p+h.width-t.width+t.width*i[0],g+h.height-t.height+t.height*i[1]]]:o}else s?.("005",ba.error005()),o=a;else if(t.extent&&l&&t.extent!=="parent"){const h=n.get(l),{x:p,y:g}=Rl(h,i).positionAbsolute;o=[[t.extent[0][0]+p,t.extent[0][1]+g],[t.extent[1][0]+p,t.extent[1][1]+g]]}let c={x:0,y:0};if(l){const h=n.get(l);c=Rl(h,i).positionAbsolute}const d=o&&o!=="parent"?QC(e,o):e;return{position:{x:d.x-c.x,y:d.y-c.y},positionAbsolute:d}}function Ex({nodeId:t,dragItems:e,nodeInternals:n}){const r=e.map(i=>({...n.get(i.id),position:i.position,positionAbsolute:i.positionAbsolute}));return[t?r.find(i=>i.id===t):r[0],r]}const yI=(t,e,n,r)=>{const i=e.querySelectorAll(t);if(!i||!i.length)return null;const s=Array.from(i),a=e.getBoundingClientRect(),o={x:a.width*r[0],y:a.height*r[1]};return s.map(l=>{const c=l.getBoundingClientRect();return{id:l.getAttribute("data-handleid"),position:l.getAttribute("data-handlepos"),x:(c.left-a.left-o.x)/n,y:(c.top-a.top-o.y)/n,...JC(l)}})};function fh(t,e,n){return n===void 0?n:r=>{const i=e().nodeInternals.get(t);i&&n(r,{...i})}}function AT({id:t,store:e,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:i,unselectNodesAndEdges:s,multiSelectionActive:a,nodeInternals:o,onError:l}=e.getState(),c=o.get(t);if(!c){l?.("012",ba.error012(t));return}e.setState({nodesSelectionActive:!1}),c.selected?(n||c.selected&&a)&&(s({nodes:[c],edges:[]}),requestAnimationFrame(()=>r?.current?.blur())):i([t])}function dce(){const t=$n();return V.useCallback(({sourceEvent:n})=>{const{transform:r,snapGrid:i,snapToGrid:s}=t.getState(),a=n.touches?n.touches[0].clientX:n.clientX,o=n.touches?n.touches[0].clientY:n.clientY,l={x:(a-r[0])/r[2],y:(o-r[1])/r[2]};return{xSnapped:s?i[0]*Math.round(l.x/i[0]):l.x,ySnapped:s?i[1]*Math.round(l.y/i[1]):l.y,...l}},[])}function Sx(t){return(e,n,r)=>t?.(e,r)}function UW({nodeRef:t,disabled:e=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:s,selectNodesOnDrag:a}){const o=$n(),[l,c]=V.useState(!1),d=V.useRef([]),h=V.useRef({x:null,y:null}),p=V.useRef(0),g=V.useRef(null),v=V.useRef({x:0,y:0}),y=V.useRef(null),b=V.useRef(!1),x=V.useRef(!1),w=V.useRef(!1),D=dce();return V.useEffect(()=>{if(t?.current){const E=Pi(t.current),A=({x:M,y:R})=>{const{nodeInternals:O,onNodeDrag:z,onSelectionDrag:F,updateNodePositions:q,nodeExtent:k,snapGrid:H,snapToGrid:N,nodeOrigin:B,onError:G}=o.getState();h.current={x:M,y:R};let $=!1,W={x:0,y:0,x2:0,y2:0};if(d.current.length>1&&k){const K=Eb(d.current,B);W=yf(K)}if(d.current=d.current.map(K=>{const j={x:M-K.distance.x,y:R-K.distance.y};N&&(j.x=H[0]*Math.round(j.x/H[0]),j.y=H[1]*Math.round(j.y/H[1]));const Y=[[k[0][0],k[0][1]],[k[1][0],k[1][1]]];d.current.length>1&&k&&!K.extent&&(Y[0][0]=K.positionAbsolute.x-W.x+k[0][0],Y[1][0]=K.positionAbsolute.x+(K.width??0)-W.x2+k[1][0],Y[0][1]=K.positionAbsolute.y-W.y+k[0][1],Y[1][1]=K.positionAbsolute.y+(K.height??0)-W.y2+k[1][1]);const ee=RW(K,j,O,Y,B,G);return $=$||K.position.x!==ee.position.x||K.position.y!==ee.position.y,K.position=ee.position,K.positionAbsolute=ee.positionAbsolute,K}),!$)return;q(d.current,!0,!0),c(!0);const L=i?z:Sx(F);if(L&&y.current){const[K,j]=Ex({nodeId:i,dragItems:d.current,nodeInternals:O});L(y.current,K,j)}},S=()=>{if(!g.current)return;const[M,R]=Q7(v.current,g.current);if(M!==0||R!==0){const{transform:O,panBy:z}=o.getState();h.current.x=(h.current.x??0)-M/O[2],h.current.y=(h.current.y??0)-R/O[2],z({x:M,y:R})&&A(h.current)}p.current=requestAnimationFrame(S)},T=M=>{const{nodeInternals:R,multiSelectionActive:O,nodesDraggable:z,unselectNodesAndEdges:F,onNodeDragStart:q,onSelectionDragStart:k}=o.getState();x.current=!0;const H=i?q:Sx(k);(!a||!s)&&!O&&i&&(R.get(i)?.selected||F()),i&&s&&a&&AT({id:i,store:o,nodeRef:t});const N=D(M);if(h.current=N,d.current=cce(R,z,N,i),H&&d.current){const[B,G]=Ex({nodeId:i,dragItems:d.current,nodeInternals:R});H(M.sourceEvent,B,G)}};if(e)E.on(".drag",null);else{const M=xae().on("start",R=>{const{domNode:O,nodeDragThreshold:z}=o.getState();z===0&&T(R),w.current=!1;const F=D(R);h.current=F,g.current=O?.getBoundingClientRect()||null,v.current=vo(R.sourceEvent,g.current)}).on("drag",R=>{const O=D(R),{autoPanOnNodeDrag:z,nodeDragThreshold:F}=o.getState();if(R.sourceEvent.type==="touchmove"&&R.sourceEvent.touches.length>1&&(w.current=!0),!w.current){if(!b.current&&x.current&&z&&(b.current=!0,S()),!x.current){const q=O.xSnapped-(h?.current?.x??0),k=O.ySnapped-(h?.current?.y??0);Math.sqrt(q*q+k*k)>F&&T(R)}(h.current.x!==O.xSnapped||h.current.y!==O.ySnapped)&&d.current&&x.current&&(y.current=R.sourceEvent,v.current=vo(R.sourceEvent,g.current),A(O))}}).on("end",R=>{if(!(!x.current||w.current)&&(c(!1),b.current=!1,x.current=!1,cancelAnimationFrame(p.current),d.current)){const{updateNodePositions:O,nodeInternals:z,onNodeDragStop:F,onSelectionDragStop:q}=o.getState(),k=i?F:Sx(q);if(O(d.current,!1,!1),k){const[H,N]=Ex({nodeId:i,dragItems:d.current,nodeInternals:z});k(R.sourceEvent,H,N)}}}).filter(R=>{const O=R.target;return!R.button&&(!n||!mI(O,`.${n}`,t))&&(!r||mI(O,r,t))});return E.call(M),()=>{E.on(".drag",null)}}}},[t,e,n,r,s,o,i,a,D]),l}function MW(){const t=$n();return V.useCallback(n=>{const{nodeInternals:r,nodeExtent:i,updateNodePositions:s,getNodes:a,snapToGrid:o,snapGrid:l,onError:c,nodesDraggable:d}=t.getState(),h=a().filter(w=>w.selected&&(w.draggable||d&&typeof w.draggable>"u")),p=o?l[0]:5,g=o?l[1]:5,v=n.isShiftPressed?4:1,y=n.x*p*v,b=n.y*g*v,x=h.map(w=>{if(w.positionAbsolute){const D={x:w.positionAbsolute.x+y,y:w.positionAbsolute.y+b};o&&(D.x=l[0]*Math.round(D.x/l[0]),D.y=l[1]*Math.round(D.y/l[1]));const{positionAbsolute:E,position:A}=RW(w,D,r,i,void 0,c);w.position=A,w.positionAbsolute=E}return w});s(x,!0,!1)},[])}const Tu={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var ph=t=>{const e=({id:n,type:r,data:i,xPos:s,yPos:a,xPosOrigin:o,yPosOrigin:l,selected:c,onClick:d,onMouseEnter:h,onMouseMove:p,onMouseLeave:g,onContextMenu:v,onDoubleClick:y,style:b,className:x,isDraggable:w,isSelectable:D,isConnectable:E,isFocusable:A,selectNodesOnDrag:S,sourcePosition:T,targetPosition:M,hidden:R,resizeObserver:O,dragHandle:z,zIndex:F,isParent:q,noDragClassName:k,noPanClassName:H,initialized:N,disableKeyboardA11y:B,ariaLabel:G,rfId:$,hasHandleBounds:W})=>{const L=$n(),K=V.useRef(null),j=V.useRef(null),Y=V.useRef(T),ee=V.useRef(M),re=V.useRef(r),se=D||w||d||h||p||g,ye=MW(),xe=fh(n,L.getState,h),Re=fh(n,L.getState,p),Fe=fh(n,L.getState,g),qe=fh(n,L.getState,v),We=fh(n,L.getState,y),P=Q=>{const{nodeDragThreshold:J}=L.getState();if(D&&(!S||!w||J>0)&&AT({id:n,store:L,nodeRef:K}),d){const ue=L.getState().nodeInternals.get(n);ue&&d(Q,{...ue})}},oe=Q=>{if(!wT(Q)&&!B)if(rW.includes(Q.key)&&D){const J=Q.key==="Escape";AT({id:n,store:L,unselect:J,nodeRef:K})}else w&&c&&Object.prototype.hasOwnProperty.call(Tu,Q.key)&&(L.setState({ariaLiveMessage:`Moved selected node ${Q.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~s}, y: ${~~a}`}),ye({x:Tu[Q.key].x,y:Tu[Q.key].y,isShiftPressed:Q.shiftKey}))};V.useEffect(()=>()=>{j.current&&(O?.unobserve(j.current),j.current=null)},[]),V.useEffect(()=>{if(K.current&&!R){const Q=K.current;(!N||!W||j.current!==Q)&&(j.current&&O?.unobserve(j.current),O?.observe(Q),j.current=Q)}},[R,N,W]),V.useEffect(()=>{const Q=re.current!==r,J=Y.current!==T,ue=ee.current!==M;K.current&&(Q||J||ue)&&(Q&&(re.current=r),J&&(Y.current=T),ue&&(ee.current=M),L.getState().updateNodeDimensions([{id:n,nodeElement:K.current,forceUpdate:!0}]))},[n,r,T,M]);const ce=UW({nodeRef:K,disabled:R||!w,noDragClassName:k,handleSelector:z,nodeId:n,isSelectable:D,selectNodesOnDrag:S});return R?null:Ce.createElement("div",{className:or(["react-flow__node",`react-flow__node-${r}`,{[H]:w},x,{selected:c,selectable:D,parent:q,dragging:ce}]),ref:K,style:{zIndex:F,transform:`translate(${o}px,${l}px)`,pointerEvents:se?"all":"none",visibility:N?"visible":"hidden",...b},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:xe,onMouseMove:Re,onMouseLeave:Fe,onContextMenu:qe,onClick:P,onDoubleClick:We,onKeyDown:A?oe:void 0,tabIndex:A?0:void 0,role:A?"button":void 0,"aria-describedby":B?void 0:`${DW}-${$}`,"aria-label":G},Ce.createElement(Ele,{value:n},Ce.createElement(t,{id:n,data:i,type:r,xPos:s,yPos:a,selected:c,isConnectable:E,sourcePosition:T,targetPosition:M,dragging:ce,dragHandle:z,zIndex:F})))};return e.displayName="NodeWrapper",V.memo(e)};const hce=t=>{const e=t.getNodes().filter(n=>n.selected);return{...Eb(e,t.nodeOrigin),transformString:`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`,userSelectionActive:t.userSelectionActive}};function fce({onSelectionContextMenu:t,noPanClassName:e,disableKeyboardA11y:n}){const r=$n(),{width:i,height:s,x:a,y:o,transformString:l,userSelectionActive:c}=tn(hce,Wr),d=MW(),h=V.useRef(null);if(V.useEffect(()=>{n||h.current?.focus({preventScroll:!0})},[n]),UW({nodeRef:h}),c||!i||!s)return null;const p=t?v=>{const y=r.getState().getNodes().filter(b=>b.selected);t(v,y)}:void 0,g=v=>{Object.prototype.hasOwnProperty.call(Tu,v.key)&&d({x:Tu[v.key].x,y:Tu[v.key].y,isShiftPressed:v.shiftKey})};return Ce.createElement("div",{className:or(["react-flow__nodesselection","react-flow__container",e]),style:{transform:l}},Ce.createElement("div",{ref:h,className:"react-flow__nodesselection-rect",onContextMenu:p,tabIndex:n?void 0:-1,onKeyDown:n?void 0:g,style:{width:i,height:s,top:o,left:a}}))}var pce=V.memo(fce);const gce=t=>t.nodesSelectionActive,OW=({children:t,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:a,deleteKeyCode:o,onMove:l,onMoveStart:c,onMoveEnd:d,selectionKeyCode:h,selectionOnDrag:p,selectionMode:g,onSelectionStart:v,onSelectionEnd:y,multiSelectionKeyCode:b,panActivationKeyCode:x,zoomActivationKeyCode:w,elementsSelectable:D,zoomOnScroll:E,zoomOnPinch:A,panOnScroll:S,panOnScrollSpeed:T,panOnScrollMode:M,zoomOnDoubleClick:R,panOnDrag:O,defaultViewport:z,translateExtent:F,minZoom:q,maxZoom:k,preventScrolling:H,onSelectionContextMenu:N,noWheelClassName:B,noPanClassName:G,disableKeyboardA11y:$})=>{const W=tn(gce),L=vf(h),K=vf(x),j=K||O,Y=K||S,ee=L||p&&j!==!0;return Qle({deleteKeyCode:o,multiSelectionKeyCode:b}),Ce.createElement(rce,{onMove:l,onMoveStart:c,onMoveEnd:d,onPaneContextMenu:s,elementsSelectable:D,zoomOnScroll:E,zoomOnPinch:A,panOnScroll:Y,panOnScrollSpeed:T,panOnScrollMode:M,zoomOnDoubleClick:R,panOnDrag:!L&&j,defaultViewport:z,translateExtent:F,minZoom:q,maxZoom:k,zoomActivationKeyCode:w,preventScrolling:H,noWheelClassName:B,noPanClassName:G},Ce.createElement(CW,{onSelectionStart:v,onSelectionEnd:y,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:a,panOnDrag:j,isSelecting:!!ee,selectionMode:g},t,W&&Ce.createElement(pce,{onSelectionContextMenu:N,noPanClassName:G,disableKeyboardA11y:$})))};OW.displayName="FlowRenderer";var mce=V.memo(OW);function yce(t){return tn(V.useCallback(n=>t?uW(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[t]))}function bce(t){const e={input:ph(t.input||vW),default:ph(t.default||ST),output:ph(t.output||wW),group:ph(t.group||sk)},n={},r=Object.keys(t).filter(i=>!["input","default","output","group"].includes(i)).reduce((i,s)=>(i[s]=ph(t[s]||ST),i),n);return{...e,...r}}const vce=({x:t,y:e,width:n,height:r,origin:i})=>!n||!r?{x:t,y:e}:i[0]<0||i[1]<0||i[0]>1||i[1]>1?{x:t,y:e}:{x:t-n*i[0],y:e-r*i[1]},xce=t=>({nodesDraggable:t.nodesDraggable,nodesConnectable:t.nodesConnectable,nodesFocusable:t.nodesFocusable,elementsSelectable:t.elementsSelectable,updateNodeDimensions:t.updateNodeDimensions,onError:t.onError}),NW=t=>{const{nodesDraggable:e,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,updateNodeDimensions:s,onError:a}=tn(xce,Wr),o=yce(t.onlyRenderVisibleElements),l=V.useRef(),c=V.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const d=new ResizeObserver(h=>{const p=h.map(g=>({id:g.target.getAttribute("data-id"),nodeElement:g.target,forceUpdate:!0}));s(p)});return l.current=d,d},[]);return V.useEffect(()=>()=>{l?.current?.disconnect()},[]),Ce.createElement("div",{className:"react-flow__nodes",style:ak},o.map(d=>{let h=d.type||"default";t.nodeTypes[h]||(a?.("003",ba.error003(h)),h="default");const p=t.nodeTypes[h]||t.nodeTypes.default,g=!!(d.draggable||e&&typeof d.draggable>"u"),v=!!(d.selectable||i&&typeof d.selectable>"u"),y=!!(d.connectable||n&&typeof d.connectable>"u"),b=!!(d.focusable||r&&typeof d.focusable>"u"),x=t.nodeExtent?QC(d.positionAbsolute,t.nodeExtent):d.positionAbsolute,w=x?.x??0,D=x?.y??0,E=vce({x:w,y:D,width:d.width??0,height:d.height??0,origin:t.nodeOrigin});return Ce.createElement(p,{key:d.id,id:d.id,className:d.className,style:d.style,type:h,data:d.data,sourcePosition:d.sourcePosition||Je.Bottom,targetPosition:d.targetPosition||Je.Top,hidden:d.hidden,xPos:w,yPos:D,xPosOrigin:E.x,yPosOrigin:E.y,selectNodesOnDrag:t.selectNodesOnDrag,onClick:t.onNodeClick,onMouseEnter:t.onNodeMouseEnter,onMouseMove:t.onNodeMouseMove,onMouseLeave:t.onNodeMouseLeave,onContextMenu:t.onNodeContextMenu,onDoubleClick:t.onNodeDoubleClick,selected:!!d.selected,isDraggable:g,isSelectable:v,isConnectable:y,isFocusable:b,resizeObserver:c,dragHandle:d.dragHandle,zIndex:d[xn]?.z??0,isParent:!!d[xn]?.isParent,noDragClassName:t.noDragClassName,noPanClassName:t.noPanClassName,initialized:!!d.width&&!!d.height,rfId:t.rfId,disableKeyboardA11y:t.disableKeyboardA11y,ariaLabel:d.ariaLabel,hasHandleBounds:!!d[xn]?.handleBounds})}))};NW.displayName="NodeRenderer";var wce=V.memo(NW);const _ce=(t,e,n)=>n===Je.Left?t-e:n===Je.Right?t+e:t,Dce=(t,e,n)=>n===Je.Top?t-e:n===Je.Bottom?t+e:t,bI="react-flow__edgeupdater",vI=({position:t,centerX:e,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:s,onMouseOut:a,type:o})=>Ce.createElement("circle",{onMouseDown:i,onMouseEnter:s,onMouseOut:a,className:or([bI,`${bI}-${o}`]),cx:_ce(e,r,t),cy:Dce(n,r,t),r,stroke:"transparent",fill:"transparent"}),Ece=()=>!0;var Yc=t=>{const e=({id:n,className:r,type:i,data:s,onClick:a,onEdgeDoubleClick:o,selected:l,animated:c,label:d,labelStyle:h,labelShowBg:p,labelBgStyle:g,labelBgPadding:v,labelBgBorderRadius:y,style:b,source:x,target:w,sourceX:D,sourceY:E,targetX:A,targetY:S,sourcePosition:T,targetPosition:M,elementsSelectable:R,hidden:O,sourceHandleId:z,targetHandleId:F,onContextMenu:q,onMouseEnter:k,onMouseMove:H,onMouseLeave:N,reconnectRadius:B,onReconnect:G,onReconnectStart:$,onReconnectEnd:W,markerEnd:L,markerStart:K,rfId:j,ariaLabel:Y,isFocusable:ee,isReconnectable:re,pathOptions:se,interactionWidth:ye,disableKeyboardA11y:xe})=>{const Re=V.useRef(null),[Fe,qe]=V.useState(!1),[We,P]=V.useState(!1),oe=$n(),ce=V.useMemo(()=>`url('#${DT(K,j)}')`,[K,j]),Q=V.useMemo(()=>`url('#${DT(L,j)}')`,[L,j]);if(O)return null;const J=Ve=>{const{edges:tt,addSelectedEdges:pe,unselectNodesAndEdges:Te,multiSelectionActive:Be}=oe.getState(),Ie=tt.find(Qe=>Qe.id===n);Ie&&(R&&(oe.setState({nodesSelectionActive:!1}),Ie.selected&&Be?(Te({nodes:[],edges:[Ie]}),Re.current?.blur()):pe([n])),a&&a(Ve,Ie))},ue=hh(n,oe.getState,o),De=hh(n,oe.getState,q),Se=hh(n,oe.getState,k),fe=hh(n,oe.getState,H),ie=hh(n,oe.getState,N),le=(Ve,tt)=>{if(Ve.button!==0)return;const{edges:pe,isValidConnection:Te}=oe.getState(),Be=tt?w:x,Ie=(tt?F:z)||null,Qe=tt?"target":"source",st=Te||Ece,qt=tt,Kt=pe.find(te=>te.id===n);P(!0),$?.(Ve,Kt,Qe);const Pn=te=>{P(!1),W?.(te,Kt,Qe)};gW({event:Ve,handleId:Ie,nodeId:Be,onConnect:te=>G?.(Kt,te),isTarget:qt,getState:oe.getState,setState:oe.setState,isValidConnection:st,edgeUpdaterType:Qe,onReconnectEnd:Pn})},me=Ve=>le(Ve,!0),ae=Ve=>le(Ve,!1),ve=()=>qe(!0),Ue=()=>qe(!1),Le=!R&&!a,Pe=Ve=>{if(!xe&&rW.includes(Ve.key)&&R){const{unselectNodesAndEdges:tt,addSelectedEdges:pe,edges:Te}=oe.getState();Ve.key==="Escape"?(Re.current?.blur(),tt({edges:[Te.find(Ie=>Ie.id===n)]})):pe([n])}};return Ce.createElement("g",{className:or(["react-flow__edge",`react-flow__edge-${i}`,r,{selected:l,animated:c,inactive:Le,updating:Fe}]),onClick:J,onDoubleClick:ue,onContextMenu:De,onMouseEnter:Se,onMouseMove:fe,onMouseLeave:ie,onKeyDown:ee?Pe:void 0,tabIndex:ee?0:void 0,role:ee?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":Y===null?void 0:Y||`Edge from ${x} to ${w}`,"aria-describedby":ee?`${EW}-${j}`:void 0,ref:Re},!We&&Ce.createElement(t,{id:n,source:x,target:w,selected:l,animated:c,label:d,labelStyle:h,labelShowBg:p,labelBgStyle:g,labelBgPadding:v,labelBgBorderRadius:y,data:s,style:b,sourceX:D,sourceY:E,targetX:A,targetY:S,sourcePosition:T,targetPosition:M,sourceHandleId:z,targetHandleId:F,markerStart:ce,markerEnd:Q,pathOptions:se,interactionWidth:ye}),re&&Ce.createElement(Ce.Fragment,null,(re==="source"||re===!0)&&Ce.createElement(vI,{position:T,centerX:D,centerY:E,radius:B,onMouseDown:me,onMouseEnter:ve,onMouseOut:Ue,type:"source"}),(re==="target"||re===!0)&&Ce.createElement(vI,{position:M,centerX:A,centerY:S,radius:B,onMouseDown:ae,onMouseEnter:ve,onMouseOut:Ue,type:"target"})))};return e.displayName="EdgeWrapper",V.memo(e)};function Sce(t){const e={default:Yc(t.default||Py),straight:Yc(t.bezier||nk),step:Yc(t.step||tk),smoothstep:Yc(t.step||Db),simplebezier:Yc(t.simplebezier||ek)},n={},r=Object.keys(t).filter(i=>!["default","bezier"].includes(i)).reduce((i,s)=>(i[s]=Yc(t[s]||Py),i),n);return{...e,...r}}function xI(t,e,n=null){const r=(n?.x||0)+e.x,i=(n?.y||0)+e.y,s=n?.width||e.width,a=n?.height||e.height;switch(t){case Je.Top:return{x:r+s/2,y:i};case Je.Right:return{x:r+s,y:i+a/2};case Je.Bottom:return{x:r+s/2,y:i+a};case Je.Left:return{x:r,y:i+a/2}}}function wI(t,e){return t?t.length===1||!e?t[0]:e&&t.find(n=>n.id===e)||null:null}const Ace=(t,e,n,r,i,s)=>{const a=xI(n,t,e),o=xI(s,r,i);return{sourceX:a.x,sourceY:a.y,targetX:o.x,targetY:o.y}};function Tce({sourcePos:t,targetPos:e,sourceWidth:n,sourceHeight:r,targetWidth:i,targetHeight:s,width:a,height:o,transform:l}){const c={x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x+n,e.x+i),y2:Math.max(t.y+r,e.y+s)};c.x===c.x2&&(c.x2+=1),c.y===c.y2&&(c.y2+=1);const d=yf({x:(0-l[0])/l[2],y:(0-l[1])/l[2],width:a/l[2],height:o/l[2]}),h=Math.max(0,Math.min(d.x2,c.x2)-Math.max(d.x,c.x)),p=Math.max(0,Math.min(d.y2,c.y2)-Math.max(d.y,c.y));return Math.ceil(h*p)>0}function _I(t){const e=t?.[xn]?.handleBounds||null,n=e&&t?.width&&t?.height&&typeof t?.positionAbsolute?.x<"u"&&typeof t?.positionAbsolute?.y<"u";return[{x:t?.positionAbsolute?.x||0,y:t?.positionAbsolute?.y||0,width:t?.width||0,height:t?.height||0},e,!!n]}const Cce=[{level:0,isMaxLevel:!0,edges:[]}];function kce(t,e,n=!1){let r=-1;const i=t.reduce((a,o)=>{const l=Bi(o.zIndex);let c=l?o.zIndex:0;if(n){const d=e.get(o.target),h=e.get(o.source),p=o.selected||d?.selected||h?.selected,g=Math.max(h?.[xn]?.z||0,d?.[xn]?.z||0,1e3);c=(l?o.zIndex:0)+(p?g:0)}return a[c]?a[c].push(o):a[c]=[o],r=c>r?c:r,a},{}),s=Object.entries(i).map(([a,o])=>{const l=+a;return{edges:o,level:l,isMaxLevel:l===r}});return s.length===0?Cce:s}function Rce(t,e,n){const r=tn(V.useCallback(i=>t?i.edges.filter(s=>{const a=e.get(s.source),o=e.get(s.target);return a?.width&&a?.height&&o?.width&&o?.height&&Tce({sourcePos:a.positionAbsolute||{x:0,y:0},targetPos:o.positionAbsolute||{x:0,y:0},sourceWidth:a.width,sourceHeight:a.height,targetWidth:o.width,targetHeight:o.height,width:i.width,height:i.height,transform:i.transform})}):i.edges,[t,e]));return kce(r,e,n)}const Uce=({color:t="none",strokeWidth:e=1})=>Ce.createElement("polyline",{style:{stroke:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),Mce=({color:t="none",strokeWidth:e=1})=>Ce.createElement("polyline",{style:{stroke:t,fill:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),DI={[Iy.Arrow]:Uce,[Iy.ArrowClosed]:Mce};function Oce(t){const e=$n();return V.useMemo(()=>Object.prototype.hasOwnProperty.call(DI,t)?DI[t]:(e.getState().onError?.("009",ba.error009(t)),null),[t])}const Nce=({id:t,type:e,color:n,width:r=12.5,height:i=12.5,markerUnits:s="strokeWidth",strokeWidth:a,orient:o="auto-start-reverse"})=>{const l=Oce(e);return l?Ce.createElement("marker",{className:"react-flow__arrowhead",id:t,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:s,orient:o,refX:"0",refY:"0"},Ce.createElement(l,{color:n,strokeWidth:a})):null},Fce=({defaultColor:t,rfId:e})=>n=>{const r=[];return n.edges.reduce((i,s)=>([s.markerStart,s.markerEnd].forEach(a=>{if(a&&typeof a=="object"){const o=DT(a,e);r.includes(o)||(i.push({id:o,color:a.color||t,...a}),r.push(o))}}),i),[]).sort((i,s)=>i.id.localeCompare(s.id))},FW=({defaultColor:t,rfId:e})=>{const n=tn(V.useCallback(Fce({defaultColor:t,rfId:e}),[t,e]),(r,i)=>!(r.length!==i.length||r.some((s,a)=>s.id!==i[a].id)));return Ce.createElement("defs",null,n.map(r=>Ce.createElement(Nce,{id:r.id,key:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient})))};FW.displayName="MarkerDefinitions";var Ice=V.memo(FW);const Pce=t=>({nodesConnectable:t.nodesConnectable,edgesFocusable:t.edgesFocusable,edgesUpdatable:t.edgesUpdatable,elementsSelectable:t.elementsSelectable,width:t.width,height:t.height,connectionMode:t.connectionMode,nodeInternals:t.nodeInternals,onError:t.onError}),IW=({defaultMarkerColor:t,onlyRenderVisibleElements:e,elevateEdgesOnSelect:n,rfId:r,edgeTypes:i,noPanClassName:s,onEdgeContextMenu:a,onEdgeMouseEnter:o,onEdgeMouseMove:l,onEdgeMouseLeave:c,onEdgeClick:d,onEdgeDoubleClick:h,onReconnect:p,onReconnectStart:g,onReconnectEnd:v,reconnectRadius:y,children:b,disableKeyboardA11y:x})=>{const{edgesFocusable:w,edgesUpdatable:D,elementsSelectable:E,width:A,height:S,connectionMode:T,nodeInternals:M,onError:R}=tn(Pce,Wr),O=Rce(e,M,n);return A?Ce.createElement(Ce.Fragment,null,O.map(({level:z,edges:F,isMaxLevel:q})=>Ce.createElement("svg",{key:z,style:{zIndex:z},width:A,height:S,className:"react-flow__edges react-flow__container"},q&&Ce.createElement(Ice,{defaultColor:t,rfId:r}),Ce.createElement("g",null,F.map(k=>{const[H,N,B]=_I(M.get(k.source)),[G,$,W]=_I(M.get(k.target));if(!B||!W)return null;let L=k.type||"default";i[L]||(R?.("011",ba.error011(L)),L="default");const K=i[L]||i.default,j=T===Il.Strict?$.target:($.target??[]).concat($.source??[]),Y=wI(N.source,k.sourceHandle),ee=wI(j,k.targetHandle),re=Y?.position||Je.Bottom,se=ee?.position||Je.Top,ye=!!(k.focusable||w&&typeof k.focusable>"u"),xe=k.reconnectable||k.updatable,Re=typeof p<"u"&&(xe||D&&typeof xe>"u");if(!Y||!ee)return R?.("008",ba.error008(Y,k)),null;const{sourceX:Fe,sourceY:qe,targetX:We,targetY:P}=Ace(H,Y,re,G,ee,se);return Ce.createElement(K,{key:k.id,id:k.id,className:or([k.className,s]),type:L,data:k.data,selected:!!k.selected,animated:!!k.animated,hidden:!!k.hidden,label:k.label,labelStyle:k.labelStyle,labelShowBg:k.labelShowBg,labelBgStyle:k.labelBgStyle,labelBgPadding:k.labelBgPadding,labelBgBorderRadius:k.labelBgBorderRadius,style:k.style,source:k.source,target:k.target,sourceHandleId:k.sourceHandle,targetHandleId:k.targetHandle,markerEnd:k.markerEnd,markerStart:k.markerStart,sourceX:Fe,sourceY:qe,targetX:We,targetY:P,sourcePosition:re,targetPosition:se,elementsSelectable:E,onContextMenu:a,onMouseEnter:o,onMouseMove:l,onMouseLeave:c,onClick:d,onEdgeDoubleClick:h,onReconnect:p,onReconnectStart:g,onReconnectEnd:v,reconnectRadius:y,rfId:r,ariaLabel:k.ariaLabel,isFocusable:ye,isReconnectable:Re,pathOptions:"pathOptions"in k?k.pathOptions:void 0,interactionWidth:k.interactionWidth,disableKeyboardA11y:x})})))),b):null};IW.displayName="EdgeRenderer";var Lce=V.memo(IW);const Bce=t=>`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`;function jce({children:t}){const e=tn(Bce);return Ce.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:e}},t)}function zce(t){const e=Sb(),n=V.useRef(!1);V.useEffect(()=>{!n.current&&e.viewportInitialized&&t&&(setTimeout(()=>t(e),1),n.current=!0)},[t,e.viewportInitialized])}const qce={[Je.Left]:Je.Right,[Je.Right]:Je.Left,[Je.Top]:Je.Bottom,[Je.Bottom]:Je.Top},PW=({nodeId:t,handleType:e,style:n,type:r=po.Bezier,CustomComponent:i,connectionStatus:s})=>{const{fromNode:a,handleId:o,toX:l,toY:c,connectionMode:d}=tn(V.useCallback(S=>({fromNode:S.nodeInternals.get(t),handleId:S.connectionHandleId,toX:(S.connectionPosition.x-S.transform[0])/S.transform[2],toY:(S.connectionPosition.y-S.transform[1])/S.transform[2],connectionMode:S.connectionMode}),[t]),Wr),h=a?.[xn]?.handleBounds;let p=h?.[e];if(d===Il.Loose&&(p=p||h?.[e==="source"?"target":"source"]),!a||!p)return null;const g=o?p.find(S=>S.id===o):p[0],v=g?g.x+g.width/2:(a.width??0)/2,y=g?g.y+g.height/2:a.height??0,b=(a.positionAbsolute?.x??0)+v,x=(a.positionAbsolute?.y??0)+y,w=g?.position,D=w?qce[w]:null;if(!w||!D)return null;if(i)return Ce.createElement(i,{connectionLineType:r,connectionLineStyle:n,fromNode:a,fromHandle:g,fromX:b,fromY:x,toX:l,toY:c,fromPosition:w,toPosition:D,connectionStatus:s});let E="";const A={sourceX:b,sourceY:x,sourcePosition:w,targetX:l,targetY:c,targetPosition:D};return r===po.Bezier?[E]=lW(A):r===po.Step?[E]=_T({...A,borderRadius:0}):r===po.SmoothStep?[E]=_T(A):r===po.SimpleBezier?[E]=oW(A):E=`M${b},${x} ${l},${c}`,Ce.createElement("path",{d:E,fill:"none",className:"react-flow__connection-path",style:n})};PW.displayName="ConnectionLine";const Wce=t=>({nodeId:t.connectionNodeId,handleType:t.connectionHandleType,nodesConnectable:t.nodesConnectable,connectionStatus:t.connectionStatus,width:t.width,height:t.height});function Vce({containerStyle:t,style:e,type:n,component:r}){const{nodeId:i,handleType:s,nodesConnectable:a,width:o,height:l,connectionStatus:c}=tn(Wce,Wr);return!(i&&s&&o&&a)?null:Ce.createElement("svg",{style:t,width:o,height:l,className:"react-flow__edges react-flow__connectionline react-flow__container"},Ce.createElement("g",{className:or(["react-flow__connection",c])},Ce.createElement(PW,{nodeId:i,handleType:s,style:e,type:n,CustomComponent:r,connectionStatus:c})))}function EI(t,e){return V.useRef(null),$n(),V.useMemo(()=>e(t),[t])}const LW=({nodeTypes:t,edgeTypes:e,onMove:n,onMoveStart:r,onMoveEnd:i,onInit:s,onNodeClick:a,onEdgeClick:o,onNodeDoubleClick:l,onEdgeDoubleClick:c,onNodeMouseEnter:d,onNodeMouseMove:h,onNodeMouseLeave:p,onNodeContextMenu:g,onSelectionContextMenu:v,onSelectionStart:y,onSelectionEnd:b,connectionLineType:x,connectionLineStyle:w,connectionLineComponent:D,connectionLineContainerStyle:E,selectionKeyCode:A,selectionOnDrag:S,selectionMode:T,multiSelectionKeyCode:M,panActivationKeyCode:R,zoomActivationKeyCode:O,deleteKeyCode:z,onlyRenderVisibleElements:F,elementsSelectable:q,selectNodesOnDrag:k,defaultViewport:H,translateExtent:N,minZoom:B,maxZoom:G,preventScrolling:$,defaultMarkerColor:W,zoomOnScroll:L,zoomOnPinch:K,panOnScroll:j,panOnScrollSpeed:Y,panOnScrollMode:ee,zoomOnDoubleClick:re,panOnDrag:se,onPaneClick:ye,onPaneMouseEnter:xe,onPaneMouseMove:Re,onPaneMouseLeave:Fe,onPaneScroll:qe,onPaneContextMenu:We,onEdgeContextMenu:P,onEdgeMouseEnter:oe,onEdgeMouseMove:ce,onEdgeMouseLeave:Q,onReconnect:J,onReconnectStart:ue,onReconnectEnd:De,reconnectRadius:Se,noDragClassName:fe,noWheelClassName:ie,noPanClassName:le,elevateEdgesOnSelect:me,disableKeyboardA11y:ae,nodeOrigin:ve,nodeExtent:Ue,rfId:Le})=>{const Pe=EI(t,bce),Ve=EI(e,Sce);return zce(s),Ce.createElement(mce,{onPaneClick:ye,onPaneMouseEnter:xe,onPaneMouseMove:Re,onPaneMouseLeave:Fe,onPaneContextMenu:We,onPaneScroll:qe,deleteKeyCode:z,selectionKeyCode:A,selectionOnDrag:S,selectionMode:T,onSelectionStart:y,onSelectionEnd:b,multiSelectionKeyCode:M,panActivationKeyCode:R,zoomActivationKeyCode:O,elementsSelectable:q,onMove:n,onMoveStart:r,onMoveEnd:i,zoomOnScroll:L,zoomOnPinch:K,zoomOnDoubleClick:re,panOnScroll:j,panOnScrollSpeed:Y,panOnScrollMode:ee,panOnDrag:se,defaultViewport:H,translateExtent:N,minZoom:B,maxZoom:G,onSelectionContextMenu:v,preventScrolling:$,noDragClassName:fe,noWheelClassName:ie,noPanClassName:le,disableKeyboardA11y:ae},Ce.createElement(jce,null,Ce.createElement(Lce,{edgeTypes:Ve,onEdgeClick:o,onEdgeDoubleClick:c,onlyRenderVisibleElements:F,onEdgeContextMenu:P,onEdgeMouseEnter:oe,onEdgeMouseMove:ce,onEdgeMouseLeave:Q,onReconnect:J,onReconnectStart:ue,onReconnectEnd:De,reconnectRadius:Se,defaultMarkerColor:W,noPanClassName:le,elevateEdgesOnSelect:!!me,disableKeyboardA11y:ae,rfId:Le},Ce.createElement(Vce,{style:w,type:x,component:D,containerStyle:E})),Ce.createElement("div",{className:"react-flow__edgelabel-renderer"}),Ce.createElement(wce,{nodeTypes:Pe,onNodeClick:a,onNodeDoubleClick:l,onNodeMouseEnter:d,onNodeMouseMove:h,onNodeMouseLeave:p,onNodeContextMenu:g,selectNodesOnDrag:k,onlyRenderVisibleElements:F,noPanClassName:le,noDragClassName:fe,disableKeyboardA11y:ae,nodeOrigin:ve,nodeExtent:Ue,rfId:Le})))};LW.displayName="GraphView";var Hce=V.memo(LW);const TT=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],no={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:TT,nodeExtent:TT,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:Il.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:ble,isValidConnection:void 0},$ce=()=>Mie((t,e)=>({...no,setNodes:n=>{const{nodeInternals:r,nodeOrigin:i,elevateNodesOnSelect:s}=e();t({nodeInternals:_x(n,r,i,s)})},getNodes:()=>Array.from(e().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=e();t({edges:n.map(i=>({...r,...i}))})},setDefaultNodesAndEdges:(n,r)=>{const i=typeof n<"u",s=typeof r<"u",a=i?_x(n,new Map,e().nodeOrigin,e().elevateNodesOnSelect):new Map;t({nodeInternals:a,edges:s?r:[],hasDefaultNodes:i,hasDefaultEdges:s})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:i,fitViewOnInit:s,fitViewOnInitDone:a,fitViewOnInitOptions:o,domNode:l,nodeOrigin:c}=e(),d=l?.querySelector(".react-flow__viewport");if(!d)return;const h=window.getComputedStyle(d),{m22:p}=new window.DOMMatrixReadOnly(h.transform),g=n.reduce((y,b)=>{const x=i.get(b.id);if(x?.hidden)i.set(x.id,{...x,[xn]:{...x[xn],handleBounds:void 0}});else if(x){const w=JC(b.nodeElement);w.width&&w.height&&(x.width!==w.width||x.height!==w.height||b.forceUpdate)&&(i.set(x.id,{...x,[xn]:{...x[xn],handleBounds:{source:yI(".source",b.nodeElement,p,c),target:yI(".target",b.nodeElement,p,c)}},...w}),y.push({id:x.id,type:"dimensions",dimensions:w}))}return y},[]);AW(i,c);const v=a||s&&!a&&TW(e,{initial:!0,...o});t({nodeInternals:new Map(i),fitViewOnInitDone:v}),g?.length>0&&r?.(g)},updateNodePositions:(n,r=!0,i=!1)=>{const{triggerNodeChanges:s}=e(),a=n.map(o=>{const l={id:o.id,type:"position",dragging:i};return r&&(l.positionAbsolute=o.positionAbsolute,l.position=o.position),l});s(a)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:i,hasDefaultNodes:s,nodeOrigin:a,getNodes:o,elevateNodesOnSelect:l}=e();if(n?.length){if(s){const c=oce(n,o()),d=_x(c,i,a,l);t({nodeInternals:d})}r?.(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:i,getNodes:s}=e();let a,o=null;r?a=n.map(l=>ho(l,!0)):(a=mu(s(),n),o=mu(i,[])),rm({changedNodes:a,changedEdges:o,get:e,set:t})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:i,getNodes:s}=e();let a,o=null;r?a=n.map(l=>ho(l,!0)):(a=mu(i,n),o=mu(s(),[])),rm({changedNodes:o,changedEdges:a,get:e,set:t})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{edges:i,getNodes:s}=e(),a=n||s(),o=r||i,l=a.map(d=>(d.selected=!1,ho(d.id,!1))),c=o.map(d=>ho(d.id,!1));rm({changedNodes:l,changedEdges:c,get:e,set:t})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:i}=e();r?.scaleExtent([n,i]),t({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:i}=e();r?.scaleExtent([i,n]),t({maxZoom:n})},setTranslateExtent:n=>{e().d3Zoom?.translateExtent(n),t({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=e(),s=r().filter(o=>o.selected).map(o=>ho(o.id,!1)),a=n.filter(o=>o.selected).map(o=>ho(o.id,!1));rm({changedNodes:s,changedEdges:a,get:e,set:t})},setNodeExtent:n=>{const{nodeInternals:r}=e();r.forEach(i=>{i.positionAbsolute=QC(i.position,n)}),t({nodeExtent:n,nodeInternals:new Map(r)})},panBy:n=>{const{transform:r,width:i,height:s,d3Zoom:a,d3Selection:o,translateExtent:l}=e();if(!a||!o||!n.x&&!n.y)return!1;const c=ga.translate(r[0]+n.x,r[1]+n.y).scale(r[2]),d=[[0,0],[i,s]],h=a?.constrain()(c,d,l);return a.transform(o,h),r[0]!==h.x||r[1]!==h.y||r[2]!==h.k},cancelConnection:()=>t({connectionNodeId:no.connectionNodeId,connectionHandleId:no.connectionHandleId,connectionHandleType:no.connectionHandleType,connectionStatus:no.connectionStatus,connectionStartHandle:no.connectionStartHandle,connectionEndHandle:no.connectionEndHandle}),reset:()=>t({...no})}),Object.is),ok=({children:t})=>{const e=V.useRef(null);return e.current||(e.current=$ce()),Ce.createElement(dle,{value:e.current},t)};ok.displayName="ReactFlowProvider";const BW=({children:t})=>V.useContext(_b)?Ce.createElement(Ce.Fragment,null,t):Ce.createElement(ok,null,t);BW.displayName="ReactFlowWrapper";const Gce={input:vW,default:ST,output:wW,group:sk},Xce={default:Py,straight:nk,step:tk,smoothstep:Db,simplebezier:ek},Kce=[0,0],Yce=[15,15],Zce={x:0,y:0,zoom:1},Jce={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},jW=V.forwardRef(({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:s=Gce,edgeTypes:a=Xce,onNodeClick:o,onEdgeClick:l,onInit:c,onMove:d,onMoveStart:h,onMoveEnd:p,onConnect:g,onConnectStart:v,onConnectEnd:y,onClickConnectStart:b,onClickConnectEnd:x,onNodeMouseEnter:w,onNodeMouseMove:D,onNodeMouseLeave:E,onNodeContextMenu:A,onNodeDoubleClick:S,onNodeDragStart:T,onNodeDrag:M,onNodeDragStop:R,onNodesDelete:O,onEdgesDelete:z,onSelectionChange:F,onSelectionDragStart:q,onSelectionDrag:k,onSelectionDragStop:H,onSelectionContextMenu:N,onSelectionStart:B,onSelectionEnd:G,connectionMode:$=Il.Strict,connectionLineType:W=po.Bezier,connectionLineStyle:L,connectionLineComponent:K,connectionLineContainerStyle:j,deleteKeyCode:Y="Backspace",selectionKeyCode:ee="Shift",selectionOnDrag:re=!1,selectionMode:se=bf.Full,panActivationKeyCode:ye="Space",multiSelectionKeyCode:xe=Fy()?"Meta":"Control",zoomActivationKeyCode:Re=Fy()?"Meta":"Control",snapToGrid:Fe=!1,snapGrid:qe=Yce,onlyRenderVisibleElements:We=!1,selectNodesOnDrag:P=!0,nodesDraggable:oe,nodesConnectable:ce,nodesFocusable:Q,nodeOrigin:J=Kce,edgesFocusable:ue,edgesUpdatable:De,elementsSelectable:Se,defaultViewport:fe=Zce,minZoom:ie=.5,maxZoom:le=2,translateExtent:me=TT,preventScrolling:ae=!0,nodeExtent:ve,defaultMarkerColor:Ue="#b1b1b7",zoomOnScroll:Le=!0,zoomOnPinch:Pe=!0,panOnScroll:Ve=!1,panOnScrollSpeed:tt=.5,panOnScrollMode:pe=wl.Free,zoomOnDoubleClick:Te=!0,panOnDrag:Be=!0,onPaneClick:Ie,onPaneMouseEnter:Qe,onPaneMouseMove:st,onPaneMouseLeave:qt,onPaneScroll:Kt,onPaneContextMenu:Pn,children:Z,onEdgeContextMenu:te,onEdgeDoubleClick:de,onEdgeMouseEnter:Ee,onEdgeMouseMove:ze,onEdgeMouseLeave:at,onEdgeUpdate:It,onEdgeUpdateStart:pn,onEdgeUpdateEnd:gr,onReconnect:Kr,onReconnectStart:kr,onReconnectEnd:yi,reconnectRadius:Yr=10,edgeUpdaterRadius:Zr=10,onNodesChange:mr,onEdgesChange:bi,noDragClassName:lr="nodrag",noWheelClassName:At="nowheel",noPanClassName:Sn="nopan",fitView:yr=!1,fitViewOptions:ka,connectOnClick:zv=!0,attributionPosition:qv,proOptions:Ep,defaultEdgeOptions:jo,elevateNodesOnSelect:yd=!0,elevateEdgesOnSelect:Ra=!1,disableKeyboardA11y:Bs=!1,autoPanOnConnect:zo=!0,autoPanOnNodeDrag:Ua=!0,connectionRadius:An=20,isValidConnection:Sp,onError:Ap,style:js,id:zs,nodeDragThreshold:Wv,...Tp},Cp)=>{const bd=zs||"1";return Ce.createElement("div",{...Tp,style:{...js,...Jce},ref:Cp,className:or(["react-flow",i]),"data-testid":"rf__wrapper",id:zs},Ce.createElement(BW,null,Ce.createElement(Hce,{onInit:c,onMove:d,onMoveStart:h,onMoveEnd:p,onNodeClick:o,onEdgeClick:l,onNodeMouseEnter:w,onNodeMouseMove:D,onNodeMouseLeave:E,onNodeContextMenu:A,onNodeDoubleClick:S,nodeTypes:s,edgeTypes:a,connectionLineType:W,connectionLineStyle:L,connectionLineComponent:K,connectionLineContainerStyle:j,selectionKeyCode:ee,selectionOnDrag:re,selectionMode:se,deleteKeyCode:Y,multiSelectionKeyCode:xe,panActivationKeyCode:ye,zoomActivationKeyCode:Re,onlyRenderVisibleElements:We,selectNodesOnDrag:P,defaultViewport:fe,translateExtent:me,minZoom:ie,maxZoom:le,preventScrolling:ae,zoomOnScroll:Le,zoomOnPinch:Pe,zoomOnDoubleClick:Te,panOnScroll:Ve,panOnScrollSpeed:tt,panOnScrollMode:pe,panOnDrag:Be,onPaneClick:Ie,onPaneMouseEnter:Qe,onPaneMouseMove:st,onPaneMouseLeave:qt,onPaneScroll:Kt,onPaneContextMenu:Pn,onSelectionContextMenu:N,onSelectionStart:B,onSelectionEnd:G,onEdgeContextMenu:te,onEdgeDoubleClick:de,onEdgeMouseEnter:Ee,onEdgeMouseMove:ze,onEdgeMouseLeave:at,onReconnect:Kr??It,onReconnectStart:kr??pn,onReconnectEnd:yi??gr,reconnectRadius:Yr??Zr,defaultMarkerColor:Ue,noDragClassName:lr,noWheelClassName:At,noPanClassName:Sn,elevateEdgesOnSelect:Ra,rfId:bd,disableKeyboardA11y:Bs,nodeOrigin:J,nodeExtent:ve}),Ce.createElement(zle,{nodes:t,edges:e,defaultNodes:n,defaultEdges:r,onConnect:g,onConnectStart:v,onConnectEnd:y,onClickConnectStart:b,onClickConnectEnd:x,nodesDraggable:oe,nodesConnectable:ce,nodesFocusable:Q,edgesFocusable:ue,edgesUpdatable:De,elementsSelectable:Se,elevateNodesOnSelect:yd,minZoom:ie,maxZoom:le,nodeExtent:ve,onNodesChange:mr,onEdgesChange:bi,snapToGrid:Fe,snapGrid:qe,connectionMode:$,translateExtent:me,connectOnClick:zv,defaultEdgeOptions:jo,fitView:yr,fitViewOptions:ka,onNodesDelete:O,onEdgesDelete:z,onNodeDragStart:T,onNodeDrag:M,onNodeDragStop:R,onSelectionDrag:k,onSelectionDragStart:q,onSelectionDragStop:H,noPanClassName:Sn,nodeOrigin:J,rfId:bd,autoPanOnConnect:zo,autoPanOnNodeDrag:Ua,onError:Ap,connectionRadius:An,isValidConnection:Sp,nodeDragThreshold:Wv}),Ce.createElement(Ble,{onSelectionChange:F}),Z,Ce.createElement(fle,{proOptions:Ep,position:qv}),Ce.createElement($le,{rfId:bd,disableKeyboardA11y:Bs})))});jW.displayName="ReactFlow";function zW(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[r,i]of t)if(!Object.is(i,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(e,r)||!Object.is(t[r],e[r]))return!1;return!0}const qW=({id:t,x:e,y:n,width:r,height:i,style:s,color:a,strokeColor:o,strokeWidth:l,className:c,borderRadius:d,shapeRendering:h,onClick:p,selected:g})=>{const{background:v,backgroundColor:y}=s||{},b=a||v||y;return Ce.createElement("rect",{className:or(["react-flow__minimap-node",{selected:g},c]),x:e,y:n,rx:d,ry:d,width:r,height:i,fill:b,stroke:o,strokeWidth:l,shapeRendering:h,onClick:p?x=>p(x,t):void 0})};qW.displayName="MiniMapNode";var Qce=V.memo(qW);const eue=t=>t.nodeOrigin,tue=t=>t.getNodes().filter(e=>!e.hidden&&e.width&&e.height),Ax=t=>t instanceof Function?t:()=>t;function nue({nodeStrokeColor:t="transparent",nodeColor:e="#e2e2e2",nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:i=2,nodeComponent:s=Qce,onClick:a}){const o=tn(tue,zW),l=tn(eue),c=Ax(e),d=Ax(t),h=Ax(n),p=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return Ce.createElement(Ce.Fragment,null,o.map(g=>{const{x:v,y}=Rl(g,l).positionAbsolute;return Ce.createElement(s,{key:g.id,x:v,y,width:g.width,height:g.height,style:g.style,selected:g.selected,className:h(g),color:c(g),borderRadius:r,strokeColor:d(g),strokeWidth:i,shapeRendering:p,onClick:a,id:g.id})}))}var rue=V.memo(nue);const iue=200,sue=150,aue=t=>{const e=t.getNodes(),n={x:-t.transform[0]/t.transform[2],y:-t.transform[1]/t.transform[2],width:t.width/t.transform[2],height:t.height/t.transform[2]};return{viewBB:n,boundingRect:e.length>0?mle(Eb(e,t.nodeOrigin),n):n,rfId:t.rfId}},oue="react-flow__minimap-desc";function WW({style:t,className:e,nodeStrokeColor:n="transparent",nodeColor:r="#e2e2e2",nodeClassName:i="",nodeBorderRadius:s=5,nodeStrokeWidth:a=2,nodeComponent:o,maskColor:l="rgb(240, 240, 240, 0.6)",maskStrokeColor:c="none",maskStrokeWidth:d=1,position:h="bottom-right",onClick:p,onNodeClick:g,pannable:v=!1,zoomable:y=!1,ariaLabel:b="React Flow mini map",inversePan:x=!1,zoomStep:w=10,offsetScale:D=5}){const E=$n(),A=V.useRef(null),{boundingRect:S,viewBB:T,rfId:M}=tn(aue,zW),R=t?.width??iue,O=t?.height??sue,z=S.width/R,F=S.height/O,q=Math.max(z,F),k=q*R,H=q*O,N=D*q,B=S.x-(k-S.width)/2-N,G=S.y-(H-S.height)/2-N,$=k+N*2,W=H+N*2,L=`${oue}-${M}`,K=V.useRef(0);K.current=q,V.useEffect(()=>{if(A.current){const ee=Pi(A.current),re=xe=>{const{transform:Re,d3Selection:Fe,d3Zoom:qe}=E.getState();if(xe.sourceEvent.type!=="wheel"||!Fe||!qe)return;const We=-xe.sourceEvent.deltaY*(xe.sourceEvent.deltaMode===1?.05:xe.sourceEvent.deltaMode?1:.002)*w,P=Re[2]*Math.pow(2,We);qe.scaleTo(Fe,P)},se=xe=>{const{transform:Re,d3Selection:Fe,d3Zoom:qe,translateExtent:We,width:P,height:oe}=E.getState();if(xe.sourceEvent.type!=="mousemove"||!Fe||!qe)return;const ce=K.current*Math.max(1,Re[2])*(x?-1:1),Q={x:Re[0]-xe.sourceEvent.movementX*ce,y:Re[1]-xe.sourceEvent.movementY*ce},J=[[0,0],[P,oe]],ue=ga.translate(Q.x,Q.y).scale(Re[2]),De=qe.constrain()(ue,J,We);qe.transform(Fe,De)},ye=Z7().on("zoom",v?se:null).on("zoom.wheel",y?re:null);return ee.call(ye),()=>{ee.on("zoom",null)}}},[v,y,x,w]);const j=p?ee=>{const re=is(ee);p(ee,{x:re[0],y:re[1]})}:void 0,Y=g?(ee,re)=>{const se=E.getState().nodeInternals.get(re);g(ee,se)}:void 0;return Ce.createElement(ZC,{position:h,style:t,className:or(["react-flow__minimap",e]),"data-testid":"rf__minimap"},Ce.createElement("svg",{width:R,height:O,viewBox:`${B} ${G} ${$} ${W}`,role:"img","aria-labelledby":L,ref:A,onClick:j},b&&Ce.createElement("title",{id:L},b),Ce.createElement(rue,{onClick:Y,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:s,nodeClassName:i,nodeStrokeWidth:a,nodeComponent:o}),Ce.createElement("path",{className:"react-flow__minimap-mask",d:`M${B-N},${G-N}h${$+N*2}v${W+N*2}h${-$-N*2}z
        M${T.x},${T.y}h${T.width}v${T.height}h${-T.width}z`,fill:l,fillRule:"evenodd",stroke:c,strokeWidth:d,pointerEvents:"none"})))}WW.displayName="MiniMap";var lue=V.memo(WW);function cue(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[r,i]of t)if(!Object.is(i,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(e,r)||!Object.is(t[r],e[r]))return!1;return!0}function uue(){return Ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},Ce.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function due(){return Ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},Ce.createElement("path",{d:"M0 0h32v4.2H0z"}))}function hue(){return Ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},Ce.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function fue(){return Ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},Ce.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function pue(){return Ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},Ce.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const Lh=({children:t,className:e,...n})=>Ce.createElement("button",{type:"button",className:or(["react-flow__controls-button",e]),...n},t);Lh.displayName="ControlButton";const gue=t=>({isInteractive:t.nodesDraggable||t.nodesConnectable||t.elementsSelectable,minZoomReached:t.transform[2]<=t.minZoom,maxZoomReached:t.transform[2]>=t.maxZoom}),VW=({style:t,showZoom:e=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:i,onZoomIn:s,onZoomOut:a,onFitView:o,onInteractiveChange:l,className:c,children:d,position:h="bottom-left"})=>{const p=$n(),[g,v]=V.useState(!1),{isInteractive:y,minZoomReached:b,maxZoomReached:x}=tn(gue,cue),{zoomIn:w,zoomOut:D,fitView:E}=Sb();if(V.useEffect(()=>{v(!0)},[]),!g)return null;const A=()=>{w(),s?.()},S=()=>{D(),a?.()},T=()=>{E(i),o?.()},M=()=>{p.setState({nodesDraggable:!y,nodesConnectable:!y,elementsSelectable:!y}),l?.(!y)};return Ce.createElement(ZC,{className:or(["react-flow__controls",c]),position:h,style:t,"data-testid":"rf__controls"},e&&Ce.createElement(Ce.Fragment,null,Ce.createElement(Lh,{onClick:A,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:x},Ce.createElement(uue,null)),Ce.createElement(Lh,{onClick:S,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:b},Ce.createElement(due,null))),n&&Ce.createElement(Lh,{className:"react-flow__controls-fitview",onClick:T,title:"fit view","aria-label":"fit view"},Ce.createElement(hue,null)),r&&Ce.createElement(Lh,{className:"react-flow__controls-interactive",onClick:M,title:"toggle interactivity","aria-label":"toggle interactivity"},y?Ce.createElement(pue,null):Ce.createElement(fue,null)),d)};VW.displayName="Controls";var mue=V.memo(VW);function yue(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[r,i]of t)if(!Object.is(i,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(e,r)||!Object.is(t[r],e[r]))return!1;return!0}var as;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(as||(as={}));function bue({color:t,dimensions:e,lineWidth:n}){return Ce.createElement("path",{stroke:t,strokeWidth:n,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`})}function vue({color:t,radius:e}){return Ce.createElement("circle",{cx:e,cy:e,r:e,fill:t})}const xue={[as.Dots]:"#91919a",[as.Lines]:"#eee",[as.Cross]:"#e2e2e2"},wue={[as.Dots]:1,[as.Lines]:1,[as.Cross]:6},_ue=t=>({transform:t.transform,patternId:`pattern-${t.rfId}`});function HW({id:t,variant:e=as.Dots,gap:n=20,size:r,lineWidth:i=1,offset:s=2,color:a,style:o,className:l}){const c=V.useRef(null),{transform:d,patternId:h}=tn(_ue,yue),p=a||xue[e],g=r||wue[e],v=e===as.Dots,y=e===as.Cross,b=Array.isArray(n)?n:[n,n],x=[b[0]*d[2]||1,b[1]*d[2]||1],w=g*d[2],D=y?[w,w]:x,E=v?[w/s,w/s]:[D[0]/s,D[1]/s];return Ce.createElement("svg",{className:or(["react-flow__background",l]),style:{...o,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:c,"data-testid":"rf__background"},Ce.createElement("pattern",{id:h+t,x:d[0]%x[0],y:d[1]%x[1],width:x[0],height:x[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${E[0]},-${E[1]})`},v?Ce.createElement(vue,{color:p,radius:w/s}):Ce.createElement(bue,{dimensions:D,color:p,lineWidth:i})),Ce.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${h+t})`}))}HW.displayName="Background";var Due=V.memo(HW);const $W=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();const Eue=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const Sue=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase());const SI=t=>{const e=Sue(t);return e.charAt(0).toUpperCase()+e.slice(1)};var Aue={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Tue=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const Cue=V.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:a,...o},l)=>V.createElement("svg",{ref:l,...Aue,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:$W("lucide",i),...!s&&!Tue(o)&&{"aria-hidden":"true"},...o},[...a.map(([c,d])=>V.createElement(c,d)),...Array.isArray(s)?s:[s]]));const it=(t,e)=>{const n=V.forwardRef(({className:r,...i},s)=>V.createElement(Cue,{ref:s,iconNode:e,className:$W(`lucide-${Eue(SI(t))}`,`lucide-${t}`,r),...i}));return n.displayName=SI(t),n};const kue=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Rue=it("arrow-right",kue);const Uue=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],Mue=it("bot",Uue);const Oue=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],GW=it("check",Oue);const Nue=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Ly=it("chevron-down",Nue);const Fue=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],AI=it("chevron-right",Fue);const Iue=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Pue=it("circle-alert",Iue);const Lue=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Bue=it("circle-check-big",Lue);const jue=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],zue=it("circle-check",jue);const que=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Wue=it("circle-question-mark",que);const Vue=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Hue=it("circle",Vue);const $ue=[["path",{d:"M10.94 5.274A7 7 0 0 1 15.71 10h1.79a4.5 4.5 0 0 1 4.222 6.057",key:"1uxyv8"}],["path",{d:"M18.796 18.81A4.5 4.5 0 0 1 17.5 19H9A7 7 0 0 1 5.79 5.78",key:"99tcn7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Gue=it("cloud-off",$ue);const Xue=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],XW=it("cloud",Xue);const Kue=[["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["circle",{cx:"12",cy:"12",r:"8",key:"46899m"}]],KW=it("cog",Kue);const Yue=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Zue=it("copy",Yue);const Jue=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],YW=it("database",Jue);const Que=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],lk=it("download",Que);const ede=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],tde=it("eye-off",ede);const nde=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],rde=it("eye",nde);const ide=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],xf=it("file-text",ide);const sde=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}]],ade=it("file",sde);const ode=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],TI=it("folder-open",ode);const lde=[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M6 21V9a9 9 0 0 0 9 9",key:"7kw0sc"}]],cde=it("git-merge",lde);const ude=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],dde=it("grip-vertical",ude);const hde=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],fde=it("layout-grid",hde);const pde=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],xo=it("loader-circle",pde);const gde=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],mde=it("log-out",gde);const yde=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],ZW=it("maximize-2",yde);const bde=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],vde=it("message-square",bde);const xde=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],wde=it("minimize-2",xde);const _de=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]],JW=it("panel-left-close",_de);const Dde=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m14 9 3 3-3 3",key:"8010ee"}]],Ede=it("panel-left-open",Dde);const Sde=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],Ade=it("panel-left",Sde);const Tde=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m8 9 3 3-3 3",key:"12hl5m"}]],Cde=it("panel-right-close",Tde);const kde=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m10 15-3-3 3-3",key:"1pgupc"}]],Rde=it("panel-right-open",kde);const Ude=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],Mde=it("paperclip",Ude);const Ode=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],QW=it("plus",Ode);const Nde=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Fde=it("refresh-cw",Nde);const Ide=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Pde=it("save",Ide);const Lde=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Bde=it("send",Lde);const jde=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],zde=it("server",jde);const qde=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Wde=it("settings",qde);const Vde=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Hde=it("sparkles",Vde);const $de=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ck=it("trash-2",$de);const Gde=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],wf=it("triangle-alert",Gde);const Xde=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Kde=it("upload",Xde);const Yde=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Zde=it("user-check",Yde);const Jde=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],CI=it("user-plus",Jde);const Qde=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ehe=it("user",Qde);const the=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],uk=it("users",the);const nhe=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],dk=it("x",nhe);const rhe=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],ihe=it("zap",rhe);const she=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],ahe=it("zoom-in",she);const ohe=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],lhe=it("zoom-out",ohe);function Mt(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t?.(i),n===!1||!i.defaultPrevented)return e?.(i)}}function kI(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Ab(...t){return e=>{let n=!1;const r=t.map(i=>{const s=kI(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():kI(t[i],null)}}}}function Vr(...t){return V.useCallback(Ab(...t),t)}function Yf(t,e=[]){let n=[];function r(s,a){const o=V.createContext(a),l=n.length;n=[...n,a];const c=h=>{const{scope:p,children:g,...v}=h,y=p?.[t]?.[l]||o,b=V.useMemo(()=>v,Object.values(v));return I.jsx(y.Provider,{value:b,children:g})};c.displayName=s+"Provider";function d(h,p){const g=p?.[t]?.[l]||o,v=V.useContext(g);if(v)return v;if(a!==void 0)return a;throw new Error(`\`${h}\` must be used within \`${s}\``)}return[c,d]}const i=()=>{const s=n.map(a=>V.createContext(a));return function(o){const l=o?.[t]||s;return V.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return i.scopeName=t,[r,che(i,...e)]}function che(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((o,{useScope:l,scopeName:c})=>{const h=l(s)[`__scope${c}`];return{...o,...h}},{});return V.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}var Do=globalThis?.document?V.useLayoutEffect:()=>{},uhe=kq[" useInsertionEffect ".trim().toString()]||Do;function eV({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,s,a]=dhe({defaultProp:e,onChange:n}),o=t!==void 0,l=o?t:i;{const d=V.useRef(t!==void 0);V.useEffect(()=>{const h=d.current;h!==o&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=o},[o,r])}const c=V.useCallback(d=>{if(o){const h=hhe(d)?d(t):d;h!==t&&a.current?.(h)}else s(d)},[o,t,s,a]);return[l,c]}function dhe({defaultProp:t,onChange:e}){const[n,r]=V.useState(t),i=V.useRef(n),s=V.useRef(e);return uhe(()=>{s.current=e},[e]),V.useEffect(()=>{i.current!==n&&(s.current?.(n),i.current=n)},[n,i]),[n,r,s]}function hhe(t){return typeof t=="function"}function By(t){const e=fhe(t),n=V.forwardRef((r,i)=>{const{children:s,...a}=r,o=V.Children.toArray(s),l=o.find(ghe);if(l){const c=l.props.children,d=o.map(h=>h===l?V.Children.count(c)>1?V.Children.only(null):V.isValidElement(c)?c.props.children:null:h);return I.jsx(e,{...a,ref:i,children:V.isValidElement(c)?V.cloneElement(c,void 0,d):null})}return I.jsx(e,{...a,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}function fhe(t){const e=V.forwardRef((n,r)=>{const{children:i,...s}=n;if(V.isValidElement(i)){const a=yhe(i),o=mhe(s,i.props);return i.type!==V.Fragment&&(o.ref=r?Ab(r,a):a),V.cloneElement(i,o)}return V.Children.count(i)>1?V.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var phe=Symbol("radix.slottable");function ghe(t){return V.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===phe}function mhe(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...o)=>{const l=s(...o);return i(...o),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function yhe(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var bhe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Tr=bhe.reduce((t,e)=>{const n=By(`Primitive.${e}`),r=V.forwardRef((i,s)=>{const{asChild:a,...o}=i,l=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),I.jsx(l,{...o,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function tV(t,e){t&&YC.flushSync(()=>t.dispatchEvent(e))}function nV(t){const e=t+"CollectionProvider",[n,r]=Yf(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=y=>{const{scope:b,children:x}=y,w=Ce.useRef(null),D=Ce.useRef(new Map).current;return I.jsx(i,{scope:b,itemMap:D,collectionRef:w,children:x})};a.displayName=e;const o=t+"CollectionSlot",l=By(o),c=Ce.forwardRef((y,b)=>{const{scope:x,children:w}=y,D=s(o,x),E=Vr(b,D.collectionRef);return I.jsx(l,{ref:E,children:w})});c.displayName=o;const d=t+"CollectionItemSlot",h="data-radix-collection-item",p=By(d),g=Ce.forwardRef((y,b)=>{const{scope:x,children:w,...D}=y,E=Ce.useRef(null),A=Vr(b,E),S=s(d,x);return Ce.useEffect(()=>(S.itemMap.set(E,{ref:E,...D}),()=>{S.itemMap.delete(E)})),I.jsx(p,{[h]:"",ref:A,children:w})});g.displayName=d;function v(y){const b=s(t+"CollectionConsumer",y);return Ce.useCallback(()=>{const w=b.collectionRef.current;if(!w)return[];const D=Array.from(w.querySelectorAll(`[${h}]`));return Array.from(b.itemMap.values()).sort((S,T)=>D.indexOf(S.ref.current)-D.indexOf(T.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:a,Slot:c,ItemSlot:g},v,r]}var vhe=V.createContext(void 0);function rV(t){const e=V.useContext(vhe);return t||e||"ltr"}function va(t){const e=V.useRef(t);return V.useEffect(()=>{e.current=t}),V.useMemo(()=>(...n)=>e.current?.(...n),[])}function xhe(t,e=globalThis?.document){const n=va(t);V.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var whe="DismissableLayer",CT="dismissableLayer.update",_he="dismissableLayer.pointerDownOutside",Dhe="dismissableLayer.focusOutside",RI,iV=V.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),sV=V.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:a,onDismiss:o,...l}=t,c=V.useContext(iV),[d,h]=V.useState(null),p=d?.ownerDocument??globalThis?.document,[,g]=V.useState({}),v=Vr(e,T=>h(T)),y=Array.from(c.layers),[b]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),x=y.indexOf(b),w=d?y.indexOf(d):-1,D=c.layersWithOutsidePointerEventsDisabled.size>0,E=w>=x,A=Ahe(T=>{const M=T.target,R=[...c.branches].some(O=>O.contains(M));!E||R||(i?.(T),a?.(T),T.defaultPrevented||o?.())},p),S=The(T=>{const M=T.target;[...c.branches].some(O=>O.contains(M))||(s?.(T),a?.(T),T.defaultPrevented||o?.())},p);return xhe(T=>{w===c.layers.size-1&&(r?.(T),!T.defaultPrevented&&o&&(T.preventDefault(),o()))},p),V.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(RI=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),UI(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=RI)}},[d,p,n,c]),V.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),UI())},[d,c]),V.useEffect(()=>{const T=()=>g({});return document.addEventListener(CT,T),()=>document.removeEventListener(CT,T)},[]),I.jsx(Tr.div,{...l,ref:v,style:{pointerEvents:D?E?"auto":"none":void 0,...t.style},onFocusCapture:Mt(t.onFocusCapture,S.onFocusCapture),onBlurCapture:Mt(t.onBlurCapture,S.onBlurCapture),onPointerDownCapture:Mt(t.onPointerDownCapture,A.onPointerDownCapture)})});sV.displayName=whe;var Ehe="DismissableLayerBranch",She=V.forwardRef((t,e)=>{const n=V.useContext(iV),r=V.useRef(null),i=Vr(e,r);return V.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),I.jsx(Tr.div,{...t,ref:i})});She.displayName=Ehe;function Ahe(t,e=globalThis?.document){const n=va(t),r=V.useRef(!1),i=V.useRef(()=>{});return V.useEffect(()=>{const s=o=>{if(o.target&&!r.current){let l=function(){aV(_he,n,c,{discrete:!0})};const c={originalEvent:o};o.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function The(t,e=globalThis?.document){const n=va(t),r=V.useRef(!1);return V.useEffect(()=>{const i=s=>{s.target&&!r.current&&aV(Dhe,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function UI(){const t=new CustomEvent(CT);document.dispatchEvent(t)}function aV(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?tV(i,s):i.dispatchEvent(s)}var Tx=0;function Che(){V.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??MI()),document.body.insertAdjacentElement("beforeend",t[1]??MI()),Tx++,()=>{Tx===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Tx--}},[])}function MI(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Cx="focusScope.autoFocusOnMount",kx="focusScope.autoFocusOnUnmount",OI={bubbles:!1,cancelable:!0},khe="FocusScope",oV=V.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...a}=t,[o,l]=V.useState(null),c=va(i),d=va(s),h=V.useRef(null),p=Vr(e,y=>l(y)),g=V.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;V.useEffect(()=>{if(r){let y=function(D){if(g.paused||!o)return;const E=D.target;o.contains(E)?h.current=E:oo(h.current,{select:!0})},b=function(D){if(g.paused||!o)return;const E=D.relatedTarget;E!==null&&(o.contains(E)||oo(h.current,{select:!0}))},x=function(D){if(document.activeElement===document.body)for(const A of D)A.removedNodes.length>0&&oo(o)};document.addEventListener("focusin",y),document.addEventListener("focusout",b);const w=new MutationObserver(x);return o&&w.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",b),w.disconnect()}}},[r,o,g.paused]),V.useEffect(()=>{if(o){FI.add(g);const y=document.activeElement;if(!o.contains(y)){const x=new CustomEvent(Cx,OI);o.addEventListener(Cx,c),o.dispatchEvent(x),x.defaultPrevented||(Rhe(Fhe(lV(o)),{select:!0}),document.activeElement===y&&oo(o))}return()=>{o.removeEventListener(Cx,c),setTimeout(()=>{const x=new CustomEvent(kx,OI);o.addEventListener(kx,d),o.dispatchEvent(x),x.defaultPrevented||oo(y??document.body,{select:!0}),o.removeEventListener(kx,d),FI.remove(g)},0)}}},[o,c,d,g]);const v=V.useCallback(y=>{if(!n&&!r||g.paused)return;const b=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,x=document.activeElement;if(b&&x){const w=y.currentTarget,[D,E]=Uhe(w);D&&E?!y.shiftKey&&x===E?(y.preventDefault(),n&&oo(D,{select:!0})):y.shiftKey&&x===D&&(y.preventDefault(),n&&oo(E,{select:!0})):x===w&&y.preventDefault()}},[n,r,g.paused]);return I.jsx(Tr.div,{tabIndex:-1,...a,ref:p,onKeyDown:v})});oV.displayName=khe;function Rhe(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(oo(r,{select:e}),document.activeElement!==n)return}function Uhe(t){const e=lV(t),n=NI(e,t),r=NI(e.reverse(),t);return[n,r]}function lV(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function NI(t,e){for(const n of t)if(!Mhe(n,{upTo:e}))return n}function Mhe(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Ohe(t){return t instanceof HTMLInputElement&&"select"in t}function oo(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&Ohe(t)&&e&&t.select()}}var FI=Nhe();function Nhe(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=II(t,e),t.unshift(e)},remove(e){t=II(t,e),t[0]?.resume()}}}function II(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function Fhe(t){return t.filter(e=>e.tagName!=="A")}var Ihe=kq[" useId ".trim().toString()]||(()=>{}),Phe=0;function kT(t){const[e,n]=V.useState(Ihe());return Do(()=>{n(r=>r??String(Phe++))},[t]),e?`radix-${e}`:""}const Lhe=["top","right","bottom","left"],Eo=Math.min,di=Math.max,jy=Math.round,sm=Math.floor,ks=t=>({x:t,y:t}),Bhe={left:"right",right:"left",bottom:"top",top:"bottom"},jhe={start:"end",end:"start"};function RT(t,e,n){return di(t,Eo(e,n))}function xa(t,e){return typeof t=="function"?t(e):t}function wa(t){return t.split("-")[0]}function nd(t){return t.split("-")[1]}function hk(t){return t==="x"?"y":"x"}function fk(t){return t==="y"?"height":"width"}const zhe=new Set(["top","bottom"]);function Ts(t){return zhe.has(wa(t))?"y":"x"}function pk(t){return hk(Ts(t))}function qhe(t,e,n){n===void 0&&(n=!1);const r=nd(t),i=pk(t),s=fk(i);let a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(a=zy(a)),[a,zy(a)]}function Whe(t){const e=zy(t);return[UT(t),e,UT(e)]}function UT(t){return t.replace(/start|end/g,e=>jhe[e])}const PI=["left","right"],LI=["right","left"],Vhe=["top","bottom"],Hhe=["bottom","top"];function $he(t,e,n){switch(t){case"top":case"bottom":return n?e?LI:PI:e?PI:LI;case"left":case"right":return e?Vhe:Hhe;default:return[]}}function Ghe(t,e,n,r){const i=nd(t);let s=$he(wa(t),n==="start",r);return i&&(s=s.map(a=>a+"-"+i),e&&(s=s.concat(s.map(UT)))),s}function zy(t){return t.replace(/left|right|bottom|top/g,e=>Bhe[e])}function Xhe(t){return{top:0,right:0,bottom:0,left:0,...t}}function cV(t){return typeof t!="number"?Xhe(t):{top:t,right:t,bottom:t,left:t}}function qy(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function BI(t,e,n){let{reference:r,floating:i}=t;const s=Ts(e),a=pk(e),o=fk(a),l=wa(e),c=s==="y",d=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,p=r[o]/2-i[o]/2;let g;switch(l){case"top":g={x:d,y:r.y-i.height};break;case"bottom":g={x:d,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:h};break;case"left":g={x:r.x-i.width,y:h};break;default:g={x:r.x,y:r.y}}switch(nd(e)){case"start":g[a]-=p*(n&&c?-1:1);break;case"end":g[a]+=p*(n&&c?-1:1);break}return g}async function Khe(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:a,elements:o,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:p=!1,padding:g=0}=xa(e,t),v=cV(g),b=o[p?h==="floating"?"reference":"floating":h],x=qy(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(b)))==null||n?b:b.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(o.floating)),boundary:c,rootBoundary:d,strategy:l})),w=h==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,D=await(s.getOffsetParent==null?void 0:s.getOffsetParent(o.floating)),E=await(s.isElement==null?void 0:s.isElement(D))?await(s.getScale==null?void 0:s.getScale(D))||{x:1,y:1}:{x:1,y:1},A=qy(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:w,offsetParent:D,strategy:l}):w);return{top:(x.top-A.top+v.top)/E.y,bottom:(A.bottom-x.bottom+v.bottom)/E.y,left:(x.left-A.left+v.left)/E.x,right:(A.right-x.right+v.right)/E.x}}const Yhe=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:a}=n,o=s.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(e));let c=await a.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:h}=BI(c,r,l),p=r,g={},v=0;for(let b=0;b<o.length;b++){var y;const{name:x,fn:w}=o[b],{x:D,y:E,data:A,reset:S}=await w({x:d,y:h,initialPlacement:r,placement:p,strategy:i,middlewareData:g,rects:c,platform:{...a,detectOverflow:(y=a.detectOverflow)!=null?y:Khe},elements:{reference:t,floating:e}});d=D??d,h=E??h,g={...g,[x]:{...g[x],...A}},S&&v<=50&&(v++,typeof S=="object"&&(S.placement&&(p=S.placement),S.rects&&(c=S.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:i}):S.rects),{x:d,y:h}=BI(c,p,l)),b=-1)}return{x:d,y:h,placement:p,strategy:i,middlewareData:g}},Zhe=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:a,elements:o,middlewareData:l}=e,{element:c,padding:d=0}=xa(t,e)||{};if(c==null)return{};const h=cV(d),p={x:n,y:r},g=pk(i),v=fk(g),y=await a.getDimensions(c),b=g==="y",x=b?"top":"left",w=b?"bottom":"right",D=b?"clientHeight":"clientWidth",E=s.reference[v]+s.reference[g]-p[g]-s.floating[v],A=p[g]-s.reference[g],S=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c));let T=S?S[D]:0;(!T||!await(a.isElement==null?void 0:a.isElement(S)))&&(T=o.floating[D]||s.floating[v]);const M=E/2-A/2,R=T/2-y[v]/2-1,O=Eo(h[x],R),z=Eo(h[w],R),F=O,q=T-y[v]-z,k=T/2-y[v]/2+M,H=RT(F,k,q),N=!l.arrow&&nd(i)!=null&&k!==H&&s.reference[v]/2-(k<F?O:z)-y[v]/2<0,B=N?k<F?k-F:k-q:0;return{[g]:p[g]+B,data:{[g]:H,centerOffset:k-H-B,...N&&{alignmentOffset:B}},reset:N}}}),Jhe=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:a,initialPlacement:o,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:y=!0,...b}=xa(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const x=wa(i),w=Ts(o),D=wa(o)===o,E=await(l.isRTL==null?void 0:l.isRTL(c.floating)),A=p||(D||!y?[zy(o)]:Whe(o)),S=v!=="none";!p&&S&&A.push(...Ghe(o,y,v,E));const T=[o,...A],M=await l.detectOverflow(e,b),R=[];let O=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&R.push(M[x]),h){const k=qhe(i,a,E);R.push(M[k[0]],M[k[1]])}if(O=[...O,{placement:i,overflows:R}],!R.every(k=>k<=0)){var z,F;const k=(((z=s.flip)==null?void 0:z.index)||0)+1,H=T[k];if(H&&(!(h==="alignment"?w!==Ts(H):!1)||O.every(G=>Ts(G.placement)===w?G.overflows[0]>0:!0)))return{data:{index:k,overflows:O},reset:{placement:H}};let N=(F=O.filter(B=>B.overflows[0]<=0).sort((B,G)=>B.overflows[1]-G.overflows[1])[0])==null?void 0:F.placement;if(!N)switch(g){case"bestFit":{var q;const B=(q=O.filter(G=>{if(S){const $=Ts(G.placement);return $===w||$==="y"}return!0}).map(G=>[G.placement,G.overflows.filter($=>$>0).reduce(($,W)=>$+W,0)]).sort((G,$)=>G[1]-$[1])[0])==null?void 0:q[0];B&&(N=B);break}case"initialPlacement":N=o;break}if(i!==N)return{reset:{placement:N}}}return{}}}};function jI(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function zI(t){return Lhe.some(e=>t[e]>=0)}const Qhe=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n,platform:r}=e,{strategy:i="referenceHidden",...s}=xa(t,e);switch(i){case"referenceHidden":{const a=await r.detectOverflow(e,{...s,elementContext:"reference"}),o=jI(a,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:zI(o)}}}case"escaped":{const a=await r.detectOverflow(e,{...s,altBoundary:!0}),o=jI(a,n.floating);return{data:{escapedOffsets:o,escaped:zI(o)}}}default:return{}}}}},uV=new Set(["left","top"]);async function efe(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=wa(n),o=nd(n),l=Ts(n)==="y",c=uV.has(a)?-1:1,d=s&&l?-1:1,h=xa(e,t);let{mainAxis:p,crossAxis:g,alignmentAxis:v}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return o&&typeof v=="number"&&(g=o==="end"?v*-1:v),l?{x:g*d,y:p*c}:{x:p*c,y:g*d}}const tfe=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:a,middlewareData:o}=e,l=await efe(e,t);return a===((n=o.offset)==null?void 0:n.placement)&&(r=o.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:a}}}}},nfe=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i,platform:s}=e,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:x=>{let{x:w,y:D}=x;return{x:w,y:D}}},...c}=xa(t,e),d={x:n,y:r},h=await s.detectOverflow(e,c),p=Ts(wa(i)),g=hk(p);let v=d[g],y=d[p];if(a){const x=g==="y"?"top":"left",w=g==="y"?"bottom":"right",D=v+h[x],E=v-h[w];v=RT(D,v,E)}if(o){const x=p==="y"?"top":"left",w=p==="y"?"bottom":"right",D=y+h[x],E=y-h[w];y=RT(D,y,E)}const b=l.fn({...e,[g]:v,[p]:y});return{...b,data:{x:b.x-n,y:b.y-r,enabled:{[g]:a,[p]:o}}}}}},rfe=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:a}=e,{offset:o=0,mainAxis:l=!0,crossAxis:c=!0}=xa(t,e),d={x:n,y:r},h=Ts(i),p=hk(h);let g=d[p],v=d[h];const y=xa(o,e),b=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(l){const D=p==="y"?"height":"width",E=s.reference[p]-s.floating[D]+b.mainAxis,A=s.reference[p]+s.reference[D]-b.mainAxis;g<E?g=E:g>A&&(g=A)}if(c){var x,w;const D=p==="y"?"width":"height",E=uV.has(wa(i)),A=s.reference[h]-s.floating[D]+(E&&((x=a.offset)==null?void 0:x[h])||0)+(E?0:b.crossAxis),S=s.reference[h]+s.reference[D]+(E?0:((w=a.offset)==null?void 0:w[h])||0)-(E?b.crossAxis:0);v<A?v=A:v>S&&(v=S)}return{[p]:g,[h]:v}}}},ife=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:a,elements:o}=e,{apply:l=()=>{},...c}=xa(t,e),d=await a.detectOverflow(e,c),h=wa(i),p=nd(i),g=Ts(i)==="y",{width:v,height:y}=s.floating;let b,x;h==="top"||h==="bottom"?(b=h,x=p===(await(a.isRTL==null?void 0:a.isRTL(o.floating))?"start":"end")?"left":"right"):(x=h,b=p==="end"?"top":"bottom");const w=y-d.top-d.bottom,D=v-d.left-d.right,E=Eo(y-d[b],w),A=Eo(v-d[x],D),S=!e.middlewareData.shift;let T=E,M=A;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(M=D),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(T=w),S&&!p){const O=di(d.left,0),z=di(d.right,0),F=di(d.top,0),q=di(d.bottom,0);g?M=v-2*(O!==0||z!==0?O+z:di(d.left,d.right)):T=y-2*(F!==0||q!==0?F+q:di(d.top,d.bottom))}await l({...e,availableWidth:M,availableHeight:T});const R=await a.getDimensions(o.floating);return v!==R.width||y!==R.height?{reset:{rects:!0}}:{}}}};function Tb(){return typeof window<"u"}function rd(t){return dV(t)?(t.nodeName||"").toLowerCase():"#document"}function fi(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Is(t){var e;return(e=(dV(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function dV(t){return Tb()?t instanceof Node||t instanceof fi(t).Node:!1}function ls(t){return Tb()?t instanceof Element||t instanceof fi(t).Element:!1}function Ms(t){return Tb()?t instanceof HTMLElement||t instanceof fi(t).HTMLElement:!1}function qI(t){return!Tb()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof fi(t).ShadowRoot}const sfe=new Set(["inline","contents"]);function Zf(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=cs(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!sfe.has(i)}const afe=new Set(["table","td","th"]);function ofe(t){return afe.has(rd(t))}const lfe=[":popover-open",":modal"];function Cb(t){return lfe.some(e=>{try{return t.matches(e)}catch{return!1}})}const cfe=["transform","translate","scale","rotate","perspective"],ufe=["transform","translate","scale","rotate","perspective","filter"],dfe=["paint","layout","strict","content"];function gk(t){const e=mk(),n=ls(t)?cs(t):t;return cfe.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||ufe.some(r=>(n.willChange||"").includes(r))||dfe.some(r=>(n.contain||"").includes(r))}function hfe(t){let e=So(t);for(;Ms(e)&&!qu(e);){if(gk(e))return e;if(Cb(e))return null;e=So(e)}return null}function mk(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const ffe=new Set(["html","body","#document"]);function qu(t){return ffe.has(rd(t))}function cs(t){return fi(t).getComputedStyle(t)}function kb(t){return ls(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function So(t){if(rd(t)==="html")return t;const e=t.assignedSlot||t.parentNode||qI(t)&&t.host||Is(t);return qI(e)?e.host:e}function hV(t){const e=So(t);return qu(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ms(e)&&Zf(e)?e:hV(e)}function _f(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=hV(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),a=fi(i);if(s){const o=MT(a);return e.concat(a,a.visualViewport||[],Zf(i)?i:[],o&&n?_f(o):[])}return e.concat(i,_f(i,[],n))}function MT(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function fV(t){const e=cs(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Ms(t),s=i?t.offsetWidth:n,a=i?t.offsetHeight:r,o=jy(n)!==s||jy(r)!==a;return o&&(n=s,r=a),{width:n,height:r,$:o}}function yk(t){return ls(t)?t:t.contextElement}function Cu(t){const e=yk(t);if(!Ms(e))return ks(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=fV(e);let a=(s?jy(n.width):n.width)/r,o=(s?jy(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const pfe=ks(0);function pV(t){const e=fi(t);return!mk()||!e.visualViewport?pfe:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function gfe(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==fi(t)?!1:e}function Pl(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=yk(t);let a=ks(1);e&&(r?ls(r)&&(a=Cu(r)):a=Cu(t));const o=gfe(s,n,r)?pV(s):ks(0);let l=(i.left+o.x)/a.x,c=(i.top+o.y)/a.y,d=i.width/a.x,h=i.height/a.y;if(s){const p=fi(s),g=r&&ls(r)?fi(r):r;let v=p,y=MT(v);for(;y&&r&&g!==v;){const b=Cu(y),x=y.getBoundingClientRect(),w=cs(y),D=x.left+(y.clientLeft+parseFloat(w.paddingLeft))*b.x,E=x.top+(y.clientTop+parseFloat(w.paddingTop))*b.y;l*=b.x,c*=b.y,d*=b.x,h*=b.y,l+=D,c+=E,v=fi(y),y=MT(v)}}return qy({width:d,height:h,x:l,y:c})}function Rb(t,e){const n=kb(t).scrollLeft;return e?e.left+n:Pl(Is(t)).left+n}function gV(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-Rb(t,n),i=n.top+e.scrollTop;return{x:r,y:i}}function mfe(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",a=Is(r),o=e?Cb(e.floating):!1;if(r===a||o&&s)return n;let l={scrollLeft:0,scrollTop:0},c=ks(1);const d=ks(0),h=Ms(r);if((h||!h&&!s)&&((rd(r)!=="body"||Zf(a))&&(l=kb(r)),Ms(r))){const g=Pl(r);c=Cu(r),d.x=g.x+r.clientLeft,d.y=g.y+r.clientTop}const p=a&&!h&&!s?gV(a,l):ks(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x+p.x,y:n.y*c.y-l.scrollTop*c.y+d.y+p.y}}function yfe(t){return Array.from(t.getClientRects())}function bfe(t){const e=Is(t),n=kb(t),r=t.ownerDocument.body,i=di(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=di(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+Rb(t);const o=-n.scrollTop;return cs(r).direction==="rtl"&&(a+=di(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:a,y:o}}const WI=25;function vfe(t,e){const n=fi(t),r=Is(t),i=n.visualViewport;let s=r.clientWidth,a=r.clientHeight,o=0,l=0;if(i){s=i.width,a=i.height;const d=mk();(!d||d&&e==="fixed")&&(o=i.offsetLeft,l=i.offsetTop)}const c=Rb(r);if(c<=0){const d=r.ownerDocument,h=d.body,p=getComputedStyle(h),g=d.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,v=Math.abs(r.clientWidth-h.clientWidth-g);v<=WI&&(s-=v)}else c<=WI&&(s+=c);return{width:s,height:a,x:o,y:l}}const xfe=new Set(["absolute","fixed"]);function wfe(t,e){const n=Pl(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=Ms(t)?Cu(t):ks(1),a=t.clientWidth*s.x,o=t.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:a,height:o,x:l,y:c}}function VI(t,e,n){let r;if(e==="viewport")r=vfe(t,n);else if(e==="document")r=bfe(Is(t));else if(ls(e))r=wfe(e,n);else{const i=pV(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return qy(r)}function mV(t,e){const n=So(t);return n===e||!ls(n)||qu(n)?!1:cs(n).position==="fixed"||mV(n,e)}function _fe(t,e){const n=e.get(t);if(n)return n;let r=_f(t,[],!1).filter(o=>ls(o)&&rd(o)!=="body"),i=null;const s=cs(t).position==="fixed";let a=s?So(t):t;for(;ls(a)&&!qu(a);){const o=cs(a),l=gk(a);!l&&o.position==="fixed"&&(i=null),(s?!l&&!i:!l&&o.position==="static"&&!!i&&xfe.has(i.position)||Zf(a)&&!l&&mV(t,a))?r=r.filter(d=>d!==a):i=o,a=So(a)}return e.set(t,r),r}function Dfe(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const a=[...n==="clippingAncestors"?Cb(e)?[]:_fe(e,this._c):[].concat(n),r],o=a[0],l=a.reduce((c,d)=>{const h=VI(e,d,i);return c.top=di(h.top,c.top),c.right=Eo(h.right,c.right),c.bottom=Eo(h.bottom,c.bottom),c.left=di(h.left,c.left),c},VI(e,o,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Efe(t){const{width:e,height:n}=fV(t);return{width:e,height:n}}function Sfe(t,e,n){const r=Ms(e),i=Is(e),s=n==="fixed",a=Pl(t,!0,s,e);let o={scrollLeft:0,scrollTop:0};const l=ks(0);function c(){l.x=Rb(i)}if(r||!r&&!s)if((rd(e)!=="body"||Zf(i))&&(o=kb(e)),r){const g=Pl(e,!0,s,e);l.x=g.x+e.clientLeft,l.y=g.y+e.clientTop}else i&&c();s&&!r&&i&&c();const d=i&&!r&&!s?gV(i,o):ks(0),h=a.left+o.scrollLeft-l.x-d.x,p=a.top+o.scrollTop-l.y-d.y;return{x:h,y:p,width:a.width,height:a.height}}function Rx(t){return cs(t).position==="static"}function HI(t,e){if(!Ms(t)||cs(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Is(t)===n&&(n=n.ownerDocument.body),n}function yV(t,e){const n=fi(t);if(Cb(t))return n;if(!Ms(t)){let i=So(t);for(;i&&!qu(i);){if(ls(i)&&!Rx(i))return i;i=So(i)}return n}let r=HI(t,e);for(;r&&ofe(r)&&Rx(r);)r=HI(r,e);return r&&qu(r)&&Rx(r)&&!gk(r)?n:r||hfe(t)||n}const Afe=async function(t){const e=this.getOffsetParent||yV,n=this.getDimensions,r=await n(t.floating);return{reference:Sfe(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Tfe(t){return cs(t).direction==="rtl"}const Cfe={convertOffsetParentRelativeRectToViewportRelativeRect:mfe,getDocumentElement:Is,getClippingRect:Dfe,getOffsetParent:yV,getElementRects:Afe,getClientRects:yfe,getDimensions:Efe,getScale:Cu,isElement:ls,isRTL:Tfe};function bV(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function kfe(t,e){let n=null,r;const i=Is(t);function s(){var o;clearTimeout(r),(o=n)==null||o.disconnect(),n=null}function a(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),s();const c=t.getBoundingClientRect(),{left:d,top:h,width:p,height:g}=c;if(o||e(),!p||!g)return;const v=sm(h),y=sm(i.clientWidth-(d+p)),b=sm(i.clientHeight-(h+g)),x=sm(d),D={rootMargin:-v+"px "+-y+"px "+-b+"px "+-x+"px",threshold:di(0,Eo(1,l))||1};let E=!0;function A(S){const T=S[0].intersectionRatio;if(T!==l){if(!E)return a();T?a(!1,T):r=setTimeout(()=>{a(!1,1e-7)},1e3)}T===1&&!bV(c,t.getBoundingClientRect())&&a(),E=!1}try{n=new IntersectionObserver(A,{...D,root:i.ownerDocument})}catch{n=new IntersectionObserver(A,D)}n.observe(t)}return a(!0),s}function Rfe(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=yk(t),d=i||s?[...c?_f(c):[],..._f(e)]:[];d.forEach(x=>{i&&x.addEventListener("scroll",n,{passive:!0}),s&&x.addEventListener("resize",n)});const h=c&&o?kfe(c,n):null;let p=-1,g=null;a&&(g=new ResizeObserver(x=>{let[w]=x;w&&w.target===c&&g&&(g.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var D;(D=g)==null||D.observe(e)})),n()}),c&&!l&&g.observe(c),g.observe(e));let v,y=l?Pl(t):null;l&&b();function b(){const x=Pl(t);y&&!bV(y,x)&&n(),y=x,v=requestAnimationFrame(b)}return n(),()=>{var x;d.forEach(w=>{i&&w.removeEventListener("scroll",n),s&&w.removeEventListener("resize",n)}),h?.(),(x=g)==null||x.disconnect(),g=null,l&&cancelAnimationFrame(v)}}const Ufe=tfe,Mfe=nfe,Ofe=Jhe,Nfe=ife,Ffe=Qhe,$I=Zhe,Ife=rfe,Pfe=(t,e,n)=>{const r=new Map,i={platform:Cfe,...n},s={...i.platform,_c:r};return Yhe(t,e,{...i,platform:s})};var Lfe=typeof document<"u",Bfe=function(){},Hm=Lfe?V.useLayoutEffect:Bfe;function Wy(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Wy(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!Wy(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function vV(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function GI(t,e){const n=vV(t);return Math.round(e*n)/n}function Ux(t){const e=V.useRef(t);return Hm(()=>{e.current=t}),e}function jfe(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:a}={},transform:o=!0,whileElementsMounted:l,open:c}=t,[d,h]=V.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,g]=V.useState(r);Wy(p,r)||g(r);const[v,y]=V.useState(null),[b,x]=V.useState(null),w=V.useCallback(G=>{G!==S.current&&(S.current=G,y(G))},[]),D=V.useCallback(G=>{G!==T.current&&(T.current=G,x(G))},[]),E=s||v,A=a||b,S=V.useRef(null),T=V.useRef(null),M=V.useRef(d),R=l!=null,O=Ux(l),z=Ux(i),F=Ux(c),q=V.useCallback(()=>{if(!S.current||!T.current)return;const G={placement:e,strategy:n,middleware:p};z.current&&(G.platform=z.current),Pfe(S.current,T.current,G).then($=>{const W={...$,isPositioned:F.current!==!1};k.current&&!Wy(M.current,W)&&(M.current=W,YC.flushSync(()=>{h(W)}))})},[p,e,n,z,F]);Hm(()=>{c===!1&&M.current.isPositioned&&(M.current.isPositioned=!1,h(G=>({...G,isPositioned:!1})))},[c]);const k=V.useRef(!1);Hm(()=>(k.current=!0,()=>{k.current=!1}),[]),Hm(()=>{if(E&&(S.current=E),A&&(T.current=A),E&&A){if(O.current)return O.current(E,A,q);q()}},[E,A,q,O,R]);const H=V.useMemo(()=>({reference:S,floating:T,setReference:w,setFloating:D}),[w,D]),N=V.useMemo(()=>({reference:E,floating:A}),[E,A]),B=V.useMemo(()=>{const G={position:n,left:0,top:0};if(!N.floating)return G;const $=GI(N.floating,d.x),W=GI(N.floating,d.y);return o?{...G,transform:"translate("+$+"px, "+W+"px)",...vV(N.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:$,top:W}},[n,o,N.floating,d.x,d.y]);return V.useMemo(()=>({...d,update:q,refs:H,elements:N,floatingStyles:B}),[d,q,H,N,B])}const zfe=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?$I({element:r.current,padding:i}).fn(n):{}:r?$I({element:r,padding:i}).fn(n):{}}}},qfe=(t,e)=>({...Ufe(t),options:[t,e]}),Wfe=(t,e)=>({...Mfe(t),options:[t,e]}),Vfe=(t,e)=>({...Ife(t),options:[t,e]}),Hfe=(t,e)=>({...Ofe(t),options:[t,e]}),$fe=(t,e)=>({...Nfe(t),options:[t,e]}),Gfe=(t,e)=>({...Ffe(t),options:[t,e]}),Xfe=(t,e)=>({...zfe(t),options:[t,e]});var Kfe="Arrow",xV=V.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return I.jsx(Tr.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:I.jsx("polygon",{points:"0,0 30,0 15,10"})})});xV.displayName=Kfe;var Yfe=xV;function Zfe(t){const[e,n]=V.useState(void 0);return Do(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let a,o;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;a=c.inlineSize,o=c.blockSize}else a=t.offsetWidth,o=t.offsetHeight;n({width:a,height:o})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var bk="Popper",[wV,_V]=Yf(bk),[Jfe,DV]=wV(bk),EV=t=>{const{__scopePopper:e,children:n}=t,[r,i]=V.useState(null);return I.jsx(Jfe,{scope:e,anchor:r,onAnchorChange:i,children:n})};EV.displayName=bk;var SV="PopperAnchor",AV=V.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=DV(SV,n),a=V.useRef(null),o=Vr(e,a),l=V.useRef(null);return V.useEffect(()=>{const c=l.current;l.current=r?.current||a.current,c!==l.current&&s.onAnchorChange(l.current)}),r?null:I.jsx(Tr.div,{...i,ref:o})});AV.displayName=SV;var vk="PopperContent",[Qfe,epe]=wV(vk),TV=V.forwardRef((t,e)=>{const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:a=0,arrowPadding:o=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:g="optimized",onPlaced:v,...y}=t,b=DV(vk,n),[x,w]=V.useState(null),D=Vr(e,se=>w(se)),[E,A]=V.useState(null),S=Zfe(E),T=S?.width??0,M=S?.height??0,R=r+(s!=="center"?"-"+s:""),O=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},z=Array.isArray(c)?c:[c],F=z.length>0,q={padding:O,boundary:z.filter(npe),altBoundary:F},{refs:k,floatingStyles:H,placement:N,isPositioned:B,middlewareData:G}=jfe({strategy:"fixed",placement:R,whileElementsMounted:(...se)=>Rfe(...se,{animationFrame:g==="always"}),elements:{reference:b.anchor},middleware:[qfe({mainAxis:i+M,alignmentAxis:a}),l&&Wfe({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?Vfe():void 0,...q}),l&&Hfe({...q}),$fe({...q,apply:({elements:se,rects:ye,availableWidth:xe,availableHeight:Re})=>{const{width:Fe,height:qe}=ye.reference,We=se.floating.style;We.setProperty("--radix-popper-available-width",`${xe}px`),We.setProperty("--radix-popper-available-height",`${Re}px`),We.setProperty("--radix-popper-anchor-width",`${Fe}px`),We.setProperty("--radix-popper-anchor-height",`${qe}px`)}}),E&&Xfe({element:E,padding:o}),rpe({arrowWidth:T,arrowHeight:M}),p&&Gfe({strategy:"referenceHidden",...q})]}),[$,W]=RV(N),L=va(v);Do(()=>{B&&L?.()},[B,L]);const K=G.arrow?.x,j=G.arrow?.y,Y=G.arrow?.centerOffset!==0,[ee,re]=V.useState();return Do(()=>{x&&re(window.getComputedStyle(x).zIndex)},[x]),I.jsx("div",{ref:k.setFloating,"data-radix-popper-content-wrapper":"",style:{...H,transform:B?H.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ee,"--radix-popper-transform-origin":[G.transformOrigin?.x,G.transformOrigin?.y].join(" "),...G.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:I.jsx(Qfe,{scope:n,placedSide:$,onArrowChange:A,arrowX:K,arrowY:j,shouldHideArrow:Y,children:I.jsx(Tr.div,{"data-side":$,"data-align":W,...y,ref:D,style:{...y.style,animation:B?void 0:"none"}})})})});TV.displayName=vk;var CV="PopperArrow",tpe={top:"bottom",right:"left",bottom:"top",left:"right"},kV=V.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=epe(CV,r),a=tpe[s.placedSide];return I.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:I.jsx(Yfe,{...i,ref:n,style:{...i.style,display:"block"}})})});kV.displayName=CV;function npe(t){return t!==null}var rpe=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:r,middlewareData:i}=e,a=i.arrow?.centerOffset!==0,o=a?0:t.arrowWidth,l=a?0:t.arrowHeight,[c,d]=RV(n),h={start:"0%",center:"50%",end:"100%"}[d],p=(i.arrow?.x??0)+o/2,g=(i.arrow?.y??0)+l/2;let v="",y="";return c==="bottom"?(v=a?h:`${p}px`,y=`${-l}px`):c==="top"?(v=a?h:`${p}px`,y=`${r.floating.height+l}px`):c==="right"?(v=`${-l}px`,y=a?h:`${g}px`):c==="left"&&(v=`${r.floating.width+l}px`,y=a?h:`${g}px`),{data:{x:v,y}}}});function RV(t){const[e,n="center"]=t.split("-");return[e,n]}var ipe=EV,spe=AV,ape=TV,ope=kV,lpe="Portal",UV=V.forwardRef((t,e)=>{const{container:n,...r}=t,[i,s]=V.useState(!1);Do(()=>s(!0),[]);const a=n||i&&globalThis?.document?.body;return a?ule.createPortal(I.jsx(Tr.div,{...r,ref:e}),a):null});UV.displayName=lpe;function cpe(t,e){return V.useReducer((n,r)=>e[n][r]??n,t)}var Jf=t=>{const{present:e,children:n}=t,r=upe(e),i=typeof n=="function"?n({present:r.isPresent}):V.Children.only(n),s=Vr(r.ref,dpe(i));return typeof n=="function"||r.isPresent?V.cloneElement(i,{ref:s}):null};Jf.displayName="Presence";function upe(t){const[e,n]=V.useState(),r=V.useRef(null),i=V.useRef(t),s=V.useRef("none"),a=t?"mounted":"unmounted",[o,l]=cpe(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return V.useEffect(()=>{const c=am(r.current);s.current=o==="mounted"?c:"none"},[o]),Do(()=>{const c=r.current,d=i.current;if(d!==t){const p=s.current,g=am(c);t?l("MOUNT"):g==="none"||c?.display==="none"?l("UNMOUNT"):l(d&&p!==g?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),Do(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,h=g=>{const y=am(r.current).includes(CSS.escape(g.animationName));if(g.target===e&&y&&(l("ANIMATION_END"),!i.current)){const b=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=b)})}},p=g=>{g.target===e&&(s.current=am(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:V.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function am(t){return t?.animationName||"none"}function dpe(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Mx="rovingFocusGroup.onEntryFocus",hpe={bubbles:!1,cancelable:!0},Qf="RovingFocusGroup",[OT,MV,fpe]=nV(Qf),[ppe,OV]=Yf(Qf,[fpe]),[gpe,mpe]=ppe(Qf),NV=V.forwardRef((t,e)=>I.jsx(OT.Provider,{scope:t.__scopeRovingFocusGroup,children:I.jsx(OT.Slot,{scope:t.__scopeRovingFocusGroup,children:I.jsx(ype,{...t,ref:e})})}));NV.displayName=Qf;var ype=V.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:a,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...h}=t,p=V.useRef(null),g=Vr(e,p),v=rV(s),[y,b]=eV({prop:a,defaultProp:o??null,onChange:l,caller:Qf}),[x,w]=V.useState(!1),D=va(c),E=MV(n),A=V.useRef(!1),[S,T]=V.useState(0);return V.useEffect(()=>{const M=p.current;if(M)return M.addEventListener(Mx,D),()=>M.removeEventListener(Mx,D)},[D]),I.jsx(gpe,{scope:n,orientation:r,dir:v,loop:i,currentTabStopId:y,onItemFocus:V.useCallback(M=>b(M),[b]),onItemShiftTab:V.useCallback(()=>w(!0),[]),onFocusableItemAdd:V.useCallback(()=>T(M=>M+1),[]),onFocusableItemRemove:V.useCallback(()=>T(M=>M-1),[]),children:I.jsx(Tr.div,{tabIndex:x||S===0?-1:0,"data-orientation":r,...h,ref:g,style:{outline:"none",...t.style},onMouseDown:Mt(t.onMouseDown,()=>{A.current=!0}),onFocus:Mt(t.onFocus,M=>{const R=!A.current;if(M.target===M.currentTarget&&R&&!x){const O=new CustomEvent(Mx,hpe);if(M.currentTarget.dispatchEvent(O),!O.defaultPrevented){const z=E().filter(N=>N.focusable),F=z.find(N=>N.active),q=z.find(N=>N.id===y),H=[F,q,...z].filter(Boolean).map(N=>N.ref.current);PV(H,d)}}A.current=!1}),onBlur:Mt(t.onBlur,()=>w(!1))})})}),FV="RovingFocusGroupItem",IV=V.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,children:a,...o}=t,l=kT(),c=s||l,d=mpe(FV,n),h=d.currentTabStopId===c,p=MV(n),{onFocusableItemAdd:g,onFocusableItemRemove:v,currentTabStopId:y}=d;return V.useEffect(()=>{if(r)return g(),()=>v()},[r,g,v]),I.jsx(OT.ItemSlot,{scope:n,id:c,focusable:r,active:i,children:I.jsx(Tr.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...o,ref:e,onMouseDown:Mt(t.onMouseDown,b=>{r?d.onItemFocus(c):b.preventDefault()}),onFocus:Mt(t.onFocus,()=>d.onItemFocus(c)),onKeyDown:Mt(t.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){d.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const x=xpe(b,d.orientation,d.dir);if(x!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let D=p().filter(E=>E.focusable).map(E=>E.ref.current);if(x==="last")D.reverse();else if(x==="prev"||x==="next"){x==="prev"&&D.reverse();const E=D.indexOf(b.currentTarget);D=d.loop?wpe(D,E+1):D.slice(E+1)}setTimeout(()=>PV(D))}}),children:typeof a=="function"?a({isCurrentTabStop:h,hasTabStop:y!=null}):a})})});IV.displayName=FV;var bpe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function vpe(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function xpe(t,e,n){const r=vpe(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return bpe[r]}function PV(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function wpe(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var _pe=NV,Dpe=IV,Epe=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Zc=new WeakMap,om=new WeakMap,lm={},Ox=0,LV=function(t){return t&&(t.host||LV(t.parentNode))},Spe=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=LV(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},Ape=function(t,e,n,r){var i=Spe(e,Array.isArray(t)?t:[t]);lm[n]||(lm[n]=new WeakMap);var s=lm[n],a=[],o=new Set,l=new Set(i),c=function(h){!h||o.has(h)||(o.add(h),c(h.parentNode))};i.forEach(c);var d=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(p){if(o.has(p))d(p);else try{var g=p.getAttribute(r),v=g!==null&&g!=="false",y=(Zc.get(p)||0)+1,b=(s.get(p)||0)+1;Zc.set(p,y),s.set(p,b),a.push(p),y===1&&v&&om.set(p,!0),b===1&&p.setAttribute(n,"true"),v||p.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",p,x)}})};return d(e),o.clear(),Ox++,function(){a.forEach(function(h){var p=Zc.get(h)-1,g=s.get(h)-1;Zc.set(h,p),s.set(h,g),p||(om.has(h)||h.removeAttribute(r),om.delete(h)),g||h.removeAttribute(n)}),Ox--,Ox||(Zc=new WeakMap,Zc=new WeakMap,om=new WeakMap,lm={})}},Tpe=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=Epe(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),Ape(r,i,n,"aria-hidden")):function(){return null}},$m="right-scroll-bar-position",Gm="width-before-scroll-bar",Cpe="with-scroll-bars-hidden",kpe="--removed-body-scroll-bar-size";function Nx(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Rpe(t,e){var n=V.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var Upe=typeof window<"u"?V.useLayoutEffect:V.useEffect,XI=new WeakMap;function Mpe(t,e){var n=Rpe(null,function(r){return t.forEach(function(i){return Nx(i,r)})});return Upe(function(){var r=XI.get(n);if(r){var i=new Set(r),s=new Set(t),a=n.current;i.forEach(function(o){s.has(o)||Nx(o,null)}),s.forEach(function(o){i.has(o)||Nx(o,a)})}XI.set(n,t)},[t]),n}function Ope(t){return t}function Npe(t,e){e===void 0&&(e=Ope);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var a=e(s,r);return n.push(a),function(){n=n.filter(function(o){return o!==a})}},assignSyncMedium:function(s){for(r=!0;n.length;){var a=n;n=[],a.forEach(s)}n={push:function(o){return s(o)},filter:function(){return n}}},assignMedium:function(s){r=!0;var a=[];if(n.length){var o=n;n=[],o.forEach(s),a=n}var l=function(){var d=a;a=[],d.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){a.push(d),c()},filter:function(d){return a=a.filter(d),n}}}};return i}function Fpe(t){t===void 0&&(t={});var e=Npe(null);return e.options=As({async:!0,ssr:!1},t),e}var BV=function(t){var e=t.sideCar,n=Ju(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return V.createElement(r,As({},n))};BV.isSideCarExport=!0;function Ipe(t,e){return t.useMedium(e),BV}var jV=Fpe(),Fx=function(){},Ub=V.forwardRef(function(t,e){var n=V.useRef(null),r=V.useState({onScrollCapture:Fx,onWheelCapture:Fx,onTouchMoveCapture:Fx}),i=r[0],s=r[1],a=t.forwardProps,o=t.children,l=t.className,c=t.removeScrollBar,d=t.enabled,h=t.shards,p=t.sideCar,g=t.noRelative,v=t.noIsolation,y=t.inert,b=t.allowPinchZoom,x=t.as,w=x===void 0?"div":x,D=t.gapMode,E=Ju(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=p,S=Mpe([n,e]),T=As(As({},E),i);return V.createElement(V.Fragment,null,d&&V.createElement(A,{sideCar:jV,removeScrollBar:c,shards:h,noRelative:g,noIsolation:v,inert:y,setCallbacks:s,allowPinchZoom:!!b,lockRef:n,gapMode:D}),a?V.cloneElement(V.Children.only(o),As(As({},T),{ref:S})):V.createElement(w,As({},T,{className:l,ref:S}),o))});Ub.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ub.classNames={fullWidth:Gm,zeroRight:$m};var Ppe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Lpe(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Ppe();return e&&t.setAttribute("nonce",e),t}function Bpe(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function jpe(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var zpe=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Lpe())&&(Bpe(e,n),jpe(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},qpe=function(){var t=zpe();return function(e,n){V.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},zV=function(){var t=qpe(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},Wpe={left:0,top:0,right:0,gap:0},Ix=function(t){return parseInt(t||"",10)||0},Vpe=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[Ix(n),Ix(r),Ix(i)]},Hpe=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Wpe;var e=Vpe(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},$pe=zV(),ku="data-scroll-locked",Gpe=function(t,e,n,r){var i=t.left,s=t.top,a=t.right,o=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(Cpe,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(o,"px ").concat(r,`;
  }
  body[`).concat(ku,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(o,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat($m,` {
    right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(Gm,` {
    margin-right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat($m," .").concat($m,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Gm," .").concat(Gm,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ku,`] {
    `).concat(kpe,": ").concat(o,`px;
  }
`)},KI=function(){var t=parseInt(document.body.getAttribute(ku)||"0",10);return isFinite(t)?t:0},Xpe=function(){V.useEffect(function(){return document.body.setAttribute(ku,(KI()+1).toString()),function(){var t=KI()-1;t<=0?document.body.removeAttribute(ku):document.body.setAttribute(ku,t.toString())}},[])},Kpe=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;Xpe();var s=V.useMemo(function(){return Hpe(i)},[i]);return V.createElement($pe,{styles:Gpe(s,!e,i,n?"":"!important")})},NT=!1;if(typeof window<"u")try{var cm=Object.defineProperty({},"passive",{get:function(){return NT=!0,!0}});window.addEventListener("test",cm,cm),window.removeEventListener("test",cm,cm)}catch{NT=!1}var Jc=NT?{passive:!1}:!1,Ype=function(t){return t.tagName==="TEXTAREA"},qV=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Ype(t)&&n[e]==="visible")},Zpe=function(t){return qV(t,"overflowY")},Jpe=function(t){return qV(t,"overflowX")},YI=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=WV(t,r);if(i){var s=VV(t,r),a=s[1],o=s[2];if(a>o)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Qpe=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},ege=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},WV=function(t,e){return t==="v"?Zpe(e):Jpe(e)},VV=function(t,e){return t==="v"?Qpe(e):ege(e)},tge=function(t,e){return t==="h"&&e==="rtl"?-1:1},nge=function(t,e,n,r,i){var s=tge(t,window.getComputedStyle(e).direction),a=s*r,o=n.target,l=e.contains(o),c=!1,d=a>0,h=0,p=0;do{if(!o)break;var g=VV(t,o),v=g[0],y=g[1],b=g[2],x=y-b-s*v;(v||x)&&WV(t,o)&&(h+=x,p+=v);var w=o.parentNode;o=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!l&&o!==document.body||l&&(e.contains(o)||e===o));return(d&&Math.abs(h)<1||!d&&Math.abs(p)<1)&&(c=!0),c},um=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},ZI=function(t){return[t.deltaX,t.deltaY]},JI=function(t){return t&&"current"in t?t.current:t},rge=function(t,e){return t[0]===e[0]&&t[1]===e[1]},ige=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},sge=0,Qc=[];function age(t){var e=V.useRef([]),n=V.useRef([0,0]),r=V.useRef(),i=V.useState(sge++)[0],s=V.useState(zV)[0],a=V.useRef(t);V.useEffect(function(){a.current=t},[t]),V.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var y=tte([t.lockRef.current],(t.shards||[]).map(JI),!0).filter(Boolean);return y.forEach(function(b){return b.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),y.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var o=V.useCallback(function(y,b){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!a.current.allowPinchZoom;var x=um(y),w=n.current,D="deltaX"in y?y.deltaX:w[0]-x[0],E="deltaY"in y?y.deltaY:w[1]-x[1],A,S=y.target,T=Math.abs(D)>Math.abs(E)?"h":"v";if("touches"in y&&T==="h"&&S.type==="range")return!1;var M=window.getSelection(),R=M&&M.anchorNode,O=R?R===S||R.contains(S):!1;if(O)return!1;var z=YI(T,S);if(!z)return!0;if(z?A=T:(A=T==="v"?"h":"v",z=YI(T,S)),!z)return!1;if(!r.current&&"changedTouches"in y&&(D||E)&&(r.current=A),!A)return!0;var F=r.current||A;return nge(F,b,y,F==="h"?D:E)},[]),l=V.useCallback(function(y){var b=y;if(!(!Qc.length||Qc[Qc.length-1]!==s)){var x="deltaY"in b?ZI(b):um(b),w=e.current.filter(function(A){return A.name===b.type&&(A.target===b.target||b.target===A.shadowParent)&&rge(A.delta,x)})[0];if(w&&w.should){b.cancelable&&b.preventDefault();return}if(!w){var D=(a.current.shards||[]).map(JI).filter(Boolean).filter(function(A){return A.contains(b.target)}),E=D.length>0?o(b,D[0]):!a.current.noIsolation;E&&b.cancelable&&b.preventDefault()}}},[]),c=V.useCallback(function(y,b,x,w){var D={name:y,delta:b,target:x,should:w,shadowParent:oge(x)};e.current.push(D),setTimeout(function(){e.current=e.current.filter(function(E){return E!==D})},1)},[]),d=V.useCallback(function(y){n.current=um(y),r.current=void 0},[]),h=V.useCallback(function(y){c(y.type,ZI(y),y.target,o(y,t.lockRef.current))},[]),p=V.useCallback(function(y){c(y.type,um(y),y.target,o(y,t.lockRef.current))},[]);V.useEffect(function(){return Qc.push(s),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",l,Jc),document.addEventListener("touchmove",l,Jc),document.addEventListener("touchstart",d,Jc),function(){Qc=Qc.filter(function(y){return y!==s}),document.removeEventListener("wheel",l,Jc),document.removeEventListener("touchmove",l,Jc),document.removeEventListener("touchstart",d,Jc)}},[]);var g=t.removeScrollBar,v=t.inert;return V.createElement(V.Fragment,null,v?V.createElement(s,{styles:ige(i)}):null,g?V.createElement(Kpe,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function oge(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const lge=Ipe(jV,age);var HV=V.forwardRef(function(t,e){return V.createElement(Ub,As({},t,{ref:e,sideCar:lge}))});HV.classNames=Ub.classNames;var FT=["Enter"," "],cge=["ArrowDown","PageUp","Home"],$V=["ArrowUp","PageDown","End"],uge=[...cge,...$V],dge={ltr:[...FT,"ArrowRight"],rtl:[...FT,"ArrowLeft"]},hge={ltr:["ArrowLeft"],rtl:["ArrowRight"]},ep="Menu",[Df,fge,pge]=nV(ep),[Xl,GV]=Yf(ep,[pge,_V,OV]),Mb=_V(),XV=OV(),[gge,Kl]=Xl(ep),[mge,tp]=Xl(ep),KV=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:i,onOpenChange:s,modal:a=!0}=t,o=Mb(e),[l,c]=V.useState(null),d=V.useRef(!1),h=va(s),p=rV(i);return V.useEffect(()=>{const g=()=>{d.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>d.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),I.jsx(ipe,{...o,children:I.jsx(gge,{scope:e,open:n,onOpenChange:h,content:l,onContentChange:c,children:I.jsx(mge,{scope:e,onClose:V.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:d,dir:p,modal:a,children:r})})})};KV.displayName=ep;var yge="MenuAnchor",xk=V.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=Mb(n);return I.jsx(spe,{...i,...r,ref:e})});xk.displayName=yge;var wk="MenuPortal",[bge,YV]=Xl(wk,{forceMount:void 0}),ZV=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,s=Kl(wk,e);return I.jsx(bge,{scope:e,forceMount:n,children:I.jsx(Jf,{present:n||s.open,children:I.jsx(UV,{asChild:!0,container:i,children:r})})})};ZV.displayName=wk;var zi="MenuContent",[vge,_k]=Xl(zi),JV=V.forwardRef((t,e)=>{const n=YV(zi,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=Kl(zi,t.__scopeMenu),a=tp(zi,t.__scopeMenu);return I.jsx(Df.Provider,{scope:t.__scopeMenu,children:I.jsx(Jf,{present:r||s.open,children:I.jsx(Df.Slot,{scope:t.__scopeMenu,children:a.modal?I.jsx(xge,{...i,ref:e}):I.jsx(wge,{...i,ref:e})})})})}),xge=V.forwardRef((t,e)=>{const n=Kl(zi,t.__scopeMenu),r=V.useRef(null),i=Vr(e,r);return V.useEffect(()=>{const s=r.current;if(s)return Tpe(s)},[]),I.jsx(Dk,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Mt(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),wge=V.forwardRef((t,e)=>{const n=Kl(zi,t.__scopeMenu);return I.jsx(Dk,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),_ge=By("MenuContent.ScrollLock"),Dk=V.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:p,onDismiss:g,disableOutsideScroll:v,...y}=t,b=Kl(zi,n),x=tp(zi,n),w=Mb(n),D=XV(n),E=fge(n),[A,S]=V.useState(null),T=V.useRef(null),M=Vr(e,T,b.onContentChange),R=V.useRef(0),O=V.useRef(""),z=V.useRef(0),F=V.useRef(null),q=V.useRef("right"),k=V.useRef(0),H=v?HV:V.Fragment,N=v?{as:_ge,allowPinchZoom:!0}:void 0,B=$=>{const W=O.current+$,L=E().filter(se=>!se.disabled),K=document.activeElement,j=L.find(se=>se.ref.current===K)?.textValue,Y=L.map(se=>se.textValue),ee=Nge(Y,W,j),re=L.find(se=>se.textValue===ee)?.ref.current;(function se(ye){O.current=ye,window.clearTimeout(R.current),ye!==""&&(R.current=window.setTimeout(()=>se(""),1e3))})(W),re&&setTimeout(()=>re.focus())};V.useEffect(()=>()=>window.clearTimeout(R.current),[]),Che();const G=V.useCallback($=>q.current===F.current?.side&&Ige($,F.current?.area),[]);return I.jsx(vge,{scope:n,searchRef:O,onItemEnter:V.useCallback($=>{G($)&&$.preventDefault()},[G]),onItemLeave:V.useCallback($=>{G($)||(T.current?.focus(),S(null))},[G]),onTriggerLeave:V.useCallback($=>{G($)&&$.preventDefault()},[G]),pointerGraceTimerRef:z,onPointerGraceIntentChange:V.useCallback($=>{F.current=$},[]),children:I.jsx(H,{...N,children:I.jsx(oV,{asChild:!0,trapped:i,onMountAutoFocus:Mt(s,$=>{$.preventDefault(),T.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:I.jsx(sV,{asChild:!0,disableOutsidePointerEvents:o,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:p,onDismiss:g,children:I.jsx(_pe,{asChild:!0,...D,dir:x.dir,orientation:"vertical",loop:r,currentTabStopId:A,onCurrentTabStopIdChange:S,onEntryFocus:Mt(l,$=>{x.isUsingKeyboardRef.current||$.preventDefault()}),preventScrollOnEntryFocus:!0,children:I.jsx(ape,{role:"menu","aria-orientation":"vertical","data-state":pH(b.open),"data-radix-menu-content":"",dir:x.dir,...w,...y,ref:M,style:{outline:"none",...y.style},onKeyDown:Mt(y.onKeyDown,$=>{const L=$.target.closest("[data-radix-menu-content]")===$.currentTarget,K=$.ctrlKey||$.altKey||$.metaKey,j=$.key.length===1;L&&($.key==="Tab"&&$.preventDefault(),!K&&j&&B($.key));const Y=T.current;if($.target!==Y||!uge.includes($.key))return;$.preventDefault();const re=E().filter(se=>!se.disabled).map(se=>se.ref.current);$V.includes($.key)&&re.reverse(),Mge(re)}),onBlur:Mt(t.onBlur,$=>{$.currentTarget.contains($.target)||(window.clearTimeout(R.current),O.current="")}),onPointerMove:Mt(t.onPointerMove,Ef($=>{const W=$.target,L=k.current!==$.clientX;if($.currentTarget.contains(W)&&L){const K=$.clientX>k.current?"right":"left";q.current=K,k.current=$.clientX}}))})})})})})})});JV.displayName=zi;var Dge="MenuGroup",Ek=V.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return I.jsx(Tr.div,{role:"group",...r,ref:e})});Ek.displayName=Dge;var Ege="MenuLabel",QV=V.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return I.jsx(Tr.div,{...r,ref:e})});QV.displayName=Ege;var Vy="MenuItem",QI="menu.itemSelect",Ob=V.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,s=V.useRef(null),a=tp(Vy,t.__scopeMenu),o=_k(Vy,t.__scopeMenu),l=Vr(e,s),c=V.useRef(!1),d=()=>{const h=s.current;if(!n&&h){const p=new CustomEvent(QI,{bubbles:!0,cancelable:!0});h.addEventListener(QI,g=>r?.(g),{once:!0}),tV(h,p),p.defaultPrevented?c.current=!1:a.onClose()}};return I.jsx(eH,{...i,ref:l,disabled:n,onClick:Mt(t.onClick,d),onPointerDown:h=>{t.onPointerDown?.(h),c.current=!0},onPointerUp:Mt(t.onPointerUp,h=>{c.current||h.currentTarget?.click()}),onKeyDown:Mt(t.onKeyDown,h=>{const p=o.searchRef.current!=="";n||p&&h.key===" "||FT.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});Ob.displayName=Vy;var eH=V.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...s}=t,a=_k(Vy,n),o=XV(n),l=V.useRef(null),c=Vr(e,l),[d,h]=V.useState(!1),[p,g]=V.useState("");return V.useEffect(()=>{const v=l.current;v&&g((v.textContent??"").trim())},[s.children]),I.jsx(Df.ItemSlot,{scope:n,disabled:r,textValue:i??p,children:I.jsx(Dpe,{asChild:!0,...o,focusable:!r,children:I.jsx(Tr.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:c,onPointerMove:Mt(t.onPointerMove,Ef(v=>{r?a.onItemLeave(v):(a.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Mt(t.onPointerLeave,Ef(v=>a.onItemLeave(v))),onFocus:Mt(t.onFocus,()=>h(!0)),onBlur:Mt(t.onBlur,()=>h(!1))})})})}),Sge="MenuCheckboxItem",tH=V.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return I.jsx(aH,{scope:t.__scopeMenu,checked:n,children:I.jsx(Ob,{role:"menuitemcheckbox","aria-checked":Hy(n)?"mixed":n,...i,ref:e,"data-state":Ak(n),onSelect:Mt(i.onSelect,()=>r?.(Hy(n)?!0:!n),{checkForDefaultPrevented:!1})})})});tH.displayName=Sge;var nH="MenuRadioGroup",[Age,Tge]=Xl(nH,{value:void 0,onValueChange:()=>{}}),rH=V.forwardRef((t,e)=>{const{value:n,onValueChange:r,...i}=t,s=va(r);return I.jsx(Age,{scope:t.__scopeMenu,value:n,onValueChange:s,children:I.jsx(Ek,{...i,ref:e})})});rH.displayName=nH;var iH="MenuRadioItem",sH=V.forwardRef((t,e)=>{const{value:n,...r}=t,i=Tge(iH,t.__scopeMenu),s=n===i.value;return I.jsx(aH,{scope:t.__scopeMenu,checked:s,children:I.jsx(Ob,{role:"menuitemradio","aria-checked":s,...r,ref:e,"data-state":Ak(s),onSelect:Mt(r.onSelect,()=>i.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});sH.displayName=iH;var Sk="MenuItemIndicator",[aH,Cge]=Xl(Sk,{checked:!1}),oH=V.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,s=Cge(Sk,n);return I.jsx(Jf,{present:r||Hy(s.checked)||s.checked===!0,children:I.jsx(Tr.span,{...i,ref:e,"data-state":Ak(s.checked)})})});oH.displayName=Sk;var kge="MenuSeparator",lH=V.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return I.jsx(Tr.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});lH.displayName=kge;var Rge="MenuArrow",cH=V.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=Mb(n);return I.jsx(ope,{...i,...r,ref:e})});cH.displayName=Rge;var Uge="MenuSub",[eOe,uH]=Xl(Uge),Bh="MenuSubTrigger",dH=V.forwardRef((t,e)=>{const n=Kl(Bh,t.__scopeMenu),r=tp(Bh,t.__scopeMenu),i=uH(Bh,t.__scopeMenu),s=_k(Bh,t.__scopeMenu),a=V.useRef(null),{pointerGraceTimerRef:o,onPointerGraceIntentChange:l}=s,c={__scopeMenu:t.__scopeMenu},d=V.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return V.useEffect(()=>d,[d]),V.useEffect(()=>{const h=o.current;return()=>{window.clearTimeout(h),l(null)}},[o,l]),I.jsx(xk,{asChild:!0,...c,children:I.jsx(eH,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":pH(n.open),...t,ref:Ab(e,i.onTriggerChange),onClick:h=>{t.onClick?.(h),!(t.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Mt(t.onPointerMove,Ef(h=>{s.onItemEnter(h),!h.defaultPrevented&&!t.disabled&&!n.open&&!a.current&&(s.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:Mt(t.onPointerLeave,Ef(h=>{d();const p=n.content?.getBoundingClientRect();if(p){const g=n.content?.dataset.side,v=g==="right",y=v?-5:5,b=p[v?"left":"right"],x=p[v?"right":"left"];s.onPointerGraceIntentChange({area:[{x:h.clientX+y,y:h.clientY},{x:b,y:p.top},{x,y:p.top},{x,y:p.bottom},{x:b,y:p.bottom}],side:g}),window.clearTimeout(o.current),o.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(h),h.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:Mt(t.onKeyDown,h=>{const p=s.searchRef.current!=="";t.disabled||p&&h.key===" "||dge[r.dir].includes(h.key)&&(n.onOpenChange(!0),n.content?.focus(),h.preventDefault())})})})});dH.displayName=Bh;var hH="MenuSubContent",fH=V.forwardRef((t,e)=>{const n=YV(zi,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=Kl(zi,t.__scopeMenu),a=tp(zi,t.__scopeMenu),o=uH(hH,t.__scopeMenu),l=V.useRef(null),c=Vr(e,l);return I.jsx(Df.Provider,{scope:t.__scopeMenu,children:I.jsx(Jf,{present:r||s.open,children:I.jsx(Df.Slot,{scope:t.__scopeMenu,children:I.jsx(Dk,{id:o.contentId,"aria-labelledby":o.triggerId,...i,ref:c,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{a.isUsingKeyboardRef.current&&l.current?.focus(),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:Mt(t.onFocusOutside,d=>{d.target!==o.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:Mt(t.onEscapeKeyDown,d=>{a.onClose(),d.preventDefault()}),onKeyDown:Mt(t.onKeyDown,d=>{const h=d.currentTarget.contains(d.target),p=hge[a.dir].includes(d.key);h&&p&&(s.onOpenChange(!1),o.trigger?.focus(),d.preventDefault())})})})})})});fH.displayName=hH;function pH(t){return t?"open":"closed"}function Hy(t){return t==="indeterminate"}function Ak(t){return Hy(t)?"indeterminate":t?"checked":"unchecked"}function Mge(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function Oge(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function Nge(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let a=Oge(t,Math.max(s,0));i.length===1&&(a=a.filter(c=>c!==n));const l=a.find(c=>c.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function Fge(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,a=e.length-1;s<e.length;a=s++){const o=e[s],l=e[a],c=o.x,d=o.y,h=l.x,p=l.y;d>r!=p>r&&n<(h-c)*(r-d)/(p-d)+c&&(i=!i)}return i}function Ige(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return Fge(n,e)}function Ef(t){return e=>e.pointerType==="mouse"?t(e):void 0}var Pge=KV,Lge=xk,Bge=ZV,jge=JV,zge=Ek,qge=QV,Wge=Ob,Vge=tH,Hge=rH,$ge=sH,Gge=oH,Xge=lH,Kge=cH,Yge=dH,Zge=fH,Nb="DropdownMenu",[Jge]=Yf(Nb,[GV]),Cr=GV(),[Qge,gH]=Jge(Nb),mH=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:i,defaultOpen:s,onOpenChange:a,modal:o=!0}=t,l=Cr(e),c=V.useRef(null),[d,h]=eV({prop:i,defaultProp:s??!1,onChange:a,caller:Nb});return I.jsx(Qge,{scope:e,triggerId:kT(),triggerRef:c,contentId:kT(),open:d,onOpenChange:h,onOpenToggle:V.useCallback(()=>h(p=>!p),[h]),modal:o,children:I.jsx(Pge,{...l,open:d,onOpenChange:h,dir:r,modal:o,children:n})})};mH.displayName=Nb;var yH="DropdownMenuTrigger",bH=V.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,s=gH(yH,n),a=Cr(n);return I.jsx(Lge,{asChild:!0,...a,children:I.jsx(Tr.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:Ab(e,s.triggerRef),onPointerDown:Mt(t.onPointerDown,o=>{!r&&o.button===0&&o.ctrlKey===!1&&(s.onOpenToggle(),s.open||o.preventDefault())}),onKeyDown:Mt(t.onKeyDown,o=>{r||(["Enter"," "].includes(o.key)&&s.onOpenToggle(),o.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(o.key)&&o.preventDefault())})})})});bH.displayName=yH;var eme="DropdownMenuPortal",vH=t=>{const{__scopeDropdownMenu:e,...n}=t,r=Cr(e);return I.jsx(Bge,{...r,...n})};vH.displayName=eme;var xH="DropdownMenuContent",wH=V.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=gH(xH,n),s=Cr(n),a=V.useRef(!1);return I.jsx(jge,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...r,ref:e,onCloseAutoFocus:Mt(t.onCloseAutoFocus,o=>{a.current||i.triggerRef.current?.focus(),a.current=!1,o.preventDefault()}),onInteractOutside:Mt(t.onInteractOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;(!i.modal||d)&&(a.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});wH.displayName=xH;var tme="DropdownMenuGroup",nme=V.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Cr(n);return I.jsx(zge,{...i,...r,ref:e})});nme.displayName=tme;var rme="DropdownMenuLabel",ime=V.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Cr(n);return I.jsx(qge,{...i,...r,ref:e})});ime.displayName=rme;var sme="DropdownMenuItem",_H=V.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Cr(n);return I.jsx(Wge,{...i,...r,ref:e})});_H.displayName=sme;var ame="DropdownMenuCheckboxItem",ome=V.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Cr(n);return I.jsx(Vge,{...i,...r,ref:e})});ome.displayName=ame;var lme="DropdownMenuRadioGroup",cme=V.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Cr(n);return I.jsx(Hge,{...i,...r,ref:e})});cme.displayName=lme;var ume="DropdownMenuRadioItem",dme=V.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Cr(n);return I.jsx($ge,{...i,...r,ref:e})});dme.displayName=ume;var hme="DropdownMenuItemIndicator",fme=V.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Cr(n);return I.jsx(Gge,{...i,...r,ref:e})});fme.displayName=hme;var pme="DropdownMenuSeparator",gme=V.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Cr(n);return I.jsx(Xge,{...i,...r,ref:e})});gme.displayName=pme;var mme="DropdownMenuArrow",yme=V.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Cr(n);return I.jsx(Kge,{...i,...r,ref:e})});yme.displayName=mme;var bme="DropdownMenuSubTrigger",vme=V.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Cr(n);return I.jsx(Yge,{...i,...r,ref:e})});vme.displayName=bme;var xme="DropdownMenuSubContent",wme=V.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Cr(n);return I.jsx(Zge,{...i,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});wme.displayName=xme;var _me=mH,Dme=bH,Eme=vH,DH=wH,EH=_H;const Tk=_me,Ck=Dme,Fb=V.forwardRef(({className:t,sideOffset:e=4,...n},r)=>I.jsx(Eme,{children:I.jsx(DH,{ref:r,sideOffset:e,className:Et("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));Fb.displayName=DH.displayName;const Sf=V.forwardRef(({className:t,inset:e,...n},r)=>I.jsx(EH,{ref:r,className:Et("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));Sf.displayName=EH.displayName;const eP=t=>{let e;const n=new Set,r=(c,d)=>{const h=typeof c=="function"?c(e):c;if(!Object.is(h,e)){const p=e;e=d??(typeof h!="object"||h===null)?h:Object.assign({},e,h),n.forEach(g=>g(e,p))}},i=()=>e,o={setState:r,getState:i,getInitialState:()=>l,subscribe:c=>(n.add(c),()=>n.delete(c))},l=e=t(r,i,o);return o},Sme=(t=>t?eP(t):eP),Ame=t=>t;function Tme(t,e=Ame){const n=Ce.useSyncExternalStore(t.subscribe,Ce.useCallback(()=>e(t.getState()),[t,e]),Ce.useCallback(()=>e(t.getInitialState()),[t,e]));return Ce.useDebugValue(n),n}const Cme=t=>{const e=Sme(t),n=r=>Tme(e,r);return Object.assign(n,e),n},SH=(t=>Cme);function kk(t,e){let n;try{n=t()}catch{return}return{getItem:i=>{var s;const a=l=>l===null?null:JSON.parse(l,void 0),o=(s=n.getItem(i))!=null?s:null;return o instanceof Promise?o.then(a):a(o)},setItem:(i,s)=>n.setItem(i,JSON.stringify(s,void 0)),removeItem:i=>n.removeItem(i)}}const IT=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return IT(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return IT(r)(n)}}}},kme=(t,e)=>(n,r,i)=>{let s={storage:kk(()=>localStorage),partialize:b=>b,version:0,merge:(b,x)=>({...x,...b}),...e},a=!1,o=0;const l=new Set,c=new Set;let d=s.storage;if(!d)return t((...b)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...b)},r,i);const h=()=>{const b=s.partialize({...r()});return d.setItem(s.name,{state:b,version:s.version})},p=i.setState;i.setState=(b,x)=>(p(b,x),h());const g=t((...b)=>(n(...b),h()),r,i);i.getInitialState=()=>g;let v;const y=()=>{var b,x;if(!d)return;const w=++o;a=!1,l.forEach(E=>{var A;return E((A=r())!=null?A:g)});const D=((x=s.onRehydrateStorage)==null?void 0:x.call(s,(b=r())!=null?b:g))||void 0;return IT(d.getItem.bind(d))(s.name).then(E=>{if(E)if(typeof E.version=="number"&&E.version!==s.version){if(s.migrate){const A=s.migrate(E.state,E.version);return A instanceof Promise?A.then(S=>[!0,S]):[!0,A]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,E.state];return[!1,void 0]}).then(E=>{var A;if(w!==o)return;const[S,T]=E;if(v=s.merge(T,(A=r())!=null?A:g),n(v,!0),S)return h()}).then(()=>{w===o&&(D?.(v,void 0),v=r(),a=!0,c.forEach(E=>E(v)))}).catch(E=>{w===o&&D?.(void 0,E)})};return i.persist={setOptions:b=>{s={...s,...b},b.storage&&(d=b.storage)},clearStorage:()=>{d?.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>y(),hasHydrated:()=>a,onHydrate:b=>(l.add(b),()=>{l.delete(b)}),onFinishHydration:b=>(c.add(b),()=>{c.delete(b)})},s.skipHydration||y(),v||g},AH=kme,tP={currentProject:null,messages:[],nodes:[],edges:[],gaps:[],isLoading:!1,isSending:!1,error:null,pendingChatMessage:null,localVersion:0,lastModifiedAt:null,syncStatus:"idle",conflictData:null},Zn=SH()(AH((t,e)=>({...tP,setCurrentProject:n=>t({currentProject:n}),setMessages:n=>t({messages:n}),addMessage:n=>t(r=>({messages:[...r.messages,n]})),setGraph:n=>{const r=n.nodes.map(a=>({id:a.id,type:a.type,position:a.position||{x:0,y:0},data:{label:a.label,description:a.description,...a.data}})),i=n.edges.map(a=>({id:a.id,source:a.source,target:a.target,label:a.label,type:a.type||"smoothstep"})),s=n.gaps.map(a=>({id:a.id,description:a.description,severity:a.severity,relatedNodeIds:a.relatedNodeIds,resolved:a.resolved}));t({nodes:r,edges:i,gaps:s})},applyAIResponse:n=>{const r=e();let i=[...r.nodes],s=[...r.edges],a=[...r.gaps];if(n.removedNodeIds?.length&&(i=i.filter(o=>!n.removedNodeIds.includes(o.id))),n.removedEdgeIds?.length&&(s=s.filter(o=>!n.removedEdgeIds.includes(o.id))),n.resolvedGapIds?.length&&(a=a.map(o=>n.resolvedGapIds.includes(o.id)?{...o,resolved:!0}:o)),n.nodes?.length)for(const o of n.nodes){const l=i.findIndex(d=>d.id===o.id),c={id:o.id,type:o.type,position:o.position||{x:Math.random()*400,y:Math.random()*400},data:{label:o.label,description:o.description,...o.data}};l>=0?i=[...i.slice(0,l),{...i[l],...c,position:i[l].position},...i.slice(l+1)]:i=[...i,c]}if(n.edges?.length)for(const o of n.edges){const l=s.findIndex(d=>d.id===o.id),c={id:o.id,source:o.source,target:o.target,label:o.label,type:o.type||"smoothstep"};l>=0?s=[...s.slice(0,l),c,...s.slice(l+1)]:s=[...s,c]}if(n.gaps?.length)for(const o of n.gaps){const l=a.findIndex(c=>c.id===o.id);l>=0?a=[...a.slice(0,l),o,...a.slice(l+1)]:a=[...a,o]}t({nodes:i,edges:s,gaps:a,lastModifiedAt:Date.now()})},addNode:(n,r="Neuer Node",i="")=>t(s=>{const a={id:crypto.randomUUID(),type:n,position:{x:Math.random()*300+100,y:Math.random()*300+100},data:{label:r,description:i}};return{nodes:[...s.nodes,a],lastModifiedAt:Date.now()}}),updateNode:(n,r,i)=>t(s=>({nodes:s.nodes.map(a=>a.id===n?{...a,data:{...a.data,label:r,description:i??a.data.description}}:a),lastModifiedAt:Date.now()})),deleteNode:n=>t(r=>({nodes:r.nodes.filter(i=>i.id!==n),edges:r.edges.filter(i=>i.source!==n&&i.target!==n),lastModifiedAt:Date.now()})),addEdge:(n,r,i="")=>t(s=>{const a={id:`${n}-${r}-${crypto.randomUUID().slice(0,8)}`,source:n,target:r,label:i,type:"smoothstep"};return{edges:[...s.edges,a],lastModifiedAt:Date.now()}}),deleteEdge:n=>t(r=>({edges:r.edges.filter(i=>i.id!==n),lastModifiedAt:Date.now()})),resolveGap:n=>t(r=>({gaps:r.gaps.map(i=>i.id===n?{...i,resolved:!0}:i),lastModifiedAt:Date.now()})),updateNodePosition:(n,r)=>t(i=>({nodes:i.nodes.map(s=>s.id===n?{...s,position:r}:s),lastModifiedAt:Date.now()})),setIsLoading:n=>t({isLoading:n}),setIsSending:n=>t({isSending:n}),setError:n=>t({error:n}),setPendingChatMessage:n=>t({pendingChatMessage:n}),setLocalVersion:n=>t({localVersion:n}),setSyncStatus:n=>t({syncStatus:n}),setConflictData:n=>t({conflictData:n}),setGraphFromRemote:(n,r)=>{const i=n.nodes.map(o=>({id:o.id,type:o.type,position:o.position||{x:0,y:0},data:{label:o.label,description:o.description,...o.data}})),s=n.edges.map(o=>({id:o.id,source:o.source,target:o.target,label:o.label,type:o.type||"smoothstep"})),a=n.gaps.map(o=>({id:o.id,description:o.description,severity:o.severity,relatedNodeIds:o.relatedNodeIds,resolved:o.resolved}));t({nodes:i,edges:s,gaps:a,localVersion:r})},reset:()=>t(tP)}),{name:"vibe-architect-store",storage:kk(()=>sessionStorage),partialize:t=>({currentProject:t.currentProject,messages:t.messages,nodes:t.nodes,edges:t.edges,gaps:t.gaps})})),Rme={idle:{icon:XW,label:"Synchronisiert",className:"text-muted-foreground"},saving:{icon:xo,label:"Speichern...",className:"text-blue-500"},saved:{icon:GW,label:"Gespeichert",className:"text-green-500"},error:{icon:Gue,label:"Fehler",className:"text-destructive"},conflict:{icon:Pue,label:"Konflikt",className:"text-amber-500"}};function Ume({status:t,className:e}){const n=Rme[t],r=n.icon;return I.jsxs("div",{className:Et("flex items-center gap-1.5 text-xs",n.className,e),title:n.label,children:[I.jsx(r,{className:Et("h-3.5 w-3.5",t==="saving"&&"animate-spin")}),I.jsx("span",{className:"hidden sm:inline",children:n.label})]})}function Mme({onMenuToggle:t,onNewProject:e,onOpenProjects:n,onSettings:r,onGuestManagement:i,onExportPRD:s,onLogout:a,userName:o,isOwner:l=!0,isGlobalGuest:c=!1,guestProjects:d=[],onSwitchProject:h,sidebarOpen:p=!1,syncStatus:g}){const{currentProject:v,nodes:y}=Zn();return I.jsxs("header",{className:"flex h-16 items-center justify-between border-b border-border/50 bg-card/80 backdrop-blur-sm px-6 sticky top-0 z-50",children:[I.jsxs("div",{className:"flex items-center gap-5",children:[I.jsxs("div",{className:"flex items-center gap-3",children:[I.jsx("img",{src:"/logo.png",alt:"Softwareplanung",className:"h-9 w-9 rounded-xl shadow-sm"}),I.jsx("div",{className:"hidden sm:block",children:I.jsx("span",{className:"font-display font-medium text-base tracking-tight",children:"Softwareplanung"})})]}),v&&I.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[I.jsx("span",{className:"text-muted-foreground/50",children:"/"}),I.jsx("span",{className:"text-foreground/80 font-medium truncate max-w-[200px]",children:v.name}),g&&I.jsx(Ume,{status:g})]})]}),I.jsxs("div",{className:"flex items-center gap-1.5",children:[!c&&I.jsxs(dt,{variant:"default",size:"sm",onClick:e,className:"rounded-lg px-4 shadow-sm",children:[I.jsx(QW,{className:"mr-1.5 h-4 w-4"}),I.jsx("span",{className:"hidden sm:inline",children:"Neues Projekt"})]}),!c&&y.length>0&&s&&I.jsxs(dt,{variant:"outline",size:"sm",onClick:s,className:"rounded-lg px-4",children:[I.jsx(xf,{className:"mr-1.5 h-4 w-4"}),I.jsx("span",{className:"hidden sm:inline",children:"Export"})]}),I.jsx("div",{className:"w-px h-6 bg-border/50 mx-1 hidden sm:block"}),c&&d.length>1&&h?I.jsxs(Tk,{children:[I.jsx(Ck,{asChild:!0,children:I.jsxs(dt,{variant:"ghost",size:"sm",className:"rounded-lg",children:[I.jsx(TI,{className:"mr-1.5 h-4 w-4"}),I.jsx("span",{className:"hidden sm:inline",children:"Projekte"}),I.jsx(Ly,{className:"ml-1 h-3 w-3"})]})}),I.jsx(Fb,{align:"end",children:d.map(b=>I.jsx(Sf,{onClick:()=>h(b.id),className:v?.id===b.id?"bg-accent":"",children:b.name},b.id))})]}):c?null:I.jsxs(dt,{variant:"ghost",size:"sm",onClick:n,className:"rounded-lg",children:[I.jsx(TI,{className:"mr-1.5 h-4 w-4"}),I.jsx("span",{className:"hidden sm:inline",children:"Projekte"})]}),I.jsxs(dt,{variant:p?"secondary":"ghost",size:"sm",onClick:t,className:"rounded-lg",title:"Logic Gaps",children:[I.jsx(wf,{className:"mr-1.5 h-4 w-4"}),I.jsx("span",{className:"hidden sm:inline",children:"Gaps"})]}),l&&v&&i&&I.jsx(dt,{variant:"ghost",size:"icon",onClick:i,title:"Gste verwalten",className:"rounded-lg",children:I.jsx(uk,{className:"h-4 w-4"})}),l&&I.jsx(dt,{variant:"ghost",size:"icon",onClick:r,title:"Einstellungen",className:"rounded-lg",children:I.jsx(Wde,{className:"h-4 w-4"})}),I.jsx("div",{className:"w-px h-6 bg-border/50 mx-1 hidden md:block"}),o&&I.jsx("span",{className:"text-xs text-muted-foreground hidden md:inline px-2 truncate max-w-[150px]",children:o}),I.jsx(dt,{variant:"ghost",size:"icon",onClick:a,className:"rounded-lg text-muted-foreground hover:text-foreground",children:I.jsx(mde,{className:"h-4 w-4"})})]})]})}function TH({className:t,variant:e="default",...n}){return I.jsx("div",{className:Et("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors","focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80":e==="default","border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80":e==="secondary","border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80":e==="destructive","text-foreground":e==="outline"},t),...n})}const id=V.forwardRef(({className:t,children:e,...n},r)=>I.jsx("div",{ref:r,className:Et("relative overflow-auto",t),...n,children:e}));id.displayName="ScrollArea";function Ome({isOpen:t,onClose:e}){const{gaps:n,resolveGap:r,setPendingChatMessage:i}=Zn(),[s,a]=V.useState(!0),[o,l]=V.useState(!1),[c,d]=V.useState(!1),h=b=>{const x=`Lass uns ber diese Lcke sprechen:

"${b}"

Wie knnen wir das lsen?`;i(x),e()},p=n.filter(b=>!b.resolved),g=n.filter(b=>b.resolved),v=b=>{switch(b){case"high":return"text-red-500";case"medium":return"text-yellow-500";default:return"text-blue-500"}},y=b=>{switch(b){case"high":return"destructive";case"medium":return"secondary";default:return"outline"}};return I.jsxs(I.Fragment,{children:[t&&I.jsx("div",{className:"fixed inset-0 z-30 bg-black/30",onClick:e}),I.jsx("aside",{className:Et("fixed left-0 top-16 z-40 h-[calc(100vh-4rem)] border-r bg-background transition-all duration-300",t?"translate-x-0":"-translate-x-full",c?"w-14":"w-72"),children:I.jsxs("div",{className:"flex h-full flex-col",children:[I.jsx("div",{className:"border-b p-4",children:I.jsx("div",{className:"flex items-center justify-between",children:c?I.jsx(dt,{variant:"ghost",size:"icon",onClick:()=>d(!1),className:"h-8 w-8 mx-auto",title:"Sidebar ausklappen",children:I.jsx(Ade,{className:"h-4 w-4"})}):I.jsxs(I.Fragment,{children:[I.jsxs("div",{children:[I.jsxs("h2",{className:"font-semibold flex items-center gap-2",children:[I.jsx(wf,{className:"h-4 w-4"}),"Logic Gaps"]}),I.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[p.length," offen, ",g.length," erledigt"]})]}),I.jsx(dt,{variant:"ghost",size:"icon",onClick:()=>d(!0),className:"h-8 w-8 shrink-0",title:"Sidebar einklappen",children:I.jsx(JW,{className:"h-4 w-4"})})]})})}),c?I.jsx("div",{className:"flex flex-col items-center gap-2 p-2 pt-4",children:I.jsxs("div",{className:"relative",children:[I.jsx(wf,{className:"h-5 w-5 text-muted-foreground"}),p.length>0&&I.jsx("span",{className:"absolute -top-1 -right-1 h-4 w-4 rounded-full bg-destructive text-destructive-foreground text-xs flex items-center justify-center",children:p.length})]})}):I.jsx(id,{className:"flex-1 p-4",children:p.length===0&&g.length===0?I.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"Keine Gaps gefunden. Starte eine Konversation, um deine Architektur zu analysieren."}):I.jsxs("div",{className:"space-y-4",children:[p.length>0&&I.jsxs("div",{children:[I.jsxs("button",{onClick:()=>a(!s),className:"flex items-center gap-1 text-xs font-medium text-muted-foreground uppercase tracking-wider mb-2 hover:text-foreground transition-colors w-full",children:[s?I.jsx(Ly,{className:"h-3 w-3"}):I.jsx(AI,{className:"h-3 w-3"}),"Offen (",p.length,")"]}),s&&I.jsx("div",{className:"space-y-2",children:p.map(b=>I.jsxs("div",{className:"rounded-lg border p-3 space-y-2",children:[I.jsxs("div",{className:"flex items-start justify-between gap-2",children:[I.jsx(Hue,{className:Et("h-4 w-4 mt-0.5 flex-shrink-0",v(b.severity))}),I.jsx("p",{className:"text-sm flex-1",children:b.description})]}),I.jsxs("div",{className:"flex items-center justify-between gap-1",children:[I.jsx(TH,{variant:y(b.severity),children:b.severity}),I.jsxs("div",{className:"flex gap-1",children:[I.jsxs(dt,{variant:"ghost",size:"sm",onClick:()=>h(b.description),title:"Im Chat besprechen",className:"h-7 px-2",children:[I.jsx(vde,{className:"h-3.5 w-3.5 mr-1"}),"Besprechen"]}),I.jsx(dt,{variant:"ghost",size:"sm",onClick:()=>r(b.id),className:"h-7 px-2",children:"Erledigt"})]})]})]},b.id))})]}),g.length>0&&I.jsxs("div",{children:[I.jsxs("button",{onClick:()=>l(!o),className:"flex items-center gap-1 text-xs font-medium text-muted-foreground uppercase tracking-wider mb-2 hover:text-foreground transition-colors w-full",children:[o?I.jsx(Ly,{className:"h-3 w-3"}):I.jsx(AI,{className:"h-3 w-3"}),"Erledigt (",g.length,")"]}),o&&I.jsx("div",{className:"space-y-2",children:g.map(b=>I.jsx("div",{className:"rounded-lg border border-dashed p-3 opacity-60",children:I.jsxs("div",{className:"flex items-start gap-2",children:[I.jsx(Bue,{className:"h-4 w-4 mt-0.5 text-green-500 flex-shrink-0"}),I.jsx("p",{className:"text-sm line-through",children:b.description})]})},b.id))})]})]})})]})})]})}function Nme({leftPanel:t,rightPanel:e,defaultLeftWidth:n=65,minLeftWidth:r=40,maxLeftWidth:i=85}){const[s,a]=V.useState(n),[o,l]=V.useState(!1),[c,d]=V.useState(!1),[h,p]=V.useState(!1),g=()=>{h||c||l(!0)},v=E=>{if(!o)return;const S=E.currentTarget.getBoundingClientRect(),M=(E.clientX-S.left)/S.width*100,R=Math.min(Math.max(M,r),i);a(R)},y=()=>{l(!1)},b=()=>{d(!c),p(!1)},x=()=>{p(!h),d(!1)},w=I.jsx(dt,{variant:"ghost",size:"icon",className:"h-8 w-8 shrink-0",onClick:x,title:h?"Graph ffnen":"Graph schlieen",children:h?I.jsx(Rde,{className:"h-4 w-4"}):I.jsx(JW,{className:"h-4 w-4"})}),D=V.isValidElement(e)?V.cloneElement(e,{headerAction:w}):e;return I.jsxs("div",{className:"flex h-full relative",onMouseMove:v,onMouseUp:y,onMouseLeave:y,children:[I.jsxs("div",{className:Et("h-full overflow-hidden transition-all duration-300 relative",h?"w-0":c?"w-full":""),style:!h&&!c?{width:`${s}%`}:void 0,children:[t,!h&&I.jsx(dt,{variant:"outline",size:"icon",className:"absolute top-4 right-4 z-20 h-8 w-8 bg-card/90 backdrop-blur-sm shadow-sm",onClick:b,title:c?"Chat ffnen":"Chat schlieen",children:c?I.jsx(Ede,{className:"h-4 w-4"}):I.jsx(Cde,{className:"h-4 w-4"})})]}),!h&&!c&&I.jsx("div",{className:Et("relative flex w-1 cursor-col-resize items-center justify-center bg-border hover:bg-primary/20 transition-colors",o&&"bg-primary/30"),onMouseDown:g,children:I.jsx(dde,{className:"h-4 w-4 text-muted-foreground"})}),I.jsx("div",{className:Et("h-full overflow-hidden transition-all duration-300",c?"w-0":h?"w-full":"flex-1"),style:!h&&!c?{width:`${100-s}%`}:void 0,children:D})]})}function Fme(t,e){if(t.match(/^[a-z]+:\/\//i))return t;if(t.match(/^\/\//))return window.location.protocol+t;if(t.match(/^[a-z]+:/i))return t;const n=document.implementation.createHTMLDocument(),r=n.createElement("base"),i=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(i),e&&(r.href=e),i.href=t,i.href}const Ime=(()=>{let t=0;const e=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(t+=1,`u${e()}${t}`)})();function wo(t){const e=[];for(let n=0,r=t.length;n<r;n++)e.push(t[n]);return e}let eu=null;function CH(t={}){return eu||(t.includeStyleProperties?(eu=t.includeStyleProperties,eu):(eu=wo(window.getComputedStyle(document.documentElement)),eu))}function $y(t,e){const r=(t.ownerDocument.defaultView||window).getComputedStyle(t).getPropertyValue(e);return r?parseFloat(r.replace("px","")):0}function Pme(t){const e=$y(t,"border-left-width"),n=$y(t,"border-right-width");return t.clientWidth+e+n}function Lme(t){const e=$y(t,"border-top-width"),n=$y(t,"border-bottom-width");return t.clientHeight+e+n}function kH(t,e={}){const n=e.width||Pme(t),r=e.height||Lme(t);return{width:n,height:r}}function Bme(){let t,e;try{e=process}catch{}const n=e&&e.env?e.env.devicePixelRatio:null;return n&&(t=parseInt(n,10),Number.isNaN(t)&&(t=1)),t||window.devicePixelRatio||1}const si=16384;function jme(t){(t.width>si||t.height>si)&&(t.width>si&&t.height>si?t.width>t.height?(t.height*=si/t.width,t.width=si):(t.width*=si/t.height,t.height=si):t.width>si?(t.height*=si/t.width,t.width=si):(t.width*=si/t.height,t.height=si))}function Gy(t){return new Promise((e,n)=>{const r=new Image;r.onload=()=>{r.decode().then(()=>{requestAnimationFrame(()=>e(r))})},r.onerror=n,r.crossOrigin="anonymous",r.decoding="async",r.src=t})}async function zme(t){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(t)).then(encodeURIComponent).then(e=>`data:image/svg+xml;charset=utf-8,${e}`)}async function qme(t,e,n){const r="http://www.w3.org/2000/svg",i=document.createElementNS(r,"svg"),s=document.createElementNS(r,"foreignObject");return i.setAttribute("width",`${e}`),i.setAttribute("height",`${n}`),i.setAttribute("viewBox",`0 0 ${e} ${n}`),s.setAttribute("width","100%"),s.setAttribute("height","100%"),s.setAttribute("x","0"),s.setAttribute("y","0"),s.setAttribute("externalResourcesRequired","true"),i.appendChild(s),s.appendChild(t),zme(i)}const zr=(t,e)=>{if(t instanceof e)return!0;const n=Object.getPrototypeOf(t);return n===null?!1:n.constructor.name===e.name||zr(n,e)};function Wme(t){const e=t.getPropertyValue("content");return`${t.cssText} content: '${e.replace(/'|"/g,"")}';`}function Vme(t,e){return CH(e).map(n=>{const r=t.getPropertyValue(n),i=t.getPropertyPriority(n);return`${n}: ${r}${i?" !important":""};`}).join(" ")}function Hme(t,e,n,r){const i=`.${t}:${e}`,s=n.cssText?Wme(n):Vme(n,r);return document.createTextNode(`${i}{${s}}`)}function nP(t,e,n,r){const i=window.getComputedStyle(t,n),s=i.getPropertyValue("content");if(s===""||s==="none")return;const a=Ime();try{e.className=`${e.className} ${a}`}catch{return}const o=document.createElement("style");o.appendChild(Hme(a,n,i,r)),e.appendChild(o)}function $me(t,e,n){nP(t,e,":before",n),nP(t,e,":after",n)}const rP="application/font-woff",iP="image/jpeg",Gme={woff:rP,woff2:rP,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:iP,jpeg:iP,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function Xme(t){const e=/\.([^./]*?)$/g.exec(t);return e?e[1]:""}function Rk(t){const e=Xme(t).toLowerCase();return Gme[e]||""}function Kme(t){return t.split(/,/)[1]}function PT(t){return t.search(/^(data:)/)!==-1}function Yme(t,e){return`data:${e};base64,${t}`}async function RH(t,e,n){const r=await fetch(t,e);if(r.status===404)throw new Error(`Resource "${r.url}" not found`);const i=await r.blob();return new Promise((s,a)=>{const o=new FileReader;o.onerror=a,o.onloadend=()=>{try{s(n({res:r,result:o.result}))}catch(l){a(l)}},o.readAsDataURL(i)})}const Px={};function Zme(t,e,n){let r=t.replace(/\?.*/,"");return n&&(r=t),/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),e?`[${e}]${r}`:r}async function Uk(t,e,n){const r=Zme(t,e,n.includeQueryParams);if(Px[r]!=null)return Px[r];n.cacheBust&&(t+=(/\?/.test(t)?"&":"?")+new Date().getTime());let i;try{const s=await RH(t,n.fetchRequestInit,({res:a,result:o})=>(e||(e=a.headers.get("Content-Type")||""),Kme(o)));i=Yme(s,e)}catch(s){i=n.imagePlaceholder||"";let a=`Failed to fetch resource: ${t}`;s&&(a=typeof s=="string"?s:s.message),a&&console.warn(a)}return Px[r]=i,i}async function Jme(t){const e=t.toDataURL();return e==="data:,"?t.cloneNode(!1):Gy(e)}async function Qme(t,e){if(t.currentSrc){const s=document.createElement("canvas"),a=s.getContext("2d");s.width=t.clientWidth,s.height=t.clientHeight,a?.drawImage(t,0,0,s.width,s.height);const o=s.toDataURL();return Gy(o)}const n=t.poster,r=Rk(n),i=await Uk(n,r,e);return Gy(i)}async function eye(t,e){var n;try{if(!((n=t?.contentDocument)===null||n===void 0)&&n.body)return await Ib(t.contentDocument.body,e,!0)}catch{}return t.cloneNode(!1)}async function tye(t,e){return zr(t,HTMLCanvasElement)?Jme(t):zr(t,HTMLVideoElement)?Qme(t,e):zr(t,HTMLIFrameElement)?eye(t,e):t.cloneNode(UH(t))}const nye=t=>t.tagName!=null&&t.tagName.toUpperCase()==="SLOT",UH=t=>t.tagName!=null&&t.tagName.toUpperCase()==="SVG";async function rye(t,e,n){var r,i;if(UH(e))return e;let s=[];return nye(t)&&t.assignedNodes?s=wo(t.assignedNodes()):zr(t,HTMLIFrameElement)&&(!((r=t.contentDocument)===null||r===void 0)&&r.body)?s=wo(t.contentDocument.body.childNodes):s=wo(((i=t.shadowRoot)!==null&&i!==void 0?i:t).childNodes),s.length===0||zr(t,HTMLVideoElement)||await s.reduce((a,o)=>a.then(()=>Ib(o,n)).then(l=>{l&&e.appendChild(l)}),Promise.resolve()),e}function iye(t,e,n){const r=e.style;if(!r)return;const i=window.getComputedStyle(t);i.cssText?(r.cssText=i.cssText,r.transformOrigin=i.transformOrigin):CH(n).forEach(s=>{let a=i.getPropertyValue(s);s==="font-size"&&a.endsWith("px")&&(a=`${Math.floor(parseFloat(a.substring(0,a.length-2)))-.1}px`),zr(t,HTMLIFrameElement)&&s==="display"&&a==="inline"&&(a="block"),s==="d"&&e.getAttribute("d")&&(a=`path(${e.getAttribute("d")})`),r.setProperty(s,a,i.getPropertyPriority(s))})}function sye(t,e){zr(t,HTMLTextAreaElement)&&(e.innerHTML=t.value),zr(t,HTMLInputElement)&&e.setAttribute("value",t.value)}function aye(t,e){if(zr(t,HTMLSelectElement)){const r=Array.from(e.children).find(i=>t.value===i.getAttribute("value"));r&&r.setAttribute("selected","")}}function oye(t,e,n){return zr(e,Element)&&(iye(t,e,n),$me(t,e,n),sye(t,e),aye(t,e)),e}async function lye(t,e){const n=t.querySelectorAll?t.querySelectorAll("use"):[];if(n.length===0)return t;const r={};for(let s=0;s<n.length;s++){const o=n[s].getAttribute("xlink:href");if(o){const l=t.querySelector(o),c=document.querySelector(o);!l&&c&&!r[o]&&(r[o]=await Ib(c,e,!0))}}const i=Object.values(r);if(i.length){const s="http://www.w3.org/1999/xhtml",a=document.createElementNS(s,"svg");a.setAttribute("xmlns",s),a.style.position="absolute",a.style.width="0",a.style.height="0",a.style.overflow="hidden",a.style.display="none";const o=document.createElementNS(s,"defs");a.appendChild(o);for(let l=0;l<i.length;l++)o.appendChild(i[l]);t.appendChild(a)}return t}async function Ib(t,e,n){return!n&&e.filter&&!e.filter(t)?null:Promise.resolve(t).then(r=>tye(r,e)).then(r=>rye(t,r,e)).then(r=>oye(t,r,e)).then(r=>lye(r,e))}const MH=/url\((['"]?)([^'"]+?)\1\)/g,cye=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,uye=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function dye(t){const e=t.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${e})(['"]?\\))`,"g")}function hye(t){const e=[];return t.replace(MH,(n,r,i)=>(e.push(i),n)),e.filter(n=>!PT(n))}async function fye(t,e,n,r,i){try{const s=n?Fme(e,n):e,a=Rk(e);let o;return i||(o=await Uk(s,a,r)),t.replace(dye(e),`$1${o}$3`)}catch{}return t}function pye(t,{preferredFontFormat:e}){return e?t.replace(uye,n=>{for(;;){const[r,,i]=cye.exec(n)||[];if(!i)return"";if(i===e)return`src: ${r};`}}):t}function OH(t){return t.search(MH)!==-1}async function NH(t,e,n){if(!OH(t))return t;const r=pye(t,n);return hye(r).reduce((s,a)=>s.then(o=>fye(o,a,e,n)),Promise.resolve(r))}async function tu(t,e,n){var r;const i=(r=e.style)===null||r===void 0?void 0:r.getPropertyValue(t);if(i){const s=await NH(i,null,n);return e.style.setProperty(t,s,e.style.getPropertyPriority(t)),!0}return!1}async function gye(t,e){await tu("background",t,e)||await tu("background-image",t,e),await tu("mask",t,e)||await tu("-webkit-mask",t,e)||await tu("mask-image",t,e)||await tu("-webkit-mask-image",t,e)}async function mye(t,e){const n=zr(t,HTMLImageElement);if(!(n&&!PT(t.src))&&!(zr(t,SVGImageElement)&&!PT(t.href.baseVal)))return;const r=n?t.src:t.href.baseVal,i=await Uk(r,Rk(r),e);await new Promise((s,a)=>{t.onload=s,t.onerror=e.onImageErrorHandler?(...l)=>{try{s(e.onImageErrorHandler(...l))}catch(c){a(c)}}:a;const o=t;o.decode&&(o.decode=s),o.loading==="lazy"&&(o.loading="eager"),n?(t.srcset="",t.src=i):t.href.baseVal=i})}async function yye(t,e){const r=wo(t.childNodes).map(i=>FH(i,e));await Promise.all(r).then(()=>t)}async function FH(t,e){zr(t,Element)&&(await gye(t,e),await mye(t,e),await yye(t,e))}function bye(t,e){const{style:n}=t;e.backgroundColor&&(n.backgroundColor=e.backgroundColor),e.width&&(n.width=`${e.width}px`),e.height&&(n.height=`${e.height}px`);const r=e.style;return r!=null&&Object.keys(r).forEach(i=>{n[i]=r[i]}),t}const sP={};async function aP(t){let e=sP[t];if(e!=null)return e;const r=await(await fetch(t)).text();return e={url:t,cssText:r},sP[t]=e,e}async function oP(t,e){let n=t.cssText;const r=/url\(["']?([^"')]+)["']?\)/g,s=(n.match(/url\([^)]+\)/g)||[]).map(async a=>{let o=a.replace(r,"$1");return o.startsWith("https://")||(o=new URL(o,t.url).href),RH(o,e.fetchRequestInit,({result:l})=>(n=n.replace(a,`url(${l})`),[a,l]))});return Promise.all(s).then(()=>n)}function lP(t){if(t==null)return[];const e=[],n=/(\/\*[\s\S]*?\*\/)/gi;let r=t.replace(n,"");const i=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const l=i.exec(r);if(l===null)break;e.push(l[0])}r=r.replace(i,"");const s=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,a="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",o=new RegExp(a,"gi");for(;;){let l=s.exec(r);if(l===null){if(l=o.exec(r),l===null)break;s.lastIndex=o.lastIndex}else o.lastIndex=s.lastIndex;e.push(l[0])}return e}async function vye(t,e){const n=[],r=[];return t.forEach(i=>{if("cssRules"in i)try{wo(i.cssRules||[]).forEach((s,a)=>{if(s.type===CSSRule.IMPORT_RULE){let o=a+1;const l=s.href,c=aP(l).then(d=>oP(d,e)).then(d=>lP(d).forEach(h=>{try{i.insertRule(h,h.startsWith("@import")?o+=1:i.cssRules.length)}catch(p){console.error("Error inserting rule from remote css",{rule:h,error:p})}})).catch(d=>{console.error("Error loading remote css",d.toString())});r.push(c)}})}catch(s){const a=t.find(o=>o.href==null)||document.styleSheets[0];i.href!=null&&r.push(aP(i.href).then(o=>oP(o,e)).then(o=>lP(o).forEach(l=>{a.insertRule(l,a.cssRules.length)})).catch(o=>{console.error("Error loading remote stylesheet",o)})),console.error("Error inlining remote css file",s)}}),Promise.all(r).then(()=>(t.forEach(i=>{if("cssRules"in i)try{wo(i.cssRules||[]).forEach(s=>{n.push(s)})}catch(s){console.error(`Error while reading CSS rules from ${i.href}`,s)}}),n))}function xye(t){return t.filter(e=>e.type===CSSRule.FONT_FACE_RULE).filter(e=>OH(e.style.getPropertyValue("src")))}async function wye(t,e){if(t.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=wo(t.ownerDocument.styleSheets),r=await vye(n,e);return xye(r)}function IH(t){return t.trim().replace(/["']/g,"")}function _ye(t){const e=new Set;function n(r){(r.style.fontFamily||getComputedStyle(r).fontFamily).split(",").forEach(s=>{e.add(IH(s))}),Array.from(r.children).forEach(s=>{s instanceof HTMLElement&&n(s)})}return n(t),e}async function Dye(t,e){const n=await wye(t,e),r=_ye(t);return(await Promise.all(n.filter(s=>r.has(IH(s.style.fontFamily))).map(s=>{const a=s.parentStyleSheet?s.parentStyleSheet.href:null;return NH(s.cssText,a,e)}))).join(`
`)}async function Eye(t,e){const n=e.fontEmbedCSS!=null?e.fontEmbedCSS:e.skipFonts?null:await Dye(t,e);if(n){const r=document.createElement("style"),i=document.createTextNode(n);r.appendChild(i),t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r)}}async function Sye(t,e={}){const{width:n,height:r}=kH(t,e),i=await Ib(t,e,!0);return await Eye(i,e),await FH(i,e),bye(i,e),await qme(i,n,r)}async function Aye(t,e={}){const{width:n,height:r}=kH(t,e),i=await Sye(t,e),s=await Gy(i),a=document.createElement("canvas"),o=a.getContext("2d"),l=e.pixelRatio||Bme(),c=e.canvasWidth||n,d=e.canvasHeight||r;return a.width=c*l,a.height=d*l,e.skipAutoScale||jme(a),a.style.width=`${c}`,a.style.height=`${d}`,e.backgroundColor&&(o.fillStyle=e.backgroundColor,o.fillRect(0,0,a.width,a.height)),o.drawImage(s,0,0,a.width,a.height),a}async function Tye(t,e={}){return(await Aye(t,e)).toDataURL()}const PH=V.memo(({data:t,selected:e})=>{const n=()=>{switch(t.subtype){case"database":return I.jsx(YW,{className:"h-3.5 w-3.5"});case"api":return I.jsx(XW,{className:"h-3.5 w-3.5"});case"user":return I.jsx(uk,{className:"h-3.5 w-3.5"});default:return I.jsx(zde,{className:"h-3.5 w-3.5"})}};return I.jsxs("div",{className:Et("group rounded-xl border bg-card px-4 py-3 min-w-[160px] max-w-[220px]","shadow-sm hover:shadow-md transition-all duration-200",e?"border-primary/50 shadow-md ring-2 ring-primary/20":"border-border/60 hover:border-primary/30"),children:[I.jsx(Us,{type:"target",position:Je.Top,className:"!bg-primary/60 !border-2 !border-card !w-3 !h-3 !-top-1.5"}),I.jsxs("div",{className:"flex items-start gap-3",children:[I.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-accent text-accent-foreground shrink-0",children:n()}),I.jsxs("div",{className:"flex-1 min-w-0 pt-0.5",children:[I.jsx("div",{className:"font-display font-medium text-sm leading-tight truncate",children:t.label}),t.description&&I.jsx("div",{className:"text-xs text-muted-foreground leading-snug mt-1 line-clamp-2",children:t.description})]})]}),I.jsx(Us,{type:"source",position:Je.Bottom,className:"!bg-primary/60 !border-2 !border-card !w-3 !h-3 !-bottom-1.5"})]})});PH.displayName="EntityNode";const LH=V.memo(({data:t,selected:e})=>{const n=()=>{switch(t.subtype){case"function":return I.jsx(ihe,{className:"h-3.5 w-3.5"});case"workflow":return I.jsx(Fde,{className:"h-3.5 w-3.5"});case"handler":return I.jsx(Rue,{className:"h-3.5 w-3.5"});default:return I.jsx(KW,{className:"h-3.5 w-3.5"})}};return I.jsxs("div",{className:Et("group rounded-xl border bg-card px-4 py-3 min-w-[160px] max-w-[220px]","shadow-sm hover:shadow-md transition-all duration-200",e?"border-primary/50 shadow-md ring-2 ring-primary/20":"border-border/60 hover:border-primary/30"),children:[I.jsx(Us,{type:"target",position:Je.Top,className:"!bg-primary !border-2 !border-card !w-3 !h-3 !-top-1.5"}),I.jsxs("div",{className:"flex items-start gap-3",children:[I.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-primary/10 text-primary shrink-0",children:n()}),I.jsxs("div",{className:"flex-1 min-w-0 pt-0.5",children:[I.jsx("div",{className:"font-display font-medium text-sm leading-tight truncate",children:t.label}),t.description&&I.jsx("div",{className:"text-xs text-muted-foreground leading-snug mt-1 line-clamp-2",children:t.description})]})]}),I.jsx(Us,{type:"source",position:Je.Bottom,className:"!bg-primary !border-2 !border-card !w-3 !h-3 !-bottom-1.5"})]})});LH.displayName="ProcessNode";const BH=V.memo(({data:t,selected:e})=>{const r=(()=>{if(t.resolved)return{border:"border-muted border-dashed",bg:"bg-muted/30",iconBg:"bg-muted",icon:"text-muted-foreground"};switch(t.severity){case"high":return{border:"border-destructive/40",bg:"bg-destructive/5",iconBg:"bg-destructive/10",icon:"text-destructive"};case"medium":return{border:"border-amber-400/50",bg:"bg-amber-50",iconBg:"bg-amber-100",icon:"text-amber-600"};default:return{border:"border-orange-300/50",bg:"bg-orange-50",iconBg:"bg-orange-100",icon:"text-orange-500"}}})();return I.jsxs("div",{className:Et("group rounded-xl border px-4 py-3 min-w-[160px] max-w-[220px]","shadow-sm hover:shadow-md transition-all duration-200",r.border,r.bg,e&&"shadow-md ring-2 ring-primary/20",t.resolved&&"opacity-70"),children:[I.jsx(Us,{type:"target",position:Je.Top,className:"!bg-amber-400 !border-2 !border-card !w-3 !h-3 !-top-1.5"}),I.jsxs("div",{className:"flex items-start gap-3",children:[I.jsx("div",{className:Et("flex h-8 w-8 items-center justify-center rounded-lg shrink-0",r.iconBg),children:t.resolved?I.jsx(zue,{className:Et("h-4 w-4",r.icon)}):t.severity==="high"?I.jsx(wf,{className:Et("h-4 w-4",r.icon)}):I.jsx(Wue,{className:Et("h-4 w-4",r.icon)})}),I.jsxs("div",{className:"flex-1 min-w-0 pt-0.5",children:[I.jsx("div",{className:Et("font-display font-medium text-sm leading-tight truncate",t.resolved&&"line-through opacity-60"),children:t.label}),t.description&&I.jsx("div",{className:"text-xs text-muted-foreground leading-snug mt-1 line-clamp-2",children:t.description})]})]}),I.jsx(Us,{type:"source",position:Je.Bottom,className:"!bg-amber-400 !border-2 !border-card !w-3 !h-3 !-bottom-1.5"})]})});BH.displayName="GapNode";const Cye={entity:PH,process:LH,gap:BH};function kye({onZoomIn:t,onZoomOut:e,onFitView:n,onAutoLayout:r,onExportPng:i,onAddNode:s,onDelete:a,onReview:o,hasSelection:l,hasNodes:c,isReviewing:d}){const[h,p]=V.useState({x:16,y:16}),[g,v]=V.useState(!1),y=V.useRef(null),b=V.useRef(null),x=V.useCallback(w=>{const D=w.target;D.closest("button")||D.closest('[role="menuitem"]')||(w.preventDefault(),v(!0),y.current={mouseX:w.clientX,mouseY:w.clientY,posX:h.x,posY:h.y})},[h]);return V.useEffect(()=>{if(!g)return;const w=E=>{if(!y.current||!b.current)return;const A=b.current.parentElement;if(!A)return;const S=E.clientX-y.current.mouseX,T=E.clientY-y.current.mouseY,M=y.current.posX-S,R=y.current.posY-T,O=A.getBoundingClientRect(),z=b.current.getBoundingClientRect(),F=O.width-z.width-8,q=O.height-z.height-8;p({x:Math.max(8,Math.min(M,F)),y:Math.max(8,Math.min(R,q))})},D=()=>{v(!1),y.current=null};return window.addEventListener("mousemove",w),window.addEventListener("mouseup",D),()=>{window.removeEventListener("mousemove",w),window.removeEventListener("mouseup",D)}},[g]),I.jsxs("div",{ref:b,className:"absolute z-10 flex gap-0.5 rounded-xl border border-border/50 bg-card/90 backdrop-blur-sm p-1.5 shadow-md select-none cursor-move",style:{bottom:h.y,right:h.x},onMouseDown:x,children:[s&&I.jsxs(I.Fragment,{children:[I.jsxs(Tk,{children:[I.jsx(Ck,{asChild:!0,children:I.jsx(dt,{variant:"ghost",size:"icon",title:"Node hinzufgen",className:"cursor-pointer",children:I.jsx(QW,{className:"h-4 w-4"})})}),I.jsxs(Fb,{align:"end",children:[I.jsxs(Sf,{onClick:()=>s("entity"),children:[I.jsx(YW,{className:"mr-2 h-4 w-4"}),"Entitt (Daten/Service)"]}),I.jsxs(Sf,{onClick:()=>s("process"),children:[I.jsx(KW,{className:"mr-2 h-4 w-4"}),"Prozess (Logik)"]})]})]}),I.jsx("div",{className:"w-px bg-border"})]}),I.jsx(dt,{variant:"ghost",size:"icon",onClick:t,title:"Zoom in",className:"cursor-pointer",children:I.jsx(ahe,{className:"h-4 w-4"})}),I.jsx(dt,{variant:"ghost",size:"icon",onClick:e,title:"Zoom out",className:"cursor-pointer",children:I.jsx(lhe,{className:"h-4 w-4"})}),I.jsx(dt,{variant:"ghost",size:"icon",onClick:n,title:"Fit view",className:"cursor-pointer",children:I.jsx(ZW,{className:"h-4 w-4"})}),I.jsx("div",{className:"w-px bg-border"}),I.jsx(dt,{variant:"ghost",size:"icon",onClick:r,title:"Auto layout",className:"cursor-pointer",children:I.jsx(fde,{className:"h-4 w-4"})}),I.jsx(dt,{variant:"ghost",size:"icon",onClick:i,title:"Export PNG",className:"cursor-pointer",children:I.jsx(lk,{className:"h-4 w-4"})}),o&&I.jsxs(I.Fragment,{children:[I.jsx("div",{className:"w-px bg-border"}),I.jsx(dt,{variant:"ghost",size:"icon",onClick:o,disabled:!c||d,title:c?"KI-Review (Opus 4.5)":"Nodes hinzufgen fr Review",className:c?"cursor-pointer text-primary hover:text-primary hover:bg-primary/10":"cursor-pointer text-muted-foreground",children:d?I.jsx(xo,{className:"h-4 w-4 animate-spin"}):I.jsx(Hde,{className:"h-4 w-4"})})]}),a&&I.jsxs(I.Fragment,{children:[I.jsx("div",{className:"w-px bg-border"}),I.jsx(dt,{variant:"ghost",size:"icon",onClick:a,disabled:!l,title:l?"Lschen (Delete/Backspace)":"Node auswhlen zum Lschen",className:l?"cursor-pointer text-destructive hover:text-destructive hover:bg-destructive/10":"cursor-pointer text-muted-foreground",children:I.jsx(ck,{className:"h-4 w-4"})})]})]})}const Mk=V.createContext({});function Ok(t){const e=V.useRef(null);return e.current===null&&(e.current=t()),e.current}const jH=typeof window<"u",zH=jH?V.useLayoutEffect:V.useEffect,Pb=V.createContext(null);function Nk(t,e){t.indexOf(e)===-1&&t.push(e)}function Fk(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Os=(t,e,n)=>n>e?e:n<t?t:n;let Ik=()=>{};const _a={},qH=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function WH(t){return typeof t=="object"&&t!==null}const VH=t=>/^0[^.\s]+$/u.test(t);function Pk(t){let e;return()=>(e===void 0&&(e=t()),e)}const qi=t=>t,Rye=(t,e)=>n=>e(t(n)),np=(...t)=>t.reduce(Rye),Af=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class Lk{constructor(){this.subscriptions=[]}add(e){return Nk(this.subscriptions,e),()=>Fk(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const a=this.subscriptions[s];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ma=t=>t*1e3,ji=t=>t/1e3;function HH(t,e){return e?t*(1e3/e):0}const $H=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Uye=1e-7,Mye=12;function Oye(t,e,n,r,i){let s,a,o=0;do a=e+(n-e)/2,s=$H(a,r,i)-t,s>0?n=a:e=a;while(Math.abs(s)>Uye&&++o<Mye);return a}function rp(t,e,n,r){if(t===e&&n===r)return qi;const i=s=>Oye(s,0,1,t,n);return s=>s===0||s===1?s:$H(i(s),e,r)}const GH=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,XH=t=>e=>1-t(1-e),KH=rp(.33,1.53,.69,.99),Bk=XH(KH),YH=GH(Bk),ZH=t=>(t*=2)<1?.5*Bk(t):.5*(2-Math.pow(2,-10*(t-1))),jk=t=>1-Math.sin(Math.acos(t)),JH=XH(jk),QH=GH(jk),Nye=rp(.42,0,1,1),Fye=rp(0,0,.58,1),e$=rp(.42,0,.58,1),Iye=t=>Array.isArray(t)&&typeof t[0]!="number",t$=t=>Array.isArray(t)&&typeof t[0]=="number",Pye={linear:qi,easeIn:Nye,easeInOut:e$,easeOut:Fye,circIn:jk,circInOut:QH,circOut:JH,backIn:Bk,backInOut:YH,backOut:KH,anticipate:ZH},Lye=t=>typeof t=="string",cP=t=>{if(t$(t)){Ik(t.length===4);const[e,n,r,i]=t;return rp(e,n,r,i)}else if(Lye(t))return Pye[t];return t},dm=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Bye(t,e){let n=new Set,r=new Set,i=!1,s=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(d){a.has(d)&&(c.schedule(d),t()),d(o)}const c={schedule:(d,h=!1,p=!1)=>{const v=p&&i?n:r;return h&&a.add(d),v.has(d)||v.add(d),d},cancel:d=>{r.delete(d),a.delete(d)},process:d=>{if(o=d,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(l),n.clear(),i=!1,s&&(s=!1,c.process(d))}};return c}const jye=40;function n$(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,a=dm.reduce((D,E)=>(D[E]=Bye(s),D),{}),{setup:o,read:l,resolveKeyframes:c,preUpdate:d,update:h,preRender:p,render:g,postRender:v}=a,y=()=>{const D=_a.useManualTiming?i.timestamp:performance.now();n=!1,_a.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(D-i.timestamp,jye),1)),i.timestamp=D,i.isProcessing=!0,o.process(i),l.process(i),c.process(i),d.process(i),h.process(i),p.process(i),g.process(i),v.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(y))},b=()=>{n=!0,r=!0,i.isProcessing||t(y)};return{schedule:dm.reduce((D,E)=>{const A=a[E];return D[E]=(S,T=!1,M=!1)=>(n||b(),A.schedule(S,T,M)),D},{}),cancel:D=>{for(let E=0;E<dm.length;E++)a[dm[E]].cancel(D)},state:i,steps:a}}const{schedule:an,cancel:Ao,state:sr,steps:Lx}=n$(typeof requestAnimationFrame<"u"?requestAnimationFrame:qi,!0);let Xm;function zye(){Xm=void 0}const Dr={now:()=>(Xm===void 0&&Dr.set(sr.isProcessing||_a.useManualTiming?sr.timestamp:performance.now()),Xm),set:t=>{Xm=t,queueMicrotask(zye)}},r$=t=>e=>typeof e=="string"&&e.startsWith(t),i$=r$("--"),qye=r$("var(--"),zk=t=>qye(t)?Wye.test(t.split("/*")[0].trim()):!1,Wye=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function uP(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const sd={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Tf={...sd,transform:t=>Os(0,1,t)},hm={...sd,default:1},Yh=t=>Math.round(t*1e5)/1e5,qk=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Vye(t){return t==null}const Hye=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Wk=(t,e)=>n=>!!(typeof n=="string"&&Hye.test(n)&&n.startsWith(t)||e&&!Vye(n)&&Object.prototype.hasOwnProperty.call(n,e)),s$=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,a,o]=r.match(qk);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},$ye=t=>Os(0,255,t),Bx={...sd,transform:t=>Math.round($ye(t))},_l={test:Wk("rgb","red"),parse:s$("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Bx.transform(t)+", "+Bx.transform(e)+", "+Bx.transform(n)+", "+Yh(Tf.transform(r))+")"};function Gye(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const LT={test:Wk("#"),parse:Gye,transform:_l.transform},ip=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),lo=ip("deg"),Rs=ip("%"),Ye=ip("px"),Xye=ip("vh"),Kye=ip("vw"),dP={...Rs,parse:t=>Rs.parse(t)/100,transform:t=>Rs.transform(t*100)},yu={test:Wk("hsl","hue"),parse:s$("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Rs.transform(Yh(e))+", "+Rs.transform(Yh(n))+", "+Yh(Tf.transform(r))+")"},Fn={test:t=>_l.test(t)||LT.test(t)||yu.test(t),parse:t=>_l.test(t)?_l.parse(t):yu.test(t)?yu.parse(t):LT.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?_l.transform(t):yu.transform(t),getAnimatableNone:t=>{const e=Fn.parse(t);return e.alpha=0,Fn.transform(e)}},Yye=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Zye(t){return isNaN(t)&&typeof t=="string"&&(t.match(qk)?.length||0)+(t.match(Yye)?.length||0)>0}const a$="number",o$="color",Jye="var",Qye="var(",hP="${}",ebe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Cf(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const o=e.replace(ebe,l=>(Fn.test(l)?(r.color.push(s),i.push(o$),n.push(Fn.parse(l))):l.startsWith(Qye)?(r.var.push(s),i.push(Jye),n.push(l)):(r.number.push(s),i.push(a$),n.push(parseFloat(l))),++s,hP)).split(hP);return{values:n,split:o,indexes:r,types:i}}function l$(t){return Cf(t).values}function c$(t){const{split:e,types:n}=Cf(t),r=e.length;return i=>{let s="";for(let a=0;a<r;a++)if(s+=e[a],i[a]!==void 0){const o=n[a];o===a$?s+=Yh(i[a]):o===o$?s+=Fn.transform(i[a]):s+=i[a]}return s}}const tbe=t=>typeof t=="number"?0:Fn.test(t)?Fn.getAnimatableNone(t):t;function nbe(t){const e=l$(t);return c$(t)(e.map(tbe))}const To={test:Zye,parse:l$,createTransformer:c$,getAnimatableNone:nbe};function jx(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function rbe({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,a=0;if(!e)i=s=a=n;else{const o=n<.5?n*(1+e):n+e-n*e,l=2*n-o;i=jx(l,o,t+1/3),s=jx(l,o,t),a=jx(l,o,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:r}}function Xy(t,e){return n=>n>0?e:t}const hn=(t,e,n)=>t+(e-t)*n,zx=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},ibe=[LT,_l,yu],sbe=t=>ibe.find(e=>e.test(t));function fP(t){const e=sbe(t);if(!e)return!1;let n=e.parse(t);return e===yu&&(n=rbe(n)),n}const pP=(t,e)=>{const n=fP(t),r=fP(e);if(!n||!r)return Xy(t,e);const i={...n};return s=>(i.red=zx(n.red,r.red,s),i.green=zx(n.green,r.green,s),i.blue=zx(n.blue,r.blue,s),i.alpha=hn(n.alpha,r.alpha,s),_l.transform(i))},BT=new Set(["none","hidden"]);function abe(t,e){return BT.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function obe(t,e){return n=>hn(t,e,n)}function Vk(t){return typeof t=="number"?obe:typeof t=="string"?zk(t)?Xy:Fn.test(t)?pP:ube:Array.isArray(t)?u$:typeof t=="object"?Fn.test(t)?pP:lbe:Xy}function u$(t,e){const n=[...t],r=n.length,i=t.map((s,a)=>Vk(s)(s,e[a]));return s=>{for(let a=0;a<r;a++)n[a]=i[a](s);return n}}function lbe(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=Vk(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function cbe(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],a=t.indexes[s][r[s]],o=t.values[a]??0;n[i]=o,r[s]++}return n}const ube=(t,e)=>{const n=To.createTransformer(e),r=Cf(t),i=Cf(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?BT.has(t)&&!i.values.length||BT.has(e)&&!r.values.length?abe(t,e):np(u$(cbe(r,i),i.values),n):Xy(t,e)};function d$(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?hn(t,e,n):Vk(t)(t,e)}const dbe=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>an.update(e,n),stop:()=>Ao(e),now:()=>sr.isProcessing?sr.timestamp:Dr.now()}},h$=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=Math.round(t(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Ky=2e4;function Hk(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Ky;)e+=n,r=t.next(e);return e>=Ky?1/0:e}function hbe(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(Hk(r),Ky);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:ji(i)}}const fbe=5;function f$(t,e,n){const r=Math.max(e-fbe,0);return HH(n-t(r),e-r)}const bn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},qx=.001;function pbe({duration:t=bn.duration,bounce:e=bn.bounce,velocity:n=bn.velocity,mass:r=bn.mass}){let i,s,a=1-e;a=Os(bn.minDamping,bn.maxDamping,a),t=Os(bn.minDuration,bn.maxDuration,ji(t)),a<1?(i=c=>{const d=c*a,h=d*t,p=d-n,g=jT(c,a),v=Math.exp(-h);return qx-p/g*v},s=c=>{const h=c*a*t,p=h*n+n,g=Math.pow(a,2)*Math.pow(c,2)*t,v=Math.exp(-h),y=jT(Math.pow(c,2),a);return(-i(c)+qx>0?-1:1)*((p-g)*v)/y}):(i=c=>{const d=Math.exp(-c*t),h=(c-n)*t+1;return-qx+d*h},s=c=>{const d=Math.exp(-c*t),h=(n-c)*(t*t);return d*h});const o=5/t,l=mbe(i,s,o);if(t=ma(t),isNaN(l))return{stiffness:bn.stiffness,damping:bn.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:a*2*Math.sqrt(r*c),duration:t}}}const gbe=12;function mbe(t,e,n){let r=n;for(let i=1;i<gbe;i++)r=r-t(r)/e(r);return r}function jT(t,e){return t*Math.sqrt(1-e*e)}const ybe=["duration","bounce"],bbe=["stiffness","damping","mass"];function gP(t,e){return e.some(n=>t[n]!==void 0)}function vbe(t){let e={velocity:bn.velocity,stiffness:bn.stiffness,damping:bn.damping,mass:bn.mass,isResolvedFromDuration:!1,...t};if(!gP(t,bbe)&&gP(t,ybe))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*Os(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:bn.mass,stiffness:i,damping:s}}else{const n=pbe(t);e={...e,...n,mass:bn.mass},e.isResolvedFromDuration=!0}return e}function Yy(t=bn.visualDuration,e=bn.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],o={done:!1,value:s},{stiffness:l,damping:c,mass:d,duration:h,velocity:p,isResolvedFromDuration:g}=vbe({...n,velocity:-ji(n.velocity||0)}),v=p||0,y=c/(2*Math.sqrt(l*d)),b=a-s,x=ji(Math.sqrt(l/d)),w=Math.abs(b)<5;r||(r=w?bn.restSpeed.granular:bn.restSpeed.default),i||(i=w?bn.restDelta.granular:bn.restDelta.default);let D;if(y<1){const A=jT(x,y);D=S=>{const T=Math.exp(-y*x*S);return a-T*((v+y*x*b)/A*Math.sin(A*S)+b*Math.cos(A*S))}}else if(y===1)D=A=>a-Math.exp(-x*A)*(b+(v+x*b)*A);else{const A=x*Math.sqrt(y*y-1);D=S=>{const T=Math.exp(-y*x*S),M=Math.min(A*S,300);return a-T*((v+y*x*b)*Math.sinh(M)+A*b*Math.cosh(M))/A}}const E={calculatedDuration:g&&h||null,next:A=>{const S=D(A);if(g)o.done=A>=h;else{let T=A===0?v:0;y<1&&(T=A===0?ma(v):f$(D,A,S));const M=Math.abs(T)<=r,R=Math.abs(a-S)<=i;o.done=M&&R}return o.value=o.done?a:S,o},toString:()=>{const A=Math.min(Hk(E),Ky),S=h$(T=>E.next(A*T).value,A,30);return A+"ms "+S},toTransition:()=>{}};return E}Yy.applyToOptions=t=>{const e=hbe(t,100,Yy);return t.ease=e.ease,t.duration=ma(e.duration),t.type="keyframes",t};function zT({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:o,max:l,restDelta:c=.5,restSpeed:d}){const h=t[0],p={done:!1,value:h},g=M=>o!==void 0&&M<o||l!==void 0&&M>l,v=M=>o===void 0?l:l===void 0||Math.abs(o-M)<Math.abs(l-M)?o:l;let y=n*e;const b=h+y,x=a===void 0?b:a(b);x!==b&&(y=x-h);const w=M=>-y*Math.exp(-M/r),D=M=>x+w(M),E=M=>{const R=w(M),O=D(M);p.done=Math.abs(R)<=c,p.value=p.done?x:O};let A,S;const T=M=>{g(p.value)&&(A=M,S=Yy({keyframes:[p.value,v(p.value)],velocity:f$(D,M,p.value),damping:i,stiffness:s,restDelta:c,restSpeed:d}))};return T(0),{calculatedDuration:null,next:M=>{let R=!1;return!S&&A===void 0&&(R=!0,E(M),T(M)),A!==void 0&&M>=A?S.next(M-A):(!R&&E(M),p)}}}function xbe(t,e,n){const r=[],i=n||_a.mix||d$,s=t.length-1;for(let a=0;a<s;a++){let o=i(t[a],t[a+1]);if(e){const l=Array.isArray(e)?e[a]||qi:e;o=np(l,o)}r.push(o)}return r}function wbe(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(Ik(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=xbe(e,r,i),l=o.length,c=d=>{if(a&&d<t[0])return e[0];let h=0;if(l>1)for(;h<t.length-2&&!(d<t[h+1]);h++);const p=Af(t[h],t[h+1],d);return o[h](p)};return n?d=>c(Os(t[0],t[s-1],d)):c}function _be(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Af(0,e,r);t.push(hn(n,1,i))}}function Dbe(t){const e=[0];return _be(e,t.length-1),e}function Ebe(t,e){return t.map(n=>n*e)}function Sbe(t,e){return t.map(()=>e||e$).splice(0,t.length-1)}function Zh({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=Iye(r)?r.map(cP):cP(r),s={done:!1,value:e[0]},a=Ebe(n&&n.length===e.length?n:Dbe(e),t),o=wbe(a,e,{ease:Array.isArray(i)?i:Sbe(e,i)});return{calculatedDuration:t,next:l=>(s.value=o(l),s.done=l>=t,s)}}const Abe=t=>t!==null;function $k(t,{repeat:e,repeatType:n="loop"},r,i=1){const s=t.filter(Abe),o=i<0||e&&n!=="loop"&&e%2===1?0:s.length-1;return!o||r===void 0?s[o]:r}const Tbe={decay:zT,inertia:zT,tween:Zh,keyframes:Zh,spring:Yy};function p$(t){typeof t.type=="string"&&(t.type=Tbe[t.type])}class Gk{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const Cbe=t=>t/100;class Xk extends Gk{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Dr.now()&&this.tick(Dr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;p$(e);const{type:n=Zh,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:a=0}=e;let{keyframes:o}=e;const l=n||Zh;l!==Zh&&typeof o[0]!="number"&&(this.mixKeyframes=np(Cbe,d$(o[0],o[1])),o=[0,100]);const c=l({...e,keyframes:o});s==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...o].reverse(),velocity:-a})),c.calculatedDuration===null&&(c.calculatedDuration=Hk(c));const{calculatedDuration:d}=c;this.calculatedDuration=d,this.resolvedDuration=d+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=c}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:a,resolvedDuration:o,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:c=0,keyframes:d,repeat:h,repeatType:p,repeatDelay:g,type:v,onUpdate:y,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const x=this.currentTime-c*(this.playbackSpeed>=0?1:-1),w=this.playbackSpeed>=0?x<0:x>i;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let D=this.currentTime,E=r;if(h){const M=Math.min(this.currentTime,i)/o;let R=Math.floor(M),O=M%1;!O&&M>=1&&(O=1),O===1&&R--,R=Math.min(R,h+1),R%2&&(p==="reverse"?(O=1-O,g&&(O-=g/o)):p==="mirror"&&(E=a)),D=Os(0,1,O)*o}const A=w?{done:!1,value:d[0]}:E.next(D);s&&(A.value=s(A.value));let{done:S}=A;!w&&l!==null&&(S=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&S);return T&&v!==zT&&(A.value=$k(d,this.options,b,this.speed)),y&&y(A.value),T&&this.finish(),A}then(e,n){return this.finished.then(e,n)}get duration(){return ji(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ji(e)}get time(){return ji(this.currentTime)}set time(e){e=ma(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Dr.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ji(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=dbe,startTime:n}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Dr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function kbe(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Dl=t=>t*180/Math.PI,qT=t=>{const e=Dl(Math.atan2(t[1],t[0]));return WT(e)},Rbe={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:qT,rotateZ:qT,skewX:t=>Dl(Math.atan(t[1])),skewY:t=>Dl(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},WT=t=>(t=t%360,t<0&&(t+=360),t),mP=qT,yP=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),bP=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Ube={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:yP,scaleY:bP,scale:t=>(yP(t)+bP(t))/2,rotateX:t=>WT(Dl(Math.atan2(t[6],t[5]))),rotateY:t=>WT(Dl(Math.atan2(-t[2],t[0]))),rotateZ:mP,rotate:mP,skewX:t=>Dl(Math.atan(t[4])),skewY:t=>Dl(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function VT(t){return t.includes("scale")?1:0}function HT(t,e){if(!t||t==="none")return VT(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=Ube,i=n;else{const o=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=Rbe,i=o}if(!i)return VT(e);const s=r[e],a=i[1].split(",").map(Obe);return typeof s=="function"?s(a):a[s]}const Mbe=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return HT(n,e)};function Obe(t){return parseFloat(t.trim())}const ad=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],od=new Set(ad),vP=t=>t===sd||t===Ye,Nbe=new Set(["x","y","z"]),Fbe=ad.filter(t=>!Nbe.has(t));function Ibe(t){const e=[];return Fbe.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const yo={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>HT(e,"x"),y:(t,{transform:e})=>HT(e,"y")};yo.translateX=yo.x;yo.translateY=yo.y;const Ul=new Set;let $T=!1,GT=!1,XT=!1;function g$(){if(GT){const t=Array.from(Ul).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=Ibe(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,a])=>{r.getValue(s)?.set(a)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}GT=!1,$T=!1,Ul.forEach(t=>t.complete(XT)),Ul.clear()}function m$(){Ul.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(GT=!0)})}function Pbe(){XT=!0,m$(),g$(),XT=!1}class Kk{constructor(e,n,r,i,s,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(Ul.add(this),$T||($T=!0,an.read(m$),an.resolveKeyframes(g$))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const s=i?.get(),a=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const o=r.readValue(n,a);o!=null&&(e[0]=o)}e[0]===void 0&&(e[0]=a),i&&s===void 0&&i.set(e[0])}kbe(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ul.delete(this)}cancel(){this.state==="scheduled"&&(Ul.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Lbe=t=>t.startsWith("--");function Bbe(t,e,n){Lbe(e)?t.style.setProperty(e,n):t.style[e]=n}const jbe=Pk(()=>window.ScrollTimeline!==void 0),zbe={};function qbe(t,e){const n=Pk(t);return()=>zbe[e]??n()}const y$=qbe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),jh=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,xP={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:jh([0,.65,.55,1]),circOut:jh([.55,0,1,.45]),backIn:jh([.31,.01,.66,-.59]),backOut:jh([.33,1.53,.69,.99])};function b$(t,e){if(t)return typeof t=="function"?y$()?h$(t,e):"ease-out":t$(t)?jh(t):Array.isArray(t)?t.map(n=>b$(n,e)||xP.easeOut):xP[t]}function Wbe(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:a="loop",ease:o="easeOut",times:l}={},c=void 0){const d={[e]:n};l&&(d.offset=l);const h=b$(o,i);Array.isArray(h)&&(d.easing=h);const p={delay:r,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"};return c&&(p.pseudoElement=c),t.animate(d,p)}function v$(t){return typeof t=="function"&&"applyToOptions"in t}function Vbe({type:t,...e}){return v$(t)&&y$()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Hbe extends Gk{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:a=!1,finalKeyframe:o,onComplete:l}=e;this.isPseudoElement=!!s,this.allowFlatten=a,this.options=e,Ik(typeof e.type!="string");const c=Vbe(e);this.animation=Wbe(n,r,i,c,s),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const d=$k(i,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(d):Bbe(n,r,d),this.animation.cancel()}l?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return ji(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ji(e)}get time(){return ji(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=ma(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&jbe()?(this.animation.timeline=e,qi):n(this)}}const x$={anticipate:ZH,backInOut:YH,circInOut:QH};function $be(t){return t in x$}function Gbe(t){typeof t.ease=="string"&&$be(t.ease)&&(t.ease=x$[t.ease])}const Wx=10;class Xbe extends Hbe{constructor(e){Gbe(e),p$(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...a}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const o=new Xk({...a,autoplay:!1}),l=Math.max(Wx,Dr.now()-this.startTime),c=Os(0,Wx,l-Wx);n.setWithVelocity(o.sample(Math.max(0,l-c)).value,o.sample(l).value,c),o.stop()}}const wP=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(To.test(t)||t==="0")&&!t.startsWith("url("));function Kbe(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Ybe(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],a=wP(i,e),o=wP(s,e);return!a||!o?!1:Kbe(t)||(n==="spring"||v$(n))&&r}function KT(t){t.duration=0,t.type="keyframes"}const Zbe=new Set(["opacity","clipPath","filter","transform"]),Jbe=Pk(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Qbe(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:s,type:a}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=e.owner.getProps();return Jbe()&&n&&Zbe.has(n)&&(n!=="transform"||!c)&&!l&&!r&&i!=="mirror"&&s!==0&&a!=="inertia"}const eve=40;class tve extends Gk{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",keyframes:o,name:l,motionValue:c,element:d,...h}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Dr.now();const p={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:a,name:l,motionValue:c,element:d,...h},g=d?.KeyframeResolver||Kk;this.keyframeResolver=new g(o,(v,y,b)=>this.onKeyframesResolved(v,y,p,!b),l,c,d),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:s,type:a,velocity:o,delay:l,isHandoff:c,onUpdate:d}=r;this.resolvedAt=Dr.now(),Ybe(e,s,a,o)||((_a.instantAnimations||!l)&&d?.($k(e,r,n)),e[0]=e[e.length-1],KT(r),r.repeat=0);const p={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>eve?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},g=!c&&Qbe(p),v=p.motionValue?.owner?.current,y=g?new Xbe({...p,element:v}):new Xk(p);y.finished.then(()=>{this.notifyFinished()}).catch(qi),this.pendingTimeline&&(this.stopTimeline=y.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=y}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Pbe()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function w$(t,e,n,r=0,i=1){const s=Array.from(t).sort((c,d)=>c.sortNodePosition(d)).indexOf(e),a=t.size,o=(a-1)*r;return typeof n=="function"?n(s,a):i===1?s*r:o-s*r}const nve=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function rve(t){const e=nve.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function _$(t,e,n=1){const[r,i]=rve(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const a=s.trim();return qH(a)?parseFloat(a):a}return zk(i)?_$(i,e,n+1):i}const ive={type:"spring",stiffness:500,damping:25,restSpeed:10},sve=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),ave={type:"keyframes",duration:.8},ove={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},lve=(t,{keyframes:e})=>e.length>2?ave:od.has(t)?t.startsWith("scale")?sve(e[1]):ive:ove,cve=t=>t!==null;function uve(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(cve),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[s]}function Yk(t,e){return t?.[e]??t?.default??t}function dve({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:o,from:l,elapsed:c,...d}){return!!Object.keys(d).length}const Zk=(t,e,n,r={},i,s)=>a=>{const o=Yk(r,t)||{},l=o.delay||r.delay||0;let{elapsed:c=0}=r;c=c-ma(l);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-c,onUpdate:p=>{e.set(p),o.onUpdate&&o.onUpdate(p)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:t,motionValue:e,element:s?void 0:i};dve(o)||Object.assign(d,lve(t,d)),d.duration&&(d.duration=ma(d.duration)),d.repeatDelay&&(d.repeatDelay=ma(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(KT(d),d.delay===0&&(h=!0)),(_a.instantAnimations||_a.skipAnimations)&&(h=!0,KT(d),d.delay=0),d.allowFlatten=!o.type&&!o.ease,h&&!s&&e.get()!==void 0){const p=uve(d.keyframes,o);if(p!==void 0){an.update(()=>{d.onUpdate(p),d.onComplete()});return}}return o.isSync?new Xk(d):new tve(d)};function _P(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Jk(t,e,n,r){if(typeof e=="function"){const[i,s]=_P(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=_P(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function Ru(t,e,n){const r=t.getProps();return Jk(r,e,n!==void 0?n:r.custom,t)}const D$=new Set(["width","height","top","left","right","bottom",...ad]),DP=30,hve=t=>!isNaN(parseFloat(t));class fve{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const i=Dr.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const s of this.dependents)s.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Dr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=hve(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Lk);const r=this.events[e].add(n);return e==="change"?()=>{r(),an.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Dr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>DP)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,DP);return HH(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Wu(t,e){return new fve(t,e)}const YT=t=>Array.isArray(t);function pve(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Wu(n))}function gve(t){return YT(t)?t[t.length-1]||0:t}function mve(t,e){const n=Ru(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const a in s){const o=gve(s[a]);pve(t,a,o)}}const ur=t=>!!(t&&t.getVelocity);function yve(t){return!!(ur(t)&&t.add)}function ZT(t,e){const n=t.getValue("willChange");if(yve(n))return n.add(e);if(!n&&_a.WillChange){const r=new _a.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function Qk(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const bve="framerAppearId",E$="data-"+Qk(bve);function S$(t){return t.props[E$]}function vve({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function A$(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:a,...o}=e;const l=s?.reduceMotion;r&&(s=r);const c=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const h in o){const p=t.getValue(h,t.latestValues[h]??null),g=o[h];if(g===void 0||d&&vve(d,h))continue;const v={delay:n,...Yk(s||{},h)},y=p.get();if(y!==void 0&&!p.isAnimating&&!Array.isArray(g)&&g===y&&!v.velocity)continue;let b=!1;if(window.MotionHandoffAnimation){const D=S$(t);if(D){const E=window.MotionHandoffAnimation(D,h,an);E!==null&&(v.startTime=E,b=!0)}}ZT(t,h);const x=l??t.shouldReduceMotion;p.start(Zk(h,p,g,x&&D$.has(h)?{type:!1}:v,t,b));const w=p.animation;w&&c.push(w)}return a&&Promise.all(c).then(()=>{an.update(()=>{a&&mve(t,a)})}),c}function JT(t,e,n={}){const r=Ru(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(A$(t,r,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:d,staggerDirection:h}=i;return xve(t,e,l,c,d,h,n)}:()=>Promise.resolve(),{when:o}=i;if(o){const[l,c]=o==="beforeChildren"?[s,a]:[a,s];return l().then(()=>c())}else return Promise.all([s(),a(n.delay)])}function xve(t,e,n=0,r=0,i=0,s=1,a){const o=[];for(const l of t.variantChildren)l.notify("AnimationStart",e),o.push(JT(l,e,{...a,delay:n+(typeof r=="function"?0:r)+w$(t.variantChildren,l,r,i,s)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(o)}function wve(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>JT(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=JT(t,e,n);else{const i=typeof e=="function"?Ru(t,e,n.custom):e;r=Promise.all(A$(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const _ve={test:t=>t==="auto",parse:t=>t},T$=t=>e=>e.test(t),C$=[sd,Ye,Rs,lo,Kye,Xye,_ve],EP=t=>C$.find(T$(t));function Dve(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||VH(t):!0}const Eve=new Set(["brightness","contrast","saturate","opacity"]);function Sve(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(qk)||[];if(!r)return t;const i=n.replace(r,"");let s=Eve.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const Ave=/\b([a-z-]*)\(.*?\)/gu,QT={...To,getAnimatableNone:t=>{const e=t.match(Ave);return e?e.map(Sve).join(" "):t}},SP={...sd,transform:Math.round},Tve={rotate:lo,rotateX:lo,rotateY:lo,rotateZ:lo,scale:hm,scaleX:hm,scaleY:hm,scaleZ:hm,skew:lo,skewX:lo,skewY:lo,distance:Ye,translateX:Ye,translateY:Ye,translateZ:Ye,x:Ye,y:Ye,z:Ye,perspective:Ye,transformPerspective:Ye,opacity:Tf,originX:dP,originY:dP,originZ:Ye},eR={borderWidth:Ye,borderTopWidth:Ye,borderRightWidth:Ye,borderBottomWidth:Ye,borderLeftWidth:Ye,borderRadius:Ye,borderTopLeftRadius:Ye,borderTopRightRadius:Ye,borderBottomRightRadius:Ye,borderBottomLeftRadius:Ye,width:Ye,maxWidth:Ye,height:Ye,maxHeight:Ye,top:Ye,right:Ye,bottom:Ye,left:Ye,inset:Ye,insetBlock:Ye,insetBlockStart:Ye,insetBlockEnd:Ye,insetInline:Ye,insetInlineStart:Ye,insetInlineEnd:Ye,padding:Ye,paddingTop:Ye,paddingRight:Ye,paddingBottom:Ye,paddingLeft:Ye,paddingBlock:Ye,paddingBlockStart:Ye,paddingBlockEnd:Ye,paddingInline:Ye,paddingInlineStart:Ye,paddingInlineEnd:Ye,margin:Ye,marginTop:Ye,marginRight:Ye,marginBottom:Ye,marginLeft:Ye,marginBlock:Ye,marginBlockStart:Ye,marginBlockEnd:Ye,marginInline:Ye,marginInlineStart:Ye,marginInlineEnd:Ye,fontSize:Ye,backgroundPositionX:Ye,backgroundPositionY:Ye,...Tve,zIndex:SP,fillOpacity:Tf,strokeOpacity:Tf,numOctaves:SP},Cve={...eR,color:Fn,backgroundColor:Fn,outlineColor:Fn,fill:Fn,stroke:Fn,borderColor:Fn,borderTopColor:Fn,borderRightColor:Fn,borderBottomColor:Fn,borderLeftColor:Fn,filter:QT,WebkitFilter:QT},k$=t=>Cve[t];function R$(t,e){let n=k$(t);return n!==QT&&(n=To),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const kve=new Set(["auto","none","0"]);function Rve(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!kve.has(s)&&Cf(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=R$(n,i)}class Uve extends Kk{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let h=e[d];if(typeof h=="string"&&(h=h.trim(),zk(h))){const p=_$(h,n.current);p!==void 0&&(e[d]=p),d===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!D$.has(r)||e.length!==2)return;const[i,s]=e,a=EP(i),o=EP(s),l=uP(i),c=uP(s);if(l!==c&&yo[r]){this.needsMeasurement=!0;return}if(a!==o)if(vP(a)&&vP(o))for(let d=0;d<e.length;d++){const h=e[d];typeof h=="string"&&(e[d]=parseFloat(h))}else yo[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||Dve(e[i]))&&r.push(i);r.length&&Rve(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=yo[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,a=r[s];r[s]=yo[n](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),this.removedTransforms?.length&&this.removedTransforms.forEach(([o,l])=>{e.getValue(o).set(l)}),this.resolveNoneKeyframes()}}function Mve(t,e,n){if(t==null)return[];if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=n?.[t]??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t).filter(r=>r!=null)}const U$=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function eC(t){return WH(t)&&"offsetHeight"in t}const{schedule:tR}=n$(queueMicrotask,!1),es={x:!1,y:!1};function M$(){return es.x||es.y}function Ove(t){return t==="x"||t==="y"?es[t]?null:(es[t]=!0,()=>{es[t]=!1}):es.x||es.y?null:(es.x=es.y=!0,()=>{es.x=es.y=!1})}function O$(t,e){const n=Mve(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function AP(t){return!(t.pointerType==="touch"||M$())}function Nve(t,e,n={}){const[r,i,s]=O$(t,n),a=o=>{if(!AP(o))return;const{target:l}=o,c=e(l,o);if(typeof c!="function"||!l)return;const d=h=>{AP(h)&&(c(h),l.removeEventListener("pointerleave",d))};l.addEventListener("pointerleave",d,i)};return r.forEach(o=>{o.addEventListener("pointerenter",a,i)}),s}const N$=(t,e)=>e?t===e?!0:N$(t,e.parentElement):!1,nR=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Fve=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function F$(t){return Fve.has(t.tagName)||t.isContentEditable===!0}const Km=new WeakSet;function TP(t){return e=>{e.key==="Enter"&&t(e)}}function Vx(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Ive=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=TP(()=>{if(Km.has(n))return;Vx(n,"down");const i=TP(()=>{Vx(n,"up")}),s=()=>Vx(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function CP(t){return nR(t)&&!M$()}function Pve(t,e,n={}){const[r,i,s]=O$(t,n),a=o=>{const l=o.currentTarget;if(!CP(o))return;Km.add(l);const c=e(l,o),d=(g,v)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",p),Km.has(l)&&Km.delete(l),CP(g)&&typeof c=="function"&&c(g,{success:v})},h=g=>{d(g,l===window||l===document||n.useGlobalTarget||N$(l,g.target))},p=g=>{d(g,!1)};window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",p,i)};return r.forEach(o=>{(n.useGlobalTarget?window:o).addEventListener("pointerdown",a,i),eC(o)&&(o.addEventListener("focus",c=>Ive(c,i)),!F$(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),s}function I$(t){return WH(t)&&"ownerSVGElement"in t}function Lve(t){return I$(t)&&t.tagName==="svg"}const Bve=[...C$,Fn,To],jve=t=>Bve.find(T$(t)),kP=()=>({translate:0,scale:1,origin:0,originPoint:0}),bu=()=>({x:kP(),y:kP()}),RP=()=>({min:0,max:0}),qn=()=>({x:RP(),y:RP()}),tC={current:null},P$={current:!1},zve=typeof window<"u";function qve(){if(P$.current=!0,!!zve)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>tC.current=t.matches;t.addEventListener("change",e),e()}else tC.current=!1}const Wve=new WeakMap;function Lb(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function kf(t){return typeof t=="string"||Array.isArray(t)}const rR=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],iR=["initial",...rR];function Bb(t){return Lb(t.animate)||iR.some(e=>kf(t[e]))}function L$(t){return!!(Bb(t)||t.variants)}function Vve(t,e,n){for(const r in e){const i=e[r],s=n[r];if(ur(i))t.addValue(r,i);else if(ur(s))t.addValue(r,Wu(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const a=t.getValue(r);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=t.getStaticValue(r);t.addValue(r,Wu(a!==void 0?a:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const UP=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Zy={};function B$(t){Zy=t}function Hve(){return Zy}class $ve{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Kk,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=Dr.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,an.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=a;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.blockInitialAnimation=!!s,this.isControllingVariants=Bb(n),this.isVariantNode=L$(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in h){const g=h[p];l[p]!==void 0&&ur(g)&&g.set(l[p])}}mount(e){this.current=e,Wve.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(P$.current||qve(),this.shouldReduceMotion=tC.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ao(this.notifyUpdate),Ao(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=od.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&an.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;typeof window<"u"&&window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s&&s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Zy){const n=Zy[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):qn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<UP.length;r++){const i=UP[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,a=e[s];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=Vve(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Wu(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(qH(r)||VH(r))?r=parseFloat(r):!jve(r)&&To.test(n)&&(r=R$(e,n)),this.setBaseTarget(e,ur(r)?r.get():r)),ur(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const s=Jk(this.props,n,this.presenceContext?.custom);s&&(r=s[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!ur(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Lk),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){tR.render(this.render)}}class j$ extends $ve{constructor(){super(...arguments),this.KeyframeResolver=Uve}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const r=e.style;return r?r[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ur(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class Mo{constructor(e){this.isMounted=!1,this.node=e}update(){}}function z$({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function Gve({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Xve(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Hx(t){return t===void 0||t===1}function nC({scale:t,scaleX:e,scaleY:n}){return!Hx(t)||!Hx(e)||!Hx(n)}function gl(t){return nC(t)||q$(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function q$(t){return MP(t.x)||MP(t.y)}function MP(t){return t&&t!=="0%"}function Jy(t,e,n){const r=t-n,i=e*r;return n+i}function OP(t,e,n,r,i){return i!==void 0&&(t=Jy(t,i,r)),Jy(t,n,r)+e}function rC(t,e=0,n=1,r,i){t.min=OP(t.min,e,n,r,i),t.max=OP(t.max,e,n,r,i)}function W$(t,{x:e,y:n}){rC(t.x,e.translate,e.scale,e.originPoint),rC(t.y,n.translate,n.scale,n.originPoint)}const NP=.999999999999,FP=1.0000000000001;function Kve(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,a;for(let o=0;o<i;o++){s=n[o],a=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&xu(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,W$(t,a)),r&&gl(s.latestValues)&&xu(t,s.latestValues))}e.x<FP&&e.x>NP&&(e.x=1),e.y<FP&&e.y>NP&&(e.y=1)}function vu(t,e){t.min=t.min+e,t.max=t.max+e}function IP(t,e,n,r,i=.5){const s=hn(t.min,t.max,i);rC(t,e,n,s,r)}function xu(t,e){IP(t.x,e.x,e.scaleX,e.scale,e.originX),IP(t.y,e.y,e.scaleY,e.scale,e.originY)}function V$(t,e){return z$(Xve(t.getBoundingClientRect(),e))}function Yve(t,e,n){const r=V$(t,n),{scroll:i}=e;return i&&(vu(r.x,i.offset.x),vu(r.y,i.offset.y)),r}const Zve={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Jve=ad.length;function Qve(t,e,n){let r="",i=!0;for(let s=0;s<Jve;s++){const a=ad[s],o=t[a];if(o===void 0)continue;let l=!0;if(typeof o=="number")l=o===(a.startsWith("scale")?1:0);else{const c=parseFloat(o);l=a.startsWith("scale")?c===1:c===0}if(!l||n){const c=U$(o,eR[a]);if(!l){i=!1;const d=Zve[a]||a;r+=`${d}(${c}) `}n&&(e[a]=c)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function sR(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let a=!1,o=!1;for(const l in e){const c=e[l];if(od.has(l)){a=!0;continue}else if(i$(l)){i[l]=c;continue}else{const d=U$(c,eR[l]);l.startsWith("origin")?(o=!0,s[l]=d):r[l]=d}}if(e.transform||(a||n?r.transform=Qve(e,t.transform,n):r.transform&&(r.transform="none")),o){const{originX:l="50%",originY:c="50%",originZ:d=0}=s;r.transformOrigin=`${l} ${c} ${d}`}}function H$(t,{style:e,vars:n},r,i){const s=t.style;let a;for(a in e)s[a]=e[a];i?.applyProjectionStyles(s,r);for(a in n)s.setProperty(a,n[a])}function PP(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const gh={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ye.test(t))t=parseFloat(t);else return t;const n=PP(t,e.target.x),r=PP(t,e.target.y);return`${n}% ${r}%`}},e0e={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=To.parse(t);if(i.length>5)return r;const s=To.createTransformer(t),a=typeof i[0]!="number"?1:0,o=n.x.scale*e.x,l=n.y.scale*e.y;i[0+a]/=o,i[1+a]/=l;const c=hn(o,l,.5);return typeof i[2+a]=="number"&&(i[2+a]/=c),typeof i[3+a]=="number"&&(i[3+a]/=c),s(i)}},iC={borderRadius:{...gh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:gh,borderTopRightRadius:gh,borderBottomLeftRadius:gh,borderBottomRightRadius:gh,boxShadow:e0e};function $$(t,{layout:e,layoutId:n}){return od.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!iC[t]||t==="opacity")}function aR(t,e,n){const r=t.style,i=e?.style,s={};if(!r)return s;for(const a in r)(ur(r[a])||i&&ur(i[a])||$$(a,t)||n?.getValue(a)?.liveStyle!==void 0)&&(s[a]=r[a]);return s}function t0e(t){return window.getComputedStyle(t)}class n0e extends j${constructor(){super(...arguments),this.type="html",this.renderInstance=H$}readValueFromInstance(e,n){if(od.has(n))return this.projection?.isProjecting?VT(n):Mbe(e,n);{const r=t0e(e),i=(i$(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return V$(e,n)}build(e,n,r){sR(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return aR(e,n,r)}}const r0e={offset:"stroke-dashoffset",array:"stroke-dasharray"},i0e={offset:"strokeDashoffset",array:"strokeDasharray"};function s0e(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?r0e:i0e;t[s.offset]=`${-r}`,t[s.array]=`${e} ${n}`}const a0e=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function G$(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:a=0,...o},l,c,d){if(sR(t,o,c),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:p}=t;h.transform&&(p.transform=h.transform,delete h.transform),(p.transform||h.transformOrigin)&&(p.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),p.transform&&(p.transformBox=d?.transformBox??"fill-box",delete h.transformBox);for(const g of a0e)h[g]!==void 0&&(p[g]=h[g],delete h[g]);e!==void 0&&(h.x=e),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),i!==void 0&&s0e(h,i,s,a,!1)}const X$=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),K$=t=>typeof t=="string"&&t.toLowerCase()==="svg";function o0e(t,e,n,r){H$(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(X$.has(i)?i:Qk(i),e.attrs[i])}function Y$(t,e,n){const r=aR(t,e,n);for(const i in t)if(ur(t[i])||ur(e[i])){const s=ad.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}class l0e extends j${constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=qn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(od.has(n)){const r=k$(n);return r&&r.default||0}return n=X$.has(n)?n:Qk(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return Y$(e,n,r)}build(e,n,r){G$(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){o0e(e,n,r,i)}mount(e){this.isSVGTag=K$(e.tagName),super.mount(e)}}const c0e=iR.length;function Z$(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?Z$(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<c0e;n++){const r=iR[n],i=t.props[r];(kf(i)||i===!1)&&(e[r]=i)}return e}function J$(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const u0e=[...rR].reverse(),d0e=rR.length;function h0e(t){return e=>Promise.all(e.map(({animation:n,options:r})=>wve(t,n,r)))}function f0e(t){let e=h0e(t),n=LP(),r=!0;const i=l=>(c,d)=>{const h=Ru(t,d,l==="exit"?t.presenceContext?.custom:void 0);if(h){const{transition:p,transitionEnd:g,...v}=h;c={...c,...v,...g}}return c};function s(l){e=l(t)}function a(l){const{props:c}=t,d=Z$(t.parent)||{},h=[],p=new Set;let g={},v=1/0;for(let b=0;b<d0e;b++){const x=u0e[b],w=n[x],D=c[x]!==void 0?c[x]:d[x],E=kf(D),A=x===l?w.isActive:null;A===!1&&(v=b);let S=D===d[x]&&D!==c[x]&&E;if(S&&r&&t.manuallyAnimateOnMount&&(S=!1),w.protectedKeys={...g},!w.isActive&&A===null||!D&&!w.prevProp||Lb(D)||typeof D=="boolean")continue;const T=p0e(w.prevProp,D);let M=T||x===l&&w.isActive&&!S&&E||b>v&&E,R=!1;const O=Array.isArray(D)?D:[D];let z=O.reduce(i(x),{});A===!1&&(z={});const{prevResolvedValues:F={}}=w,q={...F,...z},k=B=>{M=!0,p.has(B)&&(R=!0,p.delete(B)),w.needsAnimating[B]=!0;const G=t.getValue(B);G&&(G.liveStyle=!1)};for(const B in q){const G=z[B],$=F[B];if(g.hasOwnProperty(B))continue;let W=!1;YT(G)&&YT($)?W=!J$(G,$):W=G!==$,W?G!=null?k(B):p.add(B):G!==void 0&&p.has(B)?k(B):w.protectedKeys[B]=!0}w.prevProp=D,w.prevResolvedValues=z,w.isActive&&(g={...g,...z}),r&&t.blockInitialAnimation&&(M=!1);const H=S&&T;M&&(!H||R)&&h.push(...O.map(B=>{const G={type:x};if(typeof B=="string"&&r&&!H&&t.manuallyAnimateOnMount&&t.parent){const{parent:$}=t,W=Ru($,B);if($.enteringChildren&&W){const{delayChildren:L}=W.transition||{};G.delay=w$($.enteringChildren,t,L)}}return{animation:B,options:G}}))}if(p.size){const b={};if(typeof c.initial!="boolean"){const x=Ru(t,Array.isArray(c.initial)?c.initial[0]:c.initial);x&&x.transition&&(b.transition=x.transition)}p.forEach(x=>{const w=t.getBaseTarget(x),D=t.getValue(x);D&&(D.liveStyle=!0),b[x]=w??null}),h.push({animation:b})}let y=!!h.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(y=!1),r=!1,y?e(h):Promise.resolve()}function o(l,c){if(n[l].isActive===c)return Promise.resolve();t.variantChildren?.forEach(h=>h.animationState?.setActive(l,c)),n[l].isActive=c;const d=a(l);for(const h in n)n[h].protectedKeys={};return d}return{animateChanges:a,setActive:o,setAnimateFunction:s,getState:()=>n,reset:()=>{n=LP()}}}function p0e(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!J$(e,t):!1}function ol(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function LP(){return{animate:ol(!0),whileInView:ol(),whileHover:ol(),whileTap:ol(),whileDrag:ol(),whileFocus:ol(),exit:ol()}}function BP(t,e){t.min=e.min,t.max=e.max}function Yi(t,e){BP(t.x,e.x),BP(t.y,e.y)}function jP(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const Q$=1e-4,g0e=1-Q$,m0e=1+Q$,eG=.01,y0e=0-eG,b0e=0+eG;function Er(t){return t.max-t.min}function v0e(t,e,n){return Math.abs(t-e)<=n}function zP(t,e,n,r=.5){t.origin=r,t.originPoint=hn(e.min,e.max,t.origin),t.scale=Er(n)/Er(e),t.translate=hn(n.min,n.max,t.origin)-t.originPoint,(t.scale>=g0e&&t.scale<=m0e||isNaN(t.scale))&&(t.scale=1),(t.translate>=y0e&&t.translate<=b0e||isNaN(t.translate))&&(t.translate=0)}function Jh(t,e,n,r){zP(t.x,e.x,n.x,r?r.originX:void 0),zP(t.y,e.y,n.y,r?r.originY:void 0)}function qP(t,e,n){t.min=n.min+e.min,t.max=t.min+Er(e)}function x0e(t,e,n){qP(t.x,e.x,n.x),qP(t.y,e.y,n.y)}function WP(t,e,n){t.min=e.min-n.min,t.max=t.min+Er(e)}function Qy(t,e,n){WP(t.x,e.x,n.x),WP(t.y,e.y,n.y)}function VP(t,e,n,r,i){return t-=e,t=Jy(t,1/n,r),i!==void 0&&(t=Jy(t,1/i,r)),t}function w0e(t,e=0,n=1,r=.5,i,s=t,a=t){if(Rs.test(e)&&(e=parseFloat(e),e=hn(a.min,a.max,e/100)-a.min),typeof e!="number")return;let o=hn(s.min,s.max,r);t===s&&(o-=e),t.min=VP(t.min,e,n,o,i),t.max=VP(t.max,e,n,o,i)}function HP(t,e,[n,r,i],s,a){w0e(t,e[n],e[r],e[i],e.scale,s,a)}const _0e=["x","scaleX","originX"],D0e=["y","scaleY","originY"];function $P(t,e,n,r){HP(t.x,e,_0e,n?n.x:void 0,r?r.x:void 0),HP(t.y,e,D0e,n?n.y:void 0,r?r.y:void 0)}function GP(t){return t.translate===0&&t.scale===1}function tG(t){return GP(t.x)&&GP(t.y)}function XP(t,e){return t.min===e.min&&t.max===e.max}function E0e(t,e){return XP(t.x,e.x)&&XP(t.y,e.y)}function KP(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function nG(t,e){return KP(t.x,e.x)&&KP(t.y,e.y)}function YP(t){return Er(t.x)/Er(t.y)}function ZP(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function Oi(t){return[t("x"),t("y")]}function S0e(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,a=n?.z||0;if((i||s||a)&&(r=`translate3d(${i}px, ${s}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:d,rotateX:h,rotateY:p,skewX:g,skewY:v}=n;c&&(r=`perspective(${c}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),p&&(r+=`rotateY(${p}deg) `),g&&(r+=`skewX(${g}deg) `),v&&(r+=`skewY(${v}deg) `)}const o=t.x.scale*e.x,l=t.y.scale*e.y;return(o!==1||l!==1)&&(r+=`scale(${o}, ${l})`),r||"none"}const rG=["TopLeft","TopRight","BottomLeft","BottomRight"],A0e=rG.length,JP=t=>typeof t=="string"?parseFloat(t):t,QP=t=>typeof t=="number"||Ye.test(t);function T0e(t,e,n,r,i,s){i?(t.opacity=hn(0,n.opacity??1,C0e(r)),t.opacityExit=hn(e.opacity??1,0,k0e(r))):s&&(t.opacity=hn(e.opacity??1,n.opacity??1,r));for(let a=0;a<A0e;a++){const o=`border${rG[a]}Radius`;let l=e5(e,o),c=e5(n,o);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||QP(l)===QP(c)?(t[o]=Math.max(hn(JP(l),JP(c),r),0),(Rs.test(c)||Rs.test(l))&&(t[o]+="%")):t[o]=c}(e.rotate||n.rotate)&&(t.rotate=hn(e.rotate||0,n.rotate||0,r))}function e5(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const C0e=iG(0,.5,JH),k0e=iG(.5,.95,qi);function iG(t,e,n){return r=>r<t?0:r>e?1:n(Af(t,e,r))}function R0e(t,e,n){const r=ur(t)?t:Wu(t);return r.start(Zk("",r,e,n)),r.animation}function Rf(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const U0e=(t,e)=>t.depth-e.depth;class M0e{constructor(){this.children=[],this.isDirty=!1}add(e){Nk(this.children,e),this.isDirty=!0}remove(e){Fk(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(U0e),this.isDirty=!1,this.children.forEach(e)}}function O0e(t,e){const n=Dr.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Ao(r),t(s-e))};return an.setup(r,!0),()=>Ao(r)}function Ym(t){return ur(t)?t.get():t}class N0e{constructor(){this.members=[]}add(e){Nk(this.members,e),e.scheduleRender()}remove(e){if(Fk(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender();const i=r.options.layoutDependency,s=e.options.layoutDependency;i!==void 0&&s!==void 0&&i===s||(e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0));const{crossfade:o}=e.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Zm={hasAnimatedSinceResize:!0,hasEverUpdated:!1},$x=["","X","Y","Z"],F0e=1e3;let I0e=0;function Gx(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function sG(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=S$(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",an,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&sG(r)}function aG({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(a={},o=e?.()){this.id=I0e++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(B0e),this.nodes.forEach(W0e),this.nodes.forEach(V0e),this.nodes.forEach(j0e)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new M0e)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new Lk),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const l=this.eventHandlers.get(a);l&&l.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=I$(a)&&!Lve(a),this.instance=a;const{layoutId:o,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||o)&&(this.isLayoutDirty=!0),t){let d,h=0;const p=()=>this.root.updateBlockedByResize=!1;an.read(()=>{h=window.innerWidth}),t(a,()=>{const g=window.innerWidth;g!==h&&(h=g,this.root.updateBlockedByResize=!0,d&&d(),d=O0e(p,250),Zm.hasAnimatedSinceResize&&(Zm.hasAnimatedSinceResize=!1,this.nodes.forEach(r5)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&c&&(o||l)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeLayoutChanged:p,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||c.getDefaultTransition()||K0e,{onLayoutAnimationStart:y,onLayoutAnimationComplete:b}=c.getProps(),x=!this.targetLayout||!nG(this.targetLayout,g),w=!h&&p;if(this.options.layoutRoot||this.resumeFrom||w||h&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const D={...Yk(v,"layout"),onPlay:y,onComplete:b};(c.shouldReduceMotion||this.options.layoutRoot)&&(D.delay=0,D.type=!1),this.startAnimation(D),this.setAnimationOrigin(d,w)}else h||r5(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ao(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(H0e),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&sG(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(t5);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(n5);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(q0e),this.nodes.forEach(P0e),this.nodes.forEach(L0e)):this.nodes.forEach(n5),this.clearAllSnapshots();const o=Dr.now();sr.delta=Os(0,1e3/60,o-sr.timestamp),sr.timestamp=o,sr.isProcessing=!0,Lx.update.process(sr),Lx.preRender.process(sr),Lx.render.process(sr),sr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,tR.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(z0e),this.sharedNodes.forEach($0e)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,an.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){an.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Er(this.snapshot.measuredBox.x)&&!Er(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=qn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!tG(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;a&&this.instance&&(o||gl(this.latestValues)||d)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return a&&(l=this.removeTransform(l)),Y0e(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return qn();const o=a.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Z0e))){const{scroll:c}=this.root;c&&(vu(o.x,c.offset.x),vu(o.y,c.offset.y))}return o}removeElementScroll(a){const o=qn();if(Yi(o,a),this.scroll?.wasRoot)return o;for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:d,options:h}=c;c!==this.root&&d&&h.layoutScroll&&(d.wasRoot&&Yi(o,a),vu(o.x,d.offset.x),vu(o.y,d.offset.y))}return o}applyTransform(a,o=!1){const l=qn();Yi(l,a);for(let c=0;c<this.path.length;c++){const d=this.path[c];!o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&xu(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),gl(d.latestValues)&&xu(l,d.latestValues)}return gl(this.latestValues)&&xu(l,this.latestValues),l}removeTransform(a){const o=qn();Yi(o,a);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!gl(c.latestValues))continue;nC(c.latestValues)&&c.updateSnapshot();const d=qn(),h=c.measurePageBox();Yi(d,h),$P(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return gl(this.latestValues)&&$P(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==sr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==o;if(!(a||l&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!this.layout||!(d||h))return;this.resolvedRelativeTargetAt=sr.timestamp;const p=this.getClosestProjectingParent();p&&this.linkedParentVersion!==p.layoutVersion&&!p.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(p&&p.layout?this.createRelativeTarget(p,this.layout.layoutBox,p.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=qn(),this.targetWithTransforms=qn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),x0e(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Yi(this.target,this.layout.layoutBox),W$(this.target,this.targetDelta)):Yi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?this.createRelativeTarget(p,this.target,p.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||nC(this.parent.latestValues)||q$(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(a,o,l){this.relativeParent=a,this.linkedParentVersion=a.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=qn(),this.relativeTargetOrigin=qn(),Qy(this.relativeTargetOrigin,o,l),Yi(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const a=this.getLead(),o=!!this.resumingFrom||this!==a;let l=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(l=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===sr.timestamp&&(l=!1),l)return;const{layout:c,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||d))return;Yi(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,p=this.treeScale.y;Kve(this.layoutCorrected,this.treeScale,this.path,o),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=qn());const{target:g}=a;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(jP(this.prevProjectionDelta.x,this.projectionDelta.x),jP(this.prevProjectionDelta.y,this.projectionDelta.y)),Jh(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==p||!ZP(this.projectionDelta.x,this.prevProjectionDelta.x)||!ZP(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.visualElement?.scheduleRender(),a){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=bu(),this.projectionDelta=bu(),this.projectionDeltaWithTransform=bu()}setAnimationOrigin(a,o=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},h=bu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const p=qn(),g=l?l.source:void 0,v=this.layout?this.layout.source:void 0,y=g!==v,b=this.getStack(),x=!b||b.members.length<=1,w=!!(y&&!x&&this.options.crossfade===!0&&!this.path.some(X0e));this.animationProgress=0;let D;this.mixTargetDelta=E=>{const A=E/1e3;i5(h.x,a.x,A),i5(h.y,a.y,A),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Qy(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),G0e(this.relativeTarget,this.relativeTargetOrigin,p,A),D&&E0e(this.relativeTarget,D)&&(this.isProjectionDirty=!1),D||(D=qn()),Yi(D,this.relativeTarget)),y&&(this.animationValues=d,T0e(d,c,this.latestValues,A,w,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=A},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Ao(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=an.update(()=>{Zm.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Wu(0)),this.currentAnimation=R0e(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:o=>{this.mixTargetDelta(o),a.onUpdate&&a.onUpdate(o)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(F0e),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:l,layout:c,latestValues:d}=a;if(!(!o||!l||!c)){if(this!==a&&this.layout&&c&&oG(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||qn();const h=Er(this.layout.layoutBox.x);l.x.min=a.target.x.min,l.x.max=l.x.min+h;const p=Er(this.layout.layoutBox.y);l.y.min=a.target.y.min,l.y.max=l.y.min+p}Yi(o,l),xu(o,d),Jh(this.projectionDeltaWithTransform,this.layoutCorrected,o,d)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new N0e),this.sharedNodes.get(a).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){const{layoutId:a}=this.options;return a?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:a}=this.options;return a?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:l}=a;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const c={};l.z&&Gx("z",a,c,this.animationValues);for(let d=0;d<$x.length;d++)Gx(`rotate${$x[d]}`,a,c,this.animationValues),Gx(`skew${$x[d]}`,a,c,this.animationValues);a.render();for(const d in c)a.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);a.scheduleRender()}applyProjectionStyles(a,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=Ym(o?.pointerEvents)||"",a.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=Ym(o?.pointerEvents)||""),this.hasProjected&&!gl(this.latestValues)&&(a.transform=l?l({},""):"none",this.hasProjected=!1);return}a.visibility="";const d=c.animationValues||c.latestValues;this.applyTransformsToTarget();let h=S0e(this.projectionDeltaWithTransform,this.treeScale,d);l&&(h=l(d,h)),a.transform=h;const{x:p,y:g}=this.projectionDelta;a.transformOrigin=`${p.origin*100}% ${g.origin*100}% 0`,c.animationValues?a.opacity=c===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:a.opacity=c===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const v in iC){if(d[v]===void 0)continue;const{correct:y,applyTo:b,isCSSVariable:x}=iC[v],w=h==="none"?d[v]:y(d[v],c);if(b){const D=b.length;for(let E=0;E<D;E++)a[b[E]]=w}else x?this.options.visualElement.renderState.vars[v]=w:a[v]=w}this.options.layoutId&&(a.pointerEvents=c===this?Ym(o?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>a.currentAnimation?.stop()),this.root.nodes.forEach(t5),this.root.sharedNodes.clear()}}}function P0e(t){t.updateLayout()}function L0e(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:i}=t.options,s=e.source!==t.layout.source;i==="size"?Oi(d=>{const h=s?e.measuredBox[d]:e.layoutBox[d],p=Er(h);h.min=n[d].min,h.max=h.min+p}):oG(i,e.layoutBox,n)&&Oi(d=>{const h=s?e.measuredBox[d]:e.layoutBox[d],p=Er(n[d]);h.max=h.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+p)});const a=bu();Jh(a,n,e.layoutBox);const o=bu();s?Jh(o,t.applyTransform(r,!0),e.measuredBox):Jh(o,n,e.layoutBox);const l=!tG(a);let c=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:h,layout:p}=d;if(h&&p){const g=qn();Qy(g,e.layoutBox,h.layoutBox);const v=qn();Qy(v,n,p.layoutBox),nG(g,v)||(c=!0),d.options.layoutRoot&&(t.relativeTarget=v,t.relativeTargetOrigin=g,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:o,layoutDelta:a,hasLayoutChanged:l,hasRelativeLayoutChanged:c})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function B0e(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function j0e(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function z0e(t){t.clearSnapshot()}function t5(t){t.clearMeasurements()}function n5(t){t.isLayoutDirty=!1}function q0e(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function r5(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function W0e(t){t.resolveTargetDelta()}function V0e(t){t.calcProjection()}function H0e(t){t.resetSkewAndRotation()}function $0e(t){t.removeLeadSnapshot()}function i5(t,e,n){t.translate=hn(e.translate,0,n),t.scale=hn(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function s5(t,e,n,r){t.min=hn(e.min,n.min,r),t.max=hn(e.max,n.max,r)}function G0e(t,e,n,r){s5(t.x,e.x,n.x,r),s5(t.y,e.y,n.y,r)}function X0e(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const K0e={duration:.45,ease:[.4,0,.1,1]},a5=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),o5=a5("applewebkit/")&&!a5("chrome/")?Math.round:qi;function l5(t){t.min=o5(t.min),t.max=o5(t.max)}function Y0e(t){l5(t.x),l5(t.y)}function oG(t,e,n){return t==="position"||t==="preserve-aspect"&&!v0e(YP(e),YP(n),.2)}function Z0e(t){return t!==t.root&&t.scroll?.wasRoot}const J0e=aG({attachResizeListener:(t,e)=>Rf(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),Xx={current:void 0},lG=aG({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Xx.current){const t=new J0e({});t.mount(window),t.setOptions({layoutScroll:!0}),Xx.current=t}return Xx.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),oR=V.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function c5(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Q0e(...t){return e=>{let n=!1;const r=t.map(i=>{const s=c5(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():c5(t[i],null)}}}}function e1e(...t){return V.useCallback(Q0e(...t),t)}class t1e extends V.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=eC(r)&&r.offsetWidth||0,s=eC(r)&&r.offsetHeight||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=i-a.width-a.left,a.bottom=s-a.height-a.top}return null}componentDidUpdate(){}render(){return this.props.children}}function n1e({children:t,isPresent:e,anchorX:n,anchorY:r,root:i}){const s=V.useId(),a=V.useRef(null),o=V.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:l}=V.useContext(oR),c=t.props?.ref??t?.ref,d=e1e(a,c);return V.useInsertionEffect(()=>{const{width:h,height:p,top:g,left:v,right:y,bottom:b}=o.current;if(e||!a.current||!h||!p)return;const x=n==="left"?`left: ${v}`:`right: ${y}`,w=r==="bottom"?`bottom: ${b}`:`top: ${g}`;a.current.dataset.motionPopId=s;const D=document.createElement("style");l&&(D.nonce=l);const E=i??document.head;return E.appendChild(D),D.sheet&&D.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${p}px !important;
            ${x}px !important;
            ${w}px !important;
          }
        `),()=>{E.contains(D)&&E.removeChild(D)}},[e]),I.jsx(t1e,{isPresent:e,childRef:a,sizeRef:o,children:V.cloneElement(t,{ref:d})})}const r1e=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:a,anchorX:o,anchorY:l,root:c})=>{const d=Ok(i1e),h=V.useId();let p=!0,g=V.useMemo(()=>(p=!1,{id:h,initial:e,isPresent:n,custom:i,onExitComplete:v=>{d.set(v,!0);for(const y of d.values())if(!y)return;r&&r()},register:v=>(d.set(v,!1),()=>d.delete(v))}),[n,d,r]);return s&&p&&(g={...g}),V.useMemo(()=>{d.forEach((v,y)=>d.set(y,!1))},[n]),V.useEffect(()=>{!n&&!d.size&&r&&r()},[n]),a==="popLayout"&&(t=I.jsx(n1e,{isPresent:n,anchorX:o,anchorY:l,root:c,children:t})),I.jsx(Pb.Provider,{value:g,children:t})};function i1e(){return new Map}function cG(t=!0){const e=V.useContext(Pb);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=V.useId();V.useEffect(()=>{if(t)return i(s)},[t]);const a=V.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,a]:[!0]}const fm=t=>t.key||"";function u5(t){const e=[];return V.Children.forEach(t,n=>{V.isValidElement(n)&&e.push(n)}),e}const s1e=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:a=!1,anchorX:o="left",anchorY:l="top",root:c})=>{const[d,h]=cG(a),p=V.useMemo(()=>u5(t),[t]),g=a&&!d?[]:p.map(fm),v=V.useRef(!0),y=V.useRef(p),b=Ok(()=>new Map),x=V.useRef(new Set),[w,D]=V.useState(p),[E,A]=V.useState(p);zH(()=>{v.current=!1,y.current=p;for(let M=0;M<E.length;M++){const R=fm(E[M]);g.includes(R)?(b.delete(R),x.current.delete(R)):b.get(R)!==!0&&b.set(R,!1)}},[E,g.length,g.join("-")]);const S=[];if(p!==w){let M=[...p];for(let R=0;R<E.length;R++){const O=E[R],z=fm(O);g.includes(z)||(M.splice(R,0,O),S.push(O))}return s==="wait"&&S.length&&(M=S),A(u5(M)),D(p),null}const{forceRender:T}=V.useContext(Mk);return I.jsx(I.Fragment,{children:E.map(M=>{const R=fm(M),O=a&&!d?!1:p===E||g.includes(R),z=()=>{if(x.current.has(R))return;if(x.current.add(R),b.has(R))b.set(R,!0);else return;let F=!0;b.forEach(q=>{q||(F=!1)}),F&&(T?.(),A(y.current),a&&h?.(),r&&r())};return I.jsx(r1e,{isPresent:O,initial:!v.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,root:c,onExitComplete:O?void 0:z,anchorX:o,anchorY:l,children:M},R)})})},uG=V.createContext({strict:!1}),d5={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let h5=!1;function a1e(){if(h5)return;const t={};for(const e in d5)t[e]={isEnabled:n=>d5[e].some(r=>!!n[r])};B$(t),h5=!0}function dG(){return a1e(),Hve()}function o1e(t){const e=dG();for(const n in t)e[n]={...e[n],...t[n]};B$(e)}const l1e=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function eb(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||l1e.has(t)}let hG=t=>!eb(t);function c1e(t){typeof t=="function"&&(hG=e=>e.startsWith("on")?!eb(e):t(e))}try{c1e(require("@emotion/is-prop-valid").default)}catch{}function u1e(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(hG(i)||n===!0&&eb(i)||!e&&!eb(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const jb=V.createContext({});function d1e(t,e){if(Bb(t)){const{initial:n,animate:r}=t;return{initial:n===!1||kf(n)?n:void 0,animate:kf(r)?r:void 0}}return t.inherit!==!1?e:{}}function h1e(t){const{initial:e,animate:n}=d1e(t,V.useContext(jb));return V.useMemo(()=>({initial:e,animate:n}),[f5(e),f5(n)])}function f5(t){return Array.isArray(t)?t.join(" "):t}const lR=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function fG(t,e,n){for(const r in e)!ur(e[r])&&!$$(r,n)&&(t[r]=e[r])}function f1e({transformTemplate:t},e){return V.useMemo(()=>{const n=lR();return sR(n,e,t),Object.assign({},n.vars,n.style)},[e])}function p1e(t,e){const n=t.style||{},r={};return fG(r,n,t),Object.assign(r,f1e(t,e)),r}function g1e(t,e){const n={},r=p1e(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const pG=()=>({...lR(),attrs:{}});function m1e(t,e,n,r){const i=V.useMemo(()=>{const s=pG();return G$(s,e,K$(r),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};fG(s,t.style,t),i.style={...s,...i.style}}return i}const y1e=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function cR(t){return typeof t!="string"||t.includes("-")?!1:!!(y1e.indexOf(t)>-1||/[A-Z]/u.test(t))}function b1e(t,e,n,{latestValues:r},i,s=!1,a){const l=(a??cR(t)?m1e:g1e)(e,r,i,t),c=u1e(e,typeof t=="string",s),d=t!==V.Fragment?{...c,...l,ref:n}:{},{children:h}=e,p=V.useMemo(()=>ur(h)?h.get():h,[h]);return V.createElement(t,{...d,children:p})}function v1e({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:x1e(n,r,i,t),renderState:e()}}function x1e(t,e,n,r){const i={},s=r(t,{});for(const p in s)i[p]=Ym(s[p]);let{initial:a,animate:o}=t;const l=Bb(t),c=L$(t);e&&c&&!l&&t.inherit!==!1&&(a===void 0&&(a=e.initial),o===void 0&&(o=e.animate));let d=n?n.initial===!1:!1;d=d||a===!1;const h=d?o:a;if(h&&typeof h!="boolean"&&!Lb(h)){const p=Array.isArray(h)?h:[h];for(let g=0;g<p.length;g++){const v=Jk(t,p[g]);if(v){const{transitionEnd:y,transition:b,...x}=v;for(const w in x){let D=x[w];if(Array.isArray(D)){const E=d?D.length-1:0;D=D[E]}D!==null&&(i[w]=D)}for(const w in y)i[w]=y[w]}}}return i}const gG=t=>(e,n)=>{const r=V.useContext(jb),i=V.useContext(Pb),s=()=>v1e(t,e,r,i);return n?s():Ok(s)},w1e=gG({scrapeMotionValuesFromProps:aR,createRenderState:lR}),_1e=gG({scrapeMotionValuesFromProps:Y$,createRenderState:pG}),D1e=Symbol.for("motionComponentSymbol");function E1e(t,e,n){const r=V.useRef(n);V.useInsertionEffect(()=>{r.current=n});const i=V.useRef(null);return V.useCallback(s=>{s&&t.onMount?.(s),e&&(s?e.mount(s):e.unmount());const a=r.current;if(typeof a=="function")if(s){const o=a(s);typeof o=="function"&&(i.current=o)}else i.current?(i.current(),i.current=null):a(s);else a&&(a.current=s)},[e])}const mG=V.createContext({});function zh(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function S1e(t,e,n,r,i,s){const{visualElement:a}=V.useContext(jb),o=V.useContext(uG),l=V.useContext(Pb),c=V.useContext(oR).reducedMotion,d=V.useRef(null),h=V.useRef(!1);r=r||o.renderer,!d.current&&r&&(d.current=r(t,{visualState:e,parent:a,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c,isSVG:s}),h.current&&d.current&&(d.current.manuallyAnimateOnMount=!0));const p=d.current,g=V.useContext(mG);p&&!p.projection&&i&&(p.type==="html"||p.type==="svg")&&A1e(d.current,n,i,g);const v=V.useRef(!1);V.useInsertionEffect(()=>{p&&v.current&&p.update(n,l)});const y=n[E$],b=V.useRef(!!y&&!window.MotionHandoffIsComplete?.(y)&&window.MotionHasOptimisedAnimation?.(y));return zH(()=>{h.current=!0,p&&(v.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),p.scheduleRenderMicrotask(),b.current&&p.animationState&&p.animationState.animateChanges())}),V.useEffect(()=>{p&&(!b.current&&p.animationState&&p.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(y)}),b.current=!1),p.enteringChildren=void 0)}),p}function A1e(t,e,n,r){const{layoutId:i,layout:s,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:c,layoutCrossfade:d}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:yG(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!a||o&&zh(o),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:l,layoutRoot:c})}function yG(t){if(t)return t.options.allowProjection!==!1?t.projection:yG(t.parent)}function Kx(t,{forwardMotionProps:e=!1,type:n}={},r,i){r&&o1e(r);const s=n?n==="svg":cR(t),a=s?_1e:w1e;function o(c,d){let h;const p={...V.useContext(oR),...c,layoutId:T1e(c)},{isStatic:g}=p,v=h1e(c),y=a(c,g);if(!g&&jH){C1e();const b=k1e(p);h=b.MeasureLayout,v.visualElement=S1e(t,y,p,i,b.ProjectionNode,s)}return I.jsxs(jb.Provider,{value:v,children:[h&&v.visualElement?I.jsx(h,{visualElement:v.visualElement,...p}):null,b1e(t,c,E1e(y,v.visualElement,d),y,g,e,s)]})}o.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const l=V.forwardRef(o);return l[D1e]=t,l}function T1e({layoutId:t}){const e=V.useContext(Mk).id;return e&&t!==void 0?e+"-"+t:t}function C1e(t,e){V.useContext(uG).strict}function k1e(t){const e=dG(),{drag:n,layout:r}=e;if(!n&&!r)return{};const i={...n,...r};return{MeasureLayout:n?.isEnabled(t)||r?.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function R1e(t,e){if(typeof Proxy>"u")return Kx;const n=new Map,r=(s,a)=>Kx(s,a,t,e),i=(s,a)=>r(s,a);return new Proxy(i,{get:(s,a)=>a==="create"?r:(n.has(a)||n.set(a,Kx(a,void 0,t,e)),n.get(a))})}const U1e=(t,e)=>e.isSVG??cR(t)?new l0e(e):new n0e(e,{allowProjection:t!==V.Fragment});class M1e extends Mo{constructor(e){super(e),e.animationState||(e.animationState=f0e(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Lb(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let O1e=0;class N1e extends Mo{constructor(){super(...arguments),this.id=O1e++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const F1e={animation:{Feature:M1e},exit:{Feature:N1e}};function sp(t){return{point:{x:t.pageX,y:t.pageY}}}const I1e=t=>e=>nR(e)&&t(e,sp(e));function Qh(t,e,n,r){return Rf(t,e,I1e(n),r)}const bG=({current:t})=>t?t.ownerDocument.defaultView:null,p5=(t,e)=>Math.abs(t-e);function P1e(t,e){const n=p5(t.x,e.x),r=p5(t.y,e.y);return Math.sqrt(n**2+r**2)}const g5=new Set(["auto","scroll"]);class vG{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:a=3,element:o}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=g=>{this.handleScroll(g.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Zx(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,y=P1e(g.offset,{x:0,y:0})>=this.distanceThreshold;if(!v&&!y)return;const{point:b}=g,{timestamp:x}=sr;this.history.push({...b,timestamp:x});const{onStart:w,onMove:D}=this.handlers;v||(w&&w(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),D&&D(this.lastMoveEvent,g)},this.handlePointerMove=(g,v)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=Yx(v,this.transformPagePoint),an.update(this.updatePoint,!0)},this.handlePointerUp=(g,v)=>{this.end();const{onEnd:y,onSessionEnd:b,resumeAnimation:x}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Zx(g.type==="pointercancel"?this.lastMoveEventInfo:Yx(v,this.transformPagePoint),this.history);this.startEvent&&y&&y(g,w),b&&b(g,w)},!nR(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=a,this.contextWindow=i||window;const l=sp(e),c=Yx(l,this.transformPagePoint),{point:d}=c,{timestamp:h}=sr;this.history=[{...d,timestamp:h}];const{onSessionStart:p}=n;p&&p(e,Zx(c,this.history)),this.removeListeners=np(Qh(this.contextWindow,"pointermove",this.handlePointerMove),Qh(this.contextWindow,"pointerup",this.handlePointerUp),Qh(this.contextWindow,"pointercancel",this.handlePointerUp)),o&&this.startScrollTracking(o)}startScrollTracking(e){let n=e.parentElement;for(;n;){const r=getComputedStyle(n);(g5.has(r.overflowX)||g5.has(r.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const r=e===window,i=r?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},s={x:i.x-n.x,y:i.y-n.y};s.x===0&&s.y===0||(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=s.x,this.lastMoveEventInfo.point.y+=s.y):this.history.length>0&&(this.history[0].x-=s.x,this.history[0].y-=s.y),this.scrollPositions.set(e,i),an.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Ao(this.updatePoint)}}function Yx(t,e){return e?{point:e(t.point)}:t}function m5(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Zx({point:t},e){return{point:t,delta:m5(t,xG(e)),offset:m5(t,L1e(e)),velocity:B1e(e,.1)}}function L1e(t){return t[0]}function xG(t){return t[t.length-1]}function B1e(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=xG(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>ma(e)));)n--;if(!r)return{x:0,y:0};const s=ji(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const a={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function j1e(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?hn(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?hn(n,t,r.max):Math.min(t,n)),t}function y5(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function z1e(t,{top:e,left:n,bottom:r,right:i}){return{x:y5(t.x,n,i),y:y5(t.y,e,r)}}function b5(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function q1e(t,e){return{x:b5(t.x,e.x),y:b5(t.y,e.y)}}function W1e(t,e){let n=.5;const r=Er(t),i=Er(e);return i>r?n=Af(e.min,e.max-r,t.min):r>i&&(n=Af(t.min,t.max-i,e.min)),Os(0,1,n)}function V1e(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const sC=.35;function H1e(t=sC){return t===!1?t=0:t===!0&&(t=sC),{x:v5(t,"left","right"),y:v5(t,"top","bottom")}}function v5(t,e,n){return{min:x5(t,e),max:x5(t,n)}}function x5(t,e){return typeof t=="number"?t:t[e]||0}const $1e=new WeakMap;class G1e{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=qn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=h=>{n?(this.stopAnimation(),this.snapToCursor(sp(h).point)):this.pauseAnimation()},a=(h,p)=>{this.stopAnimation();const{drag:g,dragPropagation:v,onDragStart:y}=this.getProps();if(g&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Ove(g),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=p,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Oi(x=>{let w=this.getAxisMotionValue(x).get()||0;if(Rs.test(w)){const{projection:D}=this.visualElement;if(D&&D.layout){const E=D.layout.layoutBox[x];E&&(w=Er(E)*(parseFloat(w)/100))}}this.originPoint[x]=w}),y&&an.postRender(()=>y(h,p)),ZT(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},o=(h,p)=>{this.latestPointerEvent=h,this.latestPanInfo=p;const{dragPropagation:g,dragDirectionLock:v,onDirectionLock:y,onDrag:b}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:x}=p;if(v&&this.currentDirection===null){this.currentDirection=X1e(x),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",p.point,x),this.updateAxis("y",p.point,x),this.visualElement.render(),b&&b(h,p)},l=(h,p)=>{this.latestPointerEvent=h,this.latestPanInfo=p,this.stop(h,p),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>Oi(h=>this.getAnimationState(h)==="paused"&&this.getAxisMotionValue(h).animation?.play()),{dragSnapToOrigin:d}=this.getProps();this.panSession=new vG(e,{onSessionStart:s,onStart:a,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:r,contextWindow:bG(this.visualElement),element:this.visualElement.current})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!r)return;const{velocity:a}=i;this.startAnimation(a);const{onDragEnd:o}=this.getProps();o&&an.postRender(()=>o(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!pm(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=j1e(a,this.constraints[e],this.elastic[e])),s.set(a)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;e&&zh(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=z1e(r.layoutBox,e):this.constraints=!1,this.elastic=H1e(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Oi(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=V1e(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!zh(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=Yve(r,i.root,this.visualElement.getTransformPagePoint());let a=q1e(i.layout.layoutBox,s);if(n){const o=n(Gve(a));this.hasMutatedConstraints=!!o,o&&(a=z$(o))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},c=Oi(d=>{if(!pm(d,n,this.currentDirection))return;let h=l&&l[d]||{};a&&(h={min:0,max:0});const p=i?200:1e6,g=i?40:1e7,v={type:"inertia",velocity:r?e[d]:0,bounceStiffness:p,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(d,v)});return Promise.all(c).then(o)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return ZT(this.visualElement,e),r.start(Zk(e,r,0,n,this.visualElement,!1))}stopAnimation(){Oi(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Oi(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Oi(n=>{const{drag:r}=this.getProps();if(!pm(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:a,max:o}=i.layout.layoutBox[n],l=s.get()||0;s.set(e[n]-hn(a,o,.5)+l)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!zh(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Oi(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const l=o.get();i[a]=W1e({min:l,max:l},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Oi(a=>{if(!pm(a,e,null))return;const o=this.getAxisMotionValue(a),{min:l,max:c}=this.constraints[a];o.set(hn(l,c,i[a]))})}addListeners(){if(!this.visualElement.current)return;$1e.set(this.visualElement,this);const e=this.visualElement.current,n=Qh(e,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps(),h=l.target,p=h!==e&&F$(h);c&&d&&!p&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();zh(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),an.read(r);const a=Rf(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",(({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Oi(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())}));return()=>{a(),n(),s(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:a=sC,dragMomentum:o=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:a,dragMomentum:o}}}function pm(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function X1e(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class K1e extends Mo{constructor(e){super(e),this.removeGroupControls=qi,this.removeListeners=qi,this.controls=new G1e(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||qi}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const w5=t=>(e,n)=>{t&&an.postRender(()=>t(e,n))};class Y1e extends Mo{constructor(){super(...arguments),this.removePointerDownListener=qi}onPointerDown(e){this.session=new vG(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:bG(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:w5(e),onStart:w5(n),onMove:r,onEnd:(s,a)=>{delete this.session,i&&an.postRender(()=>i(s,a))}}}mount(){this.removePointerDownListener=Qh(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Jx=!1;class Z1e extends V.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),Jx&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),Zm.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:a}=r;return a&&(a.isPresent=s,e.layoutDependency!==n&&a.setOptions({...a.options,layoutDependency:n}),Jx=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==s?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||an.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),tR.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;Jx=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function wG(t){const[e,n]=cG(),r=V.useContext(Mk);return I.jsx(Z1e,{...t,layoutGroup:r,switchLayoutGroup:V.useContext(mG),isPresent:e,safeToRemove:n})}const J1e={pan:{Feature:Y1e},drag:{Feature:K1e,ProjectionNode:lG,MeasureLayout:wG}};function _5(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&an.postRender(()=>s(e,sp(e)))}class Q1e extends Mo{mount(){const{current:e}=this.node;e&&(this.unmount=Nve(e,(n,r)=>(_5(this.node,r,"Start"),i=>_5(this.node,i,"End"))))}unmount(){}}class exe extends Mo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=np(Rf(this.node.current,"focus",()=>this.onFocus()),Rf(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function D5(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&an.postRender(()=>s(e,sp(e)))}class txe extends Mo{mount(){const{current:e}=this.node;e&&(this.unmount=Pve(e,(n,r)=>(D5(this.node,r,"Start"),(i,{success:s})=>D5(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const aC=new WeakMap,Qx=new WeakMap,nxe=t=>{const e=aC.get(t.target);e&&e(t)},rxe=t=>{t.forEach(nxe)};function ixe({root:t,...e}){const n=t||document;Qx.has(n)||Qx.set(n,{});const r=Qx.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(rxe,{root:t,...e})),r[i]}function sxe(t,e,n){const r=ixe(e);return aC.set(t,n),r.observe(t),()=>{aC.delete(t),r.unobserve(t)}}const axe={some:0,all:1};class oxe extends Mo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:axe[i]},o=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),p=c?d:h;p&&p(l)};return sxe(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(lxe(e,n))&&this.startObserver()}unmount(){}}function lxe({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const cxe={inView:{Feature:oxe},tap:{Feature:txe},focus:{Feature:exe},hover:{Feature:Q1e}},uxe={layout:{ProjectionNode:lG,MeasureLayout:wG}},dxe={...F1e,...cxe,...J1e,...uxe},_G=R1e(dxe,U1e),DG=V.createContext(null);function uR(){const t=V.useContext(DG);if(!t)throw new Error("Dialog components must be used within a Dialog");return t}function Ll({open:t,onOpenChange:e,children:n}){return I.jsx(DG.Provider,{value:{open:t,onOpenChange:e},children:n})}function hxe({children:t}){const{open:e}=uR();return I.jsx(s1e,{children:e&&t})}function fxe({className:t}){const{onOpenChange:e}=uR();return I.jsx(_G.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:Et("fixed inset-0 z-50 bg-black/80",t),onClick:()=>e(!1)})}function Bl({className:t,children:e}){const{onOpenChange:n}=uR();return I.jsxs(hxe,{children:[I.jsx(fxe,{}),I.jsxs(_G.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:Et("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4","border bg-background p-6 shadow-lg duration-200 sm:rounded-lg",t),onClick:r=>r.stopPropagation(),children:[e,I.jsxs("button",{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",onClick:()=>n(!1),children:[I.jsx(dk,{className:"h-4 w-4"}),I.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function jl({className:t,children:e}){return I.jsx("div",{className:Et("flex flex-col space-y-1.5 text-center sm:text-left",t),children:e})}function Vu({className:t,children:e}){return I.jsx("div",{className:Et("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),children:e})}function zl({className:t,children:e}){return I.jsx("h2",{className:Et("text-lg font-semibold leading-none tracking-tight",t),children:e})}function Hu({className:t,children:e}){return I.jsx("p",{className:Et("text-sm text-muted-foreground",t),children:e})}function pxe({node:t,open:e,onOpenChange:n,onSave:r}){const[i,s]=V.useState(""),[a,o]=V.useState(""),[l,c]=V.useState(!1);V.useEffect(()=>{t&&(s(t.data.label||""),o(t.data.description||""))},[t]);const d=()=>{t&&(r(t.id,i,a),n(!1))},h=p=>{switch(p){case"entity":return"Entitt";case"process":return"Prozess";case"gap":return"Lcke";default:return"Node"}};return t?I.jsx(Ll,{open:e,onOpenChange:n,children:I.jsxs(Bl,{className:l?"max-w-2xl":"max-w-lg",children:[I.jsx(jl,{children:I.jsxs(zl,{className:"flex items-center justify-between",children:[I.jsxs("span",{children:[h(t.type||"entity")," bearbeiten"]}),I.jsx(dt,{variant:"ghost",size:"icon",onClick:()=>c(!l),className:"h-8 w-8",title:l?"Verkleinern":"Vergrern",children:l?I.jsx(wde,{className:"h-4 w-4"}):I.jsx(ZW,{className:"h-4 w-4"})})]})}),I.jsxs("div",{className:"space-y-4 py-4",children:[I.jsxs("div",{className:"space-y-2",children:[I.jsx("label",{htmlFor:"node-label",className:"text-sm font-medium",children:"Name"}),I.jsx(_o,{id:"node-label",value:i,onChange:p=>s(p.target.value),placeholder:"Node-Name eingeben..."})]}),I.jsxs("div",{className:"space-y-2",children:[I.jsx("label",{htmlFor:"node-description",className:"text-sm font-medium",children:"Beschreibung"}),I.jsx("textarea",{id:"node-description",value:a,onChange:p=>o(p.target.value),placeholder:"Beschreibung eingeben...",className:`w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 resize-none ${l?"min-h-[200px]":"min-h-[100px]"}`})]}),t.type==="gap"&&t.data.severity&&I.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[I.jsx("span",{className:"text-muted-foreground",children:"Schweregrad:"}),I.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${t.data.severity==="high"?"bg-red-100 text-red-700":t.data.severity==="medium"?"bg-yellow-100 text-yellow-700":"bg-blue-100 text-blue-700"}`,children:t.data.severity==="high"?"Hoch":t.data.severity==="medium"?"Mittel":"Niedrig"})]})]}),I.jsxs(Vu,{children:[I.jsx(dt,{variant:"outline",onClick:()=>n(!1),children:"Abbrechen"}),I.jsxs(dt,{onClick:d,children:[I.jsx(Pde,{className:"mr-2 h-4 w-4"}),"Speichern"]})]})]})}):null}function gxe(){const[t,e]=V.useState(!1),[n,r]=V.useState(null),[i,s]=V.useState(null),{currentProject:a,nodes:o,edges:l,gaps:c,addMessage:d}=Zn();return{runReview:V.useCallback(async()=>{if(!a)return s("Kein Projekt ausgewhlt"),null;if(o.length===0)return s("Keine Nodes zum berprfen vorhanden"),null;e(!0),s(null),r(null);try{const p={nodes:o.map(w=>({id:w.id,type:w.type,label:w.data.label,description:w.data.description})),edges:l.map(w=>({id:w.id,source:w.source,target:w.target,label:w.label})),gaps:c.filter(w=>!w.resolved)},g=`Bitte fhre eine umfassende Architektur-Review durch. Analysiere alle Nodes und deren Verbindungen auf:

1. **Konsistenz**: Passen die Komponenten logisch zusammen?
2. **Vollstndigkeit**: Fehlen wichtige Komponenten oder Verbindungen?
3. **Redundanz**: Gibt es doppelte oder berflssige Komponenten?
4. **Klarheit**: Sind alle Beschreibungen verstndlich und ausreichend?

Antworte im JSON-Format:
{
  "message": "Zusammenfassende Erklrung der Review",
  "issues": [
    {
      "nodeId": "id des betroffenen nodes (optional)",
      "type": "consistency|missing|redundant|unclear",
      "severity": "low|medium|high",
      "description": "Beschreibung des Problems",
      "suggestion": "Verbesserungsvorschlag"
    }
  ],
  "overallScore": 85,
  "summary": "Kurze Zusammenfassung in 1-2 Stzen"
}`,{data:v,error:y}=await Dt.functions.invoke("architect-brain",{body:{messages:[{role:"user",content:g}],currentGraph:p,model:"claude-opus-4-5-20251101"}});if(y)throw new Error(`Review-Fehler: ${y.message}`);let b;v.issues&&typeof v.overallScore=="number"?b={message:v.message||"",issues:v.issues||[],overallScore:v.overallScore,summary:v.summary||v.message||""}:b={message:v.message||"Review abgeschlossen",issues:[],overallScore:100,summary:v.message||"Keine Probleme gefunden"},r(b);const x={id:crypto.randomUUID(),project_id:a.id,role:"assistant",content:` **Architektur-Review (Opus 4.5)**

${b.summary}

**Score: ${b.overallScore}/100**

${b.issues.length>0?`**Gefundene Probleme (${b.issues.length}):**
${b.issues.map((w,D)=>`${D+1}. [${w.severity.toUpperCase()}] ${w.description}${w.suggestion?`
    ${w.suggestion}`:""}`).join(`
`)}`:" Keine Probleme gefunden!"}`,created_at:new Date().toISOString()};return d(x),await Dt.from("messages").insert({project_id:a.id,role:"assistant",content:x.content}),b}catch(p){const g=p instanceof Error?p.message:"Ein Fehler ist aufgetreten";return s(g),null}finally{e(!1)}},[a,o,l,c,d]),isReviewing:t,reviewResult:n,error:i,clearError:()=>s(null),clearResult:()=>r(null)}}function El(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ew,E5;function mxe(){if(E5)return ew;E5=1;function t(){this.__data__=[],this.size=0}return ew=t,ew}var tw,S5;function ld(){if(S5)return tw;S5=1;function t(e,n){return e===n||e!==e&&n!==n}return tw=t,tw}var nw,A5;function zb(){if(A5)return nw;A5=1;var t=ld();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return nw=e,nw}var rw,T5;function yxe(){if(T5)return rw;T5=1;var t=zb(),e=Array.prototype,n=e.splice;function r(i){var s=this.__data__,a=t(s,i);if(a<0)return!1;var o=s.length-1;return a==o?s.pop():n.call(s,a,1),--this.size,!0}return rw=r,rw}var iw,C5;function bxe(){if(C5)return iw;C5=1;var t=zb();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return iw=e,iw}var sw,k5;function vxe(){if(k5)return sw;k5=1;var t=zb();function e(n){return t(this.__data__,n)>-1}return sw=e,sw}var aw,R5;function xxe(){if(R5)return aw;R5=1;var t=zb();function e(n,r){var i=this.__data__,s=t(i,n);return s<0?(++this.size,i.push([n,r])):i[s][1]=r,this}return aw=e,aw}var ow,U5;function qb(){if(U5)return ow;U5=1;var t=mxe(),e=yxe(),n=bxe(),r=vxe(),i=xxe();function s(a){var o=-1,l=a==null?0:a.length;for(this.clear();++o<l;){var c=a[o];this.set(c[0],c[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,ow=s,ow}var lw,M5;function wxe(){if(M5)return lw;M5=1;var t=qb();function e(){this.__data__=new t,this.size=0}return lw=e,lw}var cw,O5;function _xe(){if(O5)return cw;O5=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return cw=t,cw}var uw,N5;function Dxe(){if(N5)return uw;N5=1;function t(e){return this.__data__.get(e)}return uw=t,uw}var dw,F5;function Exe(){if(F5)return dw;F5=1;function t(e){return this.__data__.has(e)}return dw=t,dw}var hw,I5;function EG(){if(I5)return hw;I5=1;var t=typeof Li=="object"&&Li&&Li.Object===Object&&Li;return hw=t,hw}var fw,P5;function fs(){if(P5)return fw;P5=1;var t=EG(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return fw=n,fw}var pw,L5;function cd(){if(L5)return pw;L5=1;var t=fs(),e=t.Symbol;return pw=e,pw}var gw,B5;function Sxe(){if(B5)return gw;B5=1;var t=cd(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function s(a){var o=n.call(a,i),l=a[i];try{a[i]=void 0;var c=!0}catch{}var d=r.call(a);return c&&(o?a[i]=l:delete a[i]),d}return gw=s,gw}var mw,j5;function Axe(){if(j5)return mw;j5=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return mw=n,mw}var yw,z5;function Yl(){if(z5)return yw;z5=1;var t=cd(),e=Sxe(),n=Axe(),r="[object Null]",i="[object Undefined]",s=t?t.toStringTag:void 0;function a(o){return o==null?o===void 0?i:r:s&&s in Object(o)?e(o):n(o)}return yw=a,yw}var bw,q5;function Hi(){if(q5)return bw;q5=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return bw=t,bw}var vw,W5;function ap(){if(W5)return vw;W5=1;var t=Yl(),e=Hi(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function a(o){if(!e(o))return!1;var l=t(o);return l==r||l==i||l==n||l==s}return vw=a,vw}var xw,V5;function Txe(){if(V5)return xw;V5=1;var t=fs(),e=t["__core-js_shared__"];return xw=e,xw}var ww,H5;function Cxe(){if(H5)return ww;H5=1;var t=Txe(),e=(function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!e&&e in r}return ww=n,ww}var _w,$5;function SG(){if($5)return _w;$5=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return _w=n,_w}var Dw,G5;function kxe(){if(G5)return Dw;G5=1;var t=ap(),e=Cxe(),n=Hi(),r=SG(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,a=Function.prototype,o=Object.prototype,l=a.toString,c=o.hasOwnProperty,d=RegExp("^"+l.call(c).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(p){if(!n(p)||e(p))return!1;var g=t(p)?d:s;return g.test(r(p))}return Dw=h,Dw}var Ew,X5;function Rxe(){if(X5)return Ew;X5=1;function t(e,n){return e?.[n]}return Ew=t,Ew}var Sw,K5;function Zl(){if(K5)return Sw;K5=1;var t=kxe(),e=Rxe();function n(r,i){var s=e(r,i);return t(s)?s:void 0}return Sw=n,Sw}var Aw,Y5;function dR(){if(Y5)return Aw;Y5=1;var t=Zl(),e=fs(),n=t(e,"Map");return Aw=n,Aw}var Tw,Z5;function Wb(){if(Z5)return Tw;Z5=1;var t=Zl(),e=t(Object,"create");return Tw=e,Tw}var Cw,J5;function Uxe(){if(J5)return Cw;J5=1;var t=Wb();function e(){this.__data__=t?t(null):{},this.size=0}return Cw=e,Cw}var kw,Q5;function Mxe(){if(Q5)return kw;Q5=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return kw=t,kw}var Rw,e4;function Oxe(){if(e4)return Rw;e4=1;var t=Wb(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(s){var a=this.__data__;if(t){var o=a[s];return o===e?void 0:o}return r.call(a,s)?a[s]:void 0}return Rw=i,Rw}var Uw,t4;function Nxe(){if(t4)return Uw;t4=1;var t=Wb(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var s=this.__data__;return t?s[i]!==void 0:n.call(s,i)}return Uw=r,Uw}var Mw,n4;function Fxe(){if(n4)return Mw;n4=1;var t=Wb(),e="__lodash_hash_undefined__";function n(r,i){var s=this.__data__;return this.size+=this.has(r)?0:1,s[r]=t&&i===void 0?e:i,this}return Mw=n,Mw}var Ow,r4;function Ixe(){if(r4)return Ow;r4=1;var t=Uxe(),e=Mxe(),n=Oxe(),r=Nxe(),i=Fxe();function s(a){var o=-1,l=a==null?0:a.length;for(this.clear();++o<l;){var c=a[o];this.set(c[0],c[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,Ow=s,Ow}var Nw,i4;function Pxe(){if(i4)return Nw;i4=1;var t=Ixe(),e=qb(),n=dR();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return Nw=r,Nw}var Fw,s4;function Lxe(){if(s4)return Fw;s4=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return Fw=t,Fw}var Iw,a4;function Vb(){if(a4)return Iw;a4=1;var t=Lxe();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return Iw=e,Iw}var Pw,o4;function Bxe(){if(o4)return Pw;o4=1;var t=Vb();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return Pw=e,Pw}var Lw,l4;function jxe(){if(l4)return Lw;l4=1;var t=Vb();function e(n){return t(this,n).get(n)}return Lw=e,Lw}var Bw,c4;function zxe(){if(c4)return Bw;c4=1;var t=Vb();function e(n){return t(this,n).has(n)}return Bw=e,Bw}var jw,u4;function qxe(){if(u4)return jw;u4=1;var t=Vb();function e(n,r){var i=t(this,n),s=i.size;return i.set(n,r),this.size+=i.size==s?0:1,this}return jw=e,jw}var zw,d4;function hR(){if(d4)return zw;d4=1;var t=Pxe(),e=Bxe(),n=jxe(),r=zxe(),i=qxe();function s(a){var o=-1,l=a==null?0:a.length;for(this.clear();++o<l;){var c=a[o];this.set(c[0],c[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,zw=s,zw}var qw,h4;function Wxe(){if(h4)return qw;h4=1;var t=qb(),e=dR(),n=hR(),r=200;function i(s,a){var o=this.__data__;if(o instanceof t){var l=o.__data__;if(!e||l.length<r-1)return l.push([s,a]),this.size=++o.size,this;o=this.__data__=new n(l)}return o.set(s,a),this.size=o.size,this}return qw=i,qw}var Ww,f4;function Hb(){if(f4)return Ww;f4=1;var t=qb(),e=wxe(),n=_xe(),r=Dxe(),i=Exe(),s=Wxe();function a(o){var l=this.__data__=new t(o);this.size=l.size}return a.prototype.clear=e,a.prototype.delete=n,a.prototype.get=r,a.prototype.has=i,a.prototype.set=s,Ww=a,Ww}var Vw,p4;function fR(){if(p4)return Vw;p4=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i&&n(e[r],r,e)!==!1;);return e}return Vw=t,Vw}var Hw,g4;function AG(){if(g4)return Hw;g4=1;var t=Zl(),e=(function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}})();return Hw=e,Hw}var $w,m4;function $b(){if(m4)return $w;m4=1;var t=AG();function e(n,r,i){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return $w=e,$w}var Gw,y4;function Gb(){if(y4)return Gw;y4=1;var t=$b(),e=ld(),n=Object.prototype,r=n.hasOwnProperty;function i(s,a,o){var l=s[a];(!(r.call(s,a)&&e(l,o))||o===void 0&&!(a in s))&&t(s,a,o)}return Gw=i,Gw}var Xw,b4;function op(){if(b4)return Xw;b4=1;var t=Gb(),e=$b();function n(r,i,s,a){var o=!s;s||(s={});for(var l=-1,c=i.length;++l<c;){var d=i[l],h=a?a(s[d],r[d],d,s,r):void 0;h===void 0&&(h=r[d]),o?e(s,d,h):t(s,d,h)}return s}return Xw=n,Xw}var Kw,v4;function Vxe(){if(v4)return Kw;v4=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return Kw=t,Kw}var Yw,x4;function Ps(){if(x4)return Yw;x4=1;function t(e){return e!=null&&typeof e=="object"}return Yw=t,Yw}var Zw,w4;function Hxe(){if(w4)return Zw;w4=1;var t=Yl(),e=Ps(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return Zw=r,Zw}var Jw,_4;function lp(){if(_4)return Jw;_4=1;var t=Hxe(),e=Ps(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,s=t((function(){return arguments})())?t:function(a){return e(a)&&r.call(a,"callee")&&!i.call(a,"callee")};return Jw=s,Jw}var Qw,D4;function In(){if(D4)return Qw;D4=1;var t=Array.isArray;return Qw=t,Qw}var qh={exports:{}},e2,E4;function $xe(){if(E4)return e2;E4=1;function t(){return!1}return e2=t,e2}qh.exports;var S4;function ud(){return S4||(S4=1,(function(t,e){var n=fs(),r=$xe(),i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,a=s&&s.exports===i,o=a?n.Buffer:void 0,l=o?o.isBuffer:void 0,c=l||r;t.exports=c})(qh,qh.exports)),qh.exports}var t2,A4;function Xb(){if(A4)return t2;A4=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var s=typeof r;return i=i??t,!!i&&(s=="number"||s!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return t2=n,t2}var n2,T4;function pR(){if(T4)return n2;T4=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return n2=e,n2}var r2,C4;function Gxe(){if(C4)return r2;C4=1;var t=Yl(),e=pR(),n=Ps(),r="[object Arguments]",i="[object Array]",s="[object Boolean]",a="[object Date]",o="[object Error]",l="[object Function]",c="[object Map]",d="[object Number]",h="[object Object]",p="[object RegExp]",g="[object Set]",v="[object String]",y="[object WeakMap]",b="[object ArrayBuffer]",x="[object DataView]",w="[object Float32Array]",D="[object Float64Array]",E="[object Int8Array]",A="[object Int16Array]",S="[object Int32Array]",T="[object Uint8Array]",M="[object Uint8ClampedArray]",R="[object Uint16Array]",O="[object Uint32Array]",z={};z[w]=z[D]=z[E]=z[A]=z[S]=z[T]=z[M]=z[R]=z[O]=!0,z[r]=z[i]=z[b]=z[s]=z[x]=z[a]=z[o]=z[l]=z[c]=z[d]=z[h]=z[p]=z[g]=z[v]=z[y]=!1;function F(q){return n(q)&&e(q.length)&&!!z[t(q)]}return r2=F,r2}var i2,k4;function Kb(){if(k4)return i2;k4=1;function t(e){return function(n){return e(n)}}return i2=t,i2}var Wh={exports:{}};Wh.exports;var R4;function gR(){return R4||(R4=1,(function(t,e){var n=EG(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,a=s&&n.process,o=(function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}})();t.exports=o})(Wh,Wh.exports)),Wh.exports}var s2,U4;function cp(){if(U4)return s2;U4=1;var t=Gxe(),e=Kb(),n=gR(),r=n&&n.isTypedArray,i=r?e(r):t;return s2=i,s2}var a2,M4;function TG(){if(M4)return a2;M4=1;var t=Vxe(),e=lp(),n=In(),r=ud(),i=Xb(),s=cp(),a=Object.prototype,o=a.hasOwnProperty;function l(c,d){var h=n(c),p=!h&&e(c),g=!h&&!p&&r(c),v=!h&&!p&&!g&&s(c),y=h||p||g||v,b=y?t(c.length,String):[],x=b.length;for(var w in c)(d||o.call(c,w))&&!(y&&(w=="length"||g&&(w=="offset"||w=="parent")||v&&(w=="buffer"||w=="byteLength"||w=="byteOffset")||i(w,x)))&&b.push(w);return b}return a2=l,a2}var o2,O4;function Yb(){if(O4)return o2;O4=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return o2=e,o2}var l2,N4;function CG(){if(N4)return l2;N4=1;function t(e,n){return function(r){return e(n(r))}}return l2=t,l2}var c2,F4;function Xxe(){if(F4)return c2;F4=1;var t=CG(),e=t(Object.keys,Object);return c2=e,c2}var u2,I4;function mR(){if(I4)return u2;I4=1;var t=Yb(),e=Xxe(),n=Object.prototype,r=n.hasOwnProperty;function i(s){if(!t(s))return e(s);var a=[];for(var o in Object(s))r.call(s,o)&&o!="constructor"&&a.push(o);return a}return u2=i,u2}var d2,P4;function Aa(){if(P4)return d2;P4=1;var t=ap(),e=pR();function n(r){return r!=null&&e(r.length)&&!t(r)}return d2=n,d2}var h2,L4;function Oo(){if(L4)return h2;L4=1;var t=TG(),e=mR(),n=Aa();function r(i){return n(i)?t(i):e(i)}return h2=r,h2}var f2,B4;function Kxe(){if(B4)return f2;B4=1;var t=op(),e=Oo();function n(r,i){return r&&t(i,e(i),r)}return f2=n,f2}var p2,j4;function Yxe(){if(j4)return p2;j4=1;function t(e){var n=[];if(e!=null)for(var r in Object(e))n.push(r);return n}return p2=t,p2}var g2,z4;function Zxe(){if(z4)return g2;z4=1;var t=Hi(),e=Yb(),n=Yxe(),r=Object.prototype,i=r.hasOwnProperty;function s(a){if(!t(a))return n(a);var o=e(a),l=[];for(var c in a)c=="constructor"&&(o||!i.call(a,c))||l.push(c);return l}return g2=s,g2}var m2,q4;function Jl(){if(q4)return m2;q4=1;var t=TG(),e=Zxe(),n=Aa();function r(i){return n(i)?t(i,!0):e(i)}return m2=r,m2}var y2,W4;function Jxe(){if(W4)return y2;W4=1;var t=op(),e=Jl();function n(r,i){return r&&t(i,e(i),r)}return y2=n,y2}var Vh={exports:{}};Vh.exports;var V4;function kG(){return V4||(V4=1,(function(t,e){var n=fs(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,a=s?n.Buffer:void 0,o=a?a.allocUnsafe:void 0;function l(c,d){if(d)return c.slice();var h=c.length,p=o?o(h):new c.constructor(h);return c.copy(p),p}t.exports=l})(Vh,Vh.exports)),Vh.exports}var b2,H4;function RG(){if(H4)return b2;H4=1;function t(e,n){var r=-1,i=e.length;for(n||(n=Array(i));++r<i;)n[r]=e[r];return n}return b2=t,b2}var v2,$4;function UG(){if($4)return v2;$4=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,s=0,a=[];++r<i;){var o=e[r];n(o,r,e)&&(a[s++]=o)}return a}return v2=t,v2}var x2,G4;function MG(){if(G4)return x2;G4=1;function t(){return[]}return x2=t,x2}var w2,X4;function yR(){if(X4)return w2;X4=1;var t=UG(),e=MG(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(a){return a==null?[]:(a=Object(a),t(i(a),function(o){return r.call(a,o)}))}:e;return w2=s,w2}var _2,K4;function Qxe(){if(K4)return _2;K4=1;var t=op(),e=yR();function n(r,i){return t(r,e(r),i)}return _2=n,_2}var D2,Y4;function bR(){if(Y4)return D2;Y4=1;function t(e,n){for(var r=-1,i=n.length,s=e.length;++r<i;)e[s+r]=n[r];return e}return D2=t,D2}var E2,Z4;function Zb(){if(Z4)return E2;Z4=1;var t=CG(),e=t(Object.getPrototypeOf,Object);return E2=e,E2}var S2,J4;function OG(){if(J4)return S2;J4=1;var t=bR(),e=Zb(),n=yR(),r=MG(),i=Object.getOwnPropertySymbols,s=i?function(a){for(var o=[];a;)t(o,n(a)),a=e(a);return o}:r;return S2=s,S2}var A2,Q4;function ewe(){if(Q4)return A2;Q4=1;var t=op(),e=OG();function n(r,i){return t(r,e(r),i)}return A2=n,A2}var T2,eL;function NG(){if(eL)return T2;eL=1;var t=bR(),e=In();function n(r,i,s){var a=i(r);return e(r)?a:t(a,s(r))}return T2=n,T2}var C2,tL;function FG(){if(tL)return C2;tL=1;var t=NG(),e=yR(),n=Oo();function r(i){return t(i,n,e)}return C2=r,C2}var k2,nL;function twe(){if(nL)return k2;nL=1;var t=NG(),e=OG(),n=Jl();function r(i){return t(i,n,e)}return k2=r,k2}var R2,rL;function nwe(){if(rL)return R2;rL=1;var t=Zl(),e=fs(),n=t(e,"DataView");return R2=n,R2}var U2,iL;function rwe(){if(iL)return U2;iL=1;var t=Zl(),e=fs(),n=t(e,"Promise");return U2=n,U2}var M2,sL;function IG(){if(sL)return M2;sL=1;var t=Zl(),e=fs(),n=t(e,"Set");return M2=n,M2}var O2,aL;function iwe(){if(aL)return O2;aL=1;var t=Zl(),e=fs(),n=t(e,"WeakMap");return O2=n,O2}var N2,oL;function dd(){if(oL)return N2;oL=1;var t=nwe(),e=dR(),n=rwe(),r=IG(),i=iwe(),s=Yl(),a=SG(),o="[object Map]",l="[object Object]",c="[object Promise]",d="[object Set]",h="[object WeakMap]",p="[object DataView]",g=a(t),v=a(e),y=a(n),b=a(r),x=a(i),w=s;return(t&&w(new t(new ArrayBuffer(1)))!=p||e&&w(new e)!=o||n&&w(n.resolve())!=c||r&&w(new r)!=d||i&&w(new i)!=h)&&(w=function(D){var E=s(D),A=E==l?D.constructor:void 0,S=A?a(A):"";if(S)switch(S){case g:return p;case v:return o;case y:return c;case b:return d;case x:return h}return E}),N2=w,N2}var F2,lL;function swe(){if(lL)return F2;lL=1;var t=Object.prototype,e=t.hasOwnProperty;function n(r){var i=r.length,s=new r.constructor(i);return i&&typeof r[0]=="string"&&e.call(r,"index")&&(s.index=r.index,s.input=r.input),s}return F2=n,F2}var I2,cL;function PG(){if(cL)return I2;cL=1;var t=fs(),e=t.Uint8Array;return I2=e,I2}var P2,uL;function vR(){if(uL)return P2;uL=1;var t=PG();function e(n){var r=new n.constructor(n.byteLength);return new t(r).set(new t(n)),r}return P2=e,P2}var L2,dL;function awe(){if(dL)return L2;dL=1;var t=vR();function e(n,r){var i=r?t(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.byteLength)}return L2=e,L2}var B2,hL;function owe(){if(hL)return B2;hL=1;var t=/\w*$/;function e(n){var r=new n.constructor(n.source,t.exec(n));return r.lastIndex=n.lastIndex,r}return B2=e,B2}var j2,fL;function lwe(){if(fL)return j2;fL=1;var t=cd(),e=t?t.prototype:void 0,n=e?e.valueOf:void 0;function r(i){return n?Object(n.call(i)):{}}return j2=r,j2}var z2,pL;function LG(){if(pL)return z2;pL=1;var t=vR();function e(n,r){var i=r?t(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.length)}return z2=e,z2}var q2,gL;function cwe(){if(gL)return q2;gL=1;var t=vR(),e=awe(),n=owe(),r=lwe(),i=LG(),s="[object Boolean]",a="[object Date]",o="[object Map]",l="[object Number]",c="[object RegExp]",d="[object Set]",h="[object String]",p="[object Symbol]",g="[object ArrayBuffer]",v="[object DataView]",y="[object Float32Array]",b="[object Float64Array]",x="[object Int8Array]",w="[object Int16Array]",D="[object Int32Array]",E="[object Uint8Array]",A="[object Uint8ClampedArray]",S="[object Uint16Array]",T="[object Uint32Array]";function M(R,O,z){var F=R.constructor;switch(O){case g:return t(R);case s:case a:return new F(+R);case v:return e(R,z);case y:case b:case x:case w:case D:case E:case A:case S:case T:return i(R,z);case o:return new F;case l:case h:return new F(R);case c:return n(R);case d:return new F;case p:return r(R)}}return q2=M,q2}var W2,mL;function BG(){if(mL)return W2;mL=1;var t=Hi(),e=Object.create,n=(function(){function r(){}return function(i){if(!t(i))return{};if(e)return e(i);r.prototype=i;var s=new r;return r.prototype=void 0,s}})();return W2=n,W2}var V2,yL;function jG(){if(yL)return V2;yL=1;var t=BG(),e=Zb(),n=Yb();function r(i){return typeof i.constructor=="function"&&!n(i)?t(e(i)):{}}return V2=r,V2}var H2,bL;function uwe(){if(bL)return H2;bL=1;var t=dd(),e=Ps(),n="[object Map]";function r(i){return e(i)&&t(i)==n}return H2=r,H2}var $2,vL;function dwe(){if(vL)return $2;vL=1;var t=uwe(),e=Kb(),n=gR(),r=n&&n.isMap,i=r?e(r):t;return $2=i,$2}var G2,xL;function hwe(){if(xL)return G2;xL=1;var t=dd(),e=Ps(),n="[object Set]";function r(i){return e(i)&&t(i)==n}return G2=r,G2}var X2,wL;function fwe(){if(wL)return X2;wL=1;var t=hwe(),e=Kb(),n=gR(),r=n&&n.isSet,i=r?e(r):t;return X2=i,X2}var K2,_L;function zG(){if(_L)return K2;_L=1;var t=Hb(),e=fR(),n=Gb(),r=Kxe(),i=Jxe(),s=kG(),a=RG(),o=Qxe(),l=ewe(),c=FG(),d=twe(),h=dd(),p=swe(),g=cwe(),v=jG(),y=In(),b=ud(),x=dwe(),w=Hi(),D=fwe(),E=Oo(),A=Jl(),S=1,T=2,M=4,R="[object Arguments]",O="[object Array]",z="[object Boolean]",F="[object Date]",q="[object Error]",k="[object Function]",H="[object GeneratorFunction]",N="[object Map]",B="[object Number]",G="[object Object]",$="[object RegExp]",W="[object Set]",L="[object String]",K="[object Symbol]",j="[object WeakMap]",Y="[object ArrayBuffer]",ee="[object DataView]",re="[object Float32Array]",se="[object Float64Array]",ye="[object Int8Array]",xe="[object Int16Array]",Re="[object Int32Array]",Fe="[object Uint8Array]",qe="[object Uint8ClampedArray]",We="[object Uint16Array]",P="[object Uint32Array]",oe={};oe[R]=oe[O]=oe[Y]=oe[ee]=oe[z]=oe[F]=oe[re]=oe[se]=oe[ye]=oe[xe]=oe[Re]=oe[N]=oe[B]=oe[G]=oe[$]=oe[W]=oe[L]=oe[K]=oe[Fe]=oe[qe]=oe[We]=oe[P]=!0,oe[q]=oe[k]=oe[j]=!1;function ce(Q,J,ue,De,Se,fe){var ie,le=J&S,me=J&T,ae=J&M;if(ue&&(ie=Se?ue(Q,De,Se,fe):ue(Q)),ie!==void 0)return ie;if(!w(Q))return Q;var ve=y(Q);if(ve){if(ie=p(Q),!le)return a(Q,ie)}else{var Ue=h(Q),Le=Ue==k||Ue==H;if(b(Q))return s(Q,le);if(Ue==G||Ue==R||Le&&!Se){if(ie=me||Le?{}:v(Q),!le)return me?l(Q,i(ie,Q)):o(Q,r(ie,Q))}else{if(!oe[Ue])return Se?Q:{};ie=g(Q,Ue,le)}}fe||(fe=new t);var Pe=fe.get(Q);if(Pe)return Pe;fe.set(Q,ie),D(Q)?Q.forEach(function(pe){ie.add(ce(pe,J,ue,pe,Q,fe))}):x(Q)&&Q.forEach(function(pe,Te){ie.set(Te,ce(pe,J,ue,Te,Q,fe))});var Ve=ae?me?d:c:me?A:E,tt=ve?void 0:Ve(Q);return e(tt||Q,function(pe,Te){tt&&(Te=pe,pe=Q[Te]),n(ie,Te,ce(pe,J,ue,Te,Q,fe))}),ie}return K2=ce,K2}var Y2,DL;function pwe(){if(DL)return Y2;DL=1;var t=zG(),e=4;function n(r){return t(r,e)}return Y2=n,Y2}var Z2,EL;function xR(){if(EL)return Z2;EL=1;function t(e){return function(){return e}}return Z2=t,Z2}var J2,SL;function gwe(){if(SL)return J2;SL=1;function t(e){return function(n,r,i){for(var s=-1,a=Object(n),o=i(n),l=o.length;l--;){var c=o[e?l:++s];if(r(a[c],c,a)===!1)break}return n}}return J2=t,J2}var Q2,AL;function wR(){if(AL)return Q2;AL=1;var t=gwe(),e=t();return Q2=e,Q2}var e_,TL;function _R(){if(TL)return e_;TL=1;var t=wR(),e=Oo();function n(r,i){return r&&t(r,i,e)}return e_=n,e_}var t_,CL;function mwe(){if(CL)return t_;CL=1;var t=Aa();function e(n,r){return function(i,s){if(i==null)return i;if(!t(i))return n(i,s);for(var a=i.length,o=r?a:-1,l=Object(i);(r?o--:++o<a)&&s(l[o],o,l)!==!1;);return i}}return t_=e,t_}var n_,kL;function Jb(){if(kL)return n_;kL=1;var t=_R(),e=mwe(),n=e(t);return n_=n,n_}var r_,RL;function Ql(){if(RL)return r_;RL=1;function t(e){return e}return r_=t,r_}var i_,UL;function qG(){if(UL)return i_;UL=1;var t=Ql();function e(n){return typeof n=="function"?n:t}return i_=e,i_}var s_,ML;function WG(){if(ML)return s_;ML=1;var t=fR(),e=Jb(),n=qG(),r=In();function i(s,a){var o=r(s)?t:e;return o(s,n(a))}return s_=i,s_}var a_,OL;function VG(){return OL||(OL=1,a_=WG()),a_}var o_,NL;function ywe(){if(NL)return o_;NL=1;var t=Jb();function e(n,r){var i=[];return t(n,function(s,a,o){r(s,a,o)&&i.push(s)}),i}return o_=e,o_}var l_,FL;function bwe(){if(FL)return l_;FL=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return l_=e,l_}var c_,IL;function vwe(){if(IL)return c_;IL=1;function t(e){return this.__data__.has(e)}return c_=t,c_}var u_,PL;function HG(){if(PL)return u_;PL=1;var t=hR(),e=bwe(),n=vwe();function r(i){var s=-1,a=i==null?0:i.length;for(this.__data__=new t;++s<a;)this.add(i[s])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,u_=r,u_}var d_,LL;function xwe(){if(LL)return d_;LL=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}return d_=t,d_}var h_,BL;function $G(){if(BL)return h_;BL=1;function t(e,n){return e.has(n)}return h_=t,h_}var f_,jL;function GG(){if(jL)return f_;jL=1;var t=HG(),e=xwe(),n=$G(),r=1,i=2;function s(a,o,l,c,d,h){var p=l&r,g=a.length,v=o.length;if(g!=v&&!(p&&v>g))return!1;var y=h.get(a),b=h.get(o);if(y&&b)return y==o&&b==a;var x=-1,w=!0,D=l&i?new t:void 0;for(h.set(a,o),h.set(o,a);++x<g;){var E=a[x],A=o[x];if(c)var S=p?c(A,E,x,o,a,h):c(E,A,x,a,o,h);if(S!==void 0){if(S)continue;w=!1;break}if(D){if(!e(o,function(T,M){if(!n(D,M)&&(E===T||d(E,T,l,c,h)))return D.push(M)})){w=!1;break}}else if(!(E===A||d(E,A,l,c,h))){w=!1;break}}return h.delete(a),h.delete(o),w}return f_=s,f_}var p_,zL;function wwe(){if(zL)return p_;zL=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i,s){r[++n]=[s,i]}),r}return p_=t,p_}var g_,qL;function DR(){if(qL)return g_;qL=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}return g_=t,g_}var m_,WL;function _we(){if(WL)return m_;WL=1;var t=cd(),e=PG(),n=ld(),r=GG(),i=wwe(),s=DR(),a=1,o=2,l="[object Boolean]",c="[object Date]",d="[object Error]",h="[object Map]",p="[object Number]",g="[object RegExp]",v="[object Set]",y="[object String]",b="[object Symbol]",x="[object ArrayBuffer]",w="[object DataView]",D=t?t.prototype:void 0,E=D?D.valueOf:void 0;function A(S,T,M,R,O,z,F){switch(M){case w:if(S.byteLength!=T.byteLength||S.byteOffset!=T.byteOffset)return!1;S=S.buffer,T=T.buffer;case x:return!(S.byteLength!=T.byteLength||!z(new e(S),new e(T)));case l:case c:case p:return n(+S,+T);case d:return S.name==T.name&&S.message==T.message;case g:case y:return S==T+"";case h:var q=i;case v:var k=R&a;if(q||(q=s),S.size!=T.size&&!k)return!1;var H=F.get(S);if(H)return H==T;R|=o,F.set(S,T);var N=r(q(S),q(T),R,O,z,F);return F.delete(S),N;case b:if(E)return E.call(S)==E.call(T)}return!1}return m_=A,m_}var y_,VL;function Dwe(){if(VL)return y_;VL=1;var t=FG(),e=1,n=Object.prototype,r=n.hasOwnProperty;function i(s,a,o,l,c,d){var h=o&e,p=t(s),g=p.length,v=t(a),y=v.length;if(g!=y&&!h)return!1;for(var b=g;b--;){var x=p[b];if(!(h?x in a:r.call(a,x)))return!1}var w=d.get(s),D=d.get(a);if(w&&D)return w==a&&D==s;var E=!0;d.set(s,a),d.set(a,s);for(var A=h;++b<g;){x=p[b];var S=s[x],T=a[x];if(l)var M=h?l(T,S,x,a,s,d):l(S,T,x,s,a,d);if(!(M===void 0?S===T||c(S,T,o,l,d):M)){E=!1;break}A||(A=x=="constructor")}if(E&&!A){var R=s.constructor,O=a.constructor;R!=O&&"constructor"in s&&"constructor"in a&&!(typeof R=="function"&&R instanceof R&&typeof O=="function"&&O instanceof O)&&(E=!1)}return d.delete(s),d.delete(a),E}return y_=i,y_}var b_,HL;function Ewe(){if(HL)return b_;HL=1;var t=Hb(),e=GG(),n=_we(),r=Dwe(),i=dd(),s=In(),a=ud(),o=cp(),l=1,c="[object Arguments]",d="[object Array]",h="[object Object]",p=Object.prototype,g=p.hasOwnProperty;function v(y,b,x,w,D,E){var A=s(y),S=s(b),T=A?d:i(y),M=S?d:i(b);T=T==c?h:T,M=M==c?h:M;var R=T==h,O=M==h,z=T==M;if(z&&a(y)){if(!a(b))return!1;A=!0,R=!1}if(z&&!R)return E||(E=new t),A||o(y)?e(y,b,x,w,D,E):n(y,b,T,x,w,D,E);if(!(x&l)){var F=R&&g.call(y,"__wrapped__"),q=O&&g.call(b,"__wrapped__");if(F||q){var k=F?y.value():y,H=q?b.value():b;return E||(E=new t),D(k,H,x,w,E)}}return z?(E||(E=new t),r(y,b,x,w,D,E)):!1}return b_=v,b_}var v_,$L;function XG(){if($L)return v_;$L=1;var t=Ewe(),e=Ps();function n(r,i,s,a,o){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:t(r,i,s,a,n,o)}return v_=n,v_}var x_,GL;function Swe(){if(GL)return x_;GL=1;var t=Hb(),e=XG(),n=1,r=2;function i(s,a,o,l){var c=o.length,d=c,h=!l;if(s==null)return!d;for(s=Object(s);c--;){var p=o[c];if(h&&p[2]?p[1]!==s[p[0]]:!(p[0]in s))return!1}for(;++c<d;){p=o[c];var g=p[0],v=s[g],y=p[1];if(h&&p[2]){if(v===void 0&&!(g in s))return!1}else{var b=new t;if(l)var x=l(v,y,g,s,a,b);if(!(x===void 0?e(y,v,n|r,l,b):x))return!1}}return!0}return x_=i,x_}var w_,XL;function KG(){if(XL)return w_;XL=1;var t=Hi();function e(n){return n===n&&!t(n)}return w_=e,w_}var __,KL;function Awe(){if(KL)return __;KL=1;var t=KG(),e=Oo();function n(r){for(var i=e(r),s=i.length;s--;){var a=i[s],o=r[a];i[s]=[a,o,t(o)]}return i}return __=n,__}var D_,YL;function YG(){if(YL)return D_;YL=1;function t(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}return D_=t,D_}var E_,ZL;function Twe(){if(ZL)return E_;ZL=1;var t=Swe(),e=Awe(),n=YG();function r(i){var s=e(i);return s.length==1&&s[0][2]?n(s[0][0],s[0][1]):function(a){return a===i||t(a,i,s)}}return E_=r,E_}var S_,JL;function hd(){if(JL)return S_;JL=1;var t=Yl(),e=Ps(),n="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&t(i)==n}return S_=r,S_}var A_,QL;function ER(){if(QL)return A_;QL=1;var t=In(),e=hd(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,a){if(t(s))return!1;var o=typeof s;return o=="number"||o=="symbol"||o=="boolean"||s==null||e(s)?!0:r.test(s)||!n.test(s)||a!=null&&s in Object(a)}return A_=i,A_}var T_,e8;function Cwe(){if(e8)return T_;e8=1;var t=hR(),e="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var s=function(){var a=arguments,o=i?i.apply(this,a):a[0],l=s.cache;if(l.has(o))return l.get(o);var c=r.apply(this,a);return s.cache=l.set(o,c)||l,c};return s.cache=new(n.Cache||t),s}return n.Cache=t,T_=n,T_}var C_,t8;function kwe(){if(t8)return C_;t8=1;var t=Cwe(),e=500;function n(r){var i=t(r,function(a){return s.size===e&&s.clear(),a}),s=i.cache;return i}return C_=n,C_}var k_,n8;function Rwe(){if(n8)return k_;n8=1;var t=kwe(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(e,function(a,o,l,c){s.push(l?c.replace(n,"$1"):o||a)}),s});return k_=r,k_}var R_,r8;function Qb(){if(r8)return R_;r8=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,s=Array(i);++r<i;)s[r]=n(e[r],r,e);return s}return R_=t,R_}var U_,i8;function Uwe(){if(i8)return U_;i8=1;var t=cd(),e=Qb(),n=In(),r=hd(),i=t?t.prototype:void 0,s=i?i.toString:void 0;function a(o){if(typeof o=="string")return o;if(n(o))return e(o,a)+"";if(r(o))return s?s.call(o):"";var l=o+"";return l=="0"&&1/o==-1/0?"-0":l}return U_=a,U_}var M_,s8;function ZG(){if(s8)return M_;s8=1;var t=Uwe();function e(n){return n==null?"":t(n)}return M_=e,M_}var O_,a8;function ev(){if(a8)return O_;a8=1;var t=In(),e=ER(),n=Rwe(),r=ZG();function i(s,a){return t(s)?s:e(s,a)?[s]:n(r(s))}return O_=i,O_}var N_,o8;function up(){if(o8)return N_;o8=1;var t=hd();function e(n){if(typeof n=="string"||t(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return N_=e,N_}var F_,l8;function tv(){if(l8)return F_;l8=1;var t=ev(),e=up();function n(r,i){i=t(i,r);for(var s=0,a=i.length;r!=null&&s<a;)r=r[e(i[s++])];return s&&s==a?r:void 0}return F_=n,F_}var I_,c8;function Mwe(){if(c8)return I_;c8=1;var t=tv();function e(n,r,i){var s=n==null?void 0:t(n,r);return s===void 0?i:s}return I_=e,I_}var P_,u8;function Owe(){if(u8)return P_;u8=1;function t(e,n){return e!=null&&n in Object(e)}return P_=t,P_}var L_,d8;function JG(){if(d8)return L_;d8=1;var t=ev(),e=lp(),n=In(),r=Xb(),i=pR(),s=up();function a(o,l,c){l=t(l,o);for(var d=-1,h=l.length,p=!1;++d<h;){var g=s(l[d]);if(!(p=o!=null&&c(o,g)))break;o=o[g]}return p||++d!=h?p:(h=o==null?0:o.length,!!h&&i(h)&&r(g,h)&&(n(o)||e(o)))}return L_=a,L_}var B_,h8;function QG(){if(h8)return B_;h8=1;var t=Owe(),e=JG();function n(r,i){return r!=null&&e(r,i,t)}return B_=n,B_}var j_,f8;function Nwe(){if(f8)return j_;f8=1;var t=XG(),e=Mwe(),n=QG(),r=ER(),i=KG(),s=YG(),a=up(),o=1,l=2;function c(d,h){return r(d)&&i(h)?s(a(d),h):function(p){var g=e(p,d);return g===void 0&&g===h?n(p,d):t(h,g,o|l)}}return j_=c,j_}var z_,p8;function eX(){if(p8)return z_;p8=1;function t(e){return function(n){return n?.[e]}}return z_=t,z_}var q_,g8;function Fwe(){if(g8)return q_;g8=1;var t=tv();function e(n){return function(r){return t(r,n)}}return q_=e,q_}var W_,m8;function Iwe(){if(m8)return W_;m8=1;var t=eX(),e=Fwe(),n=ER(),r=up();function i(s){return n(s)?t(r(s)):e(s)}return W_=i,W_}var V_,y8;function Ta(){if(y8)return V_;y8=1;var t=Twe(),e=Nwe(),n=Ql(),r=In(),i=Iwe();function s(a){return typeof a=="function"?a:a==null?n:typeof a=="object"?r(a)?e(a[0],a[1]):t(a):i(a)}return V_=s,V_}var H_,b8;function tX(){if(b8)return H_;b8=1;var t=UG(),e=ywe(),n=Ta(),r=In();function i(s,a){var o=r(s)?t:e;return o(s,n(a,3))}return H_=i,H_}var $_,v8;function Pwe(){if(v8)return $_;v8=1;var t=Object.prototype,e=t.hasOwnProperty;function n(r,i){return r!=null&&e.call(r,i)}return $_=n,$_}var G_,x8;function nX(){if(x8)return G_;x8=1;var t=Pwe(),e=JG();function n(r,i){return r!=null&&e(r,i,t)}return G_=n,G_}var X_,w8;function Lwe(){if(w8)return X_;w8=1;var t=mR(),e=dd(),n=lp(),r=In(),i=Aa(),s=ud(),a=Yb(),o=cp(),l="[object Map]",c="[object Set]",d=Object.prototype,h=d.hasOwnProperty;function p(g){if(g==null)return!0;if(i(g)&&(r(g)||typeof g=="string"||typeof g.splice=="function"||s(g)||o(g)||n(g)))return!g.length;var v=e(g);if(v==l||v==c)return!g.size;if(a(g))return!t(g).length;for(var y in g)if(h.call(g,y))return!1;return!0}return X_=p,X_}var K_,_8;function rX(){if(_8)return K_;_8=1;function t(e){return e===void 0}return K_=t,K_}var Y_,D8;function iX(){if(D8)return Y_;D8=1;var t=Jb(),e=Aa();function n(r,i){var s=-1,a=e(r)?Array(r.length):[];return t(r,function(o,l,c){a[++s]=i(o,l,c)}),a}return Y_=n,Y_}var Z_,E8;function sX(){if(E8)return Z_;E8=1;var t=Qb(),e=Ta(),n=iX(),r=In();function i(s,a){var o=r(s)?t:n;return o(s,e(a,3))}return Z_=i,Z_}var J_,S8;function Bwe(){if(S8)return J_;S8=1;function t(e,n,r,i){var s=-1,a=e==null?0:e.length;for(i&&a&&(r=e[++s]);++s<a;)r=n(r,e[s],s,e);return r}return J_=t,J_}var Q_,A8;function jwe(){if(A8)return Q_;A8=1;function t(e,n,r,i,s){return s(e,function(a,o,l){r=i?(i=!1,a):n(r,a,o,l)}),r}return Q_=t,Q_}var eD,T8;function aX(){if(T8)return eD;T8=1;var t=Bwe(),e=Jb(),n=Ta(),r=jwe(),i=In();function s(a,o,l){var c=i(a)?t:r,d=arguments.length<3;return c(a,n(o,4),l,d,e)}return eD=s,eD}var tD,C8;function zwe(){if(C8)return tD;C8=1;var t=Yl(),e=In(),n=Ps(),r="[object String]";function i(s){return typeof s=="string"||!e(s)&&n(s)&&t(s)==r}return tD=i,tD}var nD,k8;function qwe(){if(k8)return nD;k8=1;var t=eX(),e=t("length");return nD=e,nD}var rD,R8;function Wwe(){if(R8)return rD;R8=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,s="\\ufe0e\\ufe0f",a="\\u200d",o=RegExp("["+a+t+i+s+"]");function l(c){return o.test(c)}return rD=l,rD}var iD,U8;function Vwe(){if(U8)return iD;U8=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,s="\\ufe0e\\ufe0f",a="["+t+"]",o="["+i+"]",l="\\ud83c[\\udffb-\\udfff]",c="(?:"+o+"|"+l+")",d="[^"+t+"]",h="(?:\\ud83c[\\udde6-\\uddff]){2}",p="[\\ud800-\\udbff][\\udc00-\\udfff]",g="\\u200d",v=c+"?",y="["+s+"]?",b="(?:"+g+"(?:"+[d,h,p].join("|")+")"+y+v+")*",x=y+v+b,w="(?:"+[d+o+"?",o,h,p,a].join("|")+")",D=RegExp(l+"(?="+l+")|"+w+x,"g");function E(A){for(var S=D.lastIndex=0;D.test(A);)++S;return S}return iD=E,iD}var sD,M8;function Hwe(){if(M8)return sD;M8=1;var t=qwe(),e=Wwe(),n=Vwe();function r(i){return e(i)?n(i):t(i)}return sD=r,sD}var aD,O8;function $we(){if(O8)return aD;O8=1;var t=mR(),e=dd(),n=Aa(),r=zwe(),i=Hwe(),s="[object Map]",a="[object Set]";function o(l){if(l==null)return 0;if(n(l))return r(l)?i(l):l.length;var c=e(l);return c==s||c==a?l.size:t(l).length}return aD=o,aD}var oD,N8;function Gwe(){if(N8)return oD;N8=1;var t=fR(),e=BG(),n=_R(),r=Ta(),i=Zb(),s=In(),a=ud(),o=ap(),l=Hi(),c=cp();function d(h,p,g){var v=s(h),y=v||a(h)||c(h);if(p=r(p,4),g==null){var b=h&&h.constructor;y?g=v?new b:[]:l(h)?g=o(b)?e(i(h)):{}:g={}}return(y?t:n)(h,function(x,w,D){return p(g,x,w,D)}),g}return oD=d,oD}var lD,F8;function Xwe(){if(F8)return lD;F8=1;var t=cd(),e=lp(),n=In(),r=t?t.isConcatSpreadable:void 0;function i(s){return n(s)||e(s)||!!(r&&s&&s[r])}return lD=i,lD}var cD,I8;function SR(){if(I8)return cD;I8=1;var t=bR(),e=Xwe();function n(r,i,s,a,o){var l=-1,c=r.length;for(s||(s=e),o||(o=[]);++l<c;){var d=r[l];i>0&&s(d)?i>1?n(d,i-1,s,a,o):t(o,d):a||(o[o.length]=d)}return o}return cD=n,cD}var uD,P8;function Kwe(){if(P8)return uD;P8=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return uD=t,uD}var dD,L8;function oX(){if(L8)return dD;L8=1;var t=Kwe(),e=Math.max;function n(r,i,s){return i=e(i===void 0?r.length-1:i,0),function(){for(var a=arguments,o=-1,l=e(a.length-i,0),c=Array(l);++o<l;)c[o]=a[i+o];o=-1;for(var d=Array(i+1);++o<i;)d[o]=a[o];return d[i]=s(c),t(r,this,d)}}return dD=n,dD}var hD,B8;function Ywe(){if(B8)return hD;B8=1;var t=xR(),e=AG(),n=Ql(),r=e?function(i,s){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(s),writable:!0})}:n;return hD=r,hD}var fD,j8;function Zwe(){if(j8)return fD;j8=1;var t=800,e=16,n=Date.now;function r(i){var s=0,a=0;return function(){var o=n(),l=e-(o-a);if(a=o,l>0){if(++s>=t)return arguments[0]}else s=0;return i.apply(void 0,arguments)}}return fD=r,fD}var pD,z8;function lX(){if(z8)return pD;z8=1;var t=Ywe(),e=Zwe(),n=e(t);return pD=n,pD}var gD,q8;function nv(){if(q8)return gD;q8=1;var t=Ql(),e=oX(),n=lX();function r(i,s){return n(e(i,s,t),i+"")}return gD=r,gD}var mD,W8;function cX(){if(W8)return mD;W8=1;function t(e,n,r,i){for(var s=e.length,a=r+(i?1:-1);i?a--:++a<s;)if(n(e[a],a,e))return a;return-1}return mD=t,mD}var yD,V8;function Jwe(){if(V8)return yD;V8=1;function t(e){return e!==e}return yD=t,yD}var bD,H8;function Qwe(){if(H8)return bD;H8=1;function t(e,n,r){for(var i=r-1,s=e.length;++i<s;)if(e[i]===n)return i;return-1}return bD=t,bD}var vD,$8;function e2e(){if($8)return vD;$8=1;var t=cX(),e=Jwe(),n=Qwe();function r(i,s,a){return s===s?n(i,s,a):t(i,e,a)}return vD=r,vD}var xD,G8;function t2e(){if(G8)return xD;G8=1;var t=e2e();function e(n,r){var i=n==null?0:n.length;return!!i&&t(n,r,0)>-1}return xD=e,xD}var wD,X8;function n2e(){if(X8)return wD;X8=1;function t(e,n,r){for(var i=-1,s=e==null?0:e.length;++i<s;)if(r(n,e[i]))return!0;return!1}return wD=t,wD}var _D,K8;function r2e(){if(K8)return _D;K8=1;function t(){}return _D=t,_D}var DD,Y8;function i2e(){if(Y8)return DD;Y8=1;var t=IG(),e=r2e(),n=DR(),r=1/0,i=t&&1/n(new t([,-0]))[1]==r?function(s){return new t(s)}:e;return DD=i,DD}var ED,Z8;function s2e(){if(Z8)return ED;Z8=1;var t=HG(),e=t2e(),n=n2e(),r=$G(),i=i2e(),s=DR(),a=200;function o(l,c,d){var h=-1,p=e,g=l.length,v=!0,y=[],b=y;if(d)v=!1,p=n;else if(g>=a){var x=c?null:i(l);if(x)return s(x);v=!1,p=r,b=new t}else b=c?[]:y;e:for(;++h<g;){var w=l[h],D=c?c(w):w;if(w=d||w!==0?w:0,v&&D===D){for(var E=b.length;E--;)if(b[E]===D)continue e;c&&b.push(D),y.push(w)}else p(b,D,d)||(b!==y&&b.push(D),y.push(w))}return y}return ED=o,ED}var SD,J8;function uX(){if(J8)return SD;J8=1;var t=Aa(),e=Ps();function n(r){return e(r)&&t(r)}return SD=n,SD}var AD,Q8;function a2e(){if(Q8)return AD;Q8=1;var t=SR(),e=nv(),n=s2e(),r=uX(),i=e(function(s){return n(t(s,1,r,!0))});return AD=i,AD}var TD,eB;function o2e(){if(eB)return TD;eB=1;var t=Qb();function e(n,r){return t(r,function(i){return n[i]})}return TD=e,TD}var CD,tB;function dX(){if(tB)return CD;tB=1;var t=o2e(),e=Oo();function n(r){return r==null?[]:t(r,e(r))}return CD=n,CD}var kD,nB;function $i(){if(nB)return kD;nB=1;var t;if(typeof El=="function")try{t={clone:pwe(),constant:xR(),each:VG(),filter:tX(),has:nX(),isArray:In(),isEmpty:Lwe(),isFunction:ap(),isUndefined:rX(),keys:Oo(),map:sX(),reduce:aX(),size:$we(),transform:Gwe(),union:a2e(),values:dX()}}catch{}return t||(t=window._),kD=t,kD}var RD,rB;function AR(){if(rB)return RD;rB=1;var t=$i();RD=i;var e="\0",n="\0",r="";function i(d){this._isDirected=t.has(d,"directed")?d.directed:!0,this._isMultigraph=t.has(d,"multigraph")?d.multigraph:!1,this._isCompound=t.has(d,"compound")?d.compound:!1,this._label=void 0,this._defaultNodeLabelFn=t.constant(void 0),this._defaultEdgeLabelFn=t.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[n]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}i.prototype._nodeCount=0,i.prototype._edgeCount=0,i.prototype.isDirected=function(){return this._isDirected},i.prototype.isMultigraph=function(){return this._isMultigraph},i.prototype.isCompound=function(){return this._isCompound},i.prototype.setGraph=function(d){return this._label=d,this},i.prototype.graph=function(){return this._label},i.prototype.setDefaultNodeLabel=function(d){return t.isFunction(d)||(d=t.constant(d)),this._defaultNodeLabelFn=d,this},i.prototype.nodeCount=function(){return this._nodeCount},i.prototype.nodes=function(){return t.keys(this._nodes)},i.prototype.sources=function(){var d=this;return t.filter(this.nodes(),function(h){return t.isEmpty(d._in[h])})},i.prototype.sinks=function(){var d=this;return t.filter(this.nodes(),function(h){return t.isEmpty(d._out[h])})},i.prototype.setNodes=function(d,h){var p=arguments,g=this;return t.each(d,function(v){p.length>1?g.setNode(v,h):g.setNode(v)}),this},i.prototype.setNode=function(d,h){return t.has(this._nodes,d)?(arguments.length>1&&(this._nodes[d]=h),this):(this._nodes[d]=arguments.length>1?h:this._defaultNodeLabelFn(d),this._isCompound&&(this._parent[d]=n,this._children[d]={},this._children[n][d]=!0),this._in[d]={},this._preds[d]={},this._out[d]={},this._sucs[d]={},++this._nodeCount,this)},i.prototype.node=function(d){return this._nodes[d]},i.prototype.hasNode=function(d){return t.has(this._nodes,d)},i.prototype.removeNode=function(d){var h=this;if(t.has(this._nodes,d)){var p=function(g){h.removeEdge(h._edgeObjs[g])};delete this._nodes[d],this._isCompound&&(this._removeFromParentsChildList(d),delete this._parent[d],t.each(this.children(d),function(g){h.setParent(g)}),delete this._children[d]),t.each(t.keys(this._in[d]),p),delete this._in[d],delete this._preds[d],t.each(t.keys(this._out[d]),p),delete this._out[d],delete this._sucs[d],--this._nodeCount}return this},i.prototype.setParent=function(d,h){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(t.isUndefined(h))h=n;else{h+="";for(var p=h;!t.isUndefined(p);p=this.parent(p))if(p===d)throw new Error("Setting "+h+" as parent of "+d+" would create a cycle");this.setNode(h)}return this.setNode(d),this._removeFromParentsChildList(d),this._parent[d]=h,this._children[h][d]=!0,this},i.prototype._removeFromParentsChildList=function(d){delete this._children[this._parent[d]][d]},i.prototype.parent=function(d){if(this._isCompound){var h=this._parent[d];if(h!==n)return h}},i.prototype.children=function(d){if(t.isUndefined(d)&&(d=n),this._isCompound){var h=this._children[d];if(h)return t.keys(h)}else{if(d===n)return this.nodes();if(this.hasNode(d))return[]}},i.prototype.predecessors=function(d){var h=this._preds[d];if(h)return t.keys(h)},i.prototype.successors=function(d){var h=this._sucs[d];if(h)return t.keys(h)},i.prototype.neighbors=function(d){var h=this.predecessors(d);if(h)return t.union(h,this.successors(d))},i.prototype.isLeaf=function(d){var h;return this.isDirected()?h=this.successors(d):h=this.neighbors(d),h.length===0},i.prototype.filterNodes=function(d){var h=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});h.setGraph(this.graph());var p=this;t.each(this._nodes,function(y,b){d(b)&&h.setNode(b,y)}),t.each(this._edgeObjs,function(y){h.hasNode(y.v)&&h.hasNode(y.w)&&h.setEdge(y,p.edge(y))});var g={};function v(y){var b=p.parent(y);return b===void 0||h.hasNode(b)?(g[y]=b,b):b in g?g[b]:v(b)}return this._isCompound&&t.each(h.nodes(),function(y){h.setParent(y,v(y))}),h},i.prototype.setDefaultEdgeLabel=function(d){return t.isFunction(d)||(d=t.constant(d)),this._defaultEdgeLabelFn=d,this},i.prototype.edgeCount=function(){return this._edgeCount},i.prototype.edges=function(){return t.values(this._edgeObjs)},i.prototype.setPath=function(d,h){var p=this,g=arguments;return t.reduce(d,function(v,y){return g.length>1?p.setEdge(v,y,h):p.setEdge(v,y),y}),this},i.prototype.setEdge=function(){var d,h,p,g,v=!1,y=arguments[0];typeof y=="object"&&y!==null&&"v"in y?(d=y.v,h=y.w,p=y.name,arguments.length===2&&(g=arguments[1],v=!0)):(d=y,h=arguments[1],p=arguments[3],arguments.length>2&&(g=arguments[2],v=!0)),d=""+d,h=""+h,t.isUndefined(p)||(p=""+p);var b=o(this._isDirected,d,h,p);if(t.has(this._edgeLabels,b))return v&&(this._edgeLabels[b]=g),this;if(!t.isUndefined(p)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(d),this.setNode(h),this._edgeLabels[b]=v?g:this._defaultEdgeLabelFn(d,h,p);var x=l(this._isDirected,d,h,p);return d=x.v,h=x.w,Object.freeze(x),this._edgeObjs[b]=x,s(this._preds[h],d),s(this._sucs[d],h),this._in[h][b]=x,this._out[d][b]=x,this._edgeCount++,this},i.prototype.edge=function(d,h,p){var g=arguments.length===1?c(this._isDirected,arguments[0]):o(this._isDirected,d,h,p);return this._edgeLabels[g]},i.prototype.hasEdge=function(d,h,p){var g=arguments.length===1?c(this._isDirected,arguments[0]):o(this._isDirected,d,h,p);return t.has(this._edgeLabels,g)},i.prototype.removeEdge=function(d,h,p){var g=arguments.length===1?c(this._isDirected,arguments[0]):o(this._isDirected,d,h,p),v=this._edgeObjs[g];return v&&(d=v.v,h=v.w,delete this._edgeLabels[g],delete this._edgeObjs[g],a(this._preds[h],d),a(this._sucs[d],h),delete this._in[h][g],delete this._out[d][g],this._edgeCount--),this},i.prototype.inEdges=function(d,h){var p=this._in[d];if(p){var g=t.values(p);return h?t.filter(g,function(v){return v.v===h}):g}},i.prototype.outEdges=function(d,h){var p=this._out[d];if(p){var g=t.values(p);return h?t.filter(g,function(v){return v.w===h}):g}},i.prototype.nodeEdges=function(d,h){var p=this.inEdges(d,h);if(p)return p.concat(this.outEdges(d,h))};function s(d,h){d[h]?d[h]++:d[h]=1}function a(d,h){--d[h]||delete d[h]}function o(d,h,p,g){var v=""+h,y=""+p;if(!d&&v>y){var b=v;v=y,y=b}return v+r+y+r+(t.isUndefined(g)?e:g)}function l(d,h,p,g){var v=""+h,y=""+p;if(!d&&v>y){var b=v;v=y,y=b}var x={v,w:y};return g&&(x.name=g),x}function c(d,h){return o(d,h.v,h.w,h.name)}return RD}var UD,iB;function l2e(){return iB||(iB=1,UD="2.1.8"),UD}var MD,sB;function c2e(){return sB||(sB=1,MD={Graph:AR(),version:l2e()}),MD}var OD,aB;function u2e(){if(aB)return OD;aB=1;var t=$i(),e=AR();OD={write:n,read:s};function n(a){var o={options:{directed:a.isDirected(),multigraph:a.isMultigraph(),compound:a.isCompound()},nodes:r(a),edges:i(a)};return t.isUndefined(a.graph())||(o.value=t.clone(a.graph())),o}function r(a){return t.map(a.nodes(),function(o){var l=a.node(o),c=a.parent(o),d={v:o};return t.isUndefined(l)||(d.value=l),t.isUndefined(c)||(d.parent=c),d})}function i(a){return t.map(a.edges(),function(o){var l=a.edge(o),c={v:o.v,w:o.w};return t.isUndefined(o.name)||(c.name=o.name),t.isUndefined(l)||(c.value=l),c})}function s(a){var o=new e(a.options).setGraph(a.value);return t.each(a.nodes,function(l){o.setNode(l.v,l.value),l.parent&&o.setParent(l.v,l.parent)}),t.each(a.edges,function(l){o.setEdge({v:l.v,w:l.w,name:l.name},l.value)}),o}return OD}var ND,oB;function d2e(){if(oB)return ND;oB=1;var t=$i();ND=e;function e(n){var r={},i=[],s;function a(o){t.has(r,o)||(r[o]=!0,s.push(o),t.each(n.successors(o),a),t.each(n.predecessors(o),a))}return t.each(n.nodes(),function(o){s=[],a(o),s.length&&i.push(s)}),i}return ND}var FD,lB;function hX(){if(lB)return FD;lB=1;var t=$i();FD=e;function e(){this._arr=[],this._keyIndices={}}return e.prototype.size=function(){return this._arr.length},e.prototype.keys=function(){return this._arr.map(function(n){return n.key})},e.prototype.has=function(n){return t.has(this._keyIndices,n)},e.prototype.priority=function(n){var r=this._keyIndices[n];if(r!==void 0)return this._arr[r].priority},e.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},e.prototype.add=function(n,r){var i=this._keyIndices;if(n=String(n),!t.has(i,n)){var s=this._arr,a=s.length;return i[n]=a,s.push({key:n,priority:r}),this._decrease(a),!0}return!1},e.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var n=this._arr.pop();return delete this._keyIndices[n.key],this._heapify(0),n.key},e.prototype.decrease=function(n,r){var i=this._keyIndices[n];if(r>this._arr[i].priority)throw new Error("New priority is greater than current priority. Key: "+n+" Old: "+this._arr[i].priority+" New: "+r);this._arr[i].priority=r,this._decrease(i)},e.prototype._heapify=function(n){var r=this._arr,i=2*n,s=i+1,a=n;i<r.length&&(a=r[i].priority<r[a].priority?i:a,s<r.length&&(a=r[s].priority<r[a].priority?s:a),a!==n&&(this._swap(n,a),this._heapify(a)))},e.prototype._decrease=function(n){for(var r=this._arr,i=r[n].priority,s;n!==0&&(s=n>>1,!(r[s].priority<i));)this._swap(n,s),n=s},e.prototype._swap=function(n,r){var i=this._arr,s=this._keyIndices,a=i[n],o=i[r];i[n]=o,i[r]=a,s[o.key]=n,s[a.key]=r},FD}var ID,cB;function fX(){if(cB)return ID;cB=1;var t=$i(),e=hX();ID=r;var n=t.constant(1);function r(s,a,o,l){return i(s,String(a),o||n,l||function(c){return s.outEdges(c)})}function i(s,a,o,l){var c={},d=new e,h,p,g=function(v){var y=v.v!==h?v.v:v.w,b=c[y],x=o(v),w=p.distance+x;if(x<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+v+" Weight: "+x);w<b.distance&&(b.distance=w,b.predecessor=h,d.decrease(y,w))};for(s.nodes().forEach(function(v){var y=v===a?0:Number.POSITIVE_INFINITY;c[v]={distance:y},d.add(v,y)});d.size()>0&&(h=d.removeMin(),p=c[h],p.distance!==Number.POSITIVE_INFINITY);)l(h).forEach(g);return c}return ID}var PD,uB;function h2e(){if(uB)return PD;uB=1;var t=fX(),e=$i();PD=n;function n(r,i,s){return e.transform(r.nodes(),function(a,o){a[o]=t(r,o,i,s)},{})}return PD}var LD,dB;function pX(){if(dB)return LD;dB=1;var t=$i();LD=e;function e(n){var r=0,i=[],s={},a=[];function o(l){var c=s[l]={onStack:!0,lowlink:r,index:r++};if(i.push(l),n.successors(l).forEach(function(p){t.has(s,p)?s[p].onStack&&(c.lowlink=Math.min(c.lowlink,s[p].index)):(o(p),c.lowlink=Math.min(c.lowlink,s[p].lowlink))}),c.lowlink===c.index){var d=[],h;do h=i.pop(),s[h].onStack=!1,d.push(h);while(l!==h);a.push(d)}}return n.nodes().forEach(function(l){t.has(s,l)||o(l)}),a}return LD}var BD,hB;function f2e(){if(hB)return BD;hB=1;var t=$i(),e=pX();BD=n;function n(r){return t.filter(e(r),function(i){return i.length>1||i.length===1&&r.hasEdge(i[0],i[0])})}return BD}var jD,fB;function p2e(){if(fB)return jD;fB=1;var t=$i();jD=n;var e=t.constant(1);function n(i,s,a){return r(i,s||e,a||function(o){return i.outEdges(o)})}function r(i,s,a){var o={},l=i.nodes();return l.forEach(function(c){o[c]={},o[c][c]={distance:0},l.forEach(function(d){c!==d&&(o[c][d]={distance:Number.POSITIVE_INFINITY})}),a(c).forEach(function(d){var h=d.v===c?d.w:d.v,p=s(d);o[c][h]={distance:p,predecessor:c}})}),l.forEach(function(c){var d=o[c];l.forEach(function(h){var p=o[h];l.forEach(function(g){var v=p[c],y=d[g],b=p[g],x=v.distance+y.distance;x<b.distance&&(b.distance=x,b.predecessor=y.predecessor)})})}),o}return jD}var zD,pB;function gX(){if(pB)return zD;pB=1;var t=$i();zD=e,e.CycleException=n;function e(r){var i={},s={},a=[];function o(l){if(t.has(s,l))throw new n;t.has(i,l)||(s[l]=!0,i[l]=!0,t.each(r.predecessors(l),o),delete s[l],a.push(l))}if(t.each(r.sinks(),o),t.size(i)!==r.nodeCount())throw new n;return a}function n(){}return n.prototype=new Error,zD}var qD,gB;function g2e(){if(gB)return qD;gB=1;var t=gX();qD=e;function e(n){try{t(n)}catch(r){if(r instanceof t.CycleException)return!1;throw r}return!0}return qD}var WD,mB;function mX(){if(mB)return WD;mB=1;var t=$i();WD=e;function e(r,i,s){t.isArray(i)||(i=[i]);var a=(r.isDirected()?r.successors:r.neighbors).bind(r),o=[],l={};return t.each(i,function(c){if(!r.hasNode(c))throw new Error("Graph does not have node: "+c);n(r,c,s==="post",l,a,o)}),o}function n(r,i,s,a,o,l){t.has(a,i)||(a[i]=!0,s||l.push(i),t.each(o(i),function(c){n(r,c,s,a,o,l)}),s&&l.push(i))}return WD}var VD,yB;function m2e(){if(yB)return VD;yB=1;var t=mX();VD=e;function e(n,r){return t(n,r,"post")}return VD}var HD,bB;function y2e(){if(bB)return HD;bB=1;var t=mX();HD=e;function e(n,r){return t(n,r,"pre")}return HD}var $D,vB;function b2e(){if(vB)return $D;vB=1;var t=$i(),e=AR(),n=hX();$D=r;function r(i,s){var a=new e,o={},l=new n,c;function d(p){var g=p.v===c?p.w:p.v,v=l.priority(g);if(v!==void 0){var y=s(p);y<v&&(o[g]=c,l.decrease(g,y))}}if(i.nodeCount()===0)return a;t.each(i.nodes(),function(p){l.add(p,Number.POSITIVE_INFINITY),a.setNode(p)}),l.decrease(i.nodes()[0],0);for(var h=!1;l.size()>0;){if(c=l.removeMin(),t.has(o,c))a.setEdge(c,o[c]);else{if(h)throw new Error("Input graph is not connected: "+i);h=!0}i.nodeEdges(c).forEach(d)}return a}return $D}var GD,xB;function v2e(){return xB||(xB=1,GD={components:d2e(),dijkstra:fX(),dijkstraAll:h2e(),findCycles:f2e(),floydWarshall:p2e(),isAcyclic:g2e(),postorder:m2e(),preorder:y2e(),prim:b2e(),tarjan:pX(),topsort:gX()}),GD}var XD,wB;function x2e(){if(wB)return XD;wB=1;var t=c2e();return XD={Graph:t.Graph,json:u2e(),alg:v2e(),version:t.version},XD}var KD,_B;function us(){if(_B)return KD;_B=1;var t;if(typeof El=="function")try{t=x2e()}catch{}return t||(t=window.graphlib),KD=t,KD}var YD,DB;function w2e(){if(DB)return YD;DB=1;var t=zG(),e=1,n=4;function r(i){return t(i,e|n)}return YD=r,YD}var ZD,EB;function rv(){if(EB)return ZD;EB=1;var t=ld(),e=Aa(),n=Xb(),r=Hi();function i(s,a,o){if(!r(o))return!1;var l=typeof a;return(l=="number"?e(o)&&n(a,o.length):l=="string"&&a in o)?t(o[a],s):!1}return ZD=i,ZD}var JD,SB;function _2e(){if(SB)return JD;SB=1;var t=nv(),e=ld(),n=rv(),r=Jl(),i=Object.prototype,s=i.hasOwnProperty,a=t(function(o,l){o=Object(o);var c=-1,d=l.length,h=d>2?l[2]:void 0;for(h&&n(l[0],l[1],h)&&(d=1);++c<d;)for(var p=l[c],g=r(p),v=-1,y=g.length;++v<y;){var b=g[v],x=o[b];(x===void 0||e(x,i[b])&&!s.call(o,b))&&(o[b]=p[b])}return o});return JD=a,JD}var QD,AB;function D2e(){if(AB)return QD;AB=1;var t=Ta(),e=Aa(),n=Oo();function r(i){return function(s,a,o){var l=Object(s);if(!e(s)){var c=t(a,3);s=n(s),a=function(h){return c(l[h],h,l)}}var d=i(s,a,o);return d>-1?l[c?s[d]:d]:void 0}}return QD=r,QD}var eE,TB;function E2e(){if(TB)return eE;TB=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return eE=e,eE}var tE,CB;function S2e(){if(CB)return tE;CB=1;var t=E2e(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return tE=n,tE}var nE,kB;function A2e(){if(kB)return nE;kB=1;var t=S2e(),e=Hi(),n=hd(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,a=/^0o[0-7]+$/i,o=parseInt;function l(c){if(typeof c=="number")return c;if(n(c))return r;if(e(c)){var d=typeof c.valueOf=="function"?c.valueOf():c;c=e(d)?d+"":d}if(typeof c!="string")return c===0?c:+c;c=t(c);var h=s.test(c);return h||a.test(c)?o(c.slice(2),h?2:8):i.test(c)?r:+c}return nE=l,nE}var rE,RB;function yX(){if(RB)return rE;RB=1;var t=A2e(),e=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var s=i<0?-1:1;return s*n}return i===i?i:0}return rE=r,rE}var iE,UB;function T2e(){if(UB)return iE;UB=1;var t=yX();function e(n){var r=t(n),i=r%1;return r===r?i?r-i:r:0}return iE=e,iE}var sE,MB;function C2e(){if(MB)return sE;MB=1;var t=cX(),e=Ta(),n=T2e(),r=Math.max;function i(s,a,o){var l=s==null?0:s.length;if(!l)return-1;var c=o==null?0:n(o);return c<0&&(c=r(l+c,0)),t(s,e(a,3),c)}return sE=i,sE}var aE,OB;function k2e(){if(OB)return aE;OB=1;var t=D2e(),e=C2e(),n=t(e);return aE=n,aE}var oE,NB;function bX(){if(NB)return oE;NB=1;var t=SR();function e(n){var r=n==null?0:n.length;return r?t(n,1):[]}return oE=e,oE}var lE,FB;function R2e(){if(FB)return lE;FB=1;var t=wR(),e=qG(),n=Jl();function r(i,s){return i==null?i:t(i,e(s),n)}return lE=r,lE}var cE,IB;function U2e(){if(IB)return cE;IB=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return cE=t,cE}var uE,PB;function M2e(){if(PB)return uE;PB=1;var t=$b(),e=_R(),n=Ta();function r(i,s){var a={};return s=n(s,3),e(i,function(o,l,c){t(a,l,s(o,l,c))}),a}return uE=r,uE}var dE,LB;function TR(){if(LB)return dE;LB=1;var t=hd();function e(n,r,i){for(var s=-1,a=n.length;++s<a;){var o=n[s],l=r(o);if(l!=null&&(c===void 0?l===l&&!t(l):i(l,c)))var c=l,d=o}return d}return dE=e,dE}var hE,BB;function O2e(){if(BB)return hE;BB=1;function t(e,n){return e>n}return hE=t,hE}var fE,jB;function N2e(){if(jB)return fE;jB=1;var t=TR(),e=O2e(),n=Ql();function r(i){return i&&i.length?t(i,n,e):void 0}return fE=r,fE}var pE,zB;function vX(){if(zB)return pE;zB=1;var t=$b(),e=ld();function n(r,i,s){(s!==void 0&&!e(r[i],s)||s===void 0&&!(i in r))&&t(r,i,s)}return pE=n,pE}var gE,qB;function F2e(){if(qB)return gE;qB=1;var t=Yl(),e=Zb(),n=Ps(),r="[object Object]",i=Function.prototype,s=Object.prototype,a=i.toString,o=s.hasOwnProperty,l=a.call(Object);function c(d){if(!n(d)||t(d)!=r)return!1;var h=e(d);if(h===null)return!0;var p=o.call(h,"constructor")&&h.constructor;return typeof p=="function"&&p instanceof p&&a.call(p)==l}return gE=c,gE}var mE,WB;function xX(){if(WB)return mE;WB=1;function t(e,n){if(!(n==="constructor"&&typeof e[n]=="function")&&n!="__proto__")return e[n]}return mE=t,mE}var yE,VB;function I2e(){if(VB)return yE;VB=1;var t=op(),e=Jl();function n(r){return t(r,e(r))}return yE=n,yE}var bE,HB;function P2e(){if(HB)return bE;HB=1;var t=vX(),e=kG(),n=LG(),r=RG(),i=jG(),s=lp(),a=In(),o=uX(),l=ud(),c=ap(),d=Hi(),h=F2e(),p=cp(),g=xX(),v=I2e();function y(b,x,w,D,E,A,S){var T=g(b,w),M=g(x,w),R=S.get(M);if(R){t(b,w,R);return}var O=A?A(T,M,w+"",b,x,S):void 0,z=O===void 0;if(z){var F=a(M),q=!F&&l(M),k=!F&&!q&&p(M);O=M,F||q||k?a(T)?O=T:o(T)?O=r(T):q?(z=!1,O=e(M,!0)):k?(z=!1,O=n(M,!0)):O=[]:h(M)||s(M)?(O=T,s(T)?O=v(T):(!d(T)||c(T))&&(O=i(M))):z=!1}z&&(S.set(M,O),E(O,M,D,A,S),S.delete(M)),t(b,w,O)}return bE=y,bE}var vE,$B;function L2e(){if($B)return vE;$B=1;var t=Hb(),e=vX(),n=wR(),r=P2e(),i=Hi(),s=Jl(),a=xX();function o(l,c,d,h,p){l!==c&&n(c,function(g,v){if(p||(p=new t),i(g))r(l,c,v,d,o,h,p);else{var y=h?h(a(l,v),g,v+"",l,c,p):void 0;y===void 0&&(y=g),e(l,v,y)}},s)}return vE=o,vE}var xE,GB;function B2e(){if(GB)return xE;GB=1;var t=nv(),e=rv();function n(r){return t(function(i,s){var a=-1,o=s.length,l=o>1?s[o-1]:void 0,c=o>2?s[2]:void 0;for(l=r.length>3&&typeof l=="function"?(o--,l):void 0,c&&e(s[0],s[1],c)&&(l=o<3?void 0:l,o=1),i=Object(i);++a<o;){var d=s[a];d&&r(i,d,a,l)}return i})}return xE=n,xE}var wE,XB;function j2e(){if(XB)return wE;XB=1;var t=L2e(),e=B2e(),n=e(function(r,i,s){t(r,i,s)});return wE=n,wE}var _E,KB;function wX(){if(KB)return _E;KB=1;function t(e,n){return e<n}return _E=t,_E}var DE,YB;function z2e(){if(YB)return DE;YB=1;var t=TR(),e=wX(),n=Ql();function r(i){return i&&i.length?t(i,n,e):void 0}return DE=r,DE}var EE,ZB;function q2e(){if(ZB)return EE;ZB=1;var t=TR(),e=Ta(),n=wX();function r(i,s){return i&&i.length?t(i,e(s,2),n):void 0}return EE=r,EE}var SE,JB;function W2e(){if(JB)return SE;JB=1;var t=fs(),e=function(){return t.Date.now()};return SE=e,SE}var AE,QB;function V2e(){if(QB)return AE;QB=1;var t=Gb(),e=ev(),n=Xb(),r=Hi(),i=up();function s(a,o,l,c){if(!r(a))return a;o=e(o,a);for(var d=-1,h=o.length,p=h-1,g=a;g!=null&&++d<h;){var v=i(o[d]),y=l;if(v==="__proto__"||v==="constructor"||v==="prototype")return a;if(d!=p){var b=g[v];y=c?c(b,v,g):void 0,y===void 0&&(y=r(b)?b:n(o[d+1])?[]:{})}t(g,v,y),g=g[v]}return a}return AE=s,AE}var TE,e6;function H2e(){if(e6)return TE;e6=1;var t=tv(),e=V2e(),n=ev();function r(i,s,a){for(var o=-1,l=s.length,c={};++o<l;){var d=s[o],h=t(i,d);a(h,d)&&e(c,n(d,i),h)}return c}return TE=r,TE}var CE,t6;function $2e(){if(t6)return CE;t6=1;var t=H2e(),e=QG();function n(r,i){return t(r,i,function(s,a){return e(r,a)})}return CE=n,CE}var kE,n6;function G2e(){if(n6)return kE;n6=1;var t=bX(),e=oX(),n=lX();function r(i){return n(e(i,void 0,t),i+"")}return kE=r,kE}var RE,r6;function X2e(){if(r6)return RE;r6=1;var t=$2e(),e=G2e(),n=e(function(r,i){return r==null?{}:t(r,i)});return RE=n,RE}var UE,i6;function K2e(){if(i6)return UE;i6=1;var t=Math.ceil,e=Math.max;function n(r,i,s,a){for(var o=-1,l=e(t((i-r)/(s||1)),0),c=Array(l);l--;)c[a?l:++o]=r,r+=s;return c}return UE=n,UE}var ME,s6;function Y2e(){if(s6)return ME;s6=1;var t=K2e(),e=rv(),n=yX();function r(i){return function(s,a,o){return o&&typeof o!="number"&&e(s,a,o)&&(a=o=void 0),s=n(s),a===void 0?(a=s,s=0):a=n(a),o=o===void 0?s<a?1:-1:n(o),t(s,a,o,i)}}return ME=r,ME}var OE,a6;function Z2e(){if(a6)return OE;a6=1;var t=Y2e(),e=t();return OE=e,OE}var NE,o6;function J2e(){if(o6)return NE;o6=1;function t(e,n){var r=e.length;for(e.sort(n);r--;)e[r]=e[r].value;return e}return NE=t,NE}var FE,l6;function Q2e(){if(l6)return FE;l6=1;var t=hd();function e(n,r){if(n!==r){var i=n!==void 0,s=n===null,a=n===n,o=t(n),l=r!==void 0,c=r===null,d=r===r,h=t(r);if(!c&&!h&&!o&&n>r||o&&l&&d&&!c&&!h||s&&l&&d||!i&&d||!a)return 1;if(!s&&!o&&!h&&n<r||h&&i&&a&&!s&&!o||c&&i&&a||!l&&a||!d)return-1}return 0}return FE=e,FE}var IE,c6;function e_e(){if(c6)return IE;c6=1;var t=Q2e();function e(n,r,i){for(var s=-1,a=n.criteria,o=r.criteria,l=a.length,c=i.length;++s<l;){var d=t(a[s],o[s]);if(d){if(s>=c)return d;var h=i[s];return d*(h=="desc"?-1:1)}}return n.index-r.index}return IE=e,IE}var PE,u6;function t_e(){if(u6)return PE;u6=1;var t=Qb(),e=tv(),n=Ta(),r=iX(),i=J2e(),s=Kb(),a=e_e(),o=Ql(),l=In();function c(d,h,p){h.length?h=t(h,function(y){return l(y)?function(b){return e(b,y.length===1?y[0]:y)}:y}):h=[o];var g=-1;h=t(h,s(n));var v=r(d,function(y,b,x){var w=t(h,function(D){return D(y)});return{criteria:w,index:++g,value:y}});return i(v,function(y,b){return a(y,b,p)})}return PE=c,PE}var LE,d6;function n_e(){if(d6)return LE;d6=1;var t=SR(),e=t_e(),n=nv(),r=rv(),i=n(function(s,a){if(s==null)return[];var o=a.length;return o>1&&r(s,a[0],a[1])?a=[]:o>2&&r(a[0],a[1],a[2])&&(a=[a[0]]),e(s,t(a,1),[])});return LE=i,LE}var BE,h6;function r_e(){if(h6)return BE;h6=1;var t=ZG(),e=0;function n(r){var i=++e;return t(r)+i}return BE=n,BE}var jE,f6;function i_e(){if(f6)return jE;f6=1;function t(e,n,r){for(var i=-1,s=e.length,a=n.length,o={};++i<s;){var l=i<a?n[i]:void 0;r(o,e[i],l)}return o}return jE=t,jE}var zE,p6;function s_e(){if(p6)return zE;p6=1;var t=Gb(),e=i_e();function n(r,i){return e(r||[],i||[],t)}return zE=n,zE}var qE,g6;function un(){if(g6)return qE;g6=1;var t;if(typeof El=="function")try{t={cloneDeep:w2e(),constant:xR(),defaults:_2e(),each:VG(),filter:tX(),find:k2e(),flatten:bX(),forEach:WG(),forIn:R2e(),has:nX(),isUndefined:rX(),last:U2e(),map:sX(),mapValues:M2e(),max:N2e(),merge:j2e(),min:z2e(),minBy:q2e(),now:W2e(),pick:X2e(),range:Z2e(),reduce:aX(),sortBy:n_e(),uniqueId:r_e(),values:dX(),zipObject:s_e()}}catch{}return t||(t=window._),qE=t,qE}var WE,m6;function a_e(){if(m6)return WE;m6=1,WE=t;function t(){var r={};r._next=r._prev=r,this._sentinel=r}t.prototype.dequeue=function(){var r=this._sentinel,i=r._prev;if(i!==r)return e(i),i},t.prototype.enqueue=function(r){var i=this._sentinel;r._prev&&r._next&&e(r),r._next=i._next,i._next._prev=r,i._next=r,r._prev=i},t.prototype.toString=function(){for(var r=[],i=this._sentinel,s=i._prev;s!==i;)r.push(JSON.stringify(s,n)),s=s._prev;return"["+r.join(", ")+"]"};function e(r){r._prev._next=r._next,r._next._prev=r._prev,delete r._next,delete r._prev}function n(r,i){if(r!=="_next"&&r!=="_prev")return i}return WE}var VE,y6;function o_e(){if(y6)return VE;y6=1;var t=un(),e=us().Graph,n=a_e();VE=i;var r=t.constant(1);function i(c,d){if(c.nodeCount()<=1)return[];var h=o(c,d||r),p=s(h.graph,h.buckets,h.zeroIdx);return t.flatten(t.map(p,function(g){return c.outEdges(g.v,g.w)}),!0)}function s(c,d,h){for(var p=[],g=d[d.length-1],v=d[0],y;c.nodeCount();){for(;y=v.dequeue();)a(c,d,h,y);for(;y=g.dequeue();)a(c,d,h,y);if(c.nodeCount()){for(var b=d.length-2;b>0;--b)if(y=d[b].dequeue(),y){p=p.concat(a(c,d,h,y,!0));break}}}return p}function a(c,d,h,p,g){var v=g?[]:void 0;return t.forEach(c.inEdges(p.v),function(y){var b=c.edge(y),x=c.node(y.v);g&&v.push({v:y.v,w:y.w}),x.out-=b,l(d,h,x)}),t.forEach(c.outEdges(p.v),function(y){var b=c.edge(y),x=y.w,w=c.node(x);w.in-=b,l(d,h,w)}),c.removeNode(p.v),v}function o(c,d){var h=new e,p=0,g=0;t.forEach(c.nodes(),function(b){h.setNode(b,{v:b,in:0,out:0})}),t.forEach(c.edges(),function(b){var x=h.edge(b.v,b.w)||0,w=d(b),D=x+w;h.setEdge(b.v,b.w,D),g=Math.max(g,h.node(b.v).out+=w),p=Math.max(p,h.node(b.w).in+=w)});var v=t.range(g+p+3).map(function(){return new n}),y=p+1;return t.forEach(h.nodes(),function(b){l(v,y,h.node(b))}),{graph:h,buckets:v,zeroIdx:y}}function l(c,d,h){h.out?h.in?c[h.out-h.in+d].enqueue(h):c[c.length-1].enqueue(h):c[0].enqueue(h)}return VE}var HE,b6;function l_e(){if(b6)return HE;b6=1;var t=un(),e=o_e();HE={run:n,undo:i};function n(s){var a=s.graph().acyclicer==="greedy"?e(s,o(s)):r(s);t.forEach(a,function(l){var c=s.edge(l);s.removeEdge(l),c.forwardName=l.name,c.reversed=!0,s.setEdge(l.w,l.v,c,t.uniqueId("rev"))});function o(l){return function(c){return l.edge(c).weight}}}function r(s){var a=[],o={},l={};function c(d){t.has(l,d)||(l[d]=!0,o[d]=!0,t.forEach(s.outEdges(d),function(h){t.has(o,h.w)?a.push(h):c(h.w)}),delete o[d])}return t.forEach(s.nodes(),c),a}function i(s){t.forEach(s.edges(),function(a){var o=s.edge(a);if(o.reversed){s.removeEdge(a);var l=o.forwardName;delete o.reversed,delete o.forwardName,s.setEdge(a.w,a.v,o,l)}})}return HE}var $E,v6;function qr(){if(v6)return $E;v6=1;var t=un(),e=us().Graph;$E={addDummyNode:n,simplify:r,asNonCompoundGraph:i,successorWeights:s,predecessorWeights:a,intersectRect:o,buildLayerMatrix:l,normalizeRanks:c,removeEmptyRanks:d,addBorderNode:h,maxRank:p,partition:g,time:v,notime:y};function n(b,x,w,D){var E;do E=t.uniqueId(D);while(b.hasNode(E));return w.dummy=x,b.setNode(E,w),E}function r(b){var x=new e().setGraph(b.graph());return t.forEach(b.nodes(),function(w){x.setNode(w,b.node(w))}),t.forEach(b.edges(),function(w){var D=x.edge(w.v,w.w)||{weight:0,minlen:1},E=b.edge(w);x.setEdge(w.v,w.w,{weight:D.weight+E.weight,minlen:Math.max(D.minlen,E.minlen)})}),x}function i(b){var x=new e({multigraph:b.isMultigraph()}).setGraph(b.graph());return t.forEach(b.nodes(),function(w){b.children(w).length||x.setNode(w,b.node(w))}),t.forEach(b.edges(),function(w){x.setEdge(w,b.edge(w))}),x}function s(b){var x=t.map(b.nodes(),function(w){var D={};return t.forEach(b.outEdges(w),function(E){D[E.w]=(D[E.w]||0)+b.edge(E).weight}),D});return t.zipObject(b.nodes(),x)}function a(b){var x=t.map(b.nodes(),function(w){var D={};return t.forEach(b.inEdges(w),function(E){D[E.v]=(D[E.v]||0)+b.edge(E).weight}),D});return t.zipObject(b.nodes(),x)}function o(b,x){var w=b.x,D=b.y,E=x.x-w,A=x.y-D,S=b.width/2,T=b.height/2;if(!E&&!A)throw new Error("Not possible to find intersection inside of the rectangle");var M,R;return Math.abs(A)*S>Math.abs(E)*T?(A<0&&(T=-T),M=T*E/A,R=T):(E<0&&(S=-S),M=S,R=S*A/E),{x:w+M,y:D+R}}function l(b){var x=t.map(t.range(p(b)+1),function(){return[]});return t.forEach(b.nodes(),function(w){var D=b.node(w),E=D.rank;t.isUndefined(E)||(x[E][D.order]=w)}),x}function c(b){var x=t.min(t.map(b.nodes(),function(w){return b.node(w).rank}));t.forEach(b.nodes(),function(w){var D=b.node(w);t.has(D,"rank")&&(D.rank-=x)})}function d(b){var x=t.min(t.map(b.nodes(),function(A){return b.node(A).rank})),w=[];t.forEach(b.nodes(),function(A){var S=b.node(A).rank-x;w[S]||(w[S]=[]),w[S].push(A)});var D=0,E=b.graph().nodeRankFactor;t.forEach(w,function(A,S){t.isUndefined(A)&&S%E!==0?--D:D&&t.forEach(A,function(T){b.node(T).rank+=D})})}function h(b,x,w,D){var E={width:0,height:0};return arguments.length>=4&&(E.rank=w,E.order=D),n(b,"border",E,x)}function p(b){return t.max(t.map(b.nodes(),function(x){var w=b.node(x).rank;if(!t.isUndefined(w))return w}))}function g(b,x){var w={lhs:[],rhs:[]};return t.forEach(b,function(D){x(D)?w.lhs.push(D):w.rhs.push(D)}),w}function v(b,x){var w=t.now();try{return x()}finally{console.log(b+" time: "+(t.now()-w)+"ms")}}function y(b,x){return x()}return $E}var GE,x6;function c_e(){if(x6)return GE;x6=1;var t=un(),e=qr();GE={run:n,undo:i};function n(s){s.graph().dummyChains=[],t.forEach(s.edges(),function(a){r(s,a)})}function r(s,a){var o=a.v,l=s.node(o).rank,c=a.w,d=s.node(c).rank,h=a.name,p=s.edge(a),g=p.labelRank;if(d!==l+1){s.removeEdge(a);var v,y,b;for(b=0,++l;l<d;++b,++l)p.points=[],y={width:0,height:0,edgeLabel:p,edgeObj:a,rank:l},v=e.addDummyNode(s,"edge",y,"_d"),l===g&&(y.width=p.width,y.height=p.height,y.dummy="edge-label",y.labelpos=p.labelpos),s.setEdge(o,v,{weight:p.weight},h),b===0&&s.graph().dummyChains.push(v),o=v;s.setEdge(o,c,{weight:p.weight},h)}}function i(s){t.forEach(s.graph().dummyChains,function(a){var o=s.node(a),l=o.edgeLabel,c;for(s.setEdge(o.edgeObj,l);o.dummy;)c=s.successors(a)[0],s.removeNode(a),l.points.push({x:o.x,y:o.y}),o.dummy==="edge-label"&&(l.x=o.x,l.y=o.y,l.width=o.width,l.height=o.height),a=c,o=s.node(a)})}return GE}var XE,w6;function tb(){if(w6)return XE;w6=1;var t=un();XE={longestPath:e,slack:n};function e(r){var i={};function s(a){var o=r.node(a);if(t.has(i,a))return o.rank;i[a]=!0;var l=t.min(t.map(r.outEdges(a),function(c){return s(c.w)-r.edge(c).minlen}));return(l===Number.POSITIVE_INFINITY||l===void 0||l===null)&&(l=0),o.rank=l}t.forEach(r.sources(),s)}function n(r,i){return r.node(i.w).rank-r.node(i.v).rank-r.edge(i).minlen}return XE}var KE,_6;function _X(){if(_6)return KE;_6=1;var t=un(),e=us().Graph,n=tb().slack;KE=r;function r(o){var l=new e({directed:!1}),c=o.nodes()[0],d=o.nodeCount();l.setNode(c,{});for(var h,p;i(l,o)<d;)h=s(l,o),p=l.hasNode(h.v)?n(o,h):-n(o,h),a(l,o,p);return l}function i(o,l){function c(d){t.forEach(l.nodeEdges(d),function(h){var p=h.v,g=d===p?h.w:p;!o.hasNode(g)&&!n(l,h)&&(o.setNode(g,{}),o.setEdge(d,g,{}),c(g))})}return t.forEach(o.nodes(),c),o.nodeCount()}function s(o,l){return t.minBy(l.edges(),function(c){if(o.hasNode(c.v)!==o.hasNode(c.w))return n(l,c)})}function a(o,l,c){t.forEach(o.nodes(),function(d){l.node(d).rank+=c})}return KE}var YE,D6;function u_e(){if(D6)return YE;D6=1;var t=un(),e=_X(),n=tb().slack,r=tb().longestPath,i=us().alg.preorder,s=us().alg.postorder,a=qr().simplify;YE=o,o.initLowLimValues=h,o.initCutValues=l,o.calcCutValue=d,o.leaveEdge=g,o.enterEdge=v,o.exchangeEdges=y;function o(D){D=a(D),r(D);var E=e(D);h(E),l(E,D);for(var A,S;A=g(E);)S=v(E,D,A),y(E,D,A,S)}function l(D,E){var A=s(D,D.nodes());A=A.slice(0,A.length-1),t.forEach(A,function(S){c(D,E,S)})}function c(D,E,A){var S=D.node(A),T=S.parent;D.edge(A,T).cutvalue=d(D,E,A)}function d(D,E,A){var S=D.node(A),T=S.parent,M=!0,R=E.edge(A,T),O=0;return R||(M=!1,R=E.edge(T,A)),O=R.weight,t.forEach(E.nodeEdges(A),function(z){var F=z.v===A,q=F?z.w:z.v;if(q!==T){var k=F===M,H=E.edge(z).weight;if(O+=k?H:-H,x(D,A,q)){var N=D.edge(A,q).cutvalue;O+=k?-N:N}}}),O}function h(D,E){arguments.length<2&&(E=D.nodes()[0]),p(D,{},1,E)}function p(D,E,A,S,T){var M=A,R=D.node(S);return E[S]=!0,t.forEach(D.neighbors(S),function(O){t.has(E,O)||(A=p(D,E,A,O,S))}),R.low=M,R.lim=A++,T?R.parent=T:delete R.parent,A}function g(D){return t.find(D.edges(),function(E){return D.edge(E).cutvalue<0})}function v(D,E,A){var S=A.v,T=A.w;E.hasEdge(S,T)||(S=A.w,T=A.v);var M=D.node(S),R=D.node(T),O=M,z=!1;M.lim>R.lim&&(O=R,z=!0);var F=t.filter(E.edges(),function(q){return z===w(D,D.node(q.v),O)&&z!==w(D,D.node(q.w),O)});return t.minBy(F,function(q){return n(E,q)})}function y(D,E,A,S){var T=A.v,M=A.w;D.removeEdge(T,M),D.setEdge(S.v,S.w,{}),h(D),l(D,E),b(D,E)}function b(D,E){var A=t.find(D.nodes(),function(T){return!E.node(T).parent}),S=i(D,A);S=S.slice(1),t.forEach(S,function(T){var M=D.node(T).parent,R=E.edge(T,M),O=!1;R||(R=E.edge(M,T),O=!0),E.node(T).rank=E.node(M).rank+(O?R.minlen:-R.minlen)})}function x(D,E,A){return D.hasEdge(E,A)}function w(D,E,A){return A.low<=E.lim&&E.lim<=A.lim}return YE}var ZE,E6;function d_e(){if(E6)return ZE;E6=1;var t=tb(),e=t.longestPath,n=_X(),r=u_e();ZE=i;function i(l){switch(l.graph().ranker){case"network-simplex":o(l);break;case"tight-tree":a(l);break;case"longest-path":s(l);break;default:o(l)}}var s=e;function a(l){e(l),n(l)}function o(l){r(l)}return ZE}var JE,S6;function h_e(){if(S6)return JE;S6=1;var t=un();JE=e;function e(i){var s=r(i);t.forEach(i.graph().dummyChains,function(a){for(var o=i.node(a),l=o.edgeObj,c=n(i,s,l.v,l.w),d=c.path,h=c.lca,p=0,g=d[p],v=!0;a!==l.w;){if(o=i.node(a),v){for(;(g=d[p])!==h&&i.node(g).maxRank<o.rank;)p++;g===h&&(v=!1)}if(!v){for(;p<d.length-1&&i.node(g=d[p+1]).minRank<=o.rank;)p++;g=d[p]}i.setParent(a,g),a=i.successors(a)[0]}})}function n(i,s,a,o){var l=[],c=[],d=Math.min(s[a].low,s[o].low),h=Math.max(s[a].lim,s[o].lim),p,g;p=a;do p=i.parent(p),l.push(p);while(p&&(s[p].low>d||h>s[p].lim));for(g=p,p=o;(p=i.parent(p))!==g;)c.push(p);return{path:l.concat(c.reverse()),lca:g}}function r(i){var s={},a=0;function o(l){var c=a;t.forEach(i.children(l),o),s[l]={low:c,lim:a++}}return t.forEach(i.children(),o),s}return JE}var QE,A6;function f_e(){if(A6)return QE;A6=1;var t=un(),e=qr();QE={run:n,cleanup:a};function n(o){var l=e.addDummyNode(o,"root",{},"_root"),c=i(o),d=t.max(t.values(c))-1,h=2*d+1;o.graph().nestingRoot=l,t.forEach(o.edges(),function(g){o.edge(g).minlen*=h});var p=s(o)+1;t.forEach(o.children(),function(g){r(o,l,h,p,d,c,g)}),o.graph().nodeRankFactor=h}function r(o,l,c,d,h,p,g){var v=o.children(g);if(!v.length){g!==l&&o.setEdge(l,g,{weight:0,minlen:c});return}var y=e.addBorderNode(o,"_bt"),b=e.addBorderNode(o,"_bb"),x=o.node(g);o.setParent(y,g),x.borderTop=y,o.setParent(b,g),x.borderBottom=b,t.forEach(v,function(w){r(o,l,c,d,h,p,w);var D=o.node(w),E=D.borderTop?D.borderTop:w,A=D.borderBottom?D.borderBottom:w,S=D.borderTop?d:2*d,T=E!==A?1:h-p[g]+1;o.setEdge(y,E,{weight:S,minlen:T,nestingEdge:!0}),o.setEdge(A,b,{weight:S,minlen:T,nestingEdge:!0})}),o.parent(g)||o.setEdge(l,y,{weight:0,minlen:h+p[g]})}function i(o){var l={};function c(d,h){var p=o.children(d);p&&p.length&&t.forEach(p,function(g){c(g,h+1)}),l[d]=h}return t.forEach(o.children(),function(d){c(d,1)}),l}function s(o){return t.reduce(o.edges(),function(l,c){return l+o.edge(c).weight},0)}function a(o){var l=o.graph();o.removeNode(l.nestingRoot),delete l.nestingRoot,t.forEach(o.edges(),function(c){var d=o.edge(c);d.nestingEdge&&o.removeEdge(c)})}return QE}var eS,T6;function p_e(){if(T6)return eS;T6=1;var t=un(),e=qr();eS=n;function n(i){function s(a){var o=i.children(a),l=i.node(a);if(o.length&&t.forEach(o,s),t.has(l,"minRank")){l.borderLeft=[],l.borderRight=[];for(var c=l.minRank,d=l.maxRank+1;c<d;++c)r(i,"borderLeft","_bl",a,l,c),r(i,"borderRight","_br",a,l,c)}}t.forEach(i.children(),s)}function r(i,s,a,o,l,c){var d={width:0,height:0,rank:c,borderType:s},h=l[s][c-1],p=e.addDummyNode(i,"border",d,a);l[s][c]=p,i.setParent(p,o),h&&i.setEdge(h,p,{weight:1})}return eS}var tS,C6;function g_e(){if(C6)return tS;C6=1;var t=un();tS={adjust:e,undo:n};function e(c){var d=c.graph().rankdir.toLowerCase();(d==="lr"||d==="rl")&&r(c)}function n(c){var d=c.graph().rankdir.toLowerCase();(d==="bt"||d==="rl")&&s(c),(d==="lr"||d==="rl")&&(o(c),r(c))}function r(c){t.forEach(c.nodes(),function(d){i(c.node(d))}),t.forEach(c.edges(),function(d){i(c.edge(d))})}function i(c){var d=c.width;c.width=c.height,c.height=d}function s(c){t.forEach(c.nodes(),function(d){a(c.node(d))}),t.forEach(c.edges(),function(d){var h=c.edge(d);t.forEach(h.points,a),t.has(h,"y")&&a(h)})}function a(c){c.y=-c.y}function o(c){t.forEach(c.nodes(),function(d){l(c.node(d))}),t.forEach(c.edges(),function(d){var h=c.edge(d);t.forEach(h.points,l),t.has(h,"x")&&l(h)})}function l(c){var d=c.x;c.x=c.y,c.y=d}return tS}var nS,k6;function m_e(){if(k6)return nS;k6=1;var t=un();nS=e;function e(n){var r={},i=t.filter(n.nodes(),function(c){return!n.children(c).length}),s=t.max(t.map(i,function(c){return n.node(c).rank})),a=t.map(t.range(s+1),function(){return[]});function o(c){if(!t.has(r,c)){r[c]=!0;var d=n.node(c);a[d.rank].push(c),t.forEach(n.successors(c),o)}}var l=t.sortBy(i,function(c){return n.node(c).rank});return t.forEach(l,o),a}return nS}var rS,R6;function y_e(){if(R6)return rS;R6=1;var t=un();rS=e;function e(r,i){for(var s=0,a=1;a<i.length;++a)s+=n(r,i[a-1],i[a]);return s}function n(r,i,s){for(var a=t.zipObject(s,t.map(s,function(p,g){return g})),o=t.flatten(t.map(i,function(p){return t.sortBy(t.map(r.outEdges(p),function(g){return{pos:a[g.w],weight:r.edge(g).weight}}),"pos")}),!0),l=1;l<s.length;)l<<=1;var c=2*l-1;l-=1;var d=t.map(new Array(c),function(){return 0}),h=0;return t.forEach(o.forEach(function(p){var g=p.pos+l;d[g]+=p.weight;for(var v=0;g>0;)g%2&&(v+=d[g+1]),g=g-1>>1,d[g]+=p.weight;h+=p.weight*v})),h}return rS}var iS,U6;function b_e(){if(U6)return iS;U6=1;var t=un();iS=e;function e(n,r){return t.map(r,function(i){var s=n.inEdges(i);if(s.length){var a=t.reduce(s,function(o,l){var c=n.edge(l),d=n.node(l.v);return{sum:o.sum+c.weight*d.order,weight:o.weight+c.weight}},{sum:0,weight:0});return{v:i,barycenter:a.sum/a.weight,weight:a.weight}}else return{v:i}})}return iS}var sS,M6;function v_e(){if(M6)return sS;M6=1;var t=un();sS=e;function e(i,s){var a={};t.forEach(i,function(l,c){var d=a[l.v]={indegree:0,in:[],out:[],vs:[l.v],i:c};t.isUndefined(l.barycenter)||(d.barycenter=l.barycenter,d.weight=l.weight)}),t.forEach(s.edges(),function(l){var c=a[l.v],d=a[l.w];!t.isUndefined(c)&&!t.isUndefined(d)&&(d.indegree++,c.out.push(a[l.w]))});var o=t.filter(a,function(l){return!l.indegree});return n(o)}function n(i){var s=[];function a(c){return function(d){d.merged||(t.isUndefined(d.barycenter)||t.isUndefined(c.barycenter)||d.barycenter>=c.barycenter)&&r(c,d)}}function o(c){return function(d){d.in.push(c),--d.indegree===0&&i.push(d)}}for(;i.length;){var l=i.pop();s.push(l),t.forEach(l.in.reverse(),a(l)),t.forEach(l.out,o(l))}return t.map(t.filter(s,function(c){return!c.merged}),function(c){return t.pick(c,["vs","i","barycenter","weight"])})}function r(i,s){var a=0,o=0;i.weight&&(a+=i.barycenter*i.weight,o+=i.weight),s.weight&&(a+=s.barycenter*s.weight,o+=s.weight),i.vs=s.vs.concat(i.vs),i.barycenter=a/o,i.weight=o,i.i=Math.min(s.i,i.i),s.merged=!0}return sS}var aS,O6;function x_e(){if(O6)return aS;O6=1;var t=un(),e=qr();aS=n;function n(s,a){var o=e.partition(s,function(y){return t.has(y,"barycenter")}),l=o.lhs,c=t.sortBy(o.rhs,function(y){return-y.i}),d=[],h=0,p=0,g=0;l.sort(i(!!a)),g=r(d,c,g),t.forEach(l,function(y){g+=y.vs.length,d.push(y.vs),h+=y.barycenter*y.weight,p+=y.weight,g=r(d,c,g)});var v={vs:t.flatten(d,!0)};return p&&(v.barycenter=h/p,v.weight=p),v}function r(s,a,o){for(var l;a.length&&(l=t.last(a)).i<=o;)a.pop(),s.push(l.vs),o++;return o}function i(s){return function(a,o){return a.barycenter<o.barycenter?-1:a.barycenter>o.barycenter?1:s?o.i-a.i:a.i-o.i}}return aS}var oS,N6;function w_e(){if(N6)return oS;N6=1;var t=un(),e=b_e(),n=v_e(),r=x_e();oS=i;function i(o,l,c,d){var h=o.children(l),p=o.node(l),g=p?p.borderLeft:void 0,v=p?p.borderRight:void 0,y={};g&&(h=t.filter(h,function(A){return A!==g&&A!==v}));var b=e(o,h);t.forEach(b,function(A){if(o.children(A.v).length){var S=i(o,A.v,c,d);y[A.v]=S,t.has(S,"barycenter")&&a(A,S)}});var x=n(b,c);s(x,y);var w=r(x,d);if(g&&(w.vs=t.flatten([g,w.vs,v],!0),o.predecessors(g).length)){var D=o.node(o.predecessors(g)[0]),E=o.node(o.predecessors(v)[0]);t.has(w,"barycenter")||(w.barycenter=0,w.weight=0),w.barycenter=(w.barycenter*w.weight+D.order+E.order)/(w.weight+2),w.weight+=2}return w}function s(o,l){t.forEach(o,function(c){c.vs=t.flatten(c.vs.map(function(d){return l[d]?l[d].vs:d}),!0)})}function a(o,l){t.isUndefined(o.barycenter)?(o.barycenter=l.barycenter,o.weight=l.weight):(o.barycenter=(o.barycenter*o.weight+l.barycenter*l.weight)/(o.weight+l.weight),o.weight+=l.weight)}return oS}var lS,F6;function __e(){if(F6)return lS;F6=1;var t=un(),e=us().Graph;lS=n;function n(i,s,a){var o=r(i),l=new e({compound:!0}).setGraph({root:o}).setDefaultNodeLabel(function(c){return i.node(c)});return t.forEach(i.nodes(),function(c){var d=i.node(c),h=i.parent(c);(d.rank===s||d.minRank<=s&&s<=d.maxRank)&&(l.setNode(c),l.setParent(c,h||o),t.forEach(i[a](c),function(p){var g=p.v===c?p.w:p.v,v=l.edge(g,c),y=t.isUndefined(v)?0:v.weight;l.setEdge(g,c,{weight:i.edge(p).weight+y})}),t.has(d,"minRank")&&l.setNode(c,{borderLeft:d.borderLeft[s],borderRight:d.borderRight[s]}))}),l}function r(i){for(var s;i.hasNode(s=t.uniqueId("_root")););return s}return lS}var cS,I6;function D_e(){if(I6)return cS;I6=1;var t=un();cS=e;function e(n,r,i){var s={},a;t.forEach(i,function(o){for(var l=n.parent(o),c,d;l;){if(c=n.parent(l),c?(d=s[c],s[c]=l):(d=a,a=l),d&&d!==l){r.setEdge(d,l);return}l=c}})}return cS}var uS,P6;function E_e(){if(P6)return uS;P6=1;var t=un(),e=m_e(),n=y_e(),r=w_e(),i=__e(),s=D_e(),a=us().Graph,o=qr();uS=l;function l(p){var g=o.maxRank(p),v=c(p,t.range(1,g+1),"inEdges"),y=c(p,t.range(g-1,-1,-1),"outEdges"),b=e(p);h(p,b);for(var x=Number.POSITIVE_INFINITY,w,D=0,E=0;E<4;++D,++E){d(D%2?v:y,D%4>=2),b=o.buildLayerMatrix(p);var A=n(p,b);A<x&&(E=0,w=t.cloneDeep(b),x=A)}h(p,w)}function c(p,g,v){return t.map(g,function(y){return i(p,y,v)})}function d(p,g){var v=new a;t.forEach(p,function(y){var b=y.graph().root,x=r(y,b,v,g);t.forEach(x.vs,function(w,D){y.node(w).order=D}),s(y,v,x.vs)})}function h(p,g){t.forEach(g,function(v){t.forEach(v,function(y,b){p.node(y).order=b})})}return uS}var dS,L6;function S_e(){if(L6)return dS;L6=1;var t=un(),e=us().Graph,n=qr();dS={positionX:v,findType1Conflicts:r,findType2Conflicts:i,addConflict:a,hasConflict:o,verticalAlignment:l,horizontalCompaction:c,alignCoordinates:p,findSmallestWidthAlignment:h,balance:g};function r(x,w){var D={};function E(A,S){var T=0,M=0,R=A.length,O=t.last(S);return t.forEach(S,function(z,F){var q=s(x,z),k=q?x.node(q).order:R;(q||z===O)&&(t.forEach(S.slice(M,F+1),function(H){t.forEach(x.predecessors(H),function(N){var B=x.node(N),G=B.order;(G<T||k<G)&&!(B.dummy&&x.node(H).dummy)&&a(D,N,H)})}),M=F+1,T=k)}),S}return t.reduce(w,E),D}function i(x,w){var D={};function E(S,T,M,R,O){var z;t.forEach(t.range(T,M),function(F){z=S[F],x.node(z).dummy&&t.forEach(x.predecessors(z),function(q){var k=x.node(q);k.dummy&&(k.order<R||k.order>O)&&a(D,q,z)})})}function A(S,T){var M=-1,R,O=0;return t.forEach(T,function(z,F){if(x.node(z).dummy==="border"){var q=x.predecessors(z);q.length&&(R=x.node(q[0]).order,E(T,O,F,M,R),O=F,M=R)}E(T,O,T.length,R,S.length)}),T}return t.reduce(w,A),D}function s(x,w){if(x.node(w).dummy)return t.find(x.predecessors(w),function(D){return x.node(D).dummy})}function a(x,w,D){if(w>D){var E=w;w=D,D=E}var A=x[w];A||(x[w]=A={}),A[D]=!0}function o(x,w,D){if(w>D){var E=w;w=D,D=E}return t.has(x[w],D)}function l(x,w,D,E){var A={},S={},T={};return t.forEach(w,function(M){t.forEach(M,function(R,O){A[R]=R,S[R]=R,T[R]=O})}),t.forEach(w,function(M){var R=-1;t.forEach(M,function(O){var z=E(O);if(z.length){z=t.sortBy(z,function(N){return T[N]});for(var F=(z.length-1)/2,q=Math.floor(F),k=Math.ceil(F);q<=k;++q){var H=z[q];S[O]===O&&R<T[H]&&!o(D,O,H)&&(S[H]=O,S[O]=A[O]=A[H],R=T[H])}}})}),{root:A,align:S}}function c(x,w,D,E,A){var S={},T=d(x,w,D,A),M=A?"borderLeft":"borderRight";function R(F,q){for(var k=T.nodes(),H=k.pop(),N={};H;)N[H]?F(H):(N[H]=!0,k.push(H),k=k.concat(q(H))),H=k.pop()}function O(F){S[F]=T.inEdges(F).reduce(function(q,k){return Math.max(q,S[k.v]+T.edge(k))},0)}function z(F){var q=T.outEdges(F).reduce(function(H,N){return Math.min(H,S[N.w]-T.edge(N))},Number.POSITIVE_INFINITY),k=x.node(F);q!==Number.POSITIVE_INFINITY&&k.borderType!==M&&(S[F]=Math.max(S[F],q))}return R(O,T.predecessors.bind(T)),R(z,T.successors.bind(T)),t.forEach(E,function(F){S[F]=S[D[F]]}),S}function d(x,w,D,E){var A=new e,S=x.graph(),T=y(S.nodesep,S.edgesep,E);return t.forEach(w,function(M){var R;t.forEach(M,function(O){var z=D[O];if(A.setNode(z),R){var F=D[R],q=A.edge(F,z);A.setEdge(F,z,Math.max(T(x,O,R),q||0))}R=O})}),A}function h(x,w){return t.minBy(t.values(w),function(D){var E=Number.NEGATIVE_INFINITY,A=Number.POSITIVE_INFINITY;return t.forIn(D,function(S,T){var M=b(x,T)/2;E=Math.max(S+M,E),A=Math.min(S-M,A)}),E-A})}function p(x,w){var D=t.values(w),E=t.min(D),A=t.max(D);t.forEach(["u","d"],function(S){t.forEach(["l","r"],function(T){var M=S+T,R=x[M],O;if(R!==w){var z=t.values(R);O=T==="l"?E-t.min(z):A-t.max(z),O&&(x[M]=t.mapValues(R,function(F){return F+O}))}})})}function g(x,w){return t.mapValues(x.ul,function(D,E){if(w)return x[w.toLowerCase()][E];var A=t.sortBy(t.map(x,E));return(A[1]+A[2])/2})}function v(x){var w=n.buildLayerMatrix(x),D=t.merge(r(x,w),i(x,w)),E={},A;t.forEach(["u","d"],function(T){A=T==="u"?w:t.values(w).reverse(),t.forEach(["l","r"],function(M){M==="r"&&(A=t.map(A,function(F){return t.values(F).reverse()}));var R=(T==="u"?x.predecessors:x.successors).bind(x),O=l(x,A,D,R),z=c(x,A,O.root,O.align,M==="r");M==="r"&&(z=t.mapValues(z,function(F){return-F})),E[T+M]=z})});var S=h(x,E);return p(E,S),g(E,x.graph().align)}function y(x,w,D){return function(E,A,S){var T=E.node(A),M=E.node(S),R=0,O;if(R+=T.width/2,t.has(T,"labelpos"))switch(T.labelpos.toLowerCase()){case"l":O=-T.width/2;break;case"r":O=T.width/2;break}if(O&&(R+=D?O:-O),O=0,R+=(T.dummy?w:x)/2,R+=(M.dummy?w:x)/2,R+=M.width/2,t.has(M,"labelpos"))switch(M.labelpos.toLowerCase()){case"l":O=M.width/2;break;case"r":O=-M.width/2;break}return O&&(R+=D?O:-O),O=0,R}}function b(x,w){return x.node(w).width}return dS}var hS,B6;function A_e(){if(B6)return hS;B6=1;var t=un(),e=qr(),n=S_e().positionX;hS=r;function r(s){s=e.asNonCompoundGraph(s),i(s),t.forEach(n(s),function(a,o){s.node(o).x=a})}function i(s){var a=e.buildLayerMatrix(s),o=s.graph().ranksep,l=0;t.forEach(a,function(c){var d=t.max(t.map(c,function(h){return s.node(h).height}));t.forEach(c,function(h){s.node(h).y=l+d/2}),l+=d+o})}return hS}var fS,j6;function T_e(){if(j6)return fS;j6=1;var t=un(),e=l_e(),n=c_e(),r=d_e(),i=qr().normalizeRanks,s=h_e(),a=qr().removeEmptyRanks,o=f_e(),l=p_e(),c=g_e(),d=E_e(),h=A_e(),p=qr(),g=us().Graph;fS=v;function v(Y,ee){var re=ee&&ee.debugTiming?p.time:p.notime;re("layout",function(){var se=re("  buildLayoutGraph",function(){return R(Y)});re("  runLayout",function(){y(se,re)}),re("  updateInputGraph",function(){b(Y,se)})})}function y(Y,ee){ee("    makeSpaceForEdgeLabels",function(){O(Y)}),ee("    removeSelfEdges",function(){$(Y)}),ee("    acyclic",function(){e.run(Y)}),ee("    nestingGraph.run",function(){o.run(Y)}),ee("    rank",function(){r(p.asNonCompoundGraph(Y))}),ee("    injectEdgeLabelProxies",function(){z(Y)}),ee("    removeEmptyRanks",function(){a(Y)}),ee("    nestingGraph.cleanup",function(){o.cleanup(Y)}),ee("    normalizeRanks",function(){i(Y)}),ee("    assignRankMinMax",function(){F(Y)}),ee("    removeEdgeLabelProxies",function(){q(Y)}),ee("    normalize.run",function(){n.run(Y)}),ee("    parentDummyChains",function(){s(Y)}),ee("    addBorderSegments",function(){l(Y)}),ee("    order",function(){d(Y)}),ee("    insertSelfEdges",function(){W(Y)}),ee("    adjustCoordinateSystem",function(){c.adjust(Y)}),ee("    position",function(){h(Y)}),ee("    positionSelfEdges",function(){L(Y)}),ee("    removeBorderNodes",function(){G(Y)}),ee("    normalize.undo",function(){n.undo(Y)}),ee("    fixupEdgeLabelCoords",function(){N(Y)}),ee("    undoCoordinateSystem",function(){c.undo(Y)}),ee("    translateGraph",function(){k(Y)}),ee("    assignNodeIntersects",function(){H(Y)}),ee("    reversePoints",function(){B(Y)}),ee("    acyclic.undo",function(){e.undo(Y)})}function b(Y,ee){t.forEach(Y.nodes(),function(re){var se=Y.node(re),ye=ee.node(re);se&&(se.x=ye.x,se.y=ye.y,ee.children(re).length&&(se.width=ye.width,se.height=ye.height))}),t.forEach(Y.edges(),function(re){var se=Y.edge(re),ye=ee.edge(re);se.points=ye.points,t.has(ye,"x")&&(se.x=ye.x,se.y=ye.y)}),Y.graph().width=ee.graph().width,Y.graph().height=ee.graph().height}var x=["nodesep","edgesep","ranksep","marginx","marginy"],w={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},D=["acyclicer","ranker","rankdir","align"],E=["width","height"],A={width:0,height:0},S=["minlen","weight","width","height","labeloffset"],T={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},M=["labelpos"];function R(Y){var ee=new g({multigraph:!0,compound:!0}),re=j(Y.graph());return ee.setGraph(t.merge({},w,K(re,x),t.pick(re,D))),t.forEach(Y.nodes(),function(se){var ye=j(Y.node(se));ee.setNode(se,t.defaults(K(ye,E),A)),ee.setParent(se,Y.parent(se))}),t.forEach(Y.edges(),function(se){var ye=j(Y.edge(se));ee.setEdge(se,t.merge({},T,K(ye,S),t.pick(ye,M)))}),ee}function O(Y){var ee=Y.graph();ee.ranksep/=2,t.forEach(Y.edges(),function(re){var se=Y.edge(re);se.minlen*=2,se.labelpos.toLowerCase()!=="c"&&(ee.rankdir==="TB"||ee.rankdir==="BT"?se.width+=se.labeloffset:se.height+=se.labeloffset)})}function z(Y){t.forEach(Y.edges(),function(ee){var re=Y.edge(ee);if(re.width&&re.height){var se=Y.node(ee.v),ye=Y.node(ee.w),xe={rank:(ye.rank-se.rank)/2+se.rank,e:ee};p.addDummyNode(Y,"edge-proxy",xe,"_ep")}})}function F(Y){var ee=0;t.forEach(Y.nodes(),function(re){var se=Y.node(re);se.borderTop&&(se.minRank=Y.node(se.borderTop).rank,se.maxRank=Y.node(se.borderBottom).rank,ee=t.max(ee,se.maxRank))}),Y.graph().maxRank=ee}function q(Y){t.forEach(Y.nodes(),function(ee){var re=Y.node(ee);re.dummy==="edge-proxy"&&(Y.edge(re.e).labelRank=re.rank,Y.removeNode(ee))})}function k(Y){var ee=Number.POSITIVE_INFINITY,re=0,se=Number.POSITIVE_INFINITY,ye=0,xe=Y.graph(),Re=xe.marginx||0,Fe=xe.marginy||0;function qe(We){var P=We.x,oe=We.y,ce=We.width,Q=We.height;ee=Math.min(ee,P-ce/2),re=Math.max(re,P+ce/2),se=Math.min(se,oe-Q/2),ye=Math.max(ye,oe+Q/2)}t.forEach(Y.nodes(),function(We){qe(Y.node(We))}),t.forEach(Y.edges(),function(We){var P=Y.edge(We);t.has(P,"x")&&qe(P)}),ee-=Re,se-=Fe,t.forEach(Y.nodes(),function(We){var P=Y.node(We);P.x-=ee,P.y-=se}),t.forEach(Y.edges(),function(We){var P=Y.edge(We);t.forEach(P.points,function(oe){oe.x-=ee,oe.y-=se}),t.has(P,"x")&&(P.x-=ee),t.has(P,"y")&&(P.y-=se)}),xe.width=re-ee+Re,xe.height=ye-se+Fe}function H(Y){t.forEach(Y.edges(),function(ee){var re=Y.edge(ee),se=Y.node(ee.v),ye=Y.node(ee.w),xe,Re;re.points?(xe=re.points[0],Re=re.points[re.points.length-1]):(re.points=[],xe=ye,Re=se),re.points.unshift(p.intersectRect(se,xe)),re.points.push(p.intersectRect(ye,Re))})}function N(Y){t.forEach(Y.edges(),function(ee){var re=Y.edge(ee);if(t.has(re,"x"))switch((re.labelpos==="l"||re.labelpos==="r")&&(re.width-=re.labeloffset),re.labelpos){case"l":re.x-=re.width/2+re.labeloffset;break;case"r":re.x+=re.width/2+re.labeloffset;break}})}function B(Y){t.forEach(Y.edges(),function(ee){var re=Y.edge(ee);re.reversed&&re.points.reverse()})}function G(Y){t.forEach(Y.nodes(),function(ee){if(Y.children(ee).length){var re=Y.node(ee),se=Y.node(re.borderTop),ye=Y.node(re.borderBottom),xe=Y.node(t.last(re.borderLeft)),Re=Y.node(t.last(re.borderRight));re.width=Math.abs(Re.x-xe.x),re.height=Math.abs(ye.y-se.y),re.x=xe.x+re.width/2,re.y=se.y+re.height/2}}),t.forEach(Y.nodes(),function(ee){Y.node(ee).dummy==="border"&&Y.removeNode(ee)})}function $(Y){t.forEach(Y.edges(),function(ee){if(ee.v===ee.w){var re=Y.node(ee.v);re.selfEdges||(re.selfEdges=[]),re.selfEdges.push({e:ee,label:Y.edge(ee)}),Y.removeEdge(ee)}})}function W(Y){var ee=p.buildLayerMatrix(Y);t.forEach(ee,function(re){var se=0;t.forEach(re,function(ye,xe){var Re=Y.node(ye);Re.order=xe+se,t.forEach(Re.selfEdges,function(Fe){p.addDummyNode(Y,"selfedge",{width:Fe.label.width,height:Fe.label.height,rank:Re.rank,order:xe+ ++se,e:Fe.e,label:Fe.label},"_se")}),delete Re.selfEdges})})}function L(Y){t.forEach(Y.nodes(),function(ee){var re=Y.node(ee);if(re.dummy==="selfedge"){var se=Y.node(re.e.v),ye=se.x+se.width/2,xe=se.y,Re=re.x-ye,Fe=se.height/2;Y.setEdge(re.e,re.label),Y.removeNode(ee),re.label.points=[{x:ye+2*Re/3,y:xe-Fe},{x:ye+5*Re/6,y:xe-Fe},{x:ye+Re,y:xe},{x:ye+5*Re/6,y:xe+Fe},{x:ye+2*Re/3,y:xe+Fe}],re.label.x=re.x,re.label.y=re.y}})}function K(Y,ee){return t.mapValues(t.pick(Y,ee),Number)}function j(Y){var ee={};return t.forEach(Y,function(re,se){ee[se.toLowerCase()]=re}),ee}return fS}var pS,z6;function C_e(){if(z6)return pS;z6=1;var t=un(),e=qr(),n=us().Graph;pS={debugOrdering:r};function r(i){var s=e.buildLayerMatrix(i),a=new n({compound:!0,multigraph:!0}).setGraph({});return t.forEach(i.nodes(),function(o){a.setNode(o,{label:o}),a.setParent(o,"layer"+i.node(o).rank)}),t.forEach(i.edges(),function(o){a.setEdge(o.v,o.w,{},o.name)}),t.forEach(s,function(o,l){var c="layer"+l;a.setNode(c,{rank:"same"}),t.reduce(o,function(d,h){return a.setEdge(d,h,{style:"invis"}),h})}),a}return pS}var gS,q6;function k_e(){return q6||(q6=1,gS="0.8.5"),gS}var mS,W6;function R_e(){return W6||(W6=1,mS={graphlib:us(),layout:T_e(),debug:C_e(),util:{time:qr().time,notime:qr().notime},version:k_e()}),mS}var U_e=R_e();const V6=$l(U_e),H6=180,$6=80;function DX(t,e,n="TB"){const r=new V6.graphlib.Graph;r.setDefaultEdgeLabel(()=>({}));const i=n==="LR";r.setGraph({rankdir:n,nodesep:50,ranksep:100});for(const o of t)r.setNode(o.id,{width:H6,height:$6});for(const o of e)r.setEdge(o.source,o.target);V6.layout(r);const s=t.map(o=>{const l=r.node(o.id);return{...o,position:{x:l.x-H6/2,y:l.y-$6/2}}}),a=e.map(o=>({...o,type:"smoothstep"}));return{nodes:s,edges:a}}function M_e(){const t=V.useRef(null),{zoomIn:e,zoomOut:n,fitView:r}=Sb(),{nodes:i,edges:s,updateNodePosition:a,addNode:o,addEdge:l,deleteNode:c,deleteEdge:d,updateNode:h}=Zn(),{runReview:p,isReviewing:g}=gxe(),[v,y]=V.useState(null),[b,x]=V.useState(null),[w,D]=V.useState(null),[E,A]=V.useState(!1),S=V.useCallback(G=>{for(const $ of G)$.type==="position"&&$.position&&a($.id,$.position)},[a]),T=V.useCallback(()=>{},[]),M=V.useCallback(G=>{G.source&&G.target&&l(G.source,G.target,"")},[l]),R=V.useCallback(({nodes:G,edges:$})=>{y(G.length>0?G[0].id:null),x($.length>0?$[0].id:null)},[]),O=V.useCallback(()=>{v?(c(v),y(null)):b&&(d(b),x(null))},[v,b,c,d]);V.useEffect(()=>{const G=$=>{if(($.key==="Delete"||$.key==="Backspace")&&(v||b)){if($.target instanceof HTMLInputElement||$.target instanceof HTMLTextAreaElement)return;$.preventDefault(),O()}};return window.addEventListener("keydown",G),()=>window.removeEventListener("keydown",G)},[v,b,O]);const z=V.useCallback(G=>{o(G)},[o]),F=V.useCallback((G,$)=>{const W=i.find(L=>L.id===$.id);W&&(D(W),A(!0))},[i]),q=V.useCallback((G,$,W)=>{h(G,$,W)},[h]),k=V.useCallback(async()=>{await p()},[p]),H=V.useCallback(()=>{const{nodes:G}=DX(i,s,"TB");for(const $ of G)a($.id,$.position);setTimeout(()=>r({padding:.2}),50)},[i,s,a,r]),N=V.useCallback(async()=>{if(t.current)try{const G=await Tye(t.current,{backgroundColor:"#ffffff",quality:1}),$=document.createElement("a");$.download="architecture-diagram.png",$.href=G,$.click()}catch{}},[]),B=s.map(G=>({...G,animated:!0,style:{stroke:"#94a3b8"}}));return I.jsxs("div",{ref:t,className:"h-full w-full bg-slate-50",children:[I.jsxs(jW,{nodes:i,edges:B,onNodesChange:S,onEdgesChange:T,onConnect:M,onSelectionChange:R,onNodeDoubleClick:F,nodeTypes:Cye,fitView:!0,fitViewOptions:{padding:.2},minZoom:.1,maxZoom:2,connectOnClick:!1,deleteKeyCode:null,defaultEdgeOptions:{type:"smoothstep",animated:!0},children:[I.jsx(Due,{color:"#e2e8f0",gap:16}),I.jsx(lue,{nodeStrokeWidth:3,zoomable:!0,pannable:!0,className:"!bg-background !border !rounded-lg"}),I.jsx(mue,{className:"!border !rounded-lg !shadow-sm"})]}),I.jsx(kye,{onZoomIn:()=>e(),onZoomOut:()=>n(),onFitView:()=>r({padding:.2}),onAutoLayout:H,onExportPng:N,onAddNode:z,onDelete:O,onReview:k,hasSelection:!!(v||b),hasNodes:i.length>0,isReviewing:g}),I.jsx(pxe,{node:w,open:E,onOpenChange:A,onSave:q}),i.length===0&&I.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:I.jsxs("div",{className:"text-center text-muted-foreground",children:[I.jsx("p",{className:"text-lg font-medium",children:"Noch keine Architektur"}),I.jsx("p",{className:"text-sm",children:"Beschreibe dein System im Chat, um zu beginnen."})]})})]})}function O_e(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const N_e=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,F_e=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,I_e={};function G6(t,e){return(I_e.jsx?F_e:N_e).test(t)}const P_e=/[ \t\n\f\r]/g;function L_e(t){return typeof t=="object"?t.type==="text"?X6(t.value):!1:X6(t)}function X6(t){return t.replace(P_e,"")===""}class dp{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}}dp.prototype.normal={};dp.prototype.property={};dp.prototype.space=void 0;function EX(t,e){const n={},r={};for(const i of t)Object.assign(n,i.property),Object.assign(r,i.normal);return new dp(n,r,e)}function oC(t){return t.toLowerCase()}class $r{constructor(e,n){this.attribute=n,this.property=e}}$r.prototype.attribute="";$r.prototype.booleanish=!1;$r.prototype.boolean=!1;$r.prototype.commaOrSpaceSeparated=!1;$r.prototype.commaSeparated=!1;$r.prototype.defined=!1;$r.prototype.mustUseProperty=!1;$r.prototype.number=!1;$r.prototype.overloadedBoolean=!1;$r.prototype.property="";$r.prototype.spaceSeparated=!1;$r.prototype.space=void 0;let B_e=0;const bt=ec(),On=ec(),lC=ec(),je=ec(),en=ec(),Uu=ec(),oi=ec();function ec(){return 2**++B_e}const cC=Object.freeze(Object.defineProperty({__proto__:null,boolean:bt,booleanish:On,commaOrSpaceSeparated:oi,commaSeparated:Uu,number:je,overloadedBoolean:lC,spaceSeparated:en},Symbol.toStringTag,{value:"Module"})),yS=Object.keys(cC);class CR extends $r{constructor(e,n,r,i){let s=-1;if(super(e,n),K6(this,"space",i),typeof r=="number")for(;++s<yS.length;){const a=yS[s];K6(this,yS[s],(r&cC[a])===cC[a])}}}CR.prototype.defined=!0;function K6(t,e,n){n&&(t[e]=n)}function fd(t){const e={},n={};for(const[r,i]of Object.entries(t.properties)){const s=new CR(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),e[r]=s,n[oC(r)]=r,n[oC(s.attribute)]=r}return new dp(e,n,t.space)}const SX=fd({properties:{ariaActiveDescendant:null,ariaAtomic:On,ariaAutoComplete:null,ariaBusy:On,ariaChecked:On,ariaColCount:je,ariaColIndex:je,ariaColSpan:je,ariaControls:en,ariaCurrent:null,ariaDescribedBy:en,ariaDetails:null,ariaDisabled:On,ariaDropEffect:en,ariaErrorMessage:null,ariaExpanded:On,ariaFlowTo:en,ariaGrabbed:On,ariaHasPopup:null,ariaHidden:On,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:en,ariaLevel:je,ariaLive:null,ariaModal:On,ariaMultiLine:On,ariaMultiSelectable:On,ariaOrientation:null,ariaOwns:en,ariaPlaceholder:null,ariaPosInSet:je,ariaPressed:On,ariaReadOnly:On,ariaRelevant:null,ariaRequired:On,ariaRoleDescription:en,ariaRowCount:je,ariaRowIndex:je,ariaRowSpan:je,ariaSelected:On,ariaSetSize:je,ariaSort:null,ariaValueMax:je,ariaValueMin:je,ariaValueNow:je,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function AX(t,e){return e in t?t[e]:e}function TX(t,e){return AX(t,e.toLowerCase())}const j_e=fd({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Uu,acceptCharset:en,accessKey:en,action:null,allow:null,allowFullScreen:bt,allowPaymentRequest:bt,allowUserMedia:bt,alt:null,as:null,async:bt,autoCapitalize:null,autoComplete:en,autoFocus:bt,autoPlay:bt,blocking:en,capture:null,charSet:null,checked:bt,cite:null,className:en,cols:je,colSpan:null,content:null,contentEditable:On,controls:bt,controlsList:en,coords:je|Uu,crossOrigin:null,data:null,dateTime:null,decoding:null,default:bt,defer:bt,dir:null,dirName:null,disabled:bt,download:lC,draggable:On,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:bt,formTarget:null,headers:en,height:je,hidden:lC,high:je,href:null,hrefLang:null,htmlFor:en,httpEquiv:en,id:null,imageSizes:null,imageSrcSet:null,inert:bt,inputMode:null,integrity:null,is:null,isMap:bt,itemId:null,itemProp:en,itemRef:en,itemScope:bt,itemType:en,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:bt,low:je,manifest:null,max:null,maxLength:je,media:null,method:null,min:null,minLength:je,multiple:bt,muted:bt,name:null,nonce:null,noModule:bt,noValidate:bt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:bt,optimum:je,pattern:null,ping:en,placeholder:null,playsInline:bt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:bt,referrerPolicy:null,rel:en,required:bt,reversed:bt,rows:je,rowSpan:je,sandbox:en,scope:null,scoped:bt,seamless:bt,selected:bt,shadowRootClonable:bt,shadowRootDelegatesFocus:bt,shadowRootMode:null,shape:null,size:je,sizes:null,slot:null,span:je,spellCheck:On,src:null,srcDoc:null,srcLang:null,srcSet:null,start:je,step:null,style:null,tabIndex:je,target:null,title:null,translate:null,type:null,typeMustMatch:bt,useMap:null,value:On,width:je,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:en,axis:null,background:null,bgColor:null,border:je,borderColor:null,bottomMargin:je,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:bt,declare:bt,event:null,face:null,frame:null,frameBorder:null,hSpace:je,leftMargin:je,link:null,longDesc:null,lowSrc:null,marginHeight:je,marginWidth:je,noResize:bt,noHref:bt,noShade:bt,noWrap:bt,object:null,profile:null,prompt:null,rev:null,rightMargin:je,rules:null,scheme:null,scrolling:On,standby:null,summary:null,text:null,topMargin:je,valueType:null,version:null,vAlign:null,vLink:null,vSpace:je,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:bt,disableRemotePlayback:bt,prefix:null,property:null,results:je,security:null,unselectable:null},space:"html",transform:TX}),z_e=fd({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:oi,accentHeight:je,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:je,amplitude:je,arabicForm:null,ascent:je,attributeName:null,attributeType:null,azimuth:je,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:je,by:null,calcMode:null,capHeight:je,className:en,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:je,diffuseConstant:je,direction:null,display:null,dur:null,divisor:je,dominantBaseline:null,download:bt,dx:null,dy:null,edgeMode:null,editable:null,elevation:je,enableBackground:null,end:null,event:null,exponent:je,externalResourcesRequired:null,fill:null,fillOpacity:je,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Uu,g2:Uu,glyphName:Uu,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:je,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:je,horizOriginX:je,horizOriginY:je,id:null,ideographic:je,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:je,k:je,k1:je,k2:je,k3:je,k4:je,kernelMatrix:oi,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:je,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:je,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:je,overlineThickness:je,paintOrder:null,panose1:null,path:null,pathLength:je,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:en,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:je,pointsAtY:je,pointsAtZ:je,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:oi,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:oi,rev:oi,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:oi,requiredFeatures:oi,requiredFonts:oi,requiredFormats:oi,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:je,specularExponent:je,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:je,strikethroughThickness:je,string:null,stroke:null,strokeDashArray:oi,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:je,strokeOpacity:je,strokeWidth:null,style:null,surfaceScale:je,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:oi,tabIndex:je,tableValues:null,target:null,targetX:je,targetY:je,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:oi,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:je,underlineThickness:je,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:je,values:null,vAlphabetic:je,vMathematical:je,vectorEffect:null,vHanging:je,vIdeographic:je,version:null,vertAdvY:je,vertOriginX:je,vertOriginY:je,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:je,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:AX}),CX=fd({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),kX=fd({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:TX}),RX=fd({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),q_e={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},W_e=/[A-Z]/g,Y6=/-[a-z]/g,V_e=/^data[-\w.:]+$/i;function H_e(t,e){const n=oC(e);let r=e,i=$r;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&V_e.test(e)){if(e.charAt(4)==="-"){const s=e.slice(5).replace(Y6,G_e);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=e.slice(4);if(!Y6.test(s)){let a=s.replace(W_e,$_e);a.charAt(0)!=="-"&&(a="-"+a),e="data"+a}}i=CR}return new i(r,e)}function $_e(t){return"-"+t.toLowerCase()}function G_e(t){return t.charAt(1).toUpperCase()}const X_e=EX([SX,j_e,CX,kX,RX],"html"),kR=EX([SX,z_e,CX,kX,RX],"svg");function K_e(t){return t.join(" ").trim()}var nu={},bS,Z6;function Y_e(){if(Z6)return bS;Z6=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,a=/^[;\s]*/,o=/^\s+|\s+$/g,l=`
`,c="/",d="*",h="",p="comment",g="declaration";function v(b,x){if(typeof b!="string")throw new TypeError("First argument must be a string");if(!b)return[];x=x||{};var w=1,D=1;function E(k){var H=k.match(e);H&&(w+=H.length);var N=k.lastIndexOf(l);D=~N?k.length-N:D+k.length}function A(){var k={line:w,column:D};return function(H){return H.position=new S(k),R(),H}}function S(k){this.start=k,this.end={line:w,column:D},this.source=x.source}S.prototype.content=b;function T(k){var H=new Error(x.source+":"+w+":"+D+": "+k);if(H.reason=k,H.filename=x.source,H.line=w,H.column=D,H.source=b,!x.silent)throw H}function M(k){var H=k.exec(b);if(H){var N=H[0];return E(N),b=b.slice(N.length),H}}function R(){M(n)}function O(k){var H;for(k=k||[];H=z();)H!==!1&&k.push(H);return k}function z(){var k=A();if(!(c!=b.charAt(0)||d!=b.charAt(1))){for(var H=2;h!=b.charAt(H)&&(d!=b.charAt(H)||c!=b.charAt(H+1));)++H;if(H+=2,h===b.charAt(H-1))return T("End of comment missing");var N=b.slice(2,H-2);return D+=2,E(N),b=b.slice(H),D+=2,k({type:p,comment:N})}}function F(){var k=A(),H=M(r);if(H){if(z(),!M(i))return T("property missing ':'");var N=M(s),B=k({type:g,property:y(H[0].replace(t,h)),value:N?y(N[0].replace(t,h)):h});return M(a),B}}function q(){var k=[];O(k);for(var H;H=F();)H!==!1&&(k.push(H),O(k));return k}return R(),q()}function y(b){return b?b.replace(o,h):h}return bS=v,bS}var J6;function Z_e(){if(J6)return nu;J6=1;var t=nu&&nu.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(nu,"__esModule",{value:!0}),nu.default=n;const e=t(Y_e());function n(r,i){let s=null;if(!r||typeof r!="string")return s;const a=(0,e.default)(r),o=typeof i=="function";return a.forEach(l=>{if(l.type!=="declaration")return;const{property:c,value:d}=l;o?i(c,d,l):d&&(s=s||{},s[c]=d)}),s}return nu}var mh={},Q6;function J_e(){if(Q6)return mh;Q6=1,Object.defineProperty(mh,"__esModule",{value:!0}),mh.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,s=function(c){return!c||n.test(c)||t.test(c)},a=function(c,d){return d.toUpperCase()},o=function(c,d){return"".concat(d,"-")},l=function(c,d){return d===void 0&&(d={}),s(c)?c:(c=c.toLowerCase(),d.reactCompat?c=c.replace(i,o):c=c.replace(r,o),c.replace(e,a))};return mh.camelCase=l,mh}var yh,ej;function Q_e(){if(ej)return yh;ej=1;var t=yh&&yh.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},e=t(Z_e()),n=J_e();function r(i,s){var a={};return!i||typeof i!="string"||(0,e.default)(i,function(o,l){o&&l&&(a[(0,n.camelCase)(o,s)]=l)}),a}return r.default=r,yh=r,yh}var eDe=Q_e();const tDe=$l(eDe),UX=MX("end"),RR=MX("start");function MX(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function nDe(t){const e=RR(t),n=UX(t);if(e&&n)return{start:e,end:n}}function ef(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?tj(t.position):"start"in t||"end"in t?tj(t):"line"in t||"column"in t?uC(t):""}function uC(t){return nj(t&&t.line)+":"+nj(t&&t.column)}function tj(t){return uC(t&&t.start)+"-"+uC(t&&t.end)}function nj(t){return t&&typeof t=="number"?t:1}class fr extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},a=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof e=="string"?i=e:!s.cause&&e&&(a=!0,i=e.message,s.cause=e),!s.ruleId&&!s.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?s.ruleId=r:(s.source=r.slice(0,l),s.ruleId=r.slice(l+1))}if(!s.place&&s.ancestors&&s.ancestors){const l=s.ancestors[s.ancestors.length-1];l&&(s.place=l.position)}const o=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=o?o.line:void 0,this.name=ef(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=a&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}fr.prototype.file="";fr.prototype.name="";fr.prototype.reason="";fr.prototype.message="";fr.prototype.stack="";fr.prototype.column=void 0;fr.prototype.line=void 0;fr.prototype.ancestors=void 0;fr.prototype.cause=void 0;fr.prototype.fatal=void 0;fr.prototype.place=void 0;fr.prototype.ruleId=void 0;fr.prototype.source=void 0;const UR={}.hasOwnProperty,rDe=new Map,iDe=/[A-Z]/g,sDe=new Set(["table","tbody","thead","tfoot","tr"]),aDe=new Set(["td","th"]),OX="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function oDe(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=gDe(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=pDe(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?kR:X_e,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},s=NX(i,t,void 0);return s&&typeof s!="string"?s:i.create(t,i.Fragment,{children:s||void 0},void 0)}function NX(t,e,n){if(e.type==="element")return lDe(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return cDe(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return dDe(t,e,n);if(e.type==="mdxjsEsm")return uDe(t,e);if(e.type==="root")return hDe(t,e,n);if(e.type==="text")return fDe(t,e)}function lDe(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=kR,t.schema=i),t.ancestors.push(e);const s=IX(t,e.tagName,!1),a=mDe(t,e);let o=OR(t,e);return sDe.has(e.tagName)&&(o=o.filter(function(l){return typeof l=="string"?!L_e(l):!0})),FX(t,a,s,e),MR(a,o),t.ancestors.pop(),t.schema=r,t.create(e,s,a,n)}function cDe(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}Uf(t,e.position)}function uDe(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);Uf(t,e.position)}function dDe(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=kR,t.schema=i),t.ancestors.push(e);const s=e.name===null?t.Fragment:IX(t,e.name,!0),a=yDe(t,e),o=OR(t,e);return FX(t,a,s,e),MR(a,o),t.ancestors.pop(),t.schema=r,t.create(e,s,a,n)}function hDe(t,e,n){const r={};return MR(r,OR(t,e)),t.create(e,t.Fragment,r,n)}function fDe(t,e){return e.value}function FX(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function MR(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function pDe(t,e,n){return r;function r(i,s,a,o){const c=Array.isArray(a.children)?n:e;return o?c(s,a,o):c(s,a)}}function gDe(t,e){return n;function n(r,i,s,a){const o=Array.isArray(s.children),l=RR(r);return e(i,s,a,o,{columnNumber:l?l.column-1:void 0,fileName:t,lineNumber:l?l.line:void 0},void 0)}}function mDe(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&UR.call(e.properties,i)){const s=bDe(t,i,e.properties[i]);if(s){const[a,o]=s;t.tableCellAlignToStyle&&a==="align"&&typeof o=="string"&&aDe.has(e.tagName)?r=o:n[a]=o}}if(r){const s=n.style||(n.style={});s[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function yDe(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const s=r.data.estree.body[0];s.type;const a=s.expression;a.type;const o=a.properties[0];o.type,Object.assign(n,t.evaluater.evaluateExpression(o.argument))}else Uf(t,e.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const o=r.value.data.estree.body[0];o.type,s=t.evaluater.evaluateExpression(o.expression)}else Uf(t,e.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function OR(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:rDe;for(;++r<e.children.length;){const s=e.children[r];let a;if(t.passKeys){const l=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(l){const c=i.get(l)||0;a=l+"-"+c,i.set(l,c+1)}}const o=NX(t,s,a);o!==void 0&&n.push(o)}return n}function bDe(t,e,n){const r=H_e(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?O_e(n):K_e(n)),r.property==="style"){let i=typeof n=="object"?n:vDe(t,String(n));return t.stylePropertyNameCase==="css"&&(i=xDe(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?q_e[r.property]||r.property:r.attribute,n]}}function vDe(t,e){try{return tDe(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,i=new fr("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=t.filePath||void 0,i.url=OX+"#cannot-parse-style-attribute",i}}function IX(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let s=-1,a;for(;++s<i.length;){const o=G6(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};a=a?{type:"MemberExpression",object:a,property:o,computed:!!(s&&o.type==="Literal"),optional:!1}:o}r=a}else r=G6(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return UR.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);Uf(t)}function Uf(t,e){const n=new fr("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=OX+"#cannot-handle-mdx-estrees-without-createevaluater",n}function xDe(t){const e={};let n;for(n in t)UR.call(t,n)&&(e[wDe(n)]=t[n]);return e}function wDe(t){let e=t.replace(iDe,_De);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function _De(t){return"-"+t.toLowerCase()}const vS={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},DDe={};function NR(t,e){const n=DDe,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return PX(t,r,i)}function PX(t,e,n){if(EDe(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return rj(t.children,e,n)}return Array.isArray(t)?rj(t,e,n):""}function rj(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=PX(t[i],e,n);return r.join("")}function EDe(t){return!!(t&&typeof t=="object")}const ij=document.createElement("i");function FR(t){const e="&"+t+";";ij.innerHTML=e;const n=ij.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function pi(t,e,n,r){const i=t.length;let s=0,a;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)a=Array.from(r),a.unshift(e,n),t.splice(...a);else for(n&&t.splice(e,n);s<r.length;)a=r.slice(s,s+1e4),a.unshift(e,0),t.splice(...a),s+=1e4,e+=1e4}function Ii(t,e){return t.length>0?(pi(t,t.length,0,e),t):e}const sj={}.hasOwnProperty;function LX(t){const e={};let n=-1;for(;++n<t.length;)SDe(e,t[n]);return e}function SDe(t,e){let n;for(n in e){const i=(sj.call(t,n)?t[n]:void 0)||(t[n]={}),s=e[n];let a;if(s)for(a in s){sj.call(i,a)||(i[a]=[]);const o=s[a];ADe(i[a],Array.isArray(o)?o:o?[o]:[])}}}function ADe(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);pi(t,0,0,r)}function BX(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function os(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const _r=No(/[A-Za-z]/),dr=No(/[\dA-Za-z]/),TDe=No(/[#-'*+\--9=?A-Z^-~]/);function nb(t){return t!==null&&(t<32||t===127)}const dC=No(/\d/),CDe=No(/[\dA-Fa-f]/),kDe=No(/[!-/:-@[-`{-~]/);function ot(t){return t!==null&&t<-2}function Jt(t){return t!==null&&(t<0||t===32)}function St(t){return t===-2||t===-1||t===32}const iv=No(new RegExp("\\p{P}|\\p{S}","u")),ql=No(/\s/);function No(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function pd(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const s=t.charCodeAt(n);let a="";if(s===37&&dr(t.charCodeAt(n+1))&&dr(t.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(a=String.fromCharCode(s));else if(s>55295&&s<57344){const o=t.charCodeAt(n+1);s<56320&&o>56319&&o<57344?(a=String.fromCharCode(s,o),i=1):a=""}else a=String.fromCharCode(s);a&&(e.push(t.slice(r,n),encodeURIComponent(a)),r=n+i+1,a=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function Ot(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return a;function a(l){return St(l)?(t.enter(n),o(l)):e(l)}function o(l){return St(l)&&s++<i?(t.consume(l),o):(t.exit(n),e(l))}}const RDe={tokenize:UDe};function UDe(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),Ot(t,e,"linePrefix")}function i(o){return t.enter("paragraph"),s(o)}function s(o){const l=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,a(o)}function a(o){if(o===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(o);return}return ot(o)?(t.consume(o),t.exit("chunkText"),s):(t.consume(o),a)}}const MDe={tokenize:ODe},aj={tokenize:NDe};function ODe(t){const e=this,n=[];let r=0,i,s,a;return o;function o(D){if(r<n.length){const E=n[r];return e.containerState=E[1],t.attempt(E[0].continuation,l,c)(D)}return c(D)}function l(D){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&w();const E=e.events.length;let A=E,S;for(;A--;)if(e.events[A][0]==="exit"&&e.events[A][1].type==="chunkFlow"){S=e.events[A][1].end;break}x(r);let T=E;for(;T<e.events.length;)e.events[T][1].end={...S},T++;return pi(e.events,A+1,0,e.events.slice(E)),e.events.length=T,c(D)}return o(D)}function c(D){if(r===n.length){if(!i)return p(D);if(i.currentConstruct&&i.currentConstruct.concrete)return v(D);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(aj,d,h)(D)}function d(D){return i&&w(),x(r),p(D)}function h(D){return e.parser.lazy[e.now().line]=r!==n.length,a=e.now().offset,v(D)}function p(D){return e.containerState={},t.attempt(aj,g,v)(D)}function g(D){return r++,n.push([e.currentConstruct,e.containerState]),p(D)}function v(D){if(D===null){i&&w(),x(0),t.consume(D);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),y(D)}function y(D){if(D===null){b(t.exit("chunkFlow"),!0),x(0),t.consume(D);return}return ot(D)?(t.consume(D),b(t.exit("chunkFlow")),r=0,e.interrupt=void 0,o):(t.consume(D),y)}function b(D,E){const A=e.sliceStream(D);if(E&&A.push(null),D.previous=s,s&&(s.next=D),s=D,i.defineSkip(D.start),i.write(A),e.parser.lazy[D.start.line]){let S=i.events.length;for(;S--;)if(i.events[S][1].start.offset<a&&(!i.events[S][1].end||i.events[S][1].end.offset>a))return;const T=e.events.length;let M=T,R,O;for(;M--;)if(e.events[M][0]==="exit"&&e.events[M][1].type==="chunkFlow"){if(R){O=e.events[M][1].end;break}R=!0}for(x(r),S=T;S<e.events.length;)e.events[S][1].end={...O},S++;pi(e.events,M+1,0,e.events.slice(T)),e.events.length=S}}function x(D){let E=n.length;for(;E-- >D;){const A=n[E];e.containerState=A[1],A[0].exit.call(e,t)}n.length=D}function w(){i.write([null]),s=void 0,i=void 0,e.containerState._closeFlow=void 0}}function NDe(t,e,n){return Ot(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function $u(t){if(t===null||Jt(t)||ql(t))return 1;if(iv(t))return 2}function sv(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const s=t[i].resolveAll;s&&!r.includes(s)&&(e=s(e,n),r.push(s))}return e}const hC={name:"attention",resolveAll:FDe,tokenize:IDe};function FDe(t,e){let n=-1,r,i,s,a,o,l,c,d;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;l=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const h={...t[r][1].end},p={...t[n][1].start};oj(h,-l),oj(p,l),a={type:l>1?"strongSequence":"emphasisSequence",start:h,end:{...t[r][1].end}},o={type:l>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:p},s={type:l>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...a.start},end:{...o.end}},t[r][1].end={...a.start},t[n][1].start={...o.end},c=[],t[r][1].end.offset-t[r][1].start.offset&&(c=Ii(c,[["enter",t[r][1],e],["exit",t[r][1],e]])),c=Ii(c,[["enter",i,e],["enter",a,e],["exit",a,e],["enter",s,e]]),c=Ii(c,sv(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),c=Ii(c,[["exit",s,e],["enter",o,e],["exit",o,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(d=2,c=Ii(c,[["enter",t[n][1],e],["exit",t[n][1],e]])):d=0,pi(t,r-1,n-r+3,c),n=r+c.length-d-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function IDe(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=$u(r);let s;return a;function a(l){return s=l,t.enter("attentionSequence"),o(l)}function o(l){if(l===s)return t.consume(l),o;const c=t.exit("attentionSequence"),d=$u(l),h=!d||d===2&&i||n.includes(l),p=!i||i===2&&d||n.includes(r);return c._open=!!(s===42?h:h&&(i||!p)),c._close=!!(s===42?p:p&&(d||!h)),e(l)}}function oj(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const PDe={name:"autolink",tokenize:LDe};function LDe(t,e,n){let r=0;return i;function i(g){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(g),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),s}function s(g){return _r(g)?(t.consume(g),a):g===64?n(g):c(g)}function a(g){return g===43||g===45||g===46||dr(g)?(r=1,o(g)):c(g)}function o(g){return g===58?(t.consume(g),r=0,l):(g===43||g===45||g===46||dr(g))&&r++<32?(t.consume(g),o):(r=0,c(g))}function l(g){return g===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(g),t.exit("autolinkMarker"),t.exit("autolink"),e):g===null||g===32||g===60||nb(g)?n(g):(t.consume(g),l)}function c(g){return g===64?(t.consume(g),d):TDe(g)?(t.consume(g),c):n(g)}function d(g){return dr(g)?h(g):n(g)}function h(g){return g===46?(t.consume(g),r=0,d):g===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(g),t.exit("autolinkMarker"),t.exit("autolink"),e):p(g)}function p(g){if((g===45||dr(g))&&r++<63){const v=g===45?p:h;return t.consume(g),v}return n(g)}}const hp={partial:!0,tokenize:BDe};function BDe(t,e,n){return r;function r(s){return St(s)?Ot(t,i,"linePrefix")(s):i(s)}function i(s){return s===null||ot(s)?e(s):n(s)}}const jX={continuation:{tokenize:zDe},exit:qDe,name:"blockQuote",tokenize:jDe};function jDe(t,e,n){const r=this;return i;function i(a){if(a===62){const o=r.containerState;return o.open||(t.enter("blockQuote",{_container:!0}),o.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(a),t.exit("blockQuoteMarker"),s}return n(a)}function s(a){return St(a)?(t.enter("blockQuotePrefixWhitespace"),t.consume(a),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(a))}}function zDe(t,e,n){const r=this;return i;function i(a){return St(a)?Ot(t,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):s(a)}function s(a){return t.attempt(jX,e,n)(a)}}function qDe(t){t.exit("blockQuote")}const zX={name:"characterEscape",tokenize:WDe};function WDe(t,e,n){return r;function r(s){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(s),t.exit("escapeMarker"),i}function i(s){return kDe(s)?(t.enter("characterEscapeValue"),t.consume(s),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(s)}}const qX={name:"characterReference",tokenize:VDe};function VDe(t,e,n){const r=this;let i=0,s,a;return o;function o(h){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(h),t.exit("characterReferenceMarker"),l}function l(h){return h===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(h),t.exit("characterReferenceMarkerNumeric"),c):(t.enter("characterReferenceValue"),s=31,a=dr,d(h))}function c(h){return h===88||h===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(h),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),s=6,a=CDe,d):(t.enter("characterReferenceValue"),s=7,a=dC,d(h))}function d(h){if(h===59&&i){const p=t.exit("characterReferenceValue");return a===dr&&!FR(r.sliceSerialize(p))?n(h):(t.enter("characterReferenceMarker"),t.consume(h),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return a(h)&&i++<s?(t.consume(h),d):n(h)}}const lj={partial:!0,tokenize:$De},cj={concrete:!0,name:"codeFenced",tokenize:HDe};function HDe(t,e,n){const r=this,i={partial:!0,tokenize:A};let s=0,a=0,o;return l;function l(S){return c(S)}function c(S){const T=r.events[r.events.length-1];return s=T&&T[1].type==="linePrefix"?T[2].sliceSerialize(T[1],!0).length:0,o=S,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),d(S)}function d(S){return S===o?(a++,t.consume(S),d):a<3?n(S):(t.exit("codeFencedFenceSequence"),St(S)?Ot(t,h,"whitespace")(S):h(S))}function h(S){return S===null||ot(S)?(t.exit("codeFencedFence"),r.interrupt?e(S):t.check(lj,y,E)(S)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),p(S))}function p(S){return S===null||ot(S)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),h(S)):St(S)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Ot(t,g,"whitespace")(S)):S===96&&S===o?n(S):(t.consume(S),p)}function g(S){return S===null||ot(S)?h(S):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),v(S))}function v(S){return S===null||ot(S)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),h(S)):S===96&&S===o?n(S):(t.consume(S),v)}function y(S){return t.attempt(i,E,b)(S)}function b(S){return t.enter("lineEnding"),t.consume(S),t.exit("lineEnding"),x}function x(S){return s>0&&St(S)?Ot(t,w,"linePrefix",s+1)(S):w(S)}function w(S){return S===null||ot(S)?t.check(lj,y,E)(S):(t.enter("codeFlowValue"),D(S))}function D(S){return S===null||ot(S)?(t.exit("codeFlowValue"),w(S)):(t.consume(S),D)}function E(S){return t.exit("codeFenced"),e(S)}function A(S,T,M){let R=0;return O;function O(H){return S.enter("lineEnding"),S.consume(H),S.exit("lineEnding"),z}function z(H){return S.enter("codeFencedFence"),St(H)?Ot(S,F,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(H):F(H)}function F(H){return H===o?(S.enter("codeFencedFenceSequence"),q(H)):M(H)}function q(H){return H===o?(R++,S.consume(H),q):R>=a?(S.exit("codeFencedFenceSequence"),St(H)?Ot(S,k,"whitespace")(H):k(H)):M(H)}function k(H){return H===null||ot(H)?(S.exit("codeFencedFence"),T(H)):M(H)}}}function $De(t,e,n){const r=this;return i;function i(a){return a===null?n(a):(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),s)}function s(a){return r.parser.lazy[r.now().line]?n(a):e(a)}}const xS={name:"codeIndented",tokenize:XDe},GDe={partial:!0,tokenize:KDe};function XDe(t,e,n){const r=this;return i;function i(c){return t.enter("codeIndented"),Ot(t,s,"linePrefix",5)(c)}function s(c){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?a(c):n(c)}function a(c){return c===null?l(c):ot(c)?t.attempt(GDe,a,l)(c):(t.enter("codeFlowValue"),o(c))}function o(c){return c===null||ot(c)?(t.exit("codeFlowValue"),a(c)):(t.consume(c),o)}function l(c){return t.exit("codeIndented"),e(c)}}function KDe(t,e,n){const r=this;return i;function i(a){return r.parser.lazy[r.now().line]?n(a):ot(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),i):Ot(t,s,"linePrefix",5)(a)}function s(a){const o=r.events[r.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?e(a):ot(a)?i(a):n(a)}}const YDe={name:"codeText",previous:JDe,resolve:ZDe,tokenize:QDe};function ZDe(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function JDe(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function QDe(t,e,n){let r=0,i,s;return a;function a(h){return t.enter("codeText"),t.enter("codeTextSequence"),o(h)}function o(h){return h===96?(t.consume(h),r++,o):(t.exit("codeTextSequence"),l(h))}function l(h){return h===null?n(h):h===32?(t.enter("space"),t.consume(h),t.exit("space"),l):h===96?(s=t.enter("codeTextSequence"),i=0,d(h)):ot(h)?(t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),l):(t.enter("codeTextData"),c(h))}function c(h){return h===null||h===32||h===96||ot(h)?(t.exit("codeTextData"),l(h)):(t.consume(h),c)}function d(h){return h===96?(t.consume(h),i++,d):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(h)):(s.type="codeTextData",c(h))}}class eEe{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&bh(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),bh(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),bh(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);bh(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);bh(this.left,n.reverse())}}}function bh(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function WX(t){const e={};let n=-1,r,i,s,a,o,l,c;const d=new eEe(t);for(;++n<d.length;){for(;n in e;)n=e[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,s=0,s<l.length&&l[s][1].type==="lineEndingBlank"&&(s+=2),s<l.length&&l[s][1].type==="content"))for(;++s<l.length&&l[s][1].type!=="content";)l[s][1].type==="chunkText"&&(l[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,tEe(d,n)),n=e[n],c=!0);else if(r[1]._container){for(s=n,i=void 0;s--;)if(a=d.get(s),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(i&&(d.get(i)[1].type="lineEndingBlank"),a[1].type="lineEnding",i=s);else if(!(a[1].type==="linePrefix"||a[1].type==="listItemIndent"))break;i&&(r[1].end={...d.get(i)[1].start},o=d.slice(i,n),o.unshift(r),d.splice(i,n-i+1,o))}}return pi(t,0,Number.POSITIVE_INFINITY,d.slice(0)),!c}function tEe(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const s=[];let a=n._tokenizer;a||(a=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const o=a.events,l=[],c={};let d,h,p=-1,g=n,v=0,y=0;const b=[y];for(;g;){for(;t.get(++i)[1]!==g;);s.push(i),g._tokenizer||(d=r.sliceStream(g),g.next||d.push(null),h&&a.defineSkip(g.start),g._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(d),g._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),h=g,g=g.next}for(g=n;++p<o.length;)o[p][0]==="exit"&&o[p-1][0]==="enter"&&o[p][1].type===o[p-1][1].type&&o[p][1].start.line!==o[p][1].end.line&&(y=p+1,b.push(y),g._tokenizer=void 0,g.previous=void 0,g=g.next);for(a.events=[],g?(g._tokenizer=void 0,g.previous=void 0):b.pop(),p=b.length;p--;){const x=o.slice(b[p],b[p+1]),w=s.pop();l.push([w,w+x.length-1]),t.splice(w,2,x)}for(l.reverse(),p=-1;++p<l.length;)c[v+l[p][0]]=v+l[p][1],v+=l[p][1]-l[p][0]-1;return c}const nEe={resolve:iEe,tokenize:sEe},rEe={partial:!0,tokenize:aEe};function iEe(t){return WX(t),t}function sEe(t,e){let n;return r;function r(o){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(o)}function i(o){return o===null?s(o):ot(o)?t.check(rEe,a,s)(o):(t.consume(o),i)}function s(o){return t.exit("chunkContent"),t.exit("content"),e(o)}function a(o){return t.consume(o),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function aEe(t,e,n){const r=this;return i;function i(a){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),Ot(t,s,"linePrefix")}function s(a){if(a===null||ot(a))return n(a);const o=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?e(a):t.interrupt(r.parser.constructs.flow,n,e)(a)}}function VX(t,e,n,r,i,s,a,o,l){const c=l||Number.POSITIVE_INFINITY;let d=0;return h;function h(x){return x===60?(t.enter(r),t.enter(i),t.enter(s),t.consume(x),t.exit(s),p):x===null||x===32||x===41||nb(x)?n(x):(t.enter(r),t.enter(a),t.enter(o),t.enter("chunkString",{contentType:"string"}),y(x))}function p(x){return x===62?(t.enter(s),t.consume(x),t.exit(s),t.exit(i),t.exit(r),e):(t.enter(o),t.enter("chunkString",{contentType:"string"}),g(x))}function g(x){return x===62?(t.exit("chunkString"),t.exit(o),p(x)):x===null||x===60||ot(x)?n(x):(t.consume(x),x===92?v:g)}function v(x){return x===60||x===62||x===92?(t.consume(x),g):g(x)}function y(x){return!d&&(x===null||x===41||Jt(x))?(t.exit("chunkString"),t.exit(o),t.exit(a),t.exit(r),e(x)):d<c&&x===40?(t.consume(x),d++,y):x===41?(t.consume(x),d--,y):x===null||x===32||x===40||nb(x)?n(x):(t.consume(x),x===92?b:y)}function b(x){return x===40||x===41||x===92?(t.consume(x),y):y(x)}}function HX(t,e,n,r,i,s){const a=this;let o=0,l;return c;function c(g){return t.enter(r),t.enter(i),t.consume(g),t.exit(i),t.enter(s),d}function d(g){return o>999||g===null||g===91||g===93&&!l||g===94&&!o&&"_hiddenFootnoteSupport"in a.parser.constructs?n(g):g===93?(t.exit(s),t.enter(i),t.consume(g),t.exit(i),t.exit(r),e):ot(g)?(t.enter("lineEnding"),t.consume(g),t.exit("lineEnding"),d):(t.enter("chunkString",{contentType:"string"}),h(g))}function h(g){return g===null||g===91||g===93||ot(g)||o++>999?(t.exit("chunkString"),d(g)):(t.consume(g),l||(l=!St(g)),g===92?p:h)}function p(g){return g===91||g===92||g===93?(t.consume(g),o++,h):h(g)}}function $X(t,e,n,r,i,s){let a;return o;function o(p){return p===34||p===39||p===40?(t.enter(r),t.enter(i),t.consume(p),t.exit(i),a=p===40?41:p,l):n(p)}function l(p){return p===a?(t.enter(i),t.consume(p),t.exit(i),t.exit(r),e):(t.enter(s),c(p))}function c(p){return p===a?(t.exit(s),l(a)):p===null?n(p):ot(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),Ot(t,c,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),d(p))}function d(p){return p===a||p===null||ot(p)?(t.exit("chunkString"),c(p)):(t.consume(p),p===92?h:d)}function h(p){return p===a||p===92?(t.consume(p),d):d(p)}}function tf(t,e){let n;return r;function r(i){return ot(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):St(i)?Ot(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const oEe={name:"definition",tokenize:cEe},lEe={partial:!0,tokenize:uEe};function cEe(t,e,n){const r=this;let i;return s;function s(g){return t.enter("definition"),a(g)}function a(g){return HX.call(r,t,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(g)}function o(g){return i=os(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),g===58?(t.enter("definitionMarker"),t.consume(g),t.exit("definitionMarker"),l):n(g)}function l(g){return Jt(g)?tf(t,c)(g):c(g)}function c(g){return VX(t,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(g)}function d(g){return t.attempt(lEe,h,h)(g)}function h(g){return St(g)?Ot(t,p,"whitespace")(g):p(g)}function p(g){return g===null||ot(g)?(t.exit("definition"),r.parser.defined.push(i),e(g)):n(g)}}function uEe(t,e,n){return r;function r(o){return Jt(o)?tf(t,i)(o):n(o)}function i(o){return $X(t,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function s(o){return St(o)?Ot(t,a,"whitespace")(o):a(o)}function a(o){return o===null||ot(o)?e(o):n(o)}}const dEe={name:"hardBreakEscape",tokenize:hEe};function hEe(t,e,n){return r;function r(s){return t.enter("hardBreakEscape"),t.consume(s),i}function i(s){return ot(s)?(t.exit("hardBreakEscape"),e(s)):n(s)}}const fEe={name:"headingAtx",resolve:pEe,tokenize:gEe};function pEe(t,e){let n=t.length-2,r=3,i,s;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},s={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},pi(t,r,n-r+1,[["enter",i,e],["enter",s,e],["exit",s,e],["exit",i,e]])),t}function gEe(t,e,n){let r=0;return i;function i(d){return t.enter("atxHeading"),s(d)}function s(d){return t.enter("atxHeadingSequence"),a(d)}function a(d){return d===35&&r++<6?(t.consume(d),a):d===null||Jt(d)?(t.exit("atxHeadingSequence"),o(d)):n(d)}function o(d){return d===35?(t.enter("atxHeadingSequence"),l(d)):d===null||ot(d)?(t.exit("atxHeading"),e(d)):St(d)?Ot(t,o,"whitespace")(d):(t.enter("atxHeadingText"),c(d))}function l(d){return d===35?(t.consume(d),l):(t.exit("atxHeadingSequence"),o(d))}function c(d){return d===null||d===35||Jt(d)?(t.exit("atxHeadingText"),o(d)):(t.consume(d),c)}}const mEe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],uj=["pre","script","style","textarea"],yEe={concrete:!0,name:"htmlFlow",resolveTo:xEe,tokenize:wEe},bEe={partial:!0,tokenize:DEe},vEe={partial:!0,tokenize:_Ee};function xEe(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function wEe(t,e,n){const r=this;let i,s,a,o,l;return c;function c(j){return d(j)}function d(j){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(j),h}function h(j){return j===33?(t.consume(j),p):j===47?(t.consume(j),s=!0,y):j===63?(t.consume(j),i=3,r.interrupt?e:W):_r(j)?(t.consume(j),a=String.fromCharCode(j),b):n(j)}function p(j){return j===45?(t.consume(j),i=2,g):j===91?(t.consume(j),i=5,o=0,v):_r(j)?(t.consume(j),i=4,r.interrupt?e:W):n(j)}function g(j){return j===45?(t.consume(j),r.interrupt?e:W):n(j)}function v(j){const Y="CDATA[";return j===Y.charCodeAt(o++)?(t.consume(j),o===Y.length?r.interrupt?e:F:v):n(j)}function y(j){return _r(j)?(t.consume(j),a=String.fromCharCode(j),b):n(j)}function b(j){if(j===null||j===47||j===62||Jt(j)){const Y=j===47,ee=a.toLowerCase();return!Y&&!s&&uj.includes(ee)?(i=1,r.interrupt?e(j):F(j)):mEe.includes(a.toLowerCase())?(i=6,Y?(t.consume(j),x):r.interrupt?e(j):F(j)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(j):s?w(j):D(j))}return j===45||dr(j)?(t.consume(j),a+=String.fromCharCode(j),b):n(j)}function x(j){return j===62?(t.consume(j),r.interrupt?e:F):n(j)}function w(j){return St(j)?(t.consume(j),w):O(j)}function D(j){return j===47?(t.consume(j),O):j===58||j===95||_r(j)?(t.consume(j),E):St(j)?(t.consume(j),D):O(j)}function E(j){return j===45||j===46||j===58||j===95||dr(j)?(t.consume(j),E):A(j)}function A(j){return j===61?(t.consume(j),S):St(j)?(t.consume(j),A):D(j)}function S(j){return j===null||j===60||j===61||j===62||j===96?n(j):j===34||j===39?(t.consume(j),l=j,T):St(j)?(t.consume(j),S):M(j)}function T(j){return j===l?(t.consume(j),l=null,R):j===null||ot(j)?n(j):(t.consume(j),T)}function M(j){return j===null||j===34||j===39||j===47||j===60||j===61||j===62||j===96||Jt(j)?A(j):(t.consume(j),M)}function R(j){return j===47||j===62||St(j)?D(j):n(j)}function O(j){return j===62?(t.consume(j),z):n(j)}function z(j){return j===null||ot(j)?F(j):St(j)?(t.consume(j),z):n(j)}function F(j){return j===45&&i===2?(t.consume(j),N):j===60&&i===1?(t.consume(j),B):j===62&&i===4?(t.consume(j),L):j===63&&i===3?(t.consume(j),W):j===93&&i===5?(t.consume(j),$):ot(j)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(bEe,K,q)(j)):j===null||ot(j)?(t.exit("htmlFlowData"),q(j)):(t.consume(j),F)}function q(j){return t.check(vEe,k,K)(j)}function k(j){return t.enter("lineEnding"),t.consume(j),t.exit("lineEnding"),H}function H(j){return j===null||ot(j)?q(j):(t.enter("htmlFlowData"),F(j))}function N(j){return j===45?(t.consume(j),W):F(j)}function B(j){return j===47?(t.consume(j),a="",G):F(j)}function G(j){if(j===62){const Y=a.toLowerCase();return uj.includes(Y)?(t.consume(j),L):F(j)}return _r(j)&&a.length<8?(t.consume(j),a+=String.fromCharCode(j),G):F(j)}function $(j){return j===93?(t.consume(j),W):F(j)}function W(j){return j===62?(t.consume(j),L):j===45&&i===2?(t.consume(j),W):F(j)}function L(j){return j===null||ot(j)?(t.exit("htmlFlowData"),K(j)):(t.consume(j),L)}function K(j){return t.exit("htmlFlow"),e(j)}}function _Ee(t,e,n){const r=this;return i;function i(a){return ot(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),s):n(a)}function s(a){return r.parser.lazy[r.now().line]?n(a):e(a)}}function DEe(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(hp,e,n)}}const EEe={name:"htmlText",tokenize:SEe};function SEe(t,e,n){const r=this;let i,s,a;return o;function o(W){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(W),l}function l(W){return W===33?(t.consume(W),c):W===47?(t.consume(W),A):W===63?(t.consume(W),D):_r(W)?(t.consume(W),M):n(W)}function c(W){return W===45?(t.consume(W),d):W===91?(t.consume(W),s=0,v):_r(W)?(t.consume(W),w):n(W)}function d(W){return W===45?(t.consume(W),g):n(W)}function h(W){return W===null?n(W):W===45?(t.consume(W),p):ot(W)?(a=h,B(W)):(t.consume(W),h)}function p(W){return W===45?(t.consume(W),g):h(W)}function g(W){return W===62?N(W):W===45?p(W):h(W)}function v(W){const L="CDATA[";return W===L.charCodeAt(s++)?(t.consume(W),s===L.length?y:v):n(W)}function y(W){return W===null?n(W):W===93?(t.consume(W),b):ot(W)?(a=y,B(W)):(t.consume(W),y)}function b(W){return W===93?(t.consume(W),x):y(W)}function x(W){return W===62?N(W):W===93?(t.consume(W),x):y(W)}function w(W){return W===null||W===62?N(W):ot(W)?(a=w,B(W)):(t.consume(W),w)}function D(W){return W===null?n(W):W===63?(t.consume(W),E):ot(W)?(a=D,B(W)):(t.consume(W),D)}function E(W){return W===62?N(W):D(W)}function A(W){return _r(W)?(t.consume(W),S):n(W)}function S(W){return W===45||dr(W)?(t.consume(W),S):T(W)}function T(W){return ot(W)?(a=T,B(W)):St(W)?(t.consume(W),T):N(W)}function M(W){return W===45||dr(W)?(t.consume(W),M):W===47||W===62||Jt(W)?R(W):n(W)}function R(W){return W===47?(t.consume(W),N):W===58||W===95||_r(W)?(t.consume(W),O):ot(W)?(a=R,B(W)):St(W)?(t.consume(W),R):N(W)}function O(W){return W===45||W===46||W===58||W===95||dr(W)?(t.consume(W),O):z(W)}function z(W){return W===61?(t.consume(W),F):ot(W)?(a=z,B(W)):St(W)?(t.consume(W),z):R(W)}function F(W){return W===null||W===60||W===61||W===62||W===96?n(W):W===34||W===39?(t.consume(W),i=W,q):ot(W)?(a=F,B(W)):St(W)?(t.consume(W),F):(t.consume(W),k)}function q(W){return W===i?(t.consume(W),i=void 0,H):W===null?n(W):ot(W)?(a=q,B(W)):(t.consume(W),q)}function k(W){return W===null||W===34||W===39||W===60||W===61||W===96?n(W):W===47||W===62||Jt(W)?R(W):(t.consume(W),k)}function H(W){return W===47||W===62||Jt(W)?R(W):n(W)}function N(W){return W===62?(t.consume(W),t.exit("htmlTextData"),t.exit("htmlText"),e):n(W)}function B(W){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(W),t.exit("lineEnding"),G}function G(W){return St(W)?Ot(t,$,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(W):$(W)}function $(W){return t.enter("htmlTextData"),a(W)}}const IR={name:"labelEnd",resolveAll:kEe,resolveTo:REe,tokenize:UEe},AEe={tokenize:MEe},TEe={tokenize:OEe},CEe={tokenize:NEe};function kEe(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&pi(t,0,t.length,n),t}function REe(t,e){let n=t.length,r=0,i,s,a,o;for(;n--;)if(i=t[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(a){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(a=n);const l={type:t[s][1].type==="labelLink"?"link":"image",start:{...t[s][1].start},end:{...t[t.length-1][1].end}},c={type:"label",start:{...t[s][1].start},end:{...t[a][1].end}},d={type:"labelText",start:{...t[s+r+2][1].end},end:{...t[a-2][1].start}};return o=[["enter",l,e],["enter",c,e]],o=Ii(o,t.slice(s+1,s+r+3)),o=Ii(o,[["enter",d,e]]),o=Ii(o,sv(e.parser.constructs.insideSpan.null,t.slice(s+r+4,a-3),e)),o=Ii(o,[["exit",d,e],t[a-2],t[a-1],["exit",c,e]]),o=Ii(o,t.slice(a+1)),o=Ii(o,[["exit",l,e]]),pi(t,s,t.length,o),t}function UEe(t,e,n){const r=this;let i=r.events.length,s,a;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return o;function o(p){return s?s._inactive?h(p):(a=r.parser.defined.includes(os(r.sliceSerialize({start:s.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(p),t.exit("labelMarker"),t.exit("labelEnd"),l):n(p)}function l(p){return p===40?t.attempt(AEe,d,a?d:h)(p):p===91?t.attempt(TEe,d,a?c:h)(p):a?d(p):h(p)}function c(p){return t.attempt(CEe,d,h)(p)}function d(p){return e(p)}function h(p){return s._balanced=!0,n(p)}}function MEe(t,e,n){return r;function r(h){return t.enter("resource"),t.enter("resourceMarker"),t.consume(h),t.exit("resourceMarker"),i}function i(h){return Jt(h)?tf(t,s)(h):s(h)}function s(h){return h===41?d(h):VX(t,a,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(h)}function a(h){return Jt(h)?tf(t,l)(h):d(h)}function o(h){return n(h)}function l(h){return h===34||h===39||h===40?$X(t,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(h):d(h)}function c(h){return Jt(h)?tf(t,d)(h):d(h)}function d(h){return h===41?(t.enter("resourceMarker"),t.consume(h),t.exit("resourceMarker"),t.exit("resource"),e):n(h)}}function OEe(t,e,n){const r=this;return i;function i(o){return HX.call(r,t,s,a,"reference","referenceMarker","referenceString")(o)}function s(o){return r.parser.defined.includes(os(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(o):n(o)}function a(o){return n(o)}}function NEe(t,e,n){return r;function r(s){return t.enter("reference"),t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),i}function i(s){return s===93?(t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),t.exit("reference"),e):n(s)}}const FEe={name:"labelStartImage",resolveAll:IR.resolveAll,tokenize:IEe};function IEe(t,e,n){const r=this;return i;function i(o){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(o),t.exit("labelImageMarker"),s}function s(o){return o===91?(t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelImage"),a):n(o)}function a(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):e(o)}}const PEe={name:"labelStartLink",resolveAll:IR.resolveAll,tokenize:LEe};function LEe(t,e,n){const r=this;return i;function i(a){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelLink"),s}function s(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):e(a)}}const wS={name:"lineEnding",tokenize:BEe};function BEe(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),Ot(t,e,"linePrefix")}}const Jm={name:"thematicBreak",tokenize:jEe};function jEe(t,e,n){let r=0,i;return s;function s(c){return t.enter("thematicBreak"),a(c)}function a(c){return i=c,o(c)}function o(c){return c===i?(t.enter("thematicBreakSequence"),l(c)):r>=3&&(c===null||ot(c))?(t.exit("thematicBreak"),e(c)):n(c)}function l(c){return c===i?(t.consume(c),r++,l):(t.exit("thematicBreakSequence"),St(c)?Ot(t,o,"whitespace")(c):o(c))}}const Pr={continuation:{tokenize:VEe},exit:$Ee,name:"list",tokenize:WEe},zEe={partial:!0,tokenize:GEe},qEe={partial:!0,tokenize:HEe};function WEe(t,e,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,a=0;return o;function o(g){const v=r.containerState.type||(g===42||g===43||g===45?"listUnordered":"listOrdered");if(v==="listUnordered"?!r.containerState.marker||g===r.containerState.marker:dC(g)){if(r.containerState.type||(r.containerState.type=v,t.enter(v,{_container:!0})),v==="listUnordered")return t.enter("listItemPrefix"),g===42||g===45?t.check(Jm,n,c)(g):c(g);if(!r.interrupt||g===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),l(g)}return n(g)}function l(g){return dC(g)&&++a<10?(t.consume(g),l):(!r.interrupt||a<2)&&(r.containerState.marker?g===r.containerState.marker:g===41||g===46)?(t.exit("listItemValue"),c(g)):n(g)}function c(g){return t.enter("listItemMarker"),t.consume(g),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||g,t.check(hp,r.interrupt?n:d,t.attempt(zEe,p,h))}function d(g){return r.containerState.initialBlankLine=!0,s++,p(g)}function h(g){return St(g)?(t.enter("listItemPrefixWhitespace"),t.consume(g),t.exit("listItemPrefixWhitespace"),p):n(g)}function p(g){return r.containerState.size=s+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(g)}}function VEe(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(hp,i,s);function i(o){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Ot(t,e,"listItemIndent",r.containerState.size+1)(o)}function s(o){return r.containerState.furtherBlankLines||!St(o)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,a(o)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(qEe,e,a)(o))}function a(o){return r.containerState._closeFlow=!0,r.interrupt=void 0,Ot(t,t.attempt(Pr,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function HEe(t,e,n){const r=this;return Ot(t,i,"listItemIndent",r.containerState.size+1);function i(s){const a=r.events[r.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===r.containerState.size?e(s):n(s)}}function $Ee(t){t.exit(this.containerState.type)}function GEe(t,e,n){const r=this;return Ot(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const a=r.events[r.events.length-1];return!St(s)&&a&&a[1].type==="listItemPrefixWhitespace"?e(s):n(s)}}const dj={name:"setextUnderline",resolveTo:XEe,tokenize:KEe};function XEe(t,e){let n=t.length,r,i,s;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!s&&t[n][1].type==="definition"&&(s=n);const a={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",s?(t.splice(i,0,["enter",a,e]),t.splice(s+1,0,["exit",t[r][1],e]),t[r][1].end={...t[s][1].end}):t[r][1]=a,t.push(["exit",a,e]),t}function KEe(t,e,n){const r=this;let i;return s;function s(c){let d=r.events.length,h;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){h=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||h)?(t.enter("setextHeadingLine"),i=c,a(c)):n(c)}function a(c){return t.enter("setextHeadingLineSequence"),o(c)}function o(c){return c===i?(t.consume(c),o):(t.exit("setextHeadingLineSequence"),St(c)?Ot(t,l,"lineSuffix")(c):l(c))}function l(c){return c===null||ot(c)?(t.exit("setextHeadingLine"),e(c)):n(c)}}const YEe={tokenize:ZEe};function ZEe(t){const e=this,n=t.attempt(hp,r,t.attempt(this.parser.constructs.flowInitial,i,Ot(t,t.attempt(this.parser.constructs.flow,i,t.attempt(nEe,i)),"linePrefix")));return n;function r(s){if(s===null){t.consume(s);return}return t.enter("lineEndingBlank"),t.consume(s),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const JEe={resolveAll:XX()},QEe=GX("string"),eSe=GX("text");function GX(t){return{resolveAll:XX(t==="text"?tSe:void 0),tokenize:e};function e(n){const r=this,i=this.parser.constructs[t],s=n.attempt(i,a,o);return a;function a(d){return c(d)?s(d):o(d)}function o(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),l}function l(d){return c(d)?(n.exit("data"),s(d)):(n.consume(d),l)}function c(d){if(d===null)return!0;const h=i[d];let p=-1;if(h)for(;++p<h.length;){const g=h[p];if(!g.previous||g.previous.call(r,r.previous))return!0}return!1}}}function XX(t){return e;function e(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return t?t(n,r):n}}function tSe(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let s=i.length,a=-1,o=0,l;for(;s--;){const c=i[s];if(typeof c=="string"){for(a=c.length;c.charCodeAt(a-1)===32;)o++,a--;if(a)break;a=-1}else if(c===-2)l=!0,o++;else if(c!==-1){s++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(o=0),o){const c={type:n===t.length||l||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?a:r.start._bufferIndex+a,_index:r.start._index+s,line:r.end.line,column:r.end.column-o,offset:r.end.offset-o},end:{...r.end}};r.end={...c.start},r.start.offset===r.end.offset?Object.assign(r,c):(t.splice(n,0,["enter",c,e],["exit",c,e]),n+=2)}n++}return t}const nSe={42:Pr,43:Pr,45:Pr,48:Pr,49:Pr,50:Pr,51:Pr,52:Pr,53:Pr,54:Pr,55:Pr,56:Pr,57:Pr,62:jX},rSe={91:oEe},iSe={[-2]:xS,[-1]:xS,32:xS},sSe={35:fEe,42:Jm,45:[dj,Jm],60:yEe,61:dj,95:Jm,96:cj,126:cj},aSe={38:qX,92:zX},oSe={[-5]:wS,[-4]:wS,[-3]:wS,33:FEe,38:qX,42:hC,60:[PDe,EEe],91:PEe,92:[dEe,zX],93:IR,95:hC,96:YDe},lSe={null:[hC,JEe]},cSe={null:[42,95]},uSe={null:[]},dSe=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:cSe,contentInitial:rSe,disable:uSe,document:nSe,flow:sSe,flowInitial:iSe,insideSpan:lSe,string:aSe,text:oSe},Symbol.toStringTag,{value:"Module"}));function hSe(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let a=[],o=[];const l={attempt:T(A),check:T(S),consume:w,enter:D,exit:E,interrupt:T(S,{interrupt:!0})},c={code:null,containerState:{},defineSkip:y,events:[],now:v,parser:t,previous:null,sliceSerialize:p,sliceStream:g,write:h};let d=e.tokenize.call(c,l);return e.resolveAll&&s.push(e),c;function h(z){return a=Ii(a,z),b(),a[a.length-1]!==null?[]:(M(e,0),c.events=sv(s,c.events,c),c.events)}function p(z,F){return pSe(g(z),F)}function g(z){return fSe(a,z)}function v(){const{_bufferIndex:z,_index:F,line:q,column:k,offset:H}=r;return{_bufferIndex:z,_index:F,line:q,column:k,offset:H}}function y(z){i[z.line]=z.column,O()}function b(){let z;for(;r._index<a.length;){const F=a[r._index];if(typeof F=="string")for(z=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===z&&r._bufferIndex<F.length;)x(F.charCodeAt(r._bufferIndex));else x(F)}}function x(z){d=d(z)}function w(z){ot(z)?(r.line++,r.column=1,r.offset+=z===-3?2:1,O()):z!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=z}function D(z,F){const q=F||{};return q.type=z,q.start=v(),c.events.push(["enter",q,c]),o.push(q),q}function E(z){const F=o.pop();return F.end=v(),c.events.push(["exit",F,c]),F}function A(z,F){M(z,F.from)}function S(z,F){F.restore()}function T(z,F){return q;function q(k,H,N){let B,G,$,W;return Array.isArray(k)?K(k):"tokenize"in k?K([k]):L(k);function L(re){return se;function se(ye){const xe=ye!==null&&re[ye],Re=ye!==null&&re.null,Fe=[...Array.isArray(xe)?xe:xe?[xe]:[],...Array.isArray(Re)?Re:Re?[Re]:[]];return K(Fe)(ye)}}function K(re){return B=re,G=0,re.length===0?N:j(re[G])}function j(re){return se;function se(ye){return W=R(),$=re,re.partial||(c.currentConstruct=re),re.name&&c.parser.constructs.disable.null.includes(re.name)?ee():re.tokenize.call(F?Object.assign(Object.create(c),F):c,l,Y,ee)(ye)}}function Y(re){return z($,W),H}function ee(re){return W.restore(),++G<B.length?j(B[G]):N}}}function M(z,F){z.resolveAll&&!s.includes(z)&&s.push(z),z.resolve&&pi(c.events,F,c.events.length-F,z.resolve(c.events.slice(F),c)),z.resolveTo&&(c.events=z.resolveTo(c.events,c))}function R(){const z=v(),F=c.previous,q=c.currentConstruct,k=c.events.length,H=Array.from(o);return{from:k,restore:N};function N(){r=z,c.previous=F,c.currentConstruct=q,c.events.length=k,o=H,O()}}function O(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function fSe(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,s=e.end._bufferIndex;let a;if(n===i)a=[t[n].slice(r,s)];else{if(a=t.slice(n,i),r>-1){const o=a[0];typeof o=="string"?a[0]=o.slice(r):a.shift()}s>0&&a.push(t[i].slice(0,s))}return a}function pSe(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const s=t[n];let a;if(typeof s=="string")a=s;else switch(s){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=e?" ":"	";break}case-1:{if(!e&&i)continue;a=" ";break}default:a=String.fromCharCode(s)}i=s===-2,r.push(a)}return r.join("")}function gSe(t){const r={constructs:LX([dSe,...(t||{}).extensions||[]]),content:i(RDe),defined:[],document:i(MDe),flow:i(YEe),lazy:{},string:i(QEe),text:i(eSe)};return r;function i(s){return a;function a(o){return hSe(r,s,o)}}}function mSe(t){for(;!WX(t););return t}const hj=/[\0\t\n\r]/g;function ySe(){let t=1,e="",n=!0,r;return i;function i(s,a,o){const l=[];let c,d,h,p,g;for(s=e+(typeof s=="string"?s.toString():new TextDecoder(a||void 0).decode(s)),h=0,e="",n&&(s.charCodeAt(0)===65279&&h++,n=void 0);h<s.length;){if(hj.lastIndex=h,c=hj.exec(s),p=c&&c.index!==void 0?c.index:s.length,g=s.charCodeAt(p),!c){e=s.slice(h);break}if(g===10&&h===p&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),h<p&&(l.push(s.slice(h,p)),t+=p-h),g){case 0:{l.push(65533),t++;break}case 9:{for(d=Math.ceil(t/4)*4,l.push(-2);t++<d;)l.push(-1);break}case 10:{l.push(-4),t=1;break}default:r=!0,t=1}h=p+1}return o&&(r&&l.push(-5),e&&l.push(e),l.push(null)),l}}const bSe=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function vSe(t){return t.replace(bSe,xSe)}function xSe(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return BX(n.slice(s?2:1),s?16:10)}return FR(n)||t}const KX={}.hasOwnProperty;function wSe(t,e,n){return typeof e!="string"&&(n=e,e=void 0),_Se(n)(mSe(gSe(n).document().write(ySe()(t,e,!0))))}function _Se(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(ue),autolinkProtocol:R,autolinkEmail:R,atxHeading:s(oe),blockQuote:s(Re),characterEscape:R,characterReference:R,codeFenced:s(Fe),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:s(Fe,a),codeText:s(qe,a),codeTextData:R,data:R,codeFlowValue:R,definition:s(We),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:s(P),hardBreakEscape:s(ce),hardBreakTrailing:s(ce),htmlFlow:s(Q,a),htmlFlowData:R,htmlText:s(Q,a),htmlTextData:R,image:s(J),label:a,link:s(ue),listItem:s(Se),listItemValue:p,listOrdered:s(De,h),listUnordered:s(De),paragraph:s(fe),reference:j,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:s(oe),strong:s(ie),thematicBreak:s(me)},exit:{atxHeading:l(),atxHeadingSequence:A,autolink:l(),autolinkEmail:xe,autolinkProtocol:ye,blockQuote:l(),characterEscapeValue:O,characterReferenceMarkerHexadecimal:ee,characterReferenceMarkerNumeric:ee,characterReferenceValue:re,characterReference:se,codeFenced:l(b),codeFencedFence:y,codeFencedFenceInfo:g,codeFencedFenceMeta:v,codeFlowValue:O,codeIndented:l(x),codeText:l(H),codeTextData:O,data:O,definition:l(),definitionDestinationString:E,definitionLabelString:w,definitionTitleString:D,emphasis:l(),hardBreakEscape:l(F),hardBreakTrailing:l(F),htmlFlow:l(q),htmlFlowData:O,htmlText:l(k),htmlTextData:O,image:l(B),label:$,labelText:G,lineEnding:z,link:l(N),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:Y,resourceDestinationString:W,resourceTitleString:L,resource:K,setextHeading:l(M),setextHeadingLineSequence:T,setextHeadingText:S,strong:l(),thematicBreak:l()}};YX(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(ae){let ve={type:"root",children:[]};const Ue={stack:[ve],tokenStack:[],config:e,enter:o,exit:c,buffer:a,resume:d,data:n},Le=[];let Pe=-1;for(;++Pe<ae.length;)if(ae[Pe][1].type==="listOrdered"||ae[Pe][1].type==="listUnordered")if(ae[Pe][0]==="enter")Le.push(Pe);else{const Ve=Le.pop();Pe=i(ae,Ve,Pe)}for(Pe=-1;++Pe<ae.length;){const Ve=e[ae[Pe][0]];KX.call(Ve,ae[Pe][1].type)&&Ve[ae[Pe][1].type].call(Object.assign({sliceSerialize:ae[Pe][2].sliceSerialize},Ue),ae[Pe][1])}if(Ue.tokenStack.length>0){const Ve=Ue.tokenStack[Ue.tokenStack.length-1];(Ve[1]||fj).call(Ue,void 0,Ve[0])}for(ve.position={start:ro(ae.length>0?ae[0][1].start:{line:1,column:1,offset:0}),end:ro(ae.length>0?ae[ae.length-2][1].end:{line:1,column:1,offset:0})},Pe=-1;++Pe<e.transforms.length;)ve=e.transforms[Pe](ve)||ve;return ve}function i(ae,ve,Ue){let Le=ve-1,Pe=-1,Ve=!1,tt,pe,Te,Be;for(;++Le<=Ue;){const Ie=ae[Le];switch(Ie[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Ie[0]==="enter"?Pe++:Pe--,Be=void 0;break}case"lineEndingBlank":{Ie[0]==="enter"&&(tt&&!Be&&!Pe&&!Te&&(Te=Le),Be=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Be=void 0}if(!Pe&&Ie[0]==="enter"&&Ie[1].type==="listItemPrefix"||Pe===-1&&Ie[0]==="exit"&&(Ie[1].type==="listUnordered"||Ie[1].type==="listOrdered")){if(tt){let Qe=Le;for(pe=void 0;Qe--;){const st=ae[Qe];if(st[1].type==="lineEnding"||st[1].type==="lineEndingBlank"){if(st[0]==="exit")continue;pe&&(ae[pe][1].type="lineEndingBlank",Ve=!0),st[1].type="lineEnding",pe=Qe}else if(!(st[1].type==="linePrefix"||st[1].type==="blockQuotePrefix"||st[1].type==="blockQuotePrefixWhitespace"||st[1].type==="blockQuoteMarker"||st[1].type==="listItemIndent"))break}Te&&(!pe||Te<pe)&&(tt._spread=!0),tt.end=Object.assign({},pe?ae[pe][1].start:Ie[1].end),ae.splice(pe||Le,0,["exit",tt,Ie[2]]),Le++,Ue++}if(Ie[1].type==="listItemPrefix"){const Qe={type:"listItem",_spread:!1,start:Object.assign({},Ie[1].start),end:void 0};tt=Qe,ae.splice(Le,0,["enter",Qe,Ie[2]]),Le++,Ue++,Te=void 0,Be=!0}}}return ae[ve][1]._spread=Ve,Ue}function s(ae,ve){return Ue;function Ue(Le){o.call(this,ae(Le),Le),ve&&ve.call(this,Le)}}function a(){this.stack.push({type:"fragment",children:[]})}function o(ae,ve,Ue){this.stack[this.stack.length-1].children.push(ae),this.stack.push(ae),this.tokenStack.push([ve,Ue||void 0]),ae.position={start:ro(ve.start),end:void 0}}function l(ae){return ve;function ve(Ue){ae&&ae.call(this,Ue),c.call(this,Ue)}}function c(ae,ve){const Ue=this.stack.pop(),Le=this.tokenStack.pop();if(Le)Le[0].type!==ae.type&&(ve?ve.call(this,ae,Le[0]):(Le[1]||fj).call(this,ae,Le[0]));else throw new Error("Cannot close `"+ae.type+"` ("+ef({start:ae.start,end:ae.end})+"): its not open");Ue.position.end=ro(ae.end)}function d(){return NR(this.stack.pop())}function h(){this.data.expectingFirstListItemValue=!0}function p(ae){if(this.data.expectingFirstListItemValue){const ve=this.stack[this.stack.length-2];ve.start=Number.parseInt(this.sliceSerialize(ae),10),this.data.expectingFirstListItemValue=void 0}}function g(){const ae=this.resume(),ve=this.stack[this.stack.length-1];ve.lang=ae}function v(){const ae=this.resume(),ve=this.stack[this.stack.length-1];ve.meta=ae}function y(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function b(){const ae=this.resume(),ve=this.stack[this.stack.length-1];ve.value=ae.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function x(){const ae=this.resume(),ve=this.stack[this.stack.length-1];ve.value=ae.replace(/(\r?\n|\r)$/g,"")}function w(ae){const ve=this.resume(),Ue=this.stack[this.stack.length-1];Ue.label=ve,Ue.identifier=os(this.sliceSerialize(ae)).toLowerCase()}function D(){const ae=this.resume(),ve=this.stack[this.stack.length-1];ve.title=ae}function E(){const ae=this.resume(),ve=this.stack[this.stack.length-1];ve.url=ae}function A(ae){const ve=this.stack[this.stack.length-1];if(!ve.depth){const Ue=this.sliceSerialize(ae).length;ve.depth=Ue}}function S(){this.data.setextHeadingSlurpLineEnding=!0}function T(ae){const ve=this.stack[this.stack.length-1];ve.depth=this.sliceSerialize(ae).codePointAt(0)===61?1:2}function M(){this.data.setextHeadingSlurpLineEnding=void 0}function R(ae){const Ue=this.stack[this.stack.length-1].children;let Le=Ue[Ue.length-1];(!Le||Le.type!=="text")&&(Le=le(),Le.position={start:ro(ae.start),end:void 0},Ue.push(Le)),this.stack.push(Le)}function O(ae){const ve=this.stack.pop();ve.value+=this.sliceSerialize(ae),ve.position.end=ro(ae.end)}function z(ae){const ve=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Ue=ve.children[ve.children.length-1];Ue.position.end=ro(ae.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(ve.type)&&(R.call(this,ae),O.call(this,ae))}function F(){this.data.atHardBreak=!0}function q(){const ae=this.resume(),ve=this.stack[this.stack.length-1];ve.value=ae}function k(){const ae=this.resume(),ve=this.stack[this.stack.length-1];ve.value=ae}function H(){const ae=this.resume(),ve=this.stack[this.stack.length-1];ve.value=ae}function N(){const ae=this.stack[this.stack.length-1];if(this.data.inReference){const ve=this.data.referenceType||"shortcut";ae.type+="Reference",ae.referenceType=ve,delete ae.url,delete ae.title}else delete ae.identifier,delete ae.label;this.data.referenceType=void 0}function B(){const ae=this.stack[this.stack.length-1];if(this.data.inReference){const ve=this.data.referenceType||"shortcut";ae.type+="Reference",ae.referenceType=ve,delete ae.url,delete ae.title}else delete ae.identifier,delete ae.label;this.data.referenceType=void 0}function G(ae){const ve=this.sliceSerialize(ae),Ue=this.stack[this.stack.length-2];Ue.label=vSe(ve),Ue.identifier=os(ve).toLowerCase()}function $(){const ae=this.stack[this.stack.length-1],ve=this.resume(),Ue=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ue.type==="link"){const Le=ae.children;Ue.children=Le}else Ue.alt=ve}function W(){const ae=this.resume(),ve=this.stack[this.stack.length-1];ve.url=ae}function L(){const ae=this.resume(),ve=this.stack[this.stack.length-1];ve.title=ae}function K(){this.data.inReference=void 0}function j(){this.data.referenceType="collapsed"}function Y(ae){const ve=this.resume(),Ue=this.stack[this.stack.length-1];Ue.label=ve,Ue.identifier=os(this.sliceSerialize(ae)).toLowerCase(),this.data.referenceType="full"}function ee(ae){this.data.characterReferenceType=ae.type}function re(ae){const ve=this.sliceSerialize(ae),Ue=this.data.characterReferenceType;let Le;Ue?(Le=BX(ve,Ue==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Le=FR(ve);const Pe=this.stack[this.stack.length-1];Pe.value+=Le}function se(ae){const ve=this.stack.pop();ve.position.end=ro(ae.end)}function ye(ae){O.call(this,ae);const ve=this.stack[this.stack.length-1];ve.url=this.sliceSerialize(ae)}function xe(ae){O.call(this,ae);const ve=this.stack[this.stack.length-1];ve.url="mailto:"+this.sliceSerialize(ae)}function Re(){return{type:"blockquote",children:[]}}function Fe(){return{type:"code",lang:null,meta:null,value:""}}function qe(){return{type:"inlineCode",value:""}}function We(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function P(){return{type:"emphasis",children:[]}}function oe(){return{type:"heading",depth:0,children:[]}}function ce(){return{type:"break"}}function Q(){return{type:"html",value:""}}function J(){return{type:"image",title:null,url:"",alt:null}}function ue(){return{type:"link",title:null,url:"",children:[]}}function De(ae){return{type:"list",ordered:ae.type==="listOrdered",start:null,spread:ae._spread,children:[]}}function Se(ae){return{type:"listItem",spread:ae._spread,checked:null,children:[]}}function fe(){return{type:"paragraph",children:[]}}function ie(){return{type:"strong",children:[]}}function le(){return{type:"text",value:""}}function me(){return{type:"thematicBreak"}}}function ro(t){return{line:t.line,column:t.column,offset:t.offset}}function YX(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?YX(t,r):DSe(t,r)}}function DSe(t,e){let n;for(n in e)if(KX.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function fj(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+ef({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+ef({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+ef({start:e.start,end:e.end})+") is still open")}function ESe(t){const e=this;e.parser=n;function n(r){return wSe(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function SSe(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function ASe(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function TSe(t,e){const n=e.value?e.value+`
`:"",r={},i=e.lang?e.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let s={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(s.data={meta:e.meta}),t.patch(e,s),s=t.applyData(e,s),s={type:"element",tagName:"pre",properties:{},children:[s]},t.patch(e,s),s}function CSe(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function kSe(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function RSe(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=pd(r.toLowerCase()),s=t.footnoteOrder.indexOf(r);let a,o=t.footnoteCounts.get(r);o===void 0?(o=0,t.footnoteOrder.push(r),a=t.footnoteOrder.length):a=s+1,o+=1,t.footnoteCounts.set(r,o);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};t.patch(e,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return t.patch(e,c),t.applyData(e,c)}function USe(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function MSe(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function ZX(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const a=i[i.length-1];return a&&a.type==="text"?a.value+=r:i.push({type:"text",value:r}),i}function OSe(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return ZX(t,e);const i={src:pd(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,s),t.applyData(e,s)}function NSe(t,e){const n={src:pd(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function FSe(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function ISe(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return ZX(t,e);const i={href:pd(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,s),t.applyData(e,s)}function PSe(t,e){const n={href:pd(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function LSe(t,e,n){const r=t.all(e),i=n?BSe(n):JX(e),s={},a=[];if(typeof e.checked=="boolean"){const d=r[0];let h;d&&d.type==="element"&&d.tagName==="p"?h=d:(h={type:"element",tagName:"p",properties:{},children:[]},r.unshift(h)),h.children.length>0&&h.children.unshift({type:"text",value:" "}),h.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let o=-1;for(;++o<r.length;){const d=r[o];(i||o!==0||d.type!=="element"||d.tagName!=="p")&&a.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!i?a.push(...d.children):a.push(d)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&a.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:s,children:a};return t.patch(e,c),t.applyData(e,c)}function BSe(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=JX(n[r])}return e}function JX(t){const e=t.spread;return e??t.children.length>1}function jSe(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const a=r[i];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,s),t.applyData(e,s)}function zSe(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function qSe(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function WSe(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function VSe(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const a={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],a),i.push(a)}if(n.length>0){const a={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},o=RR(e.children[1]),l=UX(e.children[e.children.length-1]);o&&l&&(a.position={start:o,end:l}),i.push(a)}const s={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,s),t.applyData(e,s)}function HSe(t,e,n){const r=n?n.children:void 0,s=(r?r.indexOf(e):1)===0?"th":"td",a=n&&n.type==="table"?n.align:void 0,o=a?a.length:e.children.length;let l=-1;const c=[];for(;++l<o;){const h=e.children[l],p={},g=a?a[l]:void 0;g&&(p.align=g);let v={type:"element",tagName:s,properties:p,children:[]};h&&(v.children=t.all(h),t.patch(h,v),v=t.applyData(h,v)),c.push(v)}const d={type:"element",tagName:"tr",properties:{},children:t.wrap(c,!0)};return t.patch(e,d),t.applyData(e,d)}function $Se(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const pj=9,gj=32;function GSe(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const s=[];for(;r;)s.push(mj(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return s.push(mj(e.slice(i),i>0,!1)),s.join("")}function mj(t,e,n){let r=0,i=t.length;if(e){let s=t.codePointAt(r);for(;s===pj||s===gj;)r++,s=t.codePointAt(r)}if(n){let s=t.codePointAt(i-1);for(;s===pj||s===gj;)i--,s=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function XSe(t,e){const n={type:"text",value:GSe(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function KSe(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const YSe={blockquote:SSe,break:ASe,code:TSe,delete:CSe,emphasis:kSe,footnoteReference:RSe,heading:USe,html:MSe,imageReference:OSe,image:NSe,inlineCode:FSe,linkReference:ISe,link:PSe,listItem:LSe,list:jSe,paragraph:zSe,root:qSe,strong:WSe,table:VSe,tableCell:$Se,tableRow:HSe,text:XSe,thematicBreak:KSe,toml:gm,yaml:gm,definition:gm,footnoteDefinition:gm};function gm(){}const QX=-1,av=0,nf=1,rb=2,PR=3,LR=4,BR=5,jR=6,eK=7,tK=8,yj=typeof self=="object"?self:globalThis,ZSe=(t,e)=>{const n=(i,s)=>(t.set(s,i),i),r=i=>{if(t.has(i))return t.get(i);const[s,a]=e[i];switch(s){case av:case QX:return n(a,i);case nf:{const o=n([],i);for(const l of a)o.push(r(l));return o}case rb:{const o=n({},i);for(const[l,c]of a)o[r(l)]=r(c);return o}case PR:return n(new Date(a),i);case LR:{const{source:o,flags:l}=a;return n(new RegExp(o,l),i)}case BR:{const o=n(new Map,i);for(const[l,c]of a)o.set(r(l),r(c));return o}case jR:{const o=n(new Set,i);for(const l of a)o.add(r(l));return o}case eK:{const{name:o,message:l}=a;return n(new yj[o](l),i)}case tK:return n(BigInt(a),i);case"BigInt":return n(Object(BigInt(a)),i);case"ArrayBuffer":return n(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:o}=new Uint8Array(a);return n(new DataView(o),a)}}return n(new yj[s](a),i)};return r},bj=t=>ZSe(new Map,t)(0),ru="",{toString:JSe}={},{keys:QSe}=Object,vh=t=>{const e=typeof t;if(e!=="object"||!t)return[av,e];const n=JSe.call(t).slice(8,-1);switch(n){case"Array":return[nf,ru];case"Object":return[rb,ru];case"Date":return[PR,ru];case"RegExp":return[LR,ru];case"Map":return[BR,ru];case"Set":return[jR,ru];case"DataView":return[nf,n]}return n.includes("Array")?[nf,n]:n.includes("Error")?[eK,n]:[rb,n]},mm=([t,e])=>t===av&&(e==="function"||e==="symbol"),eAe=(t,e,n,r)=>{const i=(a,o)=>{const l=r.push(a)-1;return n.set(o,l),l},s=a=>{if(n.has(a))return n.get(a);let[o,l]=vh(a);switch(o){case av:{let d=a;switch(l){case"bigint":o=tK,d=a.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+l);d=null;break;case"undefined":return i([QX],a)}return i([o,d],a)}case nf:{if(l){let p=a;return l==="DataView"?p=new Uint8Array(a.buffer):l==="ArrayBuffer"&&(p=new Uint8Array(a)),i([l,[...p]],a)}const d=[],h=i([o,d],a);for(const p of a)d.push(s(p));return h}case rb:{if(l)switch(l){case"BigInt":return i([l,a.toString()],a);case"Boolean":case"Number":case"String":return i([l,a.valueOf()],a)}if(e&&"toJSON"in a)return s(a.toJSON());const d=[],h=i([o,d],a);for(const p of QSe(a))(t||!mm(vh(a[p])))&&d.push([s(p),s(a[p])]);return h}case PR:return i([o,a.toISOString()],a);case LR:{const{source:d,flags:h}=a;return i([o,{source:d,flags:h}],a)}case BR:{const d=[],h=i([o,d],a);for(const[p,g]of a)(t||!(mm(vh(p))||mm(vh(g))))&&d.push([s(p),s(g)]);return h}case jR:{const d=[],h=i([o,d],a);for(const p of a)(t||!mm(vh(p)))&&d.push(s(p));return h}}const{message:c}=a;return i([o,{name:l,message:c}],a)};return s},vj=(t,{json:e,lossy:n}={})=>{const r=[];return eAe(!(e||n),!!e,new Map,r)(t),r},ib=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?bj(vj(t,e)):structuredClone(t):(t,e)=>bj(vj(t,e));function tAe(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function nAe(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function rAe(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||tAe,r=t.options.footnoteBackLabel||nAe,i=t.options.footnoteLabel||"Footnotes",s=t.options.footnoteLabelTagName||"h2",a=t.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let l=-1;for(;++l<t.footnoteOrder.length;){const c=t.footnoteById.get(t.footnoteOrder[l]);if(!c)continue;const d=t.all(c),h=String(c.identifier).toUpperCase(),p=pd(h.toLowerCase());let g=0;const v=[],y=t.footnoteCounts.get(h);for(;y!==void 0&&++g<=y;){v.length>0&&v.push({type:"text",value:" "});let w=typeof n=="string"?n:n(l,g);typeof w=="string"&&(w={type:"text",value:w}),v.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+p+(g>1?"-"+g:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,g),className:["data-footnote-backref"]},children:Array.isArray(w)?w:[w]})}const b=d[d.length-1];if(b&&b.type==="element"&&b.tagName==="p"){const w=b.children[b.children.length-1];w&&w.type==="text"?w.value+=" ":b.children.push({type:"text",value:" "}),b.children.push(...v)}else d.push(...v);const x={type:"element",tagName:"li",properties:{id:e+"fn-"+p},children:t.wrap(d,!0)};t.patch(c,x),o.push(x)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...ib(a),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(o,!0)},{type:"text",value:`
`}]}}const ov=(function(t){if(t==null)return oAe;if(typeof t=="function")return lv(t);if(typeof t=="object")return Array.isArray(t)?iAe(t):sAe(t);if(typeof t=="string")return aAe(t);throw new Error("Expected function, string, or object as test")});function iAe(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=ov(t[n]);return lv(r);function r(...i){let s=-1;for(;++s<e.length;)if(e[s].apply(this,i))return!0;return!1}}function sAe(t){const e=t;return lv(n);function n(r){const i=r;let s;for(s in t)if(i[s]!==e[s])return!1;return!0}}function aAe(t){return lv(e);function e(n){return n&&n.type===t}}function lv(t){return e;function e(n,r,i){return!!(lAe(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function oAe(){return!0}function lAe(t){return t!==null&&typeof t=="object"&&"type"in t}const nK=[],cAe=!0,fC=!1,uAe="skip";function rK(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const s=ov(i),a=r?-1:1;o(t,void 0,[])();function o(l,c,d){const h=l&&typeof l=="object"?l:{};if(typeof h.type=="string"){const g=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(p,"name",{value:"node ("+(l.type+(g?"<"+g+">":""))+")"})}return p;function p(){let g=nK,v,y,b;if((!e||s(l,c,d[d.length-1]||void 0))&&(g=dAe(n(l,d)),g[0]===fC))return g;if("children"in l&&l.children){const x=l;if(x.children&&g[0]!==uAe)for(y=(r?x.children.length:-1)+a,b=d.concat(x);y>-1&&y<x.children.length;){const w=x.children[y];if(v=o(w,y,b)(),v[0]===fC)return v;y=typeof v[1]=="number"?v[1]:y+a}}return g}}}function dAe(t){return Array.isArray(t)?t:typeof t=="number"?[cAe,t]:t==null?nK:[t]}function zR(t,e,n,r){let i,s,a;typeof e=="function"&&typeof n!="function"?(s=void 0,a=e,i=n):(s=e,a=n,i=r),rK(t,s,o,i);function o(l,c){const d=c[c.length-1],h=d?d.children.indexOf(l):void 0;return a(l,h,d)}}const pC={}.hasOwnProperty,hAe={};function fAe(t,e){const n=e||hAe,r=new Map,i=new Map,s=new Map,a={...YSe,...n.handlers},o={all:c,applyData:gAe,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:a,one:l,options:n,patch:pAe,wrap:yAe};return zR(t,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const h=d.type==="definition"?r:i,p=String(d.identifier).toUpperCase();h.has(p)||h.set(p,d)}}),o;function l(d,h){const p=d.type,g=o.handlers[p];if(pC.call(o.handlers,p)&&g)return g(o,d,h);if(o.options.passThrough&&o.options.passThrough.includes(p)){if("children"in d){const{children:y,...b}=d,x=ib(b);return x.children=o.all(d),x}return ib(d)}return(o.options.unknownHandler||mAe)(o,d,h)}function c(d){const h=[];if("children"in d){const p=d.children;let g=-1;for(;++g<p.length;){const v=o.one(p[g],d);if(v){if(g&&p[g-1].type==="break"&&(!Array.isArray(v)&&v.type==="text"&&(v.value=xj(v.value)),!Array.isArray(v)&&v.type==="element")){const y=v.children[0];y&&y.type==="text"&&(y.value=xj(y.value))}Array.isArray(v)?h.push(...v):h.push(v)}}}return h}}function pAe(t,e){t.position&&(e.position=nDe(t))}function gAe(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,s=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const a="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:a}}n.type==="element"&&s&&Object.assign(n.properties,ib(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function mAe(t,e){const n=e.data||{},r="value"in e&&!(pC.call(n,"hProperties")||pC.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function yAe(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function xj(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function wj(t,e){const n=fAe(t,e),r=n.one(t,void 0),i=rAe(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function bAe(t,e){return t&&"run"in t?async function(n,r){const i=wj(n,{file:r,...e});await t.run(i,r)}:function(n,r){return wj(n,{file:r,...t||e})}}function _j(t){if(t)throw t}var _S,Dj;function vAe(){if(Dj)return _S;Dj=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(c){return typeof Array.isArray=="function"?Array.isArray(c):e.call(c)==="[object Array]"},s=function(c){if(!c||e.call(c)!=="[object Object]")return!1;var d=t.call(c,"constructor"),h=c.constructor&&c.constructor.prototype&&t.call(c.constructor.prototype,"isPrototypeOf");if(c.constructor&&!d&&!h)return!1;var p;for(p in c);return typeof p>"u"||t.call(c,p)},a=function(c,d){n&&d.name==="__proto__"?n(c,d.name,{enumerable:!0,configurable:!0,value:d.newValue,writable:!0}):c[d.name]=d.newValue},o=function(c,d){if(d==="__proto__")if(t.call(c,d)){if(r)return r(c,d).value}else return;return c[d]};return _S=function l(){var c,d,h,p,g,v,y=arguments[0],b=1,x=arguments.length,w=!1;for(typeof y=="boolean"&&(w=y,y=arguments[1]||{},b=2),(y==null||typeof y!="object"&&typeof y!="function")&&(y={});b<x;++b)if(c=arguments[b],c!=null)for(d in c)h=o(y,d),p=o(c,d),y!==p&&(w&&p&&(s(p)||(g=i(p)))?(g?(g=!1,v=h&&i(h)?h:[]):v=h&&s(h)?h:{},a(y,{name:d,newValue:l(w,v,p)})):typeof p<"u"&&a(y,{name:d,newValue:p}));return y},_S}var xAe=vAe();const DS=$l(xAe);function gC(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function wAe(){const t=[],e={run:n,use:r};return e;function n(...i){let s=-1;const a=i.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);o(null,...i);function o(l,...c){const d=t[++s];let h=-1;if(l){a(l);return}for(;++h<i.length;)(c[h]===null||c[h]===void 0)&&(c[h]=i[h]);i=c,d?_Ae(d,o)(...c):a(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function _Ae(t,e){let n;return r;function r(...a){const o=t.length>a.length;let l;o&&a.push(i);try{l=t.apply(this,a)}catch(c){const d=c;if(o&&n)throw d;return i(d)}o||(l&&l.then&&typeof l.then=="function"?l.then(s,i):l instanceof Error?i(l):s(l))}function i(a,...o){n||(n=!0,e(a,...o))}function s(a){i(null,a)}}const Ds={basename:DAe,dirname:EAe,extname:SAe,join:AAe,sep:"/"};function DAe(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');fp(t);let n=0,r=-1,i=t.length,s;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let a=-1,o=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else a<0&&(s=!0,a=i+1),o>-1&&(t.codePointAt(i)===e.codePointAt(o--)?o<0&&(r=i):(o=-1,r=a));return n===r?r=a:r<0&&(r=t.length),t.slice(n,r)}function EAe(t){if(fp(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function SAe(t){fp(t);let e=t.length,n=-1,r=0,i=-1,s=0,a;for(;e--;){const o=t.codePointAt(e);if(o===47){if(a){r=e+1;break}continue}n<0&&(a=!0,n=e+1),o===46?i<0?i=e:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function AAe(...t){let e=-1,n;for(;++e<t.length;)fp(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":TAe(n)}function TAe(t){fp(t);const e=t.codePointAt(0)===47;let n=CAe(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function CAe(t,e){let n="",r=0,i=-1,s=0,a=-1,o,l;for(;++a<=t.length;){if(a<t.length)o=t.codePointAt(a);else{if(o===47)break;o=47}if(o===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=a,s=0;continue}}else if(n.length>0){n="",r=0,i=a,s=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,a):n=t.slice(i+1,a),r=a-i-1;i=a,s=0}else o===46&&s>-1?s++:s=-1}return n}function fp(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const kAe={cwd:RAe};function RAe(){return"/"}function mC(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function UAe(t){if(typeof t=="string")t=new URL(t);else if(!mC(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return MAe(t)}function MAe(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const ES=["history","path","basename","stem","extname","dirname"];class iK{constructor(e){let n;e?mC(e)?n={path:e}:typeof e=="string"||OAe(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":kAe.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<ES.length;){const s=ES[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)ES.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Ds.basename(this.path):void 0}set basename(e){AS(e,"basename"),SS(e,"basename"),this.path=Ds.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Ds.dirname(this.path):void 0}set dirname(e){Ej(this.basename,"dirname"),this.path=Ds.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Ds.extname(this.path):void 0}set extname(e){if(SS(e,"extname"),Ej(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Ds.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){mC(e)&&(e=UAe(e)),AS(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Ds.basename(this.path,this.extname):void 0}set stem(e){AS(e,"stem"),SS(e,"stem"),this.path=Ds.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new fr(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function SS(t,e){if(t&&t.includes(Ds.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Ds.sep+"`")}function AS(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function Ej(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function OAe(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const NAe=(function(t){const r=this.constructor.prototype,i=r[t],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s}),FAe={}.hasOwnProperty;class qR extends NAe{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=wAe()}copy(){const e=new qR;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(DS(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(kS("data",this.frozen),this.namespace[e]=n,this):FAe.call(this.namespace,e)&&this.namespace[e]||void 0:e?(kS("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=ym(e),r=this.parser||this.Parser;return TS("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),TS("process",this.parser||this.Parser),CS("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,a){const o=ym(e),l=r.parse(o);r.run(l,o,function(d,h,p){if(d||!h||!p)return c(d);const g=h,v=r.stringify(g,p);LAe(v)?p.value=v:p.result=v,c(d,p)});function c(d,h){d||!h?a(d):s?s(h):n(void 0,h)}}}processSync(e){let n=!1,r;return this.freeze(),TS("processSync",this.parser||this.Parser),CS("processSync",this.compiler||this.Compiler),this.process(e,i),Aj("processSync","process",n),r;function i(s,a){n=!0,_j(s),r=a}}run(e,n,r){Sj(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(a,o){const l=ym(n);i.run(e,l,c);function c(d,h,p){const g=h||e;d?o(d):a?a(g):r(void 0,g,p)}}}runSync(e,n){let r=!1,i;return this.run(e,n,s),Aj("runSync","run",r),i;function s(a,o){_j(a),i=o,r=!0}}stringify(e,n){this.freeze();const r=ym(n),i=this.compiler||this.Compiler;return CS("stringify",i),Sj(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(kS("use",this.frozen),e!=null)if(typeof e=="function")l(e,n);else if(typeof e=="object")Array.isArray(e)?o(e):a(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function s(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[d,...h]=c;l(d,h)}else a(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function a(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(c.plugins),c.settings&&(i.settings=DS(!0,i.settings,c.settings))}function o(c){let d=-1;if(c!=null)if(Array.isArray(c))for(;++d<c.length;){const h=c[d];s(h)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,d){let h=-1,p=-1;for(;++h<r.length;)if(r[h][0]===c){p=h;break}if(p===-1)r.push([c,...d]);else if(d.length>0){let[g,...v]=d;const y=r[p][1];gC(y)&&gC(g)&&(g=DS(!0,y,g)),r[p]=[c,g,...v]}}}}const IAe=new qR().freeze();function TS(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function CS(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function kS(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Sj(t){if(!gC(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function Aj(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function ym(t){return PAe(t)?t:new iK(t)}function PAe(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function LAe(t){return typeof t=="string"||BAe(t)}function BAe(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const jAe="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Tj=[],Cj={allowDangerousHtml:!0},zAe=/^(https?|ircs?|mailto|xmpp)$/i,qAe=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function sK(t){const e=WAe(t),n=VAe(t);return HAe(e.runSync(e.parse(n),n),t)}function WAe(t){const e=t.rehypePlugins||Tj,n=t.remarkPlugins||Tj,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...Cj}:Cj;return IAe().use(ESe).use(n).use(bAe,r).use(e)}function VAe(t){const e=t.children||"",n=new iK;return typeof e=="string"&&(n.value=e),n}function HAe(t,e){const n=e.allowedElements,r=e.allowElement,i=e.components,s=e.disallowedElements,a=e.skipHtml,o=e.unwrapDisallowed,l=e.urlTransform||$Ae;for(const d of qAe)Object.hasOwn(e,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+jAe+d.id,void 0);return zR(t,c),oDe(t,{Fragment:I.Fragment,components:i,ignoreInvalidStyle:!0,jsx:I.jsx,jsxs:I.jsxs,passKeys:!0,passNode:!0});function c(d,h,p){if(d.type==="raw"&&p&&typeof h=="number")return a?p.children.splice(h,1):p.children[h]={type:"text",value:d.value},h;if(d.type==="element"){let g;for(g in vS)if(Object.hasOwn(vS,g)&&Object.hasOwn(d.properties,g)){const v=d.properties[g],y=vS[g];(y===null||y.includes(d.tagName))&&(d.properties[g]=l(String(v||""),g,d))}}if(d.type==="element"){let g=n?!n.includes(d.tagName):s?s.includes(d.tagName):!1;if(!g&&r&&typeof h=="number"&&(g=!r(d,h,p)),g&&p&&typeof h=="number")return o&&d.children?p.children.splice(h,1,...d.children):p.children.splice(h,1),h}}}function $Ae(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||n!==-1&&e>n||r!==-1&&e>r||zAe.test(t.slice(0,e))?t:""}function kj(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(e);for(;i!==-1;)r++,i=n.indexOf(e,i+e.length);return r}function GAe(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function XAe(t,e,n){const i=ov((n||{}).ignore||[]),s=KAe(e);let a=-1;for(;++a<s.length;)rK(t,"text",o);function o(c,d){let h=-1,p;for(;++h<d.length;){const g=d[h],v=p?p.children:void 0;if(i(g,v?v.indexOf(g):void 0,p))return;p=g}if(p)return l(c,d)}function l(c,d){const h=d[d.length-1],p=s[a][0],g=s[a][1];let v=0;const b=h.children.indexOf(c);let x=!1,w=[];p.lastIndex=0;let D=p.exec(c.value);for(;D;){const E=D.index,A={index:D.index,input:D.input,stack:[...d,c]};let S=g(...D,A);if(typeof S=="string"&&(S=S.length>0?{type:"text",value:S}:void 0),S===!1?p.lastIndex=E+1:(v!==E&&w.push({type:"text",value:c.value.slice(v,E)}),Array.isArray(S)?w.push(...S):S&&w.push(S),v=E+D[0].length,x=!0),!p.global)break;D=p.exec(c.value)}return x?(v<c.value.length&&w.push({type:"text",value:c.value.slice(v)}),h.children.splice(b,1,...w)):w=[c],b+w.length}}function KAe(t){const e=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!t[0]||Array.isArray(t[0])?t:[t];let r=-1;for(;++r<n.length;){const i=n[r];e.push([YAe(i[0]),ZAe(i[1])])}return e}function YAe(t){return typeof t=="string"?new RegExp(GAe(t),"g"):t}function ZAe(t){return typeof t=="function"?t:function(){return t}}const RS="phrasing",US=["autolink","link","image","label"];function JAe(){return{transforms:[sTe],enter:{literalAutolink:eTe,literalAutolinkEmail:MS,literalAutolinkHttp:MS,literalAutolinkWww:MS},exit:{literalAutolink:iTe,literalAutolinkEmail:rTe,literalAutolinkHttp:tTe,literalAutolinkWww:nTe}}}function QAe(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:RS,notInConstruct:US},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:RS,notInConstruct:US},{character:":",before:"[ps]",after:"\\/",inConstruct:RS,notInConstruct:US}]}}function eTe(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function MS(t){this.config.enter.autolinkProtocol.call(this,t)}function tTe(t){this.config.exit.autolinkProtocol.call(this,t)}function nTe(t){this.config.exit.data.call(this,t);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(t)}function rTe(t){this.config.exit.autolinkEmail.call(this,t)}function iTe(t){this.exit(t)}function sTe(t){XAe(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,aTe],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),oTe]],{ignore:["link","linkReference"]})}function aTe(t,e,n,r,i){let s="";if(!aK(i)||(/^w/i.test(e)&&(n=e+n,e="",s="http://"),!lTe(n)))return!1;const a=cTe(n+r);if(!a[0])return!1;const o={type:"link",title:null,url:s+e+a[0],children:[{type:"text",value:e+a[0]}]};return a[1]?[o,{type:"text",value:a[1]}]:o}function oTe(t,e,n,r){return!aK(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+n,children:[{type:"text",value:e+"@"+n}]}}function lTe(t){const e=t.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function cTe(t){const e=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!e)return[t,void 0];t=t.slice(0,e.index);let n=e[0],r=n.indexOf(")");const i=kj(t,"(");let s=kj(t,")");for(;r!==-1&&i>s;)t+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),s++;return[t,n]}function aK(t,e){const n=t.input.charCodeAt(t.index-1);return(t.index===0||ql(n)||iv(n))&&(!e||n!==47)}oK.peek=bTe;function uTe(){this.buffer()}function dTe(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function hTe(){this.buffer()}function fTe(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function pTe(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=os(this.sliceSerialize(t)).toLowerCase(),n.label=e}function gTe(t){this.exit(t)}function mTe(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=os(this.sliceSerialize(t)).toLowerCase(),n.label=e}function yTe(t){this.exit(t)}function bTe(){return"["}function oK(t,e,n,r){const i=n.createTracker(r);let s=i.move("[^");const a=n.enter("footnoteReference"),o=n.enter("reference");return s+=i.move(n.safe(n.associationId(t),{after:"]",before:s})),o(),a(),s+=i.move("]"),s}function vTe(){return{enter:{gfmFootnoteCallString:uTe,gfmFootnoteCall:dTe,gfmFootnoteDefinitionLabelString:hTe,gfmFootnoteDefinition:fTe},exit:{gfmFootnoteCallString:pTe,gfmFootnoteCall:gTe,gfmFootnoteDefinitionLabelString:mTe,gfmFootnoteDefinition:yTe}}}function xTe(t){let e=!1;return t&&t.firstLineBlank&&(e=!0),{handlers:{footnoteDefinition:n,footnoteReference:oK},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,s,a){const o=s.createTracker(a);let l=o.move("[^");const c=s.enter("footnoteDefinition"),d=s.enter("label");return l+=o.move(s.safe(s.associationId(r),{before:l,after:"]"})),d(),l+=o.move("]:"),r.children&&r.children.length>0&&(o.shift(4),l+=o.move((e?`
`:" ")+s.indentLines(s.containerFlow(r,o.current()),e?lK:wTe))),c(),l}}function wTe(t,e,n){return e===0?t:lK(t,e,n)}function lK(t,e,n){return(n?"":"    ")+t}const _Te=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];cK.peek=TTe;function DTe(){return{canContainEols:["delete"],enter:{strikethrough:STe},exit:{strikethrough:ATe}}}function ETe(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:_Te}],handlers:{delete:cK}}}function STe(t){this.enter({type:"delete",children:[]},t)}function ATe(t){this.exit(t)}function cK(t,e,n,r){const i=n.createTracker(r),s=n.enter("strikethrough");let a=i.move("~~");return a+=n.containerPhrasing(t,{...i.current(),before:a,after:"~"}),a+=i.move("~~"),s(),a}function TTe(){return"~"}function CTe(t){return t.length}function kTe(t,e){const n=e||{},r=(n.align||[]).concat(),i=n.stringLength||CTe,s=[],a=[],o=[],l=[];let c=0,d=-1;for(;++d<t.length;){const y=[],b=[];let x=-1;for(t[d].length>c&&(c=t[d].length);++x<t[d].length;){const w=RTe(t[d][x]);if(n.alignDelimiters!==!1){const D=i(w);b[x]=D,(l[x]===void 0||D>l[x])&&(l[x]=D)}y.push(w)}a[d]=y,o[d]=b}let h=-1;if(typeof r=="object"&&"length"in r)for(;++h<c;)s[h]=Rj(r[h]);else{const y=Rj(r);for(;++h<c;)s[h]=y}h=-1;const p=[],g=[];for(;++h<c;){const y=s[h];let b="",x="";y===99?(b=":",x=":"):y===108?b=":":y===114&&(x=":");let w=n.alignDelimiters===!1?1:Math.max(1,l[h]-b.length-x.length);const D=b+"-".repeat(w)+x;n.alignDelimiters!==!1&&(w=b.length+w+x.length,w>l[h]&&(l[h]=w),g[h]=w),p[h]=D}a.splice(1,0,p),o.splice(1,0,g),d=-1;const v=[];for(;++d<a.length;){const y=a[d],b=o[d];h=-1;const x=[];for(;++h<c;){const w=y[h]||"";let D="",E="";if(n.alignDelimiters!==!1){const A=l[h]-(b[h]||0),S=s[h];S===114?D=" ".repeat(A):S===99?A%2?(D=" ".repeat(A/2+.5),E=" ".repeat(A/2-.5)):(D=" ".repeat(A/2),E=D):E=" ".repeat(A)}n.delimiterStart!==!1&&!h&&x.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&w==="")&&(n.delimiterStart!==!1||h)&&x.push(" "),n.alignDelimiters!==!1&&x.push(D),x.push(w),n.alignDelimiters!==!1&&x.push(E),n.padding!==!1&&x.push(" "),(n.delimiterEnd!==!1||h!==c-1)&&x.push("|")}v.push(n.delimiterEnd===!1?x.join("").replace(/ +$/,""):x.join(""))}return v.join(`
`)}function RTe(t){return t==null?"":String(t)}function Rj(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}function UTe(t,e,n,r){const i=n.enter("blockquote"),s=n.createTracker(r);s.move("> "),s.shift(2);const a=n.indentLines(n.containerFlow(t,s.current()),MTe);return i(),a}function MTe(t,e,n){return">"+(n?"":" ")+t}function OTe(t,e){return Uj(t,e.inConstruct,!0)&&!Uj(t,e.notInConstruct,!1)}function Uj(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let r=-1;for(;++r<e.length;)if(t.includes(e[r]))return!0;return!1}function Mj(t,e,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&OTe(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function NTe(t,e){const n=String(t);let r=n.indexOf(e),i=r,s=0,a=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++s>a&&(a=s):s=1,i=r+e.length,r=n.indexOf(e,i);return a}function FTe(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function ITe(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function PTe(t,e,n,r){const i=ITe(n),s=t.value||"",a=i==="`"?"GraveAccent":"Tilde";if(FTe(t,n)){const h=n.enter("codeIndented"),p=n.indentLines(s,LTe);return h(),p}const o=n.createTracker(r),l=i.repeat(Math.max(NTe(s,i)+1,3)),c=n.enter("codeFenced");let d=o.move(l);if(t.lang){const h=n.enter(`codeFencedLang${a}`);d+=o.move(n.safe(t.lang,{before:d,after:" ",encode:["`"],...o.current()})),h()}if(t.lang&&t.meta){const h=n.enter(`codeFencedMeta${a}`);d+=o.move(" "),d+=o.move(n.safe(t.meta,{before:d,after:`
`,encode:["`"],...o.current()})),h()}return d+=o.move(`
`),s&&(d+=o.move(s+`
`)),d+=o.move(l),c(),d}function LTe(t,e,n){return(n?"":"    ")+t}function WR(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function BTe(t,e,n,r){const i=WR(n),s=i==='"'?"Quote":"Apostrophe",a=n.enter("definition");let o=n.enter("label");const l=n.createTracker(r);let c=l.move("[");return c+=l.move(n.safe(n.associationId(t),{before:c,after:"]",...l.current()})),c+=l.move("]: "),o(),!t.url||/[\0- \u007F]/.test(t.url)?(o=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(t.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(o=n.enter("destinationRaw"),c+=l.move(n.safe(t.url,{before:c,after:t.title?" ":`
`,...l.current()}))),o(),t.title&&(o=n.enter(`title${s}`),c+=l.move(" "+i),c+=l.move(n.safe(t.title,{before:c,after:i,...l.current()})),c+=l.move(i),o()),a(),c}function jTe(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function Mf(t){return"&#x"+t.toString(16).toUpperCase()+";"}function sb(t,e,n){const r=$u(t),i=$u(e);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}uK.peek=zTe;function uK(t,e,n,r){const i=jTe(n),s=n.enter("emphasis"),a=n.createTracker(r),o=a.move(i);let l=a.move(n.containerPhrasing(t,{after:i,before:o,...a.current()}));const c=l.charCodeAt(0),d=sb(r.before.charCodeAt(r.before.length-1),c,i);d.inside&&(l=Mf(c)+l.slice(1));const h=l.charCodeAt(l.length-1),p=sb(r.after.charCodeAt(0),h,i);p.inside&&(l=l.slice(0,-1)+Mf(h));const g=a.move(i);return s(),n.attentionEncodeSurroundingInfo={after:p.outside,before:d.outside},o+l+g}function zTe(t,e,n){return n.options.emphasis||"*"}function qTe(t,e){let n=!1;return zR(t,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,fC}),!!((!t.depth||t.depth<3)&&NR(t)&&(e.options.setext||n))}function WTe(t,e,n,r){const i=Math.max(Math.min(6,t.depth||1),1),s=n.createTracker(r);if(qTe(t,n)){const d=n.enter("headingSetext"),h=n.enter("phrasing"),p=n.containerPhrasing(t,{...s.current(),before:`
`,after:`
`});return h(),d(),p+`
`+(i===1?"=":"-").repeat(p.length-(Math.max(p.lastIndexOf("\r"),p.lastIndexOf(`
`))+1))}const a="#".repeat(i),o=n.enter("headingAtx"),l=n.enter("phrasing");s.move(a+" ");let c=n.containerPhrasing(t,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(c)&&(c=Mf(c.charCodeAt(0))+c.slice(1)),c=c?a+" "+c:a,n.options.closeAtx&&(c+=" "+a),l(),o(),c}dK.peek=VTe;function dK(t){return t.value||""}function VTe(){return"<"}hK.peek=HTe;function hK(t,e,n,r){const i=WR(n),s=i==='"'?"Quote":"Apostrophe",a=n.enter("image");let o=n.enter("label");const l=n.createTracker(r);let c=l.move("![");return c+=l.move(n.safe(t.alt,{before:c,after:"]",...l.current()})),c+=l.move("]("),o(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(o=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(t.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(o=n.enter("destinationRaw"),c+=l.move(n.safe(t.url,{before:c,after:t.title?" ":")",...l.current()}))),o(),t.title&&(o=n.enter(`title${s}`),c+=l.move(" "+i),c+=l.move(n.safe(t.title,{before:c,after:i,...l.current()})),c+=l.move(i),o()),c+=l.move(")"),a(),c}function HTe(){return"!"}fK.peek=$Te;function fK(t,e,n,r){const i=t.referenceType,s=n.enter("imageReference");let a=n.enter("label");const o=n.createTracker(r);let l=o.move("![");const c=n.safe(t.alt,{before:l,after:"]",...o.current()});l+=o.move(c+"]["),a();const d=n.stack;n.stack=[],a=n.enter("reference");const h=n.safe(n.associationId(t),{before:l,after:"]",...o.current()});return a(),n.stack=d,s(),i==="full"||!c||c!==h?l+=o.move(h+"]"):i==="shortcut"?l=l.slice(0,-1):l+=o.move("]"),l}function $Te(){return"!"}pK.peek=GTe;function pK(t,e,n){let r=t.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++s<n.unsafe.length;){const a=n.unsafe[s],o=n.compilePattern(a);let l;if(a.atBreak)for(;l=o.exec(r);){let c=l.index;r.charCodeAt(c)===10&&r.charCodeAt(c-1)===13&&c--,r=r.slice(0,c)+" "+r.slice(l.index+1)}}return i+r+i}function GTe(){return"`"}function gK(t,e){const n=NR(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}mK.peek=XTe;function mK(t,e,n,r){const i=WR(n),s=i==='"'?"Quote":"Apostrophe",a=n.createTracker(r);let o,l;if(gK(t,n)){const d=n.stack;n.stack=[],o=n.enter("autolink");let h=a.move("<");return h+=a.move(n.containerPhrasing(t,{before:h,after:">",...a.current()})),h+=a.move(">"),o(),n.stack=d,h}o=n.enter("link"),l=n.enter("label");let c=a.move("[");return c+=a.move(n.containerPhrasing(t,{before:c,after:"](",...a.current()})),c+=a.move("]("),l(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(l=n.enter("destinationLiteral"),c+=a.move("<"),c+=a.move(n.safe(t.url,{before:c,after:">",...a.current()})),c+=a.move(">")):(l=n.enter("destinationRaw"),c+=a.move(n.safe(t.url,{before:c,after:t.title?" ":")",...a.current()}))),l(),t.title&&(l=n.enter(`title${s}`),c+=a.move(" "+i),c+=a.move(n.safe(t.title,{before:c,after:i,...a.current()})),c+=a.move(i),l()),c+=a.move(")"),o(),c}function XTe(t,e,n){return gK(t,n)?"<":"["}yK.peek=KTe;function yK(t,e,n,r){const i=t.referenceType,s=n.enter("linkReference");let a=n.enter("label");const o=n.createTracker(r);let l=o.move("[");const c=n.containerPhrasing(t,{before:l,after:"]",...o.current()});l+=o.move(c+"]["),a();const d=n.stack;n.stack=[],a=n.enter("reference");const h=n.safe(n.associationId(t),{before:l,after:"]",...o.current()});return a(),n.stack=d,s(),i==="full"||!c||c!==h?l+=o.move(h+"]"):i==="shortcut"?l=l.slice(0,-1):l+=o.move("]"),l}function KTe(){return"["}function VR(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function YTe(t){const e=VR(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function ZTe(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function bK(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function JTe(t,e,n,r){const i=n.enter("list"),s=n.bulletCurrent;let a=t.ordered?ZTe(n):VR(n);const o=t.ordered?a==="."?")":".":YTe(n);let l=e&&n.bulletLastUsed?a===n.bulletLastUsed:!1;if(!t.ordered){const d=t.children?t.children[0]:void 0;if((a==="*"||a==="-")&&d&&(!d.children||!d.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),bK(n)===a&&d){let h=-1;for(;++h<t.children.length;){const p=t.children[h];if(p&&p.type==="listItem"&&p.children&&p.children[0]&&p.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(a=o),n.bulletCurrent=a;const c=n.containerFlow(t,r);return n.bulletLastUsed=a,n.bulletCurrent=s,i(),c}function QTe(t){const e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function eCe(t,e,n,r){const i=QTe(n);let s=n.bulletCurrent||VR(n);e&&e.type==="list"&&e.ordered&&(s=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+s);let a=s.length+1;(i==="tab"||i==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(a=Math.ceil(a/4)*4);const o=n.createTracker(r);o.move(s+" ".repeat(a-s.length)),o.shift(a);const l=n.enter("listItem"),c=n.indentLines(n.containerFlow(t,o.current()),d);return l(),c;function d(h,p,g){return p?(g?"":" ".repeat(a))+h:(g?s:s+" ".repeat(a-s.length))+h}}function tCe(t,e,n,r){const i=n.enter("paragraph"),s=n.enter("phrasing"),a=n.containerPhrasing(t,r);return s(),i(),a}const nCe=ov(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function rCe(t,e,n,r){return(t.children.some(function(a){return nCe(a)})?n.containerPhrasing:n.containerFlow).call(n,t,r)}function iCe(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}vK.peek=sCe;function vK(t,e,n,r){const i=iCe(n),s=n.enter("strong"),a=n.createTracker(r),o=a.move(i+i);let l=a.move(n.containerPhrasing(t,{after:i,before:o,...a.current()}));const c=l.charCodeAt(0),d=sb(r.before.charCodeAt(r.before.length-1),c,i);d.inside&&(l=Mf(c)+l.slice(1));const h=l.charCodeAt(l.length-1),p=sb(r.after.charCodeAt(0),h,i);p.inside&&(l=l.slice(0,-1)+Mf(h));const g=a.move(i+i);return s(),n.attentionEncodeSurroundingInfo={after:p.outside,before:d.outside},o+l+g}function sCe(t,e,n){return n.options.strong||"*"}function aCe(t,e,n,r){return n.safe(t.value,r)}function oCe(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function lCe(t,e,n){const r=(bK(n)+(n.options.ruleSpaces?" ":"")).repeat(oCe(n));return n.options.ruleSpaces?r.slice(0,-1):r}const xK={blockquote:UTe,break:Mj,code:PTe,definition:BTe,emphasis:uK,hardBreak:Mj,heading:WTe,html:dK,image:hK,imageReference:fK,inlineCode:pK,link:mK,linkReference:yK,list:JTe,listItem:eCe,paragraph:tCe,root:rCe,strong:vK,text:aCe,thematicBreak:lCe};function cCe(){return{enter:{table:uCe,tableData:Oj,tableHeader:Oj,tableRow:hCe},exit:{codeText:fCe,table:dCe,tableData:OS,tableHeader:OS,tableRow:OS}}}function uCe(t){const e=t._align;this.enter({type:"table",align:e.map(function(n){return n==="none"?null:n}),children:[]},t),this.data.inTable=!0}function dCe(t){this.exit(t),this.data.inTable=void 0}function hCe(t){this.enter({type:"tableRow",children:[]},t)}function OS(t){this.exit(t)}function Oj(t){this.enter({type:"tableCell",children:[]},t)}function fCe(t){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,pCe));const n=this.stack[this.stack.length-1];n.type,n.value=e,this.exit(t)}function pCe(t,e){return e==="|"?e:t}function gCe(t){const e=t||{},n=e.tableCellPadding,r=e.tablePipeAlign,i=e.stringLength,s=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:p,table:a,tableCell:l,tableRow:o}};function a(g,v,y,b){return c(d(g,y,b),g.align)}function o(g,v,y,b){const x=h(g,y,b),w=c([x]);return w.slice(0,w.indexOf(`
`))}function l(g,v,y,b){const x=y.enter("tableCell"),w=y.enter("phrasing"),D=y.containerPhrasing(g,{...b,before:s,after:s});return w(),x(),D}function c(g,v){return kTe(g,{align:v,alignDelimiters:r,padding:n,stringLength:i})}function d(g,v,y){const b=g.children;let x=-1;const w=[],D=v.enter("table");for(;++x<b.length;)w[x]=h(b[x],v,y);return D(),w}function h(g,v,y){const b=g.children;let x=-1;const w=[],D=v.enter("tableRow");for(;++x<b.length;)w[x]=l(b[x],g,v,y);return D(),w}function p(g,v,y){let b=xK.inlineCode(g,v,y);return y.stack.includes("tableCell")&&(b=b.replace(/\|/g,"\\$&")),b}}function mCe(){return{exit:{taskListCheckValueChecked:Nj,taskListCheckValueUnchecked:Nj,paragraph:bCe}}}function yCe(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:vCe}}}function Nj(t){const e=this.stack[this.stack.length-2];e.type,e.checked=t.type==="taskListCheckValueChecked"}function bCe(t){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=e.children;let s=-1,a;for(;++s<i.length;){const o=i[s];if(o.type==="paragraph"){a=o;break}}a===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(t)}function vCe(t,e,n,r){const i=t.children[0],s=typeof t.checked=="boolean"&&i&&i.type==="paragraph",a="["+(t.checked?"x":" ")+"] ",o=n.createTracker(r);s&&o.move(a);let l=xK.listItem(t,e,n,{...r,...o.current()});return s&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,c)),l;function c(d){return d+a}}function xCe(){return[JAe(),vTe(),DTe(),cCe(),mCe()]}function wCe(t){return{extensions:[QAe(),xTe(t),ETe(),gCe(t),yCe()]}}const _Ce={tokenize:CCe,partial:!0},wK={tokenize:kCe,partial:!0},_K={tokenize:RCe,partial:!0},DK={tokenize:UCe,partial:!0},DCe={tokenize:MCe,partial:!0},EK={name:"wwwAutolink",tokenize:ACe,previous:AK},SK={name:"protocolAutolink",tokenize:TCe,previous:TK},Ca={name:"emailAutolink",tokenize:SCe,previous:CK},Ls={};function ECe(){return{text:Ls}}let ll=48;for(;ll<123;)Ls[ll]=Ca,ll++,ll===58?ll=65:ll===91&&(ll=97);Ls[43]=Ca;Ls[45]=Ca;Ls[46]=Ca;Ls[95]=Ca;Ls[72]=[Ca,SK];Ls[104]=[Ca,SK];Ls[87]=[Ca,EK];Ls[119]=[Ca,EK];function SCe(t,e,n){const r=this;let i,s;return a;function a(h){return!yC(h)||!CK.call(r,r.previous)||HR(r.events)?n(h):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),o(h))}function o(h){return yC(h)?(t.consume(h),o):h===64?(t.consume(h),l):n(h)}function l(h){return h===46?t.check(DCe,d,c)(h):h===45||h===95||dr(h)?(s=!0,t.consume(h),l):d(h)}function c(h){return t.consume(h),i=!0,l}function d(h){return s&&i&&_r(r.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(h)):n(h)}}function ACe(t,e,n){const r=this;return i;function i(a){return a!==87&&a!==119||!AK.call(r,r.previous)||HR(r.events)?n(a):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(_Ce,t.attempt(wK,t.attempt(_K,s),n),n)(a))}function s(a){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(a)}}function TCe(t,e,n){const r=this;let i="",s=!1;return a;function a(h){return(h===72||h===104)&&TK.call(r,r.previous)&&!HR(r.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),i+=String.fromCodePoint(h),t.consume(h),o):n(h)}function o(h){if(_r(h)&&i.length<5)return i+=String.fromCodePoint(h),t.consume(h),o;if(h===58){const p=i.toLowerCase();if(p==="http"||p==="https")return t.consume(h),l}return n(h)}function l(h){return h===47?(t.consume(h),s?c:(s=!0,l)):n(h)}function c(h){return h===null||nb(h)||Jt(h)||ql(h)||iv(h)?n(h):t.attempt(wK,t.attempt(_K,d),n)(h)}function d(h){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(h)}}function CCe(t,e,n){let r=0;return i;function i(a){return(a===87||a===119)&&r<3?(r++,t.consume(a),i):a===46&&r===3?(t.consume(a),s):n(a)}function s(a){return a===null?n(a):e(a)}}function kCe(t,e,n){let r,i,s;return a;function a(c){return c===46||c===95?t.check(DK,l,o)(c):c===null||Jt(c)||ql(c)||c!==45&&iv(c)?l(c):(s=!0,t.consume(c),a)}function o(c){return c===95?r=!0:(i=r,r=void 0),t.consume(c),a}function l(c){return i||r||!s?n(c):e(c)}}function RCe(t,e){let n=0,r=0;return i;function i(a){return a===40?(n++,t.consume(a),i):a===41&&r<n?s(a):a===33||a===34||a===38||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===60||a===63||a===93||a===95||a===126?t.check(DK,e,s)(a):a===null||Jt(a)||ql(a)?e(a):(t.consume(a),i)}function s(a){return a===41&&r++,t.consume(a),i}}function UCe(t,e,n){return r;function r(o){return o===33||o===34||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===63||o===95||o===126?(t.consume(o),r):o===38?(t.consume(o),s):o===93?(t.consume(o),i):o===60||o===null||Jt(o)||ql(o)?e(o):n(o)}function i(o){return o===null||o===40||o===91||Jt(o)||ql(o)?e(o):r(o)}function s(o){return _r(o)?a(o):n(o)}function a(o){return o===59?(t.consume(o),r):_r(o)?(t.consume(o),a):n(o)}}function MCe(t,e,n){return r;function r(s){return t.consume(s),i}function i(s){return dr(s)?n(s):e(s)}}function AK(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||Jt(t)}function TK(t){return!_r(t)}function CK(t){return!(t===47||yC(t))}function yC(t){return t===43||t===45||t===46||t===95||dr(t)}function HR(t){let e=t.length,n=!1;for(;e--;){const r=t[e][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return t.length>0&&!n&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const OCe={tokenize:zCe,partial:!0};function NCe(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:LCe,continuation:{tokenize:BCe},exit:jCe}},text:{91:{name:"gfmFootnoteCall",tokenize:PCe},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:FCe,resolveTo:ICe}}}}function FCe(t,e,n){const r=this;let i=r.events.length;const s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a;for(;i--;){const l=r.events[i][1];if(l.type==="labelImage"){a=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return o;function o(l){if(!a||!a._balanced)return n(l);const c=os(r.sliceSerialize({start:a.end,end:r.now()}));return c.codePointAt(0)!==94||!s.includes(c.slice(1))?n(l):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(l),t.exit("gfmFootnoteCallLabelMarker"),e(l))}}function ICe(t,e){let n=t.length;for(;n--;)if(t[n][1].type==="labelImage"&&t[n][0]==="enter"){t[n][1];break}t[n+1][1].type="data",t[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},t[n+3][1].start),end:Object.assign({},t[t.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},t[n+3][1].end),end:Object.assign({},t[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},t[t.length-1][1].start)},a={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},o=[t[n+1],t[n+2],["enter",r,e],t[n+3],t[n+4],["enter",i,e],["exit",i,e],["enter",s,e],["enter",a,e],["exit",a,e],["exit",s,e],t[t.length-2],t[t.length-1],["exit",r,e]];return t.splice(n,t.length-n+1,...o),t}function PCe(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s=0,a;return o;function o(h){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(h),t.exit("gfmFootnoteCallLabelMarker"),l}function l(h){return h!==94?n(h):(t.enter("gfmFootnoteCallMarker"),t.consume(h),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",c)}function c(h){if(s>999||h===93&&!a||h===null||h===91||Jt(h))return n(h);if(h===93){t.exit("chunkString");const p=t.exit("gfmFootnoteCallString");return i.includes(os(r.sliceSerialize(p)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(h),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e):n(h)}return Jt(h)||(a=!0),s++,t.consume(h),h===92?d:c}function d(h){return h===91||h===92||h===93?(t.consume(h),s++,c):c(h)}}function LCe(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s,a=0,o;return l;function l(v){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(v),t.exit("gfmFootnoteDefinitionLabelMarker"),c}function c(v){return v===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(v),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",d):n(v)}function d(v){if(a>999||v===93&&!o||v===null||v===91||Jt(v))return n(v);if(v===93){t.exit("chunkString");const y=t.exit("gfmFootnoteDefinitionLabelString");return s=os(r.sliceSerialize(y)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(v),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),p}return Jt(v)||(o=!0),a++,t.consume(v),v===92?h:d}function h(v){return v===91||v===92||v===93?(t.consume(v),a++,d):d(v)}function p(v){return v===58?(t.enter("definitionMarker"),t.consume(v),t.exit("definitionMarker"),i.includes(s)||i.push(s),Ot(t,g,"gfmFootnoteDefinitionWhitespace")):n(v)}function g(v){return e(v)}}function BCe(t,e,n){return t.check(hp,e,t.attempt(OCe,e,n))}function jCe(t){t.exit("gfmFootnoteDefinition")}function zCe(t,e,n){const r=this;return Ot(t,i,"gfmFootnoteDefinitionIndent",5);function i(s){const a=r.events[r.events.length-1];return a&&a[1].type==="gfmFootnoteDefinitionIndent"&&a[2].sliceSerialize(a[1],!0).length===4?e(s):n(s)}}function qCe(t){let n=(t||{}).singleTilde;const r={name:"strikethrough",tokenize:s,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(a,o){let l=-1;for(;++l<a.length;)if(a[l][0]==="enter"&&a[l][1].type==="strikethroughSequenceTemporary"&&a[l][1]._close){let c=l;for(;c--;)if(a[c][0]==="exit"&&a[c][1].type==="strikethroughSequenceTemporary"&&a[c][1]._open&&a[l][1].end.offset-a[l][1].start.offset===a[c][1].end.offset-a[c][1].start.offset){a[l][1].type="strikethroughSequence",a[c][1].type="strikethroughSequence";const d={type:"strikethrough",start:Object.assign({},a[c][1].start),end:Object.assign({},a[l][1].end)},h={type:"strikethroughText",start:Object.assign({},a[c][1].end),end:Object.assign({},a[l][1].start)},p=[["enter",d,o],["enter",a[c][1],o],["exit",a[c][1],o],["enter",h,o]],g=o.parser.constructs.insideSpan.null;g&&pi(p,p.length,0,sv(g,a.slice(c+1,l),o)),pi(p,p.length,0,[["exit",h,o],["enter",a[l][1],o],["exit",a[l][1],o],["exit",d,o]]),pi(a,c-1,l-c+3,p),l=c+p.length-2;break}}for(l=-1;++l<a.length;)a[l][1].type==="strikethroughSequenceTemporary"&&(a[l][1].type="data");return a}function s(a,o,l){const c=this.previous,d=this.events;let h=0;return p;function p(v){return c===126&&d[d.length-1][1].type!=="characterEscape"?l(v):(a.enter("strikethroughSequenceTemporary"),g(v))}function g(v){const y=$u(c);if(v===126)return h>1?l(v):(a.consume(v),h++,g);if(h<2&&!n)return l(v);const b=a.exit("strikethroughSequenceTemporary"),x=$u(v);return b._open=!x||x===2&&!!y,b._close=!y||y===2&&!!x,o(v)}}}class WCe{constructor(){this.map=[]}add(e,n,r){VCe(this,e,n,r)}consume(e){if(this.map.sort(function(s,a){return s[0]-a[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(e.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),e.length=this.map[n][0];r.push(e.slice()),e.length=0;let i=r.pop();for(;i;){for(const s of i)e.push(s);i=r.pop()}this.map.length=0}}function VCe(t,e,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<t.map.length;){if(t.map[i][0]===e){t.map[i][1]+=n,t.map[i][2].push(...r);return}i+=1}t.map.push([e,n,r])}}function HCe(t,e){let n=!1;const r=[];for(;e<t.length;){const i=t[e];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(t[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(t[e-1][1].type==="tableDelimiterMarker"){const s=r.length-1;r[s]=r[s]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);e+=1}return r}function $Ce(){return{flow:{null:{name:"table",tokenize:GCe,resolveAll:XCe}}}}function GCe(t,e,n){const r=this;let i=0,s=0,a;return o;function o(O){let z=r.events.length-1;for(;z>-1;){const k=r.events[z][1].type;if(k==="lineEnding"||k==="linePrefix")z--;else break}const F=z>-1?r.events[z][1].type:null,q=F==="tableHead"||F==="tableRow"?S:l;return q===S&&r.parser.lazy[r.now().line]?n(O):q(O)}function l(O){return t.enter("tableHead"),t.enter("tableRow"),c(O)}function c(O){return O===124||(a=!0,s+=1),d(O)}function d(O){return O===null?n(O):ot(O)?s>1?(s=0,r.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(O),t.exit("lineEnding"),g):n(O):St(O)?Ot(t,d,"whitespace")(O):(s+=1,a&&(a=!1,i+=1),O===124?(t.enter("tableCellDivider"),t.consume(O),t.exit("tableCellDivider"),a=!0,d):(t.enter("data"),h(O)))}function h(O){return O===null||O===124||Jt(O)?(t.exit("data"),d(O)):(t.consume(O),O===92?p:h)}function p(O){return O===92||O===124?(t.consume(O),h):h(O)}function g(O){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(O):(t.enter("tableDelimiterRow"),a=!1,St(O)?Ot(t,v,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(O):v(O))}function v(O){return O===45||O===58?b(O):O===124?(a=!0,t.enter("tableCellDivider"),t.consume(O),t.exit("tableCellDivider"),y):A(O)}function y(O){return St(O)?Ot(t,b,"whitespace")(O):b(O)}function b(O){return O===58?(s+=1,a=!0,t.enter("tableDelimiterMarker"),t.consume(O),t.exit("tableDelimiterMarker"),x):O===45?(s+=1,x(O)):O===null||ot(O)?E(O):A(O)}function x(O){return O===45?(t.enter("tableDelimiterFiller"),w(O)):A(O)}function w(O){return O===45?(t.consume(O),w):O===58?(a=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(O),t.exit("tableDelimiterMarker"),D):(t.exit("tableDelimiterFiller"),D(O))}function D(O){return St(O)?Ot(t,E,"whitespace")(O):E(O)}function E(O){return O===124?v(O):O===null||ot(O)?!a||i!==s?A(O):(t.exit("tableDelimiterRow"),t.exit("tableHead"),e(O)):A(O)}function A(O){return n(O)}function S(O){return t.enter("tableRow"),T(O)}function T(O){return O===124?(t.enter("tableCellDivider"),t.consume(O),t.exit("tableCellDivider"),T):O===null||ot(O)?(t.exit("tableRow"),e(O)):St(O)?Ot(t,T,"whitespace")(O):(t.enter("data"),M(O))}function M(O){return O===null||O===124||Jt(O)?(t.exit("data"),T(O)):(t.consume(O),O===92?R:M)}function R(O){return O===92||O===124?(t.consume(O),M):M(O)}}function XCe(t,e){let n=-1,r=!0,i=0,s=[0,0,0,0],a=[0,0,0,0],o=!1,l=0,c,d,h;const p=new WCe;for(;++n<t.length;){const g=t[n],v=g[1];g[0]==="enter"?v.type==="tableHead"?(o=!1,l!==0&&(Fj(p,e,l,c,d),d=void 0,l=0),c={type:"table",start:Object.assign({},v.start),end:Object.assign({},v.end)},p.add(n,0,[["enter",c,e]])):v.type==="tableRow"||v.type==="tableDelimiterRow"?(r=!0,h=void 0,s=[0,0,0,0],a=[0,n+1,0,0],o&&(o=!1,d={type:"tableBody",start:Object.assign({},v.start),end:Object.assign({},v.end)},p.add(n,0,[["enter",d,e]])),i=v.type==="tableDelimiterRow"?2:d?3:1):i&&(v.type==="data"||v.type==="tableDelimiterMarker"||v.type==="tableDelimiterFiller")?(r=!1,a[2]===0&&(s[1]!==0&&(a[0]=a[1],h=bm(p,e,s,i,void 0,h),s=[0,0,0,0]),a[2]=n)):v.type==="tableCellDivider"&&(r?r=!1:(s[1]!==0&&(a[0]=a[1],h=bm(p,e,s,i,void 0,h)),s=a,a=[s[1],n,0,0])):v.type==="tableHead"?(o=!0,l=n):v.type==="tableRow"||v.type==="tableDelimiterRow"?(l=n,s[1]!==0?(a[0]=a[1],h=bm(p,e,s,i,n,h)):a[1]!==0&&(h=bm(p,e,a,i,n,h)),i=0):i&&(v.type==="data"||v.type==="tableDelimiterMarker"||v.type==="tableDelimiterFiller")&&(a[3]=n)}for(l!==0&&Fj(p,e,l,c,d),p.consume(e.events),n=-1;++n<e.events.length;){const g=e.events[n];g[0]==="enter"&&g[1].type==="table"&&(g[1]._align=HCe(e.events,n))}return t}function bm(t,e,n,r,i,s){const a=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",o="tableContent";n[0]!==0&&(s.end=Object.assign({},du(e.events,n[0])),t.add(n[0],0,[["exit",s,e]]));const l=du(e.events,n[1]);if(s={type:a,start:Object.assign({},l),end:Object.assign({},l)},t.add(n[1],0,[["enter",s,e]]),n[2]!==0){const c=du(e.events,n[2]),d=du(e.events,n[3]),h={type:o,start:Object.assign({},c),end:Object.assign({},d)};if(t.add(n[2],0,[["enter",h,e]]),r!==2){const p=e.events[n[2]],g=e.events[n[3]];if(p[1].end=Object.assign({},g[1].end),p[1].type="chunkText",p[1].contentType="text",n[3]>n[2]+1){const v=n[2]+1,y=n[3]-n[2]-1;t.add(v,y,[])}}t.add(n[3]+1,0,[["exit",h,e]])}return i!==void 0&&(s.end=Object.assign({},du(e.events,i)),t.add(i,0,[["exit",s,e]]),s=void 0),s}function Fj(t,e,n,r,i){const s=[],a=du(e.events,n);i&&(i.end=Object.assign({},a),s.push(["exit",i,e])),r.end=Object.assign({},a),s.push(["exit",r,e]),t.add(n+1,0,s)}function du(t,e){const n=t[e],r=n[0]==="enter"?"start":"end";return n[1][r]}const KCe={name:"tasklistCheck",tokenize:ZCe};function YCe(){return{text:{91:KCe}}}function ZCe(t,e,n){const r=this;return i;function i(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(l),t.exit("taskListCheckMarker"),s)}function s(l){return Jt(l)?(t.enter("taskListCheckValueUnchecked"),t.consume(l),t.exit("taskListCheckValueUnchecked"),a):l===88||l===120?(t.enter("taskListCheckValueChecked"),t.consume(l),t.exit("taskListCheckValueChecked"),a):n(l)}function a(l){return l===93?(t.enter("taskListCheckMarker"),t.consume(l),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),o):n(l)}function o(l){return ot(l)?e(l):St(l)?t.check({tokenize:JCe},e,n)(l):n(l)}}function JCe(t,e,n){return Ot(t,r,"whitespace");function r(i){return i===null?n(i):e(i)}}function QCe(t){return LX([ECe(),NCe(),qCe(t),$Ce(),YCe()])}const eke={};function kK(t){const e=this,n=t||eke,r=e.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),s=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),a=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(QCe(n)),s.push(xCe()),a.push(wCe(n))}function tke({message:t}){const e=t.role==="user";return I.jsxs("div",{className:Et("flex gap-3",e?"flex-row-reverse":"flex-row"),children:[I.jsx("div",{className:Et("flex h-8 w-8 flex-shrink-0 items-center justify-center rounded-full",e?"bg-primary text-primary-foreground":"bg-secondary"),children:e?I.jsx(ehe,{className:"h-4 w-4"}):I.jsx(Mue,{className:"h-4 w-4"})}),I.jsx("div",{className:Et("max-w-[80%] rounded-2xl px-4 py-2",e?"bg-primary text-primary-foreground rounded-tr-none":"bg-secondary rounded-tl-none"),children:e?I.jsx("p",{className:"text-sm whitespace-pre-wrap",children:t.content}):I.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none",children:I.jsx(sK,{remarkPlugins:[kK],children:t.content})})})]})}const vr=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),bC=[.001,0,0,.001,0,0],NS=1.35,li={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},go={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Of="pdfjs_internal_editor_",gt={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},Rt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},nke={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},vC={TRIANGLES:1,LATTICE:2},jn={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Qm={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Mn={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},hu={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},cv={ERRORS:0,WARNINGS:1,INFOS:5},Nf={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},xh={moveTo:0,lineTo:1,curveTo:2,quadraticCurveTo:3,closePath:4},rke={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let uv=cv.WARNINGS;function ike(t){Number.isInteger(t)&&(uv=t)}function ske(){return uv}function dv(t){uv>=cv.INFOS&&console.info(`Info: ${t}`)}function ft(t){uv>=cv.WARNINGS&&console.warn(`Warning: ${t}`)}function Zt(t){throw new Error(t)}function Ut(t,e){t||Zt(e)}function ake(t){switch(t?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function RK(t,e=null,n=null){if(!t)return null;if(n&&typeof t=="string"&&(n.addDefaultProtocol&&t.startsWith("www.")&&t.match(/\./g)?.length>=2&&(t=`http://${t}`),n.tryConvertEncoding))try{t=dke(t)}catch{}const r=e?URL.parse(t,e):URL.parse(t);return ake(r)?r:null}function UK(t,e,n=!1){const r=URL.parse(t);return r?(r.hash=e,r.href):n&&RK(t,"http://example.com")?t.split("#",1)[0]+`${e?`#${e}`:""}`:""}function pt(t,e,n,r=!1){return Object.defineProperty(t,e,{value:n,enumerable:!r,configurable:!0,writable:!1}),n}const tc=(function(){function e(n,r){this.message=n,this.name=r}return e.prototype=new Error,e.constructor=e,e})();class Ij extends tc{constructor(e,n){super(e,"PasswordException"),this.code=n}}class FS extends tc{constructor(e,n){super(e,"UnknownErrorException"),this.details=n}}class xC extends tc{constructor(e){super(e,"InvalidPDFException")}}class ab extends tc{constructor(e,n,r){super(e,"ResponseException"),this.status=n,this.missing=r}}class oke extends tc{constructor(e){super(e,"FormatError")}}class Co extends tc{constructor(e){super(e,"AbortException")}}function MK(t){(typeof t!="object"||t?.length===void 0)&&Zt("Invalid argument for bytesToString");const e=t.length,n=8192;if(e<n)return String.fromCharCode.apply(null,t);const r=[];for(let i=0;i<e;i+=n){const s=Math.min(i+n,e),a=t.subarray(i,s);r.push(String.fromCharCode.apply(null,a))}return r.join("")}function pp(t){typeof t!="string"&&Zt("Invalid argument for stringToBytes");const e=t.length,n=new Uint8Array(e);for(let r=0;r<e;++r)n[r]=t.charCodeAt(r)&255;return n}function lke(t){return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,t&255)}function cke(){const t=new Uint8Array(4);return t[0]=1,new Uint32Array(t.buffer,0,1)[0]===1}function uke(){try{return new Function(""),!0}catch{return!1}}class Vn{static get isLittleEndian(){return pt(this,"isLittleEndian",cke())}static get isEvalSupported(){return pt(this,"isEvalSupported",uke())}static get isOffscreenCanvasSupported(){return pt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return pt(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get isFloat16ArraySupported(){return pt(this,"isFloat16ArraySupported",typeof Float16Array<"u")}static get isSanitizerSupported(){return pt(this,"isSanitizerSupported",typeof Sanitizer<"u")}static get platform(){const{platform:e,userAgent:n}=navigator;return pt(this,"platform",{isAndroid:n.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:n.includes("Firefox")})}static get isCSSRoundSupported(){return pt(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const IS=Array.from(Array(256).keys(),t=>t.toString(16).padStart(2,"0"));class He{static makeHexColor(e,n,r){return`#${IS[e]}${IS[n]}${IS[r]}`}static domMatrixToTransform(e){return[e.a,e.b,e.c,e.d,e.e,e.f]}static scaleMinMax(e,n){let r;e[0]?(e[0]<0&&(r=n[0],n[0]=n[2],n[2]=r),n[0]*=e[0],n[2]*=e[0],e[3]<0&&(r=n[1],n[1]=n[3],n[3]=r),n[1]*=e[3],n[3]*=e[3]):(r=n[0],n[0]=n[1],n[1]=r,r=n[2],n[2]=n[3],n[3]=r,e[1]<0&&(r=n[1],n[1]=n[3],n[3]=r),n[1]*=e[1],n[3]*=e[1],e[2]<0&&(r=n[0],n[0]=n[2],n[2]=r),n[0]*=e[2],n[2]*=e[2]),n[0]+=e[4],n[1]+=e[5],n[2]+=e[4],n[3]+=e[5]}static transform(e,n){return[e[0]*n[0]+e[2]*n[1],e[1]*n[0]+e[3]*n[1],e[0]*n[2]+e[2]*n[3],e[1]*n[2]+e[3]*n[3],e[0]*n[4]+e[2]*n[5]+e[4],e[1]*n[4]+e[3]*n[5]+e[5]]}static multiplyByDOMMatrix(e,n){return[e[0]*n.a+e[2]*n.b,e[1]*n.a+e[3]*n.b,e[0]*n.c+e[2]*n.d,e[1]*n.c+e[3]*n.d,e[0]*n.e+e[2]*n.f+e[4],e[1]*n.e+e[3]*n.f+e[5]]}static applyTransform(e,n,r=0){const i=e[r],s=e[r+1];e[r]=i*n[0]+s*n[2]+n[4],e[r+1]=i*n[1]+s*n[3]+n[5]}static applyTransformToBezier(e,n,r=0){const i=n[0],s=n[1],a=n[2],o=n[3],l=n[4],c=n[5];for(let d=0;d<6;d+=2){const h=e[r+d],p=e[r+d+1];e[r+d]=h*i+p*a+l,e[r+d+1]=h*s+p*o+c}}static applyInverseTransform(e,n){const r=e[0],i=e[1],s=n[0]*n[3]-n[1]*n[2];e[0]=(r*n[3]-i*n[2]+n[2]*n[5]-n[4]*n[3])/s,e[1]=(-r*n[1]+i*n[0]+n[4]*n[1]-n[5]*n[0])/s}static axialAlignedBoundingBox(e,n,r){const i=n[0],s=n[1],a=n[2],o=n[3],l=n[4],c=n[5],d=e[0],h=e[1],p=e[2],g=e[3];let v=i*d+l,y=v,b=i*p+l,x=b,w=o*h+c,D=w,E=o*g+c,A=E;if(s!==0||a!==0){const S=s*d,T=s*p,M=a*h,R=a*g;v+=M,x+=M,b+=R,y+=R,w+=S,A+=S,E+=T,D+=T}r[0]=Math.min(r[0],v,b,y,x),r[1]=Math.min(r[1],w,E,D,A),r[2]=Math.max(r[2],v,b,y,x),r[3]=Math.max(r[3],w,E,D,A)}static inverseTransform(e){const n=e[0]*e[3]-e[1]*e[2];return[e[3]/n,-e[1]/n,-e[2]/n,e[0]/n,(e[2]*e[5]-e[4]*e[3])/n,(e[4]*e[1]-e[5]*e[0])/n]}static singularValueDecompose2dScale(e,n){const r=e[0],i=e[1],s=e[2],a=e[3],o=r**2+i**2,l=r*s+i*a,c=s**2+a**2,d=(o+c)/2,h=Math.sqrt(d**2-(o*c-l**2));n[0]=Math.sqrt(d+h||1),n[1]=Math.sqrt(d-h||1)}static normalizeRect(e){const n=e.slice(0);return e[0]>e[2]&&(n[0]=e[2],n[2]=e[0]),e[1]>e[3]&&(n[1]=e[3],n[3]=e[1]),n}static intersect(e,n){const r=Math.max(Math.min(e[0],e[2]),Math.min(n[0],n[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(n[0],n[2]));if(r>i)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(n[1],n[3])),a=Math.min(Math.max(e[1],e[3]),Math.max(n[1],n[3]));return s>a?null:[r,s,i,a]}static pointBoundingBox(e,n,r){r[0]=Math.min(r[0],e),r[1]=Math.min(r[1],n),r[2]=Math.max(r[2],e),r[3]=Math.max(r[3],n)}static rectBoundingBox(e,n,r,i,s){s[0]=Math.min(s[0],e,r),s[1]=Math.min(s[1],n,i),s[2]=Math.max(s[2],e,r),s[3]=Math.max(s[3],n,i)}static#e(e,n,r,i,s,a,o,l,c,d){if(c<=0||c>=1)return;const h=1-c,p=c*c,g=p*c,v=h*(h*(h*e+3*c*n)+3*p*r)+g*i,y=h*(h*(h*s+3*c*a)+3*p*o)+g*l;d[0]=Math.min(d[0],v),d[1]=Math.min(d[1],y),d[2]=Math.max(d[2],v),d[3]=Math.max(d[3],y)}static#t(e,n,r,i,s,a,o,l,c,d,h,p){if(Math.abs(c)<1e-12){Math.abs(d)>=1e-12&&this.#e(e,n,r,i,s,a,o,l,-h/d,p);return}const g=d**2-4*h*c;if(g<0)return;const v=Math.sqrt(g),y=2*c;this.#e(e,n,r,i,s,a,o,l,(-d+v)/y,p),this.#e(e,n,r,i,s,a,o,l,(-d-v)/y,p)}static bezierBoundingBox(e,n,r,i,s,a,o,l,c){c[0]=Math.min(c[0],e,o),c[1]=Math.min(c[1],n,l),c[2]=Math.max(c[2],e,o),c[3]=Math.max(c[3],n,l),this.#t(e,r,s,o,n,i,a,l,3*(-e+3*(r-s)+o),6*(e-2*r+s),3*(r-e),c),this.#t(e,r,s,o,n,i,a,l,3*(-n+3*(i-a)+l),6*(n-2*i+a),3*(i-n),c)}}function dke(t){return decodeURIComponent(escape(t))}let PS=null,Pj=null;function hke(t){return PS||(PS=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Pj=new Map([["","t"]])),t.replaceAll(PS,(e,n,r)=>n?n.normalize("NFKC"):Pj.get(r))}function OK(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const t=new Uint8Array(32);return crypto.getRandomValues(t),MK(t)}const wu="pdfjs_internal_id_";function fke(t,e,n){if(!Array.isArray(n)||n.length<2)return!1;const[r,i,...s]=n;if(!t(r)&&!Number.isInteger(r)||!e(i))return!1;const a=s.length;let o=!0;switch(i.name){case"XYZ":if(a<2||a>3)return!1;break;case"Fit":case"FitB":return a===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(a>1)return!1;break;case"FitR":if(a!==4)return!1;o=!1;break;default:return!1}for(const l of s)if(!(typeof l=="number"||o&&l===null))return!1;return!0}function xr(t,e,n){return Math.min(Math.max(t,e),n)}function NK(t){return Uint8Array.prototype.toBase64?t.toBase64():btoa(MK(t))}function pke(t){return Uint8Array.fromBase64?Uint8Array.fromBase64(t):pp(atob(t))}typeof Promise.try!="function"&&(Promise.try=function(t,...e){return new Promise(n=>{n(t(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(t){return t.reduce((e,n)=>e+n,0)});class Ff{static textContent(e){const n=[],r={items:n,styles:Object.create(null)};function i(s){if(!s)return;let a=null;const o=s.name;if(o==="#text")a=s.value;else if(Ff.shouldBuildText(o))s?.attributes?.textContent?a=s.attributes.textContent:s.value&&(a=s.value);else return;if(a!==null&&n.push({str:a}),!!s.children)for(const l of s.children)i(l)}return i(e),r}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}class FK{static setupStorage(e,n,r,i,s){const a=i.getValue(n,{value:null});switch(r.name){case"textarea":if(a.value!==null&&(e.textContent=a.value),s==="print")break;e.addEventListener("input",o=>{i.setValue(n,{value:o.target.value})});break;case"input":if(r.attributes.type==="radio"||r.attributes.type==="checkbox"){if(a.value===r.attributes.xfaOn?e.setAttribute("checked",!0):a.value===r.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",o=>{i.setValue(n,{value:o.target.checked?o.target.getAttribute("xfaOn"):o.target.getAttribute("xfaOff")})})}else{if(a.value!==null&&e.setAttribute("value",a.value),s==="print")break;e.addEventListener("input",o=>{i.setValue(n,{value:o.target.value})})}break;case"select":if(a.value!==null){e.setAttribute("value",a.value);for(const o of r.children)o.attributes.value===a.value?o.attributes.selected=!0:o.attributes.hasOwnProperty("selected")&&delete o.attributes.selected}e.addEventListener("input",o=>{const l=o.target.options,c=l.selectedIndex===-1?"":l[l.selectedIndex].value;i.setValue(n,{value:c})});break}}static setAttributes({html:e,element:n,storage:r=null,intent:i,linkService:s}){const{attributes:a}=n,o=e instanceof HTMLAnchorElement;a.type==="radio"&&(a.name=`${a.name}-${i}`);for(const[l,c]of Object.entries(a))if(c!=null)switch(l){case"class":c.length&&e.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",c);break;case"style":Object.assign(e.style,c);break;case"textContent":e.textContent=c;break;default:(!o||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,c)}o&&s.addLinkAttributes(e,a.href,a.newWindow),r&&a.dataId&&this.setupStorage(e,a.dataId,n,r)}static render(e){const n=e.annotationStorage,r=e.linkService,i=e.xfaHtml,s=e.intent||"display",a=document.createElement(i.name);i.attributes&&this.setAttributes({html:a,element:i,intent:s,linkService:r});const o=s!=="richText",l=e.div;if(l.append(a),e.viewport){const h=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=h}o&&l.setAttribute("class","xfaLayer xfaFont");const c=[];if(i.children.length===0){if(i.value){const h=document.createTextNode(i.value);a.append(h),o&&Ff.shouldBuildText(i.name)&&c.push(h)}return{textDivs:c}}const d=[[i,-1,a]];for(;d.length>0;){const[h,p,g]=d.at(-1);if(p+1===h.children.length){d.pop();continue}const v=h.children[++d.at(-1)[1]];if(v===null)continue;const{name:y}=v;if(y==="#text"){const x=document.createTextNode(v.value);c.push(x),g.append(x);continue}const b=v?.attributes?.xmlns?document.createElementNS(v.attributes.xmlns,y):document.createElement(y);if(g.append(b),v.attributes&&this.setAttributes({html:b,element:v,storage:n,intent:s,linkService:r}),v.children?.length>0)d.push([v,-1,b]);else if(v.value){const x=document.createTextNode(v.value);o&&Ff.shouldBuildText(y)&&c.push(x),b.append(x)}}for(const h of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))h.setAttribute("readOnly",!0);return{textDivs:c}}static update(e){const n=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=n,e.div.hidden=!1}}const ua="http://www.w3.org/2000/svg";class Gu{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}async function gp(t,e="text"){if(Hh(t,document.baseURI)){const n=await fetch(t);if(!n.ok)throw new Error(n.statusText);switch(e){case"arraybuffer":return n.arrayBuffer();case"blob":return n.blob();case"json":return n.json()}return n.text()}return new Promise((n,r)=>{const i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":n(i.response);return}n(i.responseText);return}r(new Error(i.statusText))}},i.send(null)})}class mp{constructor({viewBox:e,userUnit:n,scale:r,rotation:i,offsetX:s=0,offsetY:a=0,dontFlip:o=!1}){this.viewBox=e,this.userUnit=n,this.scale=r,this.rotation=i,this.offsetX=s,this.offsetY=a,r*=n;const l=(e[2]+e[0])/2,c=(e[3]+e[1])/2;let d,h,p,g;switch(i%=360,i<0&&(i+=360),i){case 180:d=-1,h=0,p=0,g=1;break;case 90:d=0,h=1,p=1,g=0;break;case 270:d=0,h=-1,p=-1,g=0;break;case 0:d=1,h=0,p=0,g=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(p=-p,g=-g);let v,y,b,x;d===0?(v=Math.abs(c-e[1])*r+s,y=Math.abs(l-e[0])*r+a,b=(e[3]-e[1])*r,x=(e[2]-e[0])*r):(v=Math.abs(l-e[0])*r+s,y=Math.abs(c-e[1])*r+a,b=(e[2]-e[0])*r,x=(e[3]-e[1])*r),this.transform=[d*r,h*r,p*r,g*r,v-d*r*l-p*r*c,y-h*r*l-g*r*c],this.width=b,this.height=x}get rawDims(){const e=this.viewBox;return pt(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:n=this.rotation,offsetX:r=this.offsetX,offsetY:i=this.offsetY,dontFlip:s=!1}={}){return new mp({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:n,offsetX:r,offsetY:i,dontFlip:s})}convertToViewportPoint(e,n){const r=[e,n];return He.applyTransform(r,this.transform),r}convertToViewportRectangle(e){const n=[e[0],e[1]];He.applyTransform(n,this.transform);const r=[e[2],e[3]];return He.applyTransform(r,this.transform),[n[0],n[1],r[0],r[1]]}convertToPdfPoint(e,n){const r=[e,n];return He.applyInverseTransform(r,this.transform),r}}class $R extends tc{constructor(e,n=0){super(e,"RenderingCancelledException"),this.extraDelay=n}}function hv(t){const e=t.length;let n=0;for(;n<e&&t[n].trim()==="";)n++;return t.substring(n,n+5).toLowerCase()==="data:"}function GR(t){return typeof t=="string"&&/\.pdf$/i.test(t)}function gke(t){return[t]=t.split(/[#?]/,1),t.substring(t.lastIndexOf("/")+1)}function mke(t,e="document.pdf"){if(typeof t!="string")return e;if(hv(t))return ft('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const r=(o=>{try{return new URL(o)}catch{try{return new URL(decodeURIComponent(o))}catch{try{return new URL(o,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(o),"https://foo.bar")}catch{return null}}}}})(t);if(!r)return e;const i=o=>{try{let l=decodeURIComponent(o);return l.includes("/")?(l=l.split("/").at(-1),l.test(/^\.pdf$/i)?l:o):l}catch{return o}},s=/\.pdf$/i,a=r.pathname.split("/").at(-1);if(s.test(a))return i(a);if(r.searchParams.size>0){const o=Array.from(r.searchParams.values()).reverse();for(const c of o)if(s.test(c))return i(c);const l=Array.from(r.searchParams.keys()).reverse();for(const c of l)if(s.test(c))return i(c)}if(r.hash){const l=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(r.hash);if(l)return i(l[0])}return e}class Lj{started=Object.create(null);times=[];time(e){e in this.started&&ft(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||ft(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let n=0;for(const{name:r}of this.times)n=Math.max(r.length,n);for(const{name:r,start:i,end:s}of this.times)e.push(`${r.padEnd(n)} ${s-i}ms
`);return e.join("")}}function Hh(t,e){const n=e?URL.parse(t,e):URL.parse(t);return n?.protocol==="http:"||n?.protocol==="https:"}function Vi(t){t.preventDefault()}function vn(t){t.preventDefault(),t.stopPropagation()}function yke(t){console.log("Deprecated API usage: "+t)}class wC{static#e;static toDateObject(e){if(e instanceof Date)return e;if(!e||typeof e!="string")return null;this.#e||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const n=this.#e.exec(e);if(!n)return null;const r=parseInt(n[1],10);let i=parseInt(n[2],10);i=i>=1&&i<=12?i-1:0;let s=parseInt(n[3],10);s=s>=1&&s<=31?s:1;let a=parseInt(n[4],10);a=a>=0&&a<=23?a:0;let o=parseInt(n[5],10);o=o>=0&&o<=59?o:0;let l=parseInt(n[6],10);l=l>=0&&l<=59?l:0;const c=n[7]||"Z";let d=parseInt(n[8],10);d=d>=0&&d<=23?d:0;let h=parseInt(n[9],10)||0;return h=h>=0&&h<=59?h:0,c==="-"?(a+=d,o+=h):c==="+"&&(a-=d,o-=h),new Date(Date.UTC(r,i,s,a,o,l))}}function bke(t,{scale:e=1,rotation:n=0}){const{width:r,height:i}=t.attributes.style,s=[0,0,parseInt(r),parseInt(i)];return new mp({viewBox:s,userUnit:1,scale:e,rotation:n})}function yp(t){if(t.startsWith("#")){const e=parseInt(t.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return t.startsWith("rgb(")?t.slice(4,-1).split(",").map(e=>parseInt(e)):t.startsWith("rgba(")?t.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(ft(`Not a valid color format: "${t}"`),[0,0,0])}function vke(t){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const n of t.keys()){e.style.color=n;const r=window.getComputedStyle(e).color;t.set(n,yp(r))}e.remove()}function dn(t){const{a:e,b:n,c:r,d:i,e:s,f:a}=t.getTransform();return[e,n,r,i,s,a]}function xs(t){const{a:e,b:n,c:r,d:i,e:s,f:a}=t.getTransform().invertSelf();return[e,n,r,i,s,a]}function Wl(t,e,n=!1,r=!0){if(e instanceof mp){const{pageWidth:i,pageHeight:s}=e.rawDims,{style:a}=t,o=Vn.isCSSRoundSupported,l=`var(--total-scale-factor) * ${i}px`,c=`var(--total-scale-factor) * ${s}px`,d=o?`round(down, ${l}, var(--scale-round-x))`:`calc(${l})`,h=o?`round(down, ${c}, var(--scale-round-y))`:`calc(${c})`;!n||e.rotation%180===0?(a.width=d,a.height=h):(a.width=h,a.height=d)}r&&t.setAttribute("data-main-rotation",e.rotation)}class Ns{constructor(){const{pixelRatio:e}=Ns;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,n,r,i,s=-1){let a=1/0,o=1/0,l=1/0;r=Ns.capPixels(r,s),r>0&&(a=Math.sqrt(r/(e*n))),i!==-1&&(o=i/e,l=i/n);const c=Math.min(a,o,l);return this.sx>c||this.sy>c?(this.sx=c,this.sy=c,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,n){if(n>=0){const r=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+n/100));return e>0?Math.min(e,r):r}return e}}const _C=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class xke{static get isDarkMode(){return pt(this,"isDarkMode",!!window?.matchMedia?.("(prefers-color-scheme: dark)").matches)}}class wke{static get commentForegroundColor(){const e=document.createElement("span");e.classList.add("comment","sidebar");const{style:n}=e;n.width=n.height="0",n.display="none",n.color="var(--comment-fg-color)",document.body.append(e);const{color:r}=window.getComputedStyle(e);return e.remove(),pt(this,"commentForegroundColor",yp(r))}}function _ke(t,e,n,r){r=Math.min(Math.max(r??1,0),1);const i=255*(1-r);return t=Math.round(t*r+i),e=Math.round(e*r+i),n=Math.round(n*r+i),[t,e,n]}function Bj(t,e){const n=t[0]/255,r=t[1]/255,i=t[2]/255,s=Math.max(n,r,i),a=Math.min(n,r,i),o=(s+a)/2;if(s===a)e[0]=e[1]=0;else{const l=s-a;switch(e[1]=o<.5?l/(s+a):l/(2-s-a),s){case n:e[0]=((r-i)/l+(r<i?6:0))*60;break;case r:e[0]=((i-n)/l+2)*60;break;case i:e[0]=((n-r)/l+4)*60;break}}e[2]=o}function DC(t,e){const n=t[0],r=t[1],i=t[2],s=(1-Math.abs(2*i-1))*r,a=s*(1-Math.abs(n/60%2-1)),o=i-s/2;switch(Math.floor(n/60)){case 0:e[0]=s+o,e[1]=a+o,e[2]=o;break;case 1:e[0]=a+o,e[1]=s+o,e[2]=o;break;case 2:e[0]=o,e[1]=s+o,e[2]=a+o;break;case 3:e[0]=o,e[1]=a+o,e[2]=s+o;break;case 4:e[0]=a+o,e[1]=o,e[2]=s+o;break;case 5:case 6:e[0]=s+o,e[1]=o,e[2]=a+o;break}}function jj(t){return t<=.03928?t/12.92:((t+.055)/1.055)**2.4}function zj(t,e,n){DC(t,n),n.map(jj);const r=.2126*n[0]+.7152*n[1]+.0722*n[2];DC(e,n),n.map(jj);const i=.2126*n[0]+.7152*n[1]+.0722*n[2];return r>i?(r+.05)/(i+.05):(i+.05)/(r+.05)}const qj=new Map;function Dke(t,e){const n=t[0]+t[1]*256+t[2]*65536+e[0]*16777216+e[1]*4294967296+e[2]*1099511627776;let r=qj.get(n);if(r)return r;const i=new Float32Array(9),s=i.subarray(0,3),a=i.subarray(3,6);Bj(t,a);const o=i.subarray(6,9);Bj(e,o);const l=o[2]<.5,c=l?12:4.5;if(a[2]=l?Math.sqrt(a[2]):1-Math.sqrt(1-a[2]),zj(a,o,s)<c){let d,h;l?(d=a[2],h=1):(d=0,h=a[2]);const p=.005;for(;h-d>p;){const g=a[2]=(d+h)/2;l===zj(a,o,s)<c?d=g:h=g}a[2]=l?h:d}return DC(a,s),r=He.makeHexColor(Math.round(s[0]*255),Math.round(s[1]*255),Math.round(s[2]*255)),qj.set(n,r),r}function IK({html:t,dir:e,className:n},r){const i=document.createDocumentFragment();if(typeof t=="string"){const s=document.createElement("p");s.dir=e||"auto";const a=t.split(/(?:\r\n?|\n)/);for(let o=0,l=a.length;o<l;++o){const c=a[o];s.append(document.createTextNode(c)),o<l-1&&s.append(document.createElement("br"))}i.append(s)}else FK.render({xfaHtml:t,div:i,intent:"richText"});i.firstElementChild.classList.add("richText",n),r.append(i)}function PK(t){const e=new Path2D;if(!t)return e;for(let n=0,r=t.length;n<r;)switch(t[n++]){case xh.moveTo:e.moveTo(t[n++],t[n++]);break;case xh.lineTo:e.lineTo(t[n++],t[n++]);break;case xh.curveTo:e.bezierCurveTo(t[n++],t[n++],t[n++],t[n++],t[n++],t[n++]);break;case xh.quadraticCurveTo:e.quadraticCurveTo(t[n++],t[n++],t[n++],t[n++]);break;case xh.closePath:e.closePath();break;default:ft(`Unrecognized drawing path operator: ${t[n-1]}`);break}return e}class rf{#e=null;#t=null;#r;#n=null;#i=null;#a=null;#s=null;#o=null;static#c=null;constructor(e){this.#r=e,rf.#c||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"})}render(){const e=this.#e=document.createElement("div");e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const n=this.#r._uiManager._signal;n instanceof AbortSignal&&!n.aborted&&(e.addEventListener("contextmenu",Vi,{signal:n}),e.addEventListener("pointerdown",rf.#l,{signal:n}));const r=this.#n=document.createElement("div");r.className="buttons",e.append(r);const i=this.#r.toolbarPosition;if(i){const{style:s}=e,a=this.#r._uiManager.direction==="ltr"?1-i[0]:i[0];s.insetInlineEnd=`${100*a}%`,s.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return this.#e}static#l(e){e.stopPropagation()}#h(e){this.#r._focusEventsAllowed=!1,vn(e)}#d(e){this.#r._focusEventsAllowed=!0,vn(e)}#f(e){const n=this.#r._uiManager._signal;return!(n instanceof AbortSignal)||n.aborted?!1:(e.addEventListener("focusin",this.#h.bind(this),{capture:!0,signal:n}),e.addEventListener("focusout",this.#d.bind(this),{capture:!0,signal:n}),e.addEventListener("contextmenu",Vi,{signal:n}),!0)}hide(){this.#e.classList.add("hidden"),this.#t?.hideDropdown()}show(){this.#e.classList.remove("hidden"),this.#i?.shown(),this.#a?.shown()}addDeleteButton(){const{editorType:e,_uiManager:n}=this.#r,r=document.createElement("button");r.classList.add("basic","deleteButton"),r.tabIndex=0,r.setAttribute("data-l10n-id",rf.#c[e]),this.#f(r)&&r.addEventListener("click",i=>{n.delete()},{signal:n._signal}),this.#n.append(r)}get#m(){const e=document.createElement("div");return e.className="divider",e}async addAltText(e){const n=await e.render();this.#f(n),this.#n.append(n,this.#m),this.#i=e}addComment(e,n=null){if(this.#a)return;const r=e.renderForToolbar();if(!r)return;this.#f(r);const i=this.#s=this.#m;n?(this.#n.insertBefore(r,n),this.#n.insertBefore(i,n)):this.#n.append(r,i),this.#a=e,e.toolbar=this}addColorPicker(e){if(this.#t)return;this.#t=e;const n=e.renderButton();this.#f(n),this.#n.append(n,this.#m)}async addEditSignatureButton(e){const n=this.#o=await e.renderEditButton(this.#r);this.#f(n),this.#n.append(n,this.#m)}removeButton(e){e==="comment"&&(this.#a?.removeToolbarCommentButton(),this.#a=null,this.#s?.remove(),this.#s=null)}async addButton(e,n){switch(e){case"colorPicker":n&&this.addColorPicker(n);break;case"altText":n&&await this.addAltText(n);break;case"editSignature":n&&await this.addEditSignatureButton(n);break;case"delete":this.addDeleteButton();break;case"comment":n&&this.addComment(n);break}}async addButtonBefore(e,n,r){if(!n&&e==="comment")return;const i=this.#n.querySelector(r);i&&e==="comment"&&this.addComment(n,i)}updateEditSignatureButton(e){this.#o&&(this.#o.title=e)}remove(){this.#e.remove(),this.#t?.destroy(),this.#t=null}}class Eke{#e=null;#t=null;#r;constructor(e){this.#r=e}#n(){const e=this.#t=document.createElement("div");e.className="editToolbar",e.setAttribute("role","toolbar");const n=this.#r._signal;n instanceof AbortSignal&&!n.aborted&&e.addEventListener("contextmenu",Vi,{signal:n});const r=this.#e=document.createElement("div");return r.className="buttons",e.append(r),this.#r.hasCommentManager()&&this.#a("commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{this.#r.commentSelection("floating_button")}),this.#a("highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{this.#r.highlightSelection("floating_button")}),e}#i(e,n){let r=0,i=0;for(const s of e){const a=s.y+s.height;if(a<r)continue;const o=s.x+(n?s.width:0);if(a>r){i=o,r=a;continue}n?o>i&&(i=o):o<i&&(i=o)}return[n?1-i:i,r]}show(e,n,r){const[i,s]=this.#i(n,r),{style:a}=this.#t||=this.#n();e.append(this.#t),a.insetInlineEnd=`${100*i}%`,a.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){this.#t.remove()}#a(e,n,r,i){const s=document.createElement("button");s.classList.add("basic",e),s.tabIndex=0,s.setAttribute("data-l10n-id",n);const a=document.createElement("span");s.append(a),a.className="visuallyHidden",a.setAttribute("data-l10n-id",r);const o=this.#r._signal;o instanceof AbortSignal&&!o.aborted&&(s.addEventListener("contextmenu",Vi,{signal:o}),s.addEventListener("click",i,{signal:o})),this.#e.append(s)}}function LK(t,e,n){for(const r of n)e.addEventListener(r,t[r].bind(t))}class jt{static#e=NaN;static#t=null;static#r=NaN;static#n=null;static initializeAndAddPointerId(e){(jt.#t||=new Set).add(e)}static setPointer(e,n){jt.#e||=n,jt.#n??=e}static setTimeStamp(e){jt.#r=e}static isSamePointerId(e){return jt.#e===e}static isSamePointerIdOrRemove(e){return jt.#e===e?!0:(jt.#t?.delete(e),!1)}static isSamePointerType(e){return jt.#n===e}static isInitializedAndDifferentPointerType(e){return jt.#n!==null&&!jt.isSamePointerType(e)}static isSameTimeStamp(e){return jt.#r===e}static isUsingMultiplePointers(){return jt.#t?.size>=1}static clearPointerType(){jt.#n=null}static clearPointerIds(){jt.#e=NaN,jt.#t=null}static clearTimeStamp(){jt.#r=NaN}}class Ske{#e=0;get id(){return`${Of}${this.#e++}`}}class XR{#e=OK();#t=0;#r=null;static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',r=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;const s=i.decode().then(()=>(r.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(r.getImageData(0,0,1,1).data.buffer)[0]===0));return pt(this,"_isSVGFittingCanvas",s)}async#n(e,n){this.#r||=new Map;let r=this.#r.get(e);if(r===null)return null;if(r?.bitmap)return r.refCounter+=1,r;try{r||={bitmap:null,id:`image_${this.#e}_${this.#t++}`,refCounter:0,isSvg:!1};let i;if(typeof n=="string"?(r.url=n,i=await gp(n,"blob")):n instanceof File?i=r.file=n:n instanceof Blob&&(i=n),i.type==="image/svg+xml"){const s=XR._isSVGFittingCanvas,a=new FileReader,o=new Image,l=new Promise((c,d)=>{o.onload=()=>{r.bitmap=o,r.isSvg=!0,c()},a.onload=async()=>{const h=r.svgUrl=a.result;o.src=await s?`${h}#svgView(preserveAspectRatio(none))`:h},o.onerror=a.onerror=d});a.readAsDataURL(i),await l}else r.bitmap=await createImageBitmap(i);r.refCounter=1}catch(i){ft(i),r=null}return this.#r.set(e,r),r&&this.#r.set(r.id,r),r}async getFromFile(e){const{lastModified:n,name:r,size:i,type:s}=e;return this.#n(`${n}_${r}_${i}_${s}`,e)}async getFromUrl(e){return this.#n(e,e)}async getFromBlob(e,n){const r=await n;return this.#n(e,r)}async getFromId(e){this.#r||=new Map;const n=this.#r.get(e);if(!n)return null;if(n.bitmap)return n.refCounter+=1,n;if(n.file)return this.getFromFile(n.file);if(n.blobPromise){const{blobPromise:r}=n;return delete n.blobPromise,this.getFromBlob(n.id,r)}return this.getFromUrl(n.url)}getFromCanvas(e,n){this.#r||=new Map;let r=this.#r.get(e);if(r?.bitmap)return r.refCounter+=1,r;const i=new OffscreenCanvas(n.width,n.height);return i.getContext("2d").drawImage(n,0,0),r={bitmap:i.transferToImageBitmap(),id:`image_${this.#e}_${this.#t++}`,refCounter:1,isSvg:!1},this.#r.set(e,r),this.#r.set(r.id,r),r}getSvgUrl(e){const n=this.#r.get(e);return n?.isSvg?n.svgUrl:null}deleteId(e){this.#r||=new Map;const n=this.#r.get(e);if(!n||(n.refCounter-=1,n.refCounter!==0))return;const{bitmap:r}=n;if(!n.url&&!n.file){const i=new OffscreenCanvas(r.width,r.height);i.getContext("bitmaprenderer").transferFromImageBitmap(r),n.blobPromise=i.convertToBlob()}r.close?.(),n.bitmap=null}isValidId(e){return e.startsWith(`image_${this.#e}_`)}}class Ake{#e=[];#t=!1;#r;#n=-1;constructor(e=128){this.#r=e}add({cmd:e,undo:n,post:r,mustExec:i,type:s=NaN,overwriteIfSameType:a=!1,keepUndo:o=!1}){if(i&&e(),this.#t)return;const l={cmd:e,undo:n,post:r,type:s};if(this.#n===-1){this.#e.length>0&&(this.#e.length=0),this.#n=0,this.#e.push(l);return}if(a&&this.#e[this.#n].type===s){o&&(l.undo=this.#e[this.#n].undo),this.#e[this.#n]=l;return}const c=this.#n+1;c===this.#r?this.#e.splice(0,1):(this.#n=c,c<this.#e.length&&this.#e.splice(c)),this.#e.push(l)}undo(){if(this.#n===-1)return;this.#t=!0;const{undo:e,post:n}=this.#e[this.#n];e(),n?.(),this.#t=!1,this.#n-=1}redo(){if(this.#n<this.#e.length-1){this.#n+=1,this.#t=!0;const{cmd:e,post:n}=this.#e[this.#n];e(),n?.(),this.#t=!1}}hasSomethingToUndo(){return this.#n!==-1}hasSomethingToRedo(){return this.#n<this.#e.length-1}cleanType(e){if(this.#n!==-1){for(let n=this.#n;n>=0;n--)if(this.#e[n].type!==e){this.#e.splice(n+1,this.#n-n),this.#n=n;return}this.#e.length=0,this.#n=-1}}destroy(){this.#e=null}}class bp{constructor(e){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:n}=Vn.platform;for(const[r,i,s={}]of e)for(const a of r){const o=a.startsWith("mac+");n&&o?(this.callbacks.set(a.slice(4),{callback:i,options:s}),this.allKeys.add(a.split("+").at(-1))):!n&&!o&&(this.callbacks.set(a,{callback:i,options:s}),this.allKeys.add(a.split("+").at(-1)))}}#e(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const n=this.buffer.join("+");return this.buffer.length=0,n}exec(e,n){if(!this.allKeys.has(n.key))return;const r=this.callbacks.get(this.#e(n));if(!r)return;const{callback:i,options:{bubbles:s=!1,args:a=[],checker:o=null}}=r;o&&!o(e,n)||(i.bind(e,...a,n)(),s||vn(n))}}class KR{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return vke(e),pt(this,"_colors",e)}convert(e){const n=yp(e);if(!window.matchMedia("(forced-colors: active)").matches)return n;for(const[r,i]of this._colors)if(i.every((s,a)=>s===n[a]))return KR._colorsMapping.get(r);return n}getHexCode(e){const n=this._colors.get(e);return n?He.makeHexColor(...n):e}}class ko{#e=new AbortController;#t=null;#r=null;#n=new Map;#i=new Map;#a=null;#s=null;#o=null;#c=new Ake;#l=null;#h=null;#d=null;#f=0;#m=new Set;#g=null;#u=null;#p=new Set;_editorUndoBar=null;#y=!1;#v=!1;#b=!1;#E=null;#D=null;#x=null;#A=null;#w=!1;#S=null;#R=new Ske;#C=!1;#k=!1;#P=!1;#M=null;#N=null;#L=null;#F=null;#V=null;#T=gt.NONE;#_=new Set;#O=null;#B=null;#z=null;#G=null;#$=null;#X={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#q=[0,0];#I=null;#H=null;#J=null;#Q=null;#j=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const e=ko.prototype,n=a=>a.#H.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&a.hasSomethingToControl(),r=(a,{target:o})=>{if(o instanceof HTMLInputElement){const{type:l}=o;return l!=="text"&&l!=="number"}return!0},i=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return pt(this,"_keyboardManager",new bp([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:r}],[["ctrl+z","mac+meta+z"],e.undo,{checker:r}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:r}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:r}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&a.#H.contains(o)&&!a.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&a.#H.contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:n}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:n}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:n}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:n}]]))}constructor(e,n,r,i,s,a,o,l,c,d,h,p,g,v,y,b){const x=this._signal=this.#e.signal;this.#H=e,this.#J=n,this.#Q=r,this.#a=i,this.#l=s,this.#B=a,this.#$=l,this._eventBus=o,o._on("editingaction",this.onEditingAction.bind(this),{signal:x}),o._on("pagechanging",this.onPageChanging.bind(this),{signal:x}),o._on("scalechanging",this.onScaleChanging.bind(this),{signal:x}),o._on("rotationchanging",this.onRotationChanging.bind(this),{signal:x}),o._on("setpreference",this.onSetPreference.bind(this),{signal:x}),o._on("switchannotationeditorparams",w=>this.updateParams(w.type,w.value),{signal:x}),window.addEventListener("pointerdown",()=>{this.#k=!0},{capture:!0,signal:x}),window.addEventListener("pointerup",()=>{this.#k=!1},{capture:!0,signal:x}),this.#ae(),this.#he(),this.#te(),this.#s=l.annotationStorage,this.#E=l.filterFactory,this.#z=c,this.#A=d||null,this.#y=h,this.#v=p,this.#b=g,this.#V=v||null,this.viewParameters={realScale:Gu.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=y||null,this._supportsPinchToZoom=b!==!1,s?.setSidebarUiManager(this)}destroy(){this.#j?.resolve(),this.#j=null,this.#e?.abort(),this.#e=null,this._signal=null;for(const e of this.#i.values())e.destroy();this.#i.clear(),this.#n.clear(),this.#p.clear(),this.#F?.clear(),this.#t=null,this.#_.clear(),this.#c.destroy(),this.#a?.destroy(),this.#l?.destroy(),this.#B?.destroy(),this.#S?.hide(),this.#S=null,this.#L?.destroy(),this.#L=null,this.#r=null,this.#D&&(clearTimeout(this.#D),this.#D=null),this.#I&&(clearTimeout(this.#I),this.#I=null),this._editorUndoBar?.destroy(),this.#$=null}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return this.#V}get useNewAltTextFlow(){return this.#v}get useNewAltTextWhenAddingImage(){return this.#b}get hcmFilter(){return pt(this,"hcmFilter",this.#z?this.#E.addHCMFilter(this.#z.foreground,this.#z.background):"none")}get direction(){return pt(this,"direction",getComputedStyle(this.#H).direction)}get _highlightColors(){return pt(this,"_highlightColors",this.#A?new Map(this.#A.split(",").map(e=>(e=e.split("=").map(n=>n.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColors(){const{_highlightColors:e}=this;if(!e)return pt(this,"highlightColors",null);const n=new Map,r=!!this.#z;for(const[i,s]of e){const a=i.endsWith("_HCM");if(r&&a){n.set(i.replace("_HCM",""),s);continue}!r&&!a&&n.set(i,s)}return pt(this,"highlightColors",n)}get highlightColorNames(){return pt(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}getNonHCMColor(e){if(!this._highlightColors)return e;const n=this.highlightColorNames.get(e);return this._highlightColors.get(n)||e}getNonHCMColorName(e){return this.highlightColorNames.get(e)||e}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),this.#d=e}setMainHighlightColorPicker(e){this.#L=e}editAltText(e,n=!1){this.#a?.editAltText(this,e,n)}hasCommentManager(){return!!this.#l}editComment(e,n,r,i){this.#l?.showDialog(this,e,n,r,i)}selectComment(e,n){this.#i.get(e)?.getEditorByUID(n)?.toggleComment(!0,!0)}updateComment(e){this.#l?.updateComment(e.getData())}updatePopupColor(e){this.#l?.updatePopupColor(e)}removeComment(e){this.#l?.removeComments([e.uid])}toggleComment(e,n,r=void 0){this.#l?.toggleCommentPopup(e,n,r)}makeCommentColor(e,n){return e&&this.#l?.makeCommentColor(e,n)||null}getCommentDialogElement(){return this.#l?.dialogElement||null}async waitForEditorsRendered(e){if(this.#i.has(e-1))return;const{resolve:n,promise:r}=Promise.withResolvers(),i=s=>{s.pageNumber===e&&(this._eventBus._off("editorsrendered",i),n())};this._eventBus.on("editorsrendered",i),await r}getSignature(e){this.#B?.getSignature({uiManager:this,editor:e})}get signatureManager(){return this.#B}switchToMode(e,n){this._eventBus.on("annotationeditormodechanged",n,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,n){this._eventBus.dispatch("setpreference",{source:this,name:e,value:n})}onSetPreference({name:e,value:n}){e==="enableNewAltTextWhenAddingImage"&&(this.#b=n)}onPageChanging({pageNumber:e}){this.#f=e-1}focusMainContainer(){this.#H.focus()}findParent(e,n){for(const r of this.#i.values()){const{x:i,y:s,width:a,height:o}=r.div.getBoundingClientRect();if(e>=i&&e<=i+a&&n>=s&&n<=s+o)return r}return null}disableUserSelect(e=!1){this.#J.classList.toggle("noUserSelect",e)}addShouldRescale(e){this.#p.add(e)}removeShouldRescale(e){this.#p.delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*Gu.PDF_TO_CSS_UNITS;for(const n of this.#p)n.onScaleChanging();this.#d?.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}#Z({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e}#ee(e){const{currentLayer:n}=this;if(n.hasTextLayer(e))return n;for(const r of this.#i.values())if(r.hasTextLayer(e))return r;return null}highlightSelection(e="",n=!1){const r=document.getSelection();if(!r||r.isCollapsed)return;const{anchorNode:i,anchorOffset:s,focusNode:a,focusOffset:o}=r,l=r.toString(),d=this.#Z(r).closest(".textLayer"),h=this.getSelectionBoxes(d);if(!h)return;r.empty();const p=this.#ee(d),g=this.#T===gt.NONE,v=()=>{const y=p?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:h,anchorNode:i,anchorOffset:s,focusNode:a,focusOffset:o,text:l});g&&this.showAllEditors("highlight",!0,!0),n&&y?.editComment()};if(g){this.switchToMode(gt.HIGHLIGHT,v);return}v()}commentSelection(e=""){this.highlightSelection(e,!0)}#ie(){const e=document.getSelection();if(!e||e.isCollapsed)return;const r=this.#Z(e).closest(".textLayer"),i=this.getSelectionBoxes(r);i&&(this.#S||=new Eke(this),this.#S.show(r,i,this.direction==="ltr"))}getAndRemoveDataFromAnnotationStorage(e){if(!this.#s)return null;const n=`${Of}${e}`,r=this.#s.getRawValue(n);return r&&this.#s.remove(n),r}addToAnnotationStorage(e){!e.isEmpty()&&this.#s&&!this.#s.has(e.id)&&this.#s.setValue(e.id,e)}a11yAlert(e,n=null){const r=this.#Q;r&&(r.setAttribute("data-l10n-id",e),n?r.setAttribute("data-l10n-args",JSON.stringify(n)):r.removeAttribute("data-l10n-args"))}#se(){const e=document.getSelection();if(!e||e.isCollapsed){this.#O&&(this.#S?.hide(),this.#O=null,this.#U({hasSelectedText:!1}));return}const{anchorNode:n}=e;if(n===this.#O)return;const i=this.#Z(e).closest(".textLayer");if(!i){this.#O&&(this.#S?.hide(),this.#O=null,this.#U({hasSelectedText:!1}));return}if(this.#S?.hide(),this.#O=n,this.#U({hasSelectedText:!0}),!(this.#T!==gt.HIGHLIGHT&&this.#T!==gt.NONE)&&(this.#T===gt.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#w=this.isShiftKeyDown,!this.isShiftKeyDown)){const s=this.#T===gt.HIGHLIGHT?this.#ee(i):null;if(s?.toggleDrawing(),this.#k){const a=new AbortController,o=this.combinedSignal(a),l=c=>{c.type==="pointerup"&&c.button!==0||(a.abort(),s?.toggleDrawing(!0),c.type==="pointerup"&&this.#K("main_toolbar"))};window.addEventListener("pointerup",l,{signal:o}),window.addEventListener("blur",l,{signal:o})}else s?.toggleDrawing(!0),this.#K("main_toolbar")}}#K(e=""){this.#T===gt.HIGHLIGHT?this.highlightSelection(e):this.#y&&this.#ie()}#ae(){document.addEventListener("selectionchange",this.#se.bind(this),{signal:this._signal})}#oe(){if(this.#x)return;this.#x=new AbortController;const e=this.combinedSignal(this.#x);window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})}#le(){this.#x?.abort(),this.#x=null}blur(){if(this.isShiftKeyDown=!1,this.#w&&(this.#w=!1,this.#K("main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const n of this.#_)if(n.div.contains(e)){this.#N=[n,e],n._focusEventsAllowed=!1;break}}focus(){if(!this.#N)return;const[e,n]=this.#N;this.#N=null,n.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),n.focus()}#te(){if(this.#M)return;this.#M=new AbortController;const e=this.combinedSignal(this.#M);window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})}#ce(){this.#M?.abort(),this.#M=null}#ue(){if(this.#h)return;this.#h=new AbortController;const e=this.combinedSignal(this.#h);document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})}#de(){this.#h?.abort(),this.#h=null}#he(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})}addEditListeners(){this.#te(),this.setEditingState(!0)}removeEditListeners(){this.#ce(),this.setEditingState(!1)}dragOver(e){for(const{type:n}of e.dataTransfer.items)for(const r of this.#u)if(r.isHandlingMimeForPasting(n)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const n of e.dataTransfer.items)for(const r of this.#u)if(r.isHandlingMimeForPasting(n.type)){r.paste(n,this.currentLayer),e.preventDefault();return}}copy(e){if(e.preventDefault(),this.#t?.commitOrRemove(),!this.hasSelection)return;const n=[];for(const r of this.#_){const i=r.serialize(!0);i&&n.push(i)}n.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(n))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:n}=e;for(const s of n.items)for(const a of this.#u)if(a.isHandlingMimeForPasting(s.type)){a.paste(s,this.currentLayer);return}let r=n.getData("application/pdfjs");if(!r)return;try{r=JSON.parse(r)}catch(s){ft(`paste: "${s.message}".`);return}if(!Array.isArray(r))return;this.unselectAll();const i=this.currentLayer;try{const s=[];for(const l of r){const c=await i.deserialize(l);if(!c)return;s.push(c)}const a=()=>{for(const l of s)this.#ne(l);this.#re(s)},o=()=>{for(const l of s)l.remove()};this.addCommands({cmd:a,undo:o,mustExec:!0})}catch(s){ft(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),this.#T!==gt.NONE&&!this.isEditorHandlingKeyboard&&ko._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,this.#w&&(this.#w=!1,this.#K("main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}#U(e){Object.entries(e).some(([r,i])=>this.#X[r]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#X,e)}),this.#T===gt.HIGHLIGHT&&e.hasSelectedEditor===!1&&this.#W([[Rt.HIGHLIGHT_FREE,!0]]))}#W(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})}setEditingState(e){e?(this.#oe(),this.#ue(),this.#U({isEditing:this.#T!==gt.NONE,isEmpty:this.#Y(),hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:this.#c.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#le(),this.#de(),this.#U({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!this.#u){this.#u=e;for(const n of this.#u)this.#W(n.defaultPropertiesToUpdate)}}getId(){return this.#R.id}get currentLayer(){return this.#i.get(this.#f)}getLayer(e){return this.#i.get(e)}get currentPageIndex(){return this.#f}addLayer(e){this.#i.set(e.pageIndex,e),this.#C?e.enable():e.disable()}removeLayer(e){this.#i.delete(e.pageIndex)}async updateMode(e,n=null,r=!1,i=!1,s=!1,a=!1){if(this.#T!==e&&!(this.#j&&(await this.#j.promise,!this.#j))){if(this.#j=Promise.withResolvers(),this.#d?.commitOrRemove(),this.#T===gt.POPUP&&this.#l?.hideSidebar(),this.#l?.destroyPopup(),this.#T=e,e===gt.NONE){this.setEditingState(!1),this.#pe();for(const o of this.#n.values())o.hideStandaloneCommentButton();this._editorUndoBar?.hide(),this.toggleComment(null),this.#j.resolve();return}for(const o of this.#n.values())o.addStandaloneCommentButton();e===gt.SIGNATURE&&await this.#B?.loadSignatures(),r&&jt.clearPointerType(),this.setEditingState(!0),await this.#fe(),this.unselectAll();for(const o of this.#i.values())o.updateMode(e);if(e===gt.POPUP){this.#r||=await this.#$.getAnnotationsByType(new Set(this.#u.map(c=>c._editorType)));const o=new Set,l=[];for(const c of this.#n.values()){const{annotationElementId:d,hasComment:h,deleted:p}=c;d&&o.add(d),h&&!p&&l.push(c.getData())}for(const c of this.#r){const{id:d,popupRef:h,contentsObj:p}=c;h&&p?.str&&!o.has(d)&&!this.#m.has(d)&&l.push(c)}this.#l?.showSidebar(l)}if(!n){i&&this.addNewEditorFromKeyboard(),this.#j.resolve();return}for(const o of this.#n.values())o.uid===n?(this.setSelected(o),a?o.editComment():s?o.enterInEditMode():o.focus()):o.unselect();this.#j.resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==this.#T&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,n){if(this.#u){switch(e){case Rt.CREATE:this.currentLayer.addNewEditor(n);return;case Rt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#G||=new Map).set(e,n),this.showAllEditors("highlight",n);break}if(this.hasSelection)for(const r of this.#_)r.updateParams(e,n);else for(const r of this.#u)r.updateDefaultParams(e,n)}}showAllEditors(e,n,r=!1){for(const s of this.#n.values())s.editorType===e&&s.show(n);(this.#G?.get(Rt.HIGHLIGHT_SHOW_ALL)??!0)!==n&&this.#W([[Rt.HIGHLIGHT_SHOW_ALL,n]])}enableWaiting(e=!1){if(this.#P!==e){this.#P=e;for(const n of this.#i.values())e?n.disableClick():n.enableClick(),n.div.classList.toggle("waiting",e)}}async#fe(){if(!this.#C){this.#C=!0;const e=[];for(const n of this.#i.values())e.push(n.enable());await Promise.all(e);for(const n of this.#n.values())n.enable()}}#pe(){if(this.unselectAll(),this.#C){this.#C=!1;for(const e of this.#i.values())e.disable();for(const e of this.#n.values())e.disable()}}*getEditors(e){for(const n of this.#n.values())n.pageIndex===e&&(yield n)}getEditor(e){return this.#n.get(e)}addEditor(e){this.#n.set(e.id,e)}removeEditor(e){e.div.contains(document.activeElement)&&(this.#D&&clearTimeout(this.#D),this.#D=setTimeout(()=>{this.focusMainContainer(),this.#D=null},0)),this.#n.delete(e.id),e.annotationElementId&&this.#F?.delete(e.annotationElementId),this.unselect(e),(!e.annotationElementId||!this.#m.has(e.annotationElementId))&&this.#s?.remove(e.id)}addDeletedAnnotationElement(e){this.#m.add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return this.#m.has(e)}removeDeletedAnnotationElement(e){this.#m.delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}#ne(e){const n=this.#i.get(e.pageIndex);n?n.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))}setActiveEditor(e){this.#t!==e&&(this.#t=e,e&&this.#W(e.propertiesToUpdate))}get#ge(){let e=null;for(e of this.#_);return e}updateUI(e){this.#ge===e&&this.#W(e.propertiesToUpdate)}updateUIForDefaultProperties(e){this.#W(e.defaultPropertiesToUpdate)}toggleSelected(e){if(this.#_.has(e)){this.#_.delete(e),e.unselect(),this.#U({hasSelectedEditor:this.hasSelection});return}this.#_.add(e),e.select(),this.#W(e.propertiesToUpdate),this.#U({hasSelectedEditor:!0})}setSelected(e){this.updateToolbar({mode:e.mode,editId:e.uid}),this.#d?.commitOrRemove();for(const n of this.#_)n!==e&&n.unselect();this.#_.clear(),this.#_.add(e),e.select(),this.#W(e.propertiesToUpdate),this.#U({hasSelectedEditor:!0})}isSelected(e){return this.#_.has(e)}get firstSelectedEditor(){return this.#_.values().next().value}unselect(e){e.unselect(),this.#_.delete(e),this.#U({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#_.size!==0}get isEnterHandled(){return this.#_.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#c.undo(),this.#U({hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#Y()}),this._editorUndoBar?.hide()}redo(){this.#c.redo(),this.#U({hasSomethingToUndo:!0,hasSomethingToRedo:this.#c.hasSomethingToRedo(),isEmpty:this.#Y()})}addCommands(e){this.#c.add(e),this.#U({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#Y()})}cleanUndoStack(e){this.#c.cleanType(e)}#Y(){if(this.#n.size===0)return!0;if(this.#n.size===1)for(const e of this.#n.values())return e.isEmpty();return!1}delete(){this.commitOrRemove();const e=this.currentLayer?.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const n=e?[e]:[...this.#_],r=()=>{this._editorUndoBar?.show(i,n.length===1?n[0].editorType:n.length);for(const s of n)s.remove()},i=()=>{for(const s of n)this.#ne(s)};this.addCommands({cmd:r,undo:i,mustExec:!0})}commitOrRemove(){this.#t?.commitOrRemove()}hasSomethingToControl(){return this.#t||this.hasSelection}#re(e){for(const n of this.#_)n.unselect();this.#_.clear();for(const n of e)n.isEmpty()||(this.#_.add(n),n.select());this.#U({hasSelectedEditor:this.hasSelection})}selectAll(){for(const e of this.#_)e.commit();this.#re(this.#n.values())}unselectAll(){if(!(this.#t&&(this.#t.commitOrRemove(),this.#T!==gt.NONE))&&!this.#d?.commitOrRemove()&&this.hasSelection){for(const e of this.#_)e.unselect();this.#_.clear(),this.#U({hasSelectedEditor:!1})}}translateSelectedEditors(e,n,r=!1){if(r||this.commitOrRemove(),!this.hasSelection)return;this.#q[0]+=e,this.#q[1]+=n;const[i,s]=this.#q,a=[...this.#_],o=1e3;this.#I&&clearTimeout(this.#I),this.#I=setTimeout(()=>{this.#I=null,this.#q[0]=this.#q[1]=0,this.addCommands({cmd:()=>{for(const l of a)this.#n.has(l.id)&&(l.translateInPage(i,s),l.translationDone())},undo:()=>{for(const l of a)this.#n.has(l.id)&&(l.translateInPage(-i,-s),l.translationDone())},mustExec:!1})},o);for(const l of a)l.translateInPage(e,n),l.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#g=new Map;for(const e of this.#_)this.#g.set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#g)return!1;this.disableUserSelect(!1);const e=this.#g;this.#g=null;let n=!1;for(const[{x:i,y:s,pageIndex:a},o]of e)o.newX=i,o.newY=s,o.newPageIndex=a,n||=i!==o.savedX||s!==o.savedY||a!==o.savedPageIndex;if(!n)return!1;const r=(i,s,a,o)=>{if(this.#n.has(i.id)){const l=this.#i.get(o);l?i._setParentAndPosition(l,s,a):(i.pageIndex=o,i.x=s,i.y=a)}};return this.addCommands({cmd:()=>{for(const[i,{newX:s,newY:a,newPageIndex:o}]of e)r(i,s,a,o)},undo:()=>{for(const[i,{savedX:s,savedY:a,savedPageIndex:o}]of e)r(i,s,a,o)},mustExec:!0}),!0}dragSelectedEditors(e,n){if(this.#g)for(const r of this.#g.keys())r.drag(e,n)}rebuild(e){if(e.parent===null){const n=this.getLayer(e.pageIndex);n?(n.changeParent(e),n.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#_.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return this.#t===e}getActive(){return this.#t}getMode(){return this.#T}isEditingMode(){return this.#T!==gt.NONE}get imageManager(){return pt(this,"imageManager",new XR)}getSelectionBoxes(e){if(!e)return null;const n=document.getSelection();for(let c=0,d=n.rangeCount;c<d;c++)if(!e.contains(n.getRangeAt(c).commonAncestorContainer))return null;const{x:r,y:i,width:s,height:a}=e.getBoundingClientRect();let o;switch(e.getAttribute("data-main-rotation")){case"90":o=(c,d,h,p)=>({x:(d-i)/a,y:1-(c+h-r)/s,width:p/a,height:h/s});break;case"180":o=(c,d,h,p)=>({x:1-(c+h-r)/s,y:1-(d+p-i)/a,width:h/s,height:p/a});break;case"270":o=(c,d,h,p)=>({x:1-(d+p-i)/a,y:(c-r)/s,width:p/a,height:h/s});break;default:o=(c,d,h,p)=>({x:(c-r)/s,y:(d-i)/a,width:h/s,height:p/a});break}const l=[];for(let c=0,d=n.rangeCount;c<d;c++){const h=n.getRangeAt(c);if(!h.collapsed)for(const{x:p,y:g,width:v,height:y}of h.getClientRects())v===0||y===0||l.push(o(p,g,v,y))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:n}){(this.#o||=new Map).set(e,n)}removeChangedExistingAnnotation({annotationElementId:e}){this.#o?.delete(e)}renderAnnotationElement(e){const n=this.#o?.get(e.data.id);if(!n)return;const r=this.#s.getRawValue(n);r&&(this.#T===gt.NONE&&!r.hasBeenModified||r.renderAnnotationElement(e))}setMissingCanvas(e,n,r){const i=this.#F?.get(e);i&&(i.setCanvas(n,r),this.#F.delete(e))}addMissingCanvas(e,n){(this.#F||=new Map).set(e,n)}}class Ss{#e=null;#t=!1;#r=null;#n=null;#i=null;#a=null;#s=!1;#o=null;#c=null;#l=null;#h=null;#d=!1;static#f=null;static _l10n=null;constructor(e){this.#c=e,this.#d=e._uiManager.useNewAltTextFlow,Ss.#f||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(e){Ss._l10n??=e}async render(){const e=this.#r=document.createElement("button");e.className="altText",e.tabIndex="0";const n=this.#n=document.createElement("span");e.append(n),this.#d?(e.classList.add("new"),e.setAttribute("data-l10n-id",Ss.#f.missing),n.setAttribute("data-l10n-id",Ss.#f["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),n.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const r=this.#c._uiManager._signal;e.addEventListener("contextmenu",Vi,{signal:r}),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:r});const i=s=>{s.preventDefault(),this.#c._uiManager.editAltText(this.#c),this.#d&&this.#c._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#m}})};return e.addEventListener("click",i,{capture:!0,signal:r}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(this.#s=!0,i(s))},{signal:r}),await this.#g(),e}get#m(){return this.#e&&"added"||this.#e===null&&this.guessedText&&"review"||"missing"}finish(){this.#r&&(this.#r.focus({focusVisible:this.#s}),this.#s=!1)}isEmpty(){return this.#d?this.#e===null:!this.#e&&!this.#t}hasData(){return this.#d?this.#e!==null||!!this.#l:this.isEmpty()}get guessedText(){return this.#l}async setGuessedText(e){this.#e===null&&(this.#l=e,this.#h=await Ss._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e}),this.#g())}toggleAltTextBadge(e=!1){if(!this.#d||this.#e){this.#o?.remove(),this.#o=null;return}if(!this.#o){const n=this.#o=document.createElement("div");n.className="noAltTextBadge",this.#c.div.append(n)}this.#o.classList.toggle("hidden",!e)}serialize(e){let n=this.#e;return!e&&this.#l===n&&(n=this.#h),{altText:n,decorative:this.#t,guessedText:this.#l,textWithDisclaimer:this.#h}}get data(){return{altText:this.#e,decorative:this.#t}}set data({altText:e,decorative:n,guessedText:r,textWithDisclaimer:i,cancel:s=!1}){r&&(this.#l=r,this.#h=i),!(this.#e===e&&this.#t===n)&&(s||(this.#e=e,this.#t=n),this.#g())}toggle(e=!1){this.#r&&(!e&&this.#a&&(clearTimeout(this.#a),this.#a=null),this.#r.disabled=!e)}shown(){this.#c._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#m}})}destroy(){this.#r?.remove(),this.#r=null,this.#n=null,this.#i=null,this.#o?.remove(),this.#o=null}async#g(){const e=this.#r;if(!e)return;if(this.#d){if(e.classList.toggle("done",!!this.#e),e.setAttribute("data-l10n-id",Ss.#f[this.#m]),this.#n?.setAttribute("data-l10n-id",Ss.#f[`${this.#m}-label`]),!this.#e){this.#i?.remove();return}}else{if(!this.#e&&!this.#t){e.classList.remove("done"),this.#i?.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let n=this.#i;if(!n){this.#i=n=document.createElement("span"),n.className="tooltip",n.setAttribute("role","tooltip"),n.id=`alt-text-tooltip-${this.#c.id}`;const i=100,s=this.#c._uiManager._signal;s.addEventListener("abort",()=>{clearTimeout(this.#a),this.#a=null},{once:!0}),e.addEventListener("mouseenter",()=>{this.#a=setTimeout(()=>{this.#a=null,this.#i.classList.add("show"),this.#c._reportTelemetry({action:"alt_text_tooltip"})},i)},{signal:s}),e.addEventListener("mouseleave",()=>{this.#a&&(clearTimeout(this.#a),this.#a=null),this.#i?.classList.remove("show")},{signal:s})}this.#t?n.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(n.removeAttribute("data-l10n-id"),n.textContent=this.#e),n.parentNode||e.append(n),this.#c.getElementForAltText()?.setAttribute("aria-describedby",n.id)}}class vm{#e=null;#t=null;#r=!1;#n=null;#i=null;#a=null;#s=null;#o=null;#c=!1;#l=null;constructor(e){this.#n=e}renderForToolbar(){const e=this.#t=document.createElement("button");return e.className="comment",this.#h(e,!1)}renderForStandalone(){const e=this.#e=document.createElement("button");e.className="annotationCommentButton";const n=this.#n.commentButtonPosition;if(n){const{style:r}=e;r.insetInlineEnd=`calc(${100*(this.#n._uiManager.direction==="ltr"?1-n[0]:n[0])}% - var(--comment-button-dim))`,r.top=`calc(${100*n[1]}% - var(--comment-button-dim))`;const i=this.#n.commentButtonColor;i&&(r.backgroundColor=i)}return this.#h(e,!0)}focusButton(){setTimeout(()=>{(this.#e??this.#t)?.focus()},0)}onUpdatedColor(){if(!this.#e)return;const e=this.#n.commentButtonColor;e&&(this.#e.style.backgroundColor=e),this.#n._uiManager.updatePopupColor(this.#n)}get commentButtonWidth(){return(this.#e?.getBoundingClientRect().width??0)/this.#n.parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(this.#l)return this.#l;if(!this.#e)return null;const{x:e,y:n,height:r}=this.#e.getBoundingClientRect(),{x:i,y:s,width:a,height:o}=this.#n.parent.boundingClientRect;return[(e-i)/a,(n+r-s)/o]}set commentPopupPositionInLayer(e){this.#l=e}hasDefaultPopupPosition(){return this.#l===null}removeStandaloneCommentButton(){this.#e?.remove(),this.#e=null}removeToolbarCommentButton(){this.#t?.remove(),this.#t=null}setCommentButtonStates({selected:e,hasPopup:n}){this.#e&&(this.#e.classList.toggle("selected",e),this.#e.ariaExpanded=n)}#h(e,n){if(!this.#n._uiManager.hasCommentManager())return null;e.tabIndex="0",e.ariaHasPopup="dialog",n?(e.ariaControls="commentPopup",e.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(e.ariaControlsElements=[this.#n._uiManager.getCommentDialogElement()],e.setAttribute("data-l10n-id","pdfjs-editor-add-comment-button"));const r=this.#n._uiManager._signal;if(!(r instanceof AbortSignal)||r.aborted)return e;e.addEventListener("contextmenu",Vi,{signal:r}),n&&(e.addEventListener("focusin",s=>{this.#n._focusEventsAllowed=!1,vn(s)},{capture:!0,signal:r}),e.addEventListener("focusout",s=>{this.#n._focusEventsAllowed=!0,vn(s)},{capture:!0,signal:r})),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:r});const i=s=>{s.preventDefault(),e===this.#t?this.edit():this.#n.toggleComment(!0)};return e.addEventListener("click",i,{capture:!0,signal:r}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(this.#r=!0,i(s))},{signal:r}),e.addEventListener("pointerenter",()=>{this.#n.toggleComment(!1,!0)},{signal:r}),e.addEventListener("pointerleave",()=>{this.#n.toggleComment(!1,!1)},{signal:r}),e}edit(e){const n=this.commentPopupPositionInLayer;let r,i;if(n)[r,i]=n;else{[r,i]=this.#n.commentButtonPosition;const{width:d,height:h,x:p,y:g}=this.#n;r=p+r*d,i=g+i*h}const s=this.#n.parent.boundingClientRect,{x:a,y:o,width:l,height:c}=s;this.#n._uiManager.editComment(this.#n,a+r*l,o+i*c,{...e,parentDimensions:s})}finish(){this.#t&&(this.#t.focus({focusVisible:this.#r}),this.#r=!1)}isDeleted(){return this.#c||this.#s===""}isEmpty(){return this.#s===null}hasBeenEdited(){return this.isDeleted()||this.#s!==this.#i}serialize(){return this.data}get data(){return{text:this.#s,richText:this.#a,date:this.#o,deleted:this.isDeleted()}}set data(e){if(e!==this.#s&&(this.#a=null),e===null){this.#s="",this.#c=!0;return}this.#s=e,this.#o=new Date,this.#c=!1}setInitialText(e,n=null){this.#i=e,this.data=e,this.#o=null,this.#a=n}shown(){}destroy(){this.#t?.remove(),this.#t=null,this.#e?.remove(),this.#e=null,this.#s="",this.#a=null,this.#o=null,this.#n=null,this.#r=!1,this.#c=!1}}class fv{#e;#t=!1;#r=null;#n;#i;#a;#s;#o=null;#c;#l=null;#h;#d=null;constructor({container:e,isPinchingDisabled:n=null,isPinchingStopped:r=null,onPinchStart:i=null,onPinching:s=null,onPinchEnd:a=null,signal:o}){this.#e=e,this.#r=r,this.#n=n,this.#i=i,this.#a=s,this.#s=a,this.#h=new AbortController,this.#c=AbortSignal.any([o,this.#h.signal]),e.addEventListener("touchstart",this.#f.bind(this),{passive:!1,signal:this.#c})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Ns.pixelRatio}#f(e){if(this.#n?.())return;if(e.touches.length===1){if(this.#o)return;const i=this.#o=new AbortController,s=AbortSignal.any([this.#c,i.signal]),a=this.#e,o={capture:!0,signal:s,passive:!1},l=c=>{c.pointerType==="touch"&&(this.#o?.abort(),this.#o=null)};a.addEventListener("pointerdown",c=>{c.pointerType==="touch"&&(vn(c),l(c))},o),a.addEventListener("pointerup",l,o),a.addEventListener("pointercancel",l,o);return}if(!this.#d){this.#d=new AbortController;const i=AbortSignal.any([this.#c,this.#d.signal]),s=this.#e,a={signal:i,capture:!1,passive:!1};s.addEventListener("touchmove",this.#m.bind(this),a);const o=this.#g.bind(this);s.addEventListener("touchend",o,a),s.addEventListener("touchcancel",o,a),a.capture=!0,s.addEventListener("pointerdown",vn,a),s.addEventListener("pointermove",vn,a),s.addEventListener("pointercancel",vn,a),s.addEventListener("pointerup",vn,a),this.#i?.()}if(vn(e),e.touches.length!==2||this.#r?.()){this.#l=null;return}let[n,r]=e.touches;n.identifier>r.identifier&&([n,r]=[r,n]),this.#l={touch0X:n.screenX,touch0Y:n.screenY,touch1X:r.screenX,touch1Y:r.screenY}}#m(e){if(!this.#l||e.touches.length!==2)return;vn(e);let[n,r]=e.touches;n.identifier>r.identifier&&([n,r]=[r,n]);const{screenX:i,screenY:s}=n,{screenX:a,screenY:o}=r,l=this.#l,{touch0X:c,touch0Y:d,touch1X:h,touch1Y:p}=l,g=h-c,v=p-d,y=a-i,b=o-s,x=Math.hypot(y,b)||1,w=Math.hypot(g,v)||1;if(!this.#t&&Math.abs(w-x)<=fv.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(l.touch0X=i,l.touch0Y=s,l.touch1X=a,l.touch1Y=o,!this.#t){this.#t=!0;return}const D=[(i+a)/2,(s+o)/2];this.#a?.(D,w,x)}#g(e){e.touches.length>=2||(this.#d&&(this.#d.abort(),this.#d=null,this.#s?.()),this.#l&&(vn(e),this.#l=null,this.#t=!1))}destroy(){this.#h?.abort(),this.#h=null,this.#o?.abort(),this.#o=null}}class rt{#e=null;#t=null;#r=null;#n=null;#i=null;#a=!1;#s=null;#o="";#c=null;#l=null;#h=null;#d=null;#f=null;#m="";#g=!1;#u=null;#p=!1;#y=!1;#v=!1;#b=null;#E=0;#D=0;#x=null;#A=null;isSelected=!1;_isCopy=!1;_editToolbar=null;_initialOptions=Object.create(null);_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#w=!1;#S=rt._zIndex++;static _borderLineWidth=-1;static _colorManager=new KR;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const e=rt.prototype._resizeWithKeyboard,n=ko.TRANSLATE_SMALL,r=ko.TRANSLATE_BIG;return pt(this,"_resizerKeyboardManager",new bp([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-n,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-r,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[n,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[r,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-n]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-r]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,n]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,r]}],[["Escape","mac+Escape"],rt.prototype._stopResizingWithKeyboard]]))}constructor(e){this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null,this.creationDate=e.creationDate||new Date,this.modificationDate=e.modificationDate||null,this.canAddComment=!0;const{rotation:n,rawDims:{pageWidth:r,pageHeight:i,pageX:s,pageY:a}}=this.parent.viewport;this.rotation=n,this.pageRotation=(360+n-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[r,i],this.pageTranslation=[s,a];const[o,l]=this.parentDimensions;this.x=e.x/o,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return pt(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const n=new Tke({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});n.annotationElementId=e.annotationElementId,n.deleted=!0,n._uiManager.addToAnnotationStorage(n)}static initialize(e,n){if(rt._l10n??=e,rt._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),rt._borderLineWidth!==-1)return;const r=getComputedStyle(document.documentElement);rt._borderLineWidth=parseFloat(r.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,n){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,n){Zt("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#w}set _isDraggable(e){this.#w=e,this.div?.classList.toggle("draggable",e)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[e,n]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*n/(e*2),this.y+=this.width*e/(n*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*n/(e*2),this.y-=this.width*e/(n*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#S}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):(this.#I(),this.#d?.remove(),this.#d=null),this.parent=e}focusin(e){this._focusEventsAllowed&&(this.#g?this.#g=!1:this.parent.setSelected(this))}focusout(e){!this._focusEventsAllowed||!this.isAttachedToDOM||e.relatedTarget?.closest(`#${this.id}`)||(e.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,n,r,i){const[s,a]=this.parentDimensions;[r,i]=this.screenToPageTranslation(r,i),this.x=(e+r)/s,this.y=(n+i)/a,this.fixAndSetPosition()}_moveAfterPaste(e,n){const[r,i]=this.parentDimensions;this.setAt(e*r,n*i,this.width*r,this.height*i),this._onTranslated()}#R([e,n],r,i){[r,i]=this.screenToPageTranslation(r,i),this.x+=r/e,this.y+=i/n,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}translate(e,n){this.#R(this.parentDimensions,e,n)}translateInPage(e,n){this.#u||=[this.x,this.y,this.width,this.height],this.#R(this.pageDimensions,e,n),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,n){this.#u||=[this.x,this.y,this.width,this.height];const{div:r,parentDimensions:[i,s]}=this;if(this.x+=e/i,this.y+=n/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:h,y:p}=this.div.getBoundingClientRect();this.parent.findNewParent(this,h,p)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:a,y:o}=this;const[l,c]=this.getBaseTranslation();a+=l,o+=c;const{style:d}=r;d.left=`${(100*a).toFixed(2)}%`,d.top=`${(100*o).toFixed(2)}%`,this._onTranslating(a,o),r.scrollIntoView({block:"nearest"})}_onTranslating(e,n){}_onTranslated(e,n){}get _hasBeenMoved(){return!!this.#u&&(this.#u[0]!==this.x||this.#u[1]!==this.y)}get _hasBeenResized(){return!!this.#u&&(this.#u[2]!==this.width||this.#u[3]!==this.height)}getBaseTranslation(){const[e,n]=this.parentDimensions,{_borderLineWidth:r}=rt,i=r/e,s=r/n;switch(this.rotation){case 90:return[-i,s];case 180:return[i,s];case 270:return[i,-s];default:return[-i,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:n},pageDimensions:[r,i]}=this;let{x:s,y:a,width:o,height:l}=this;if(o*=r,l*=i,s*=r,a*=i,this._mustFixPosition)switch(e){case 0:s=xr(s,0,r-o),a=xr(a,0,i-l);break;case 90:s=xr(s,0,r-l),a=xr(a,o,i);break;case 180:s=xr(s,o,r),a=xr(a,l,i);break;case 270:s=xr(s,l,r),a=xr(a,0,i-o);break}this.x=s/=r,this.y=a/=i;const[c,d]=this.getBaseTranslation();s+=c,a+=d,n.left=`${(100*s).toFixed(2)}%`,n.top=`${(100*a).toFixed(2)}%`,this.moveInDOM()}static#C(e,n,r){switch(r){case 90:return[n,-e];case 180:return[-e,-n];case 270:return[-n,e];default:return[e,n]}}screenToPageTranslation(e,n){return rt.#C(e,n,this.parentRotation)}pageTranslationToScreen(e,n){return rt.#C(e,n,360-this.parentRotation)}#k(e){switch(e){case 90:{const[n,r]=this.pageDimensions;return[0,-n/r,r/n,0]}case 180:return[-1,0,0,-1];case 270:{const[n,r]=this.pageDimensions;return[0,n/r,-r/n,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[n,r]}=this;return[n*e,r*e]}setDims(){const{div:{style:e},width:n,height:r}=this;e.width=`${(100*n).toFixed(2)}%`,e.height=`${(100*r).toFixed(2)}%`}getInitialTranslation(){return[0,0]}#P(){if(this.#c)return;this.#c=document.createElement("div"),this.#c.classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],n=this._uiManager._signal;for(const r of e){const i=document.createElement("div");this.#c.append(i),i.classList.add("resizer",r),i.setAttribute("data-resizer-name",r),i.addEventListener("pointerdown",this.#M.bind(this,r),{signal:n}),i.addEventListener("contextmenu",Vi,{signal:n}),i.tabIndex=-1}this.div.prepend(this.#c)}#M(e,n){n.preventDefault();const{isMac:r}=Vn.platform;if(n.button!==0||n.ctrlKey&&r)return;this.#r?.toggle(!1);const i=this._isDraggable;this._isDraggable=!1,this.#l=[n.screenX,n.screenY];const s=new AbortController,a=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#F.bind(this,e),{passive:!0,capture:!0,signal:a}),window.addEventListener("touchmove",vn,{passive:!1,signal:a}),window.addEventListener("contextmenu",Vi,{signal:a}),this.#h={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const o=this.parent.div.style.cursor,l=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(n.target).cursor;const c=()=>{s.abort(),this.parent.togglePointerEvents(!0),this.#r?.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=o,this.div.style.cursor=l,this.#L()};window.addEventListener("pointerup",c,{signal:a}),window.addEventListener("blur",c,{signal:a})}#N(e,n,r,i){this.width=r,this.height=i,this.x=e,this.y=n,this.setDims(),this.fixAndSetPosition(),this._onResized()}_onResized(){}#L(){if(!this.#h)return;const{savedX:e,savedY:n,savedWidth:r,savedHeight:i}=this.#h;this.#h=null;const s=this.x,a=this.y,o=this.width,l=this.height;s===e&&a===n&&o===r&&l===i||this.addCommands({cmd:this.#N.bind(this,s,a,o,l),undo:this.#N.bind(this,e,n,r,i),mustExec:!0})}static _round(e){return Math.round(e*1e4)/1e4}#F(e,n){const[r,i]=this.parentDimensions,s=this.x,a=this.y,o=this.width,l=this.height,c=rt.MIN_SIZE/r,d=rt.MIN_SIZE/i,h=this.#k(this.rotation),p=(N,B)=>[h[0]*N+h[2]*B,h[1]*N+h[3]*B],g=this.#k(360-this.rotation),v=(N,B)=>[g[0]*N+g[2]*B,g[1]*N+g[3]*B];let y,b,x=!1,w=!1;switch(e){case"topLeft":x=!0,y=(N,B)=>[0,0],b=(N,B)=>[N,B];break;case"topMiddle":y=(N,B)=>[N/2,0],b=(N,B)=>[N/2,B];break;case"topRight":x=!0,y=(N,B)=>[N,0],b=(N,B)=>[0,B];break;case"middleRight":w=!0,y=(N,B)=>[N,B/2],b=(N,B)=>[0,B/2];break;case"bottomRight":x=!0,y=(N,B)=>[N,B],b=(N,B)=>[0,0];break;case"bottomMiddle":y=(N,B)=>[N/2,B],b=(N,B)=>[N/2,0];break;case"bottomLeft":x=!0,y=(N,B)=>[0,B],b=(N,B)=>[N,0];break;case"middleLeft":w=!0,y=(N,B)=>[0,B/2],b=(N,B)=>[N,B/2];break}const D=y(o,l),E=b(o,l);let A=p(...E);const S=rt._round(s+A[0]),T=rt._round(a+A[1]);let M=1,R=1,O,z;if(n.fromKeyboard)({deltaX:O,deltaY:z}=n);else{const{screenX:N,screenY:B}=n,[G,$]=this.#l;[O,z]=this.screenToPageTranslation(N-G,B-$),this.#l[0]=N,this.#l[1]=B}if([O,z]=v(O/r,z/i),x){const N=Math.hypot(o,l);M=R=Math.max(Math.min(Math.hypot(E[0]-D[0]-O,E[1]-D[1]-z)/N,1/o,1/l),c/o,d/l)}else w?M=xr(Math.abs(E[0]-D[0]-O),c,1)/o:R=xr(Math.abs(E[1]-D[1]-z),d,1)/l;const F=rt._round(o*M),q=rt._round(l*R);A=p(...b(F,q));const k=S-A[0],H=T-A[1];this.#u||=[this.x,this.y,this.width,this.height],this.width=F,this.height=q,this.x=k,this.y=H,this.setDims(),this.fixAndSetPosition(),this._onResizing()}_onResizing(){}altTextFinish(){this.#r?.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||this.#y)return this._editToolbar;this._editToolbar=new rf(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[n,r]of e)await this._editToolbar.addButton(n,r);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){this._editToolbar?.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){this._editToolbar?.removeButton("comment")}removeEditToolbar(){this._editToolbar?.remove(),this._editToolbar=null,this.#r?.destroy()}addContainer(e){const n=this._editToolbar?.div;n?n.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return this.#r||(Ss.initialize(rt._l10n),this.#r=new Ss(this),this.#e&&(this.#r.data=this.#e,this.#e=null)),this.#r}get altTextData(){return this.#r?.data}set altTextData(e){this.#r&&(this.#r.data=e)}get guessedAltText(){return this.#r?.guessedText}async setGuessedAltText(e){await this.#r?.setGuessedText(e)}serializeAltText(e){return this.#r?.serialize(e)}hasAltText(){return!!this.#r&&!this.#r.isEmpty()}hasAltTextData(){return this.#r?.hasData()??!1}focusCommentButton(){this.#n?.focusButton()}addCommentButton(){return this.canAddComment?this.#n||=new vm(this):null}addStandaloneCommentButton(){if(this._uiManager.hasCommentManager()){if(this.#i){this._uiManager.isEditingMode()&&this.#i.classList.remove("hidden");return}this.hasComment&&(this.#i=this.#n.renderForStandalone(),this.div.append(this.#i))}}removeStandaloneCommentButton(){this.#n.removeStandaloneCommentButton(),this.#i=null}hideStandaloneCommentButton(){this.#i?.classList.add("hidden")}get comment(){const{data:{richText:e,text:n,date:r,deleted:i}}=this.#n;return{text:n,richText:e,date:r,deleted:i,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(e){this.#n||=new vm(this),this.#n.data=e,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:e,popupRef:n,richText:r}){if(!n||(this.#n||=new vm(this),this.#n.setInitialText(e,r),!this.annotationElementId))return;const i=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);i&&this.updateFromAnnotationLayer(i)}get hasEditedComment(){return this.#n?.hasBeenEdited()}get hasDeletedComment(){return this.#n?.isDeleted()}get hasComment(){return!!this.#n&&!this.#n.isEmpty()&&!this.#n.isDeleted()}async editComment(e){this.#n||=new vm(this),this.#n.edit(e)}toggleComment(e,n=void 0){this.hasComment&&this._uiManager.toggleComment(this,e,n)}setSelectedCommentButton(e){this.#n.setSelectedButton(e)}addComment(e){if(this.hasEditedComment){const[,,,i]=e.rect,[s]=this.pageDimensions,[a]=this.pageTranslation,o=a+s+1,l=i-100,c=o+180;e.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[o,l,c,i]}}}updateFromAnnotationLayer({popup:{contents:e,deleted:n}}){this.#n.data=n?null:e}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=this.#a?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),this.#z();const[n,r]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*r/n).toFixed(2)}%`,e.style.maxHeight=`${(100*n/r).toFixed(2)}%`);const[i,s]=this.getInitialTranslation();return this.translate(i,s),LK(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(this.#A||=new fv({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:this.#V.bind(this),onPinching:this.#T.bind(this),onPinchEnd:this.#_.bind(this),signal:this._uiManager._signal})),this.addStandaloneCommentButton(),this._uiManager._editorUndoBar?.hide(),e}#V(){this.#h={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height},this.#r?.toggle(!1),this.parent.togglePointerEvents(!1)}#T(e,n,r){let s=.7*(r/n)+1-.7;if(s===1)return;const a=this.#k(this.rotation),o=(S,T)=>[a[0]*S+a[2]*T,a[1]*S+a[3]*T],[l,c]=this.parentDimensions,d=this.x,h=this.y,p=this.width,g=this.height,v=rt.MIN_SIZE/l,y=rt.MIN_SIZE/c;s=Math.max(Math.min(s,1/p,1/g),v/p,y/g);const b=rt._round(p*s),x=rt._round(g*s);if(b===p&&x===g)return;this.#u||=[d,h,p,g];const w=o(p/2,g/2),D=rt._round(d+w[0]),E=rt._round(h+w[1]),A=o(b/2,x/2);this.x=D-A[0],this.y=E-A[1],this.width=b,this.height=x,this.setDims(),this.fixAndSetPosition(),this._onResizing()}#_(){this.#r?.toggle(!0),this.parent.togglePointerEvents(!0),this.#L()}pointerdown(e){const{isMac:n}=Vn.platform;if(e.button!==0||e.ctrlKey&&n){e.preventDefault();return}if(this.#g=!0,this._isDraggable){this.#B(e);return}this.#O(e)}#O(e){const{isMac:n}=Vn.platform;e.ctrlKey&&!n||e.shiftKey||e.metaKey&&n?this.parent.toggleSelected(this):this.parent.setSelected(this)}#B(e){const{isSelected:n}=this;this._uiManager.setUpDragSession();let r=!1;const i=new AbortController,s=this._uiManager.combinedSignal(i),a={capture:!0,passive:!1,signal:s},o=c=>{i.abort(),this.#s=null,this.#g=!1,this._uiManager.endDragSession()||this.#O(c),r&&this._onStopDragging()};n&&(this.#E=e.clientX,this.#D=e.clientY,this.#s=e.pointerId,this.#o=e.pointerType,window.addEventListener("pointermove",c=>{r||(r=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:d,clientY:h,pointerId:p}=c;if(p!==this.#s){vn(c);return}const[g,v]=this.screenToPageTranslation(d-this.#E,h-this.#D);this.#E=d,this.#D=h,this._uiManager.dragSelectedEditors(g,v)},a),window.addEventListener("touchmove",vn,a),window.addEventListener("pointerdown",c=>{c.pointerType===this.#o&&(this.#A||c.isPrimary)&&o(c),vn(c)},a));const l=c=>{if(!this.#s||this.#s===c.pointerId){o(c);return}vn(c)};window.addEventListener("pointerup",l,{signal:s}),window.addEventListener("blur",l,{signal:s})}_onStartDragging(){}_onStopDragging(){}moveInDOM(){this.#b&&clearTimeout(this.#b),this.#b=setTimeout(()=>{this.#b=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(e,n,r){e.changeParent(this),this.x=n,this.y=r,this.fixAndSetPosition(),this._onTranslated()}getRect(e,n,r=this.rotation){const i=this.parentScale,[s,a]=this.pageDimensions,[o,l]=this.pageTranslation,c=e/i,d=n/i,h=this.x*s,p=this.y*a,g=this.width*s,v=this.height*a;switch(r){case 0:return[h+c+o,a-p-d-v+l,h+c+g+o,a-p-d+l];case 90:return[h+d+o,a-p+c+l,h+d+v+o,a-p+c+g+l];case 180:return[h-c-g+o,a-p+d+l,h-c+o,a-p+d+v+l];case 270:return[h-d-v+o,a-p-c-g+l,h-d+o,a-p-c+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,n){const[r,i,s,a]=e,o=s-r,l=a-i;switch(this.rotation){case 0:return[r,n-a,o,l];case 90:return[r,n-i,l,o];case 180:return[s,n-i,o,l];case 270:return[s,n-a,l,o];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&rt._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){this.#n?.onUpdatedColor()}getData(){const{comment:{text:e,color:n,date:r,opacity:i,deleted:s,richText:a},uid:o,pageIndex:l,creationDate:c,modificationDate:d}=this;return{id:o,pageIndex:l,rect:this.getPDFRect(),richText:a,contentsObj:{str:e},creationDate:c,modificationDate:r||d,popupRef:!s,color:n,opacity:i}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),this.#y=!0,!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),this.#y=!1,!0):!1}isInEditMode(){return this.#y}shouldGetKeyboardEvents(){return this.#v}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:n,bottom:r,right:i}=this.getClientDimensions(),{innerHeight:s,innerWidth:a}=window;return n<a&&i>0&&e<s&&r>0}#z(){if(this.#f||!this.div)return;this.#f=new AbortController;const e=this._uiManager.combinedSignal(this.#f);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})}rebuild(){this.#z()}rotate(e){}resize(){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(e=!1,n=null){return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:this._initialData?.popupRef||""}}static async deserialize(e,n,r){const i=new this.prototype.constructor({parent:n,id:n.getNextId(),uiManager:r,annotationElementId:e.annotationElementId,creationDate:e.creationDate,modificationDate:e.modificationDate});i.rotation=e.rotation,i.#e=e.accessibilityData,i._isCopy=e.isCopy||!1;const[s,a]=i.pageDimensions,[o,l,c,d]=i.getRectInCurrentCoords(e.rect,a);return i.x=o/s,i.y=l/a,i.width=c/s,i.height=d/a,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.#f?.abort(),this.#f=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.hideCommentPopup(),this.#b&&(clearTimeout(this.#b),this.#b=null),this.#I(),this.removeEditToolbar(),this.#x){for(const e of this.#x.values())clearTimeout(e);this.#x=null}this.parent=null,this.#A?.destroy(),this.#A=null,this.#d?.remove(),this.#d=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#P(),this.#c.classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[e,n]}=this,[r,i,s,a]=this.getPDFRect();return[rt._round(r+(s-r)*e),rt._round(i+(a-i)*(1-n))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return this.#n.commentPopupPositionInLayer}set commentPopupPosition(e){this.#n.commentPopupPositionInLayer=e}hasDefaultPopupPosition(){return this.#n.hasDefaultPopupPosition()}get commentButtonWidth(){return this.#n.commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(e){this.#n?.setCommentButtonStates(e)}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),this.#h={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const n=this.#c.children;if(!this.#t){this.#t=Array.from(n);const a=this.#G.bind(this),o=this.#$.bind(this),l=this._uiManager._signal;for(const c of this.#t){const d=c.getAttribute("data-resizer-name");c.setAttribute("role","spinbutton"),c.addEventListener("keydown",a,{signal:l}),c.addEventListener("blur",o,{signal:l}),c.addEventListener("focus",this.#X.bind(this,d),{signal:l}),c.setAttribute("data-l10n-id",rt._l10nResizer[d])}}const r=this.#t[0];let i=0;for(const a of n){if(a===r)break;i++}const s=(360-this.rotation+this.parentRotation)%360/90*(this.#t.length/4);if(s!==i){if(s<i)for(let o=0;o<i-s;o++)this.#c.append(this.#c.firstElementChild);else if(s>i)for(let o=0;o<s-i;o++)this.#c.firstElementChild.before(this.#c.lastElementChild);let a=0;for(const o of n){const c=this.#t[a++].getAttribute("data-resizer-name");o.setAttribute("data-l10n-id",rt._l10nResizer[c])}}this.#q(0),this.#v=!0,this.#c.firstElementChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}#G(e){rt._resizerKeyboardManager.exec(this,e)}#$(e){this.#v&&e.relatedTarget?.parentNode!==this.#c&&this.#I()}#X(e){this.#m=this.#v?e:""}#q(e){if(this.#t)for(const n of this.#t)n.tabIndex=e}_resizeWithKeyboard(e,n){this.#v&&this.#F(this.#m,{deltaX:e,deltaY:n,fromKeyboard:!0})}#I(){this.#v=!1,this.#q(-1),this.#L()}_stopResizingWithKeyboard(){this.#I(),this.div.focus()}select(){if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),this.div?.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()});return}this._editToolbar?.show(),this.#r?.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>this.div?.focus({preventScroll:!0}),0)}unselect(){this.isSelected&&(this.isSelected=!1,this.#c?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#r?.toggleAltTextBadge(!0),this.hideCommentPopup())}hideCommentPopup(){this.hasComment&&this._uiManager.toggleComment(null)}updateParams(e,n){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){e.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.uid}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return this.#p}set isEditing(e){this.#p=e,this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,n=!1){if(n){this.#x||=new Map;const{action:r}=e;let i=this.#x.get(r);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),this.#x.delete(r),this.#x.size===0&&(this.#x=null)},rt._telemetryTimeout),this.#x.set(r,i);return}e.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),this.#a=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#a=!0}updateFakeAnnotationElement(e){if(!this.#d&&!this.deleted){this.#d=e.addFakeAnnotation(this);return}if(this.deleted){this.#d.remove(),this.#d=null;return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&this.#d.updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;let n=e.container.querySelector(".annotationContent");if(!n)n=document.createElement("div"),n.classList.add("annotationContent",this.editorType),e.container.prepend(n);else if(n.nodeName==="CANVAS"){const r=n;n=document.createElement("div"),n.classList.add("annotationContent",this.editorType),r.before(n)}return n}resetAnnotationElement(e){const{firstElementChild:n}=e.container;n?.nodeName==="DIV"&&n.classList.contains("annotationContent")&&n.remove()}}class Tke extends rt{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const Wj=3285377520,ki=4294901760,ws=65535;class BK{constructor(e){this.h1=e?e&4294967295:Wj,this.h2=e?e&4294967295:Wj}update(e){let n,r;if(typeof e=="string"){n=new Uint8Array(e.length*2),r=0;for(let y=0,b=e.length;y<b;y++){const x=e.charCodeAt(y);x<=255?n[r++]=x:(n[r++]=x>>>8,n[r++]=x&255)}}else if(ArrayBuffer.isView(e))n=e.slice(),r=n.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=r>>2,s=r-i*4,a=new Uint32Array(n.buffer,0,i);let o=0,l=0,c=this.h1,d=this.h2;const h=3432918353,p=461845907,g=h&ws,v=p&ws;for(let y=0;y<i;y++)y&1?(o=a[y],o=o*h&ki|o*g&ws,o=o<<15|o>>>17,o=o*p&ki|o*v&ws,c^=o,c=c<<13|c>>>19,c=c*5+3864292196):(l=a[y],l=l*h&ki|l*g&ws,l=l<<15|l>>>17,l=l*p&ki|l*v&ws,d^=l,d=d<<13|d>>>19,d=d*5+3864292196);switch(o=0,s){case 3:o^=n[i*4+2]<<16;case 2:o^=n[i*4+1]<<8;case 1:o^=n[i*4],o=o*h&ki|o*g&ws,o=o<<15|o>>>17,o=o*p&ki|o*v&ws,i&1?c^=o:d^=o}this.h1=c,this.h2=d}hexdigest(){let e=this.h1,n=this.h2;return e^=n>>>1,e=e*3981806797&ki|e*36045&ws,n=n*4283543511&ki|((n<<16|e>>>16)*2950163797&ki)>>>16,e^=n>>>1,e=e*444984403&ki|e*60499&ws,n=n*3301882366&ki|((n<<16|e>>>16)*3120437893&ki)>>>16,e^=n>>>1,(e>>>0).toString(16).padStart(8,"0")+(n>>>0).toString(16).padStart(8,"0")}}const EC=Object.freeze({map:null,hash:"",transfer:void 0});class YR{#e=!1;#t=null;#r=null;#n=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,n){const r=this.#n.get(e);return r===void 0?n:Object.assign(n,r)}getRawValue(e){return this.#n.get(e)}remove(e){const n=this.#n.get(e);if(n!==void 0&&(n instanceof rt&&this.#r.delete(n.annotationElementId),this.#n.delete(e),this.#n.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const r of this.#n.values())if(r instanceof rt)return;this.onAnnotationEditor(null)}}setValue(e,n){const r=this.#n.get(e);let i=!1;if(r!==void 0)for(const[s,a]of Object.entries(n))r[s]!==a&&(i=!0,r[s]=a);else i=!0,this.#n.set(e,n);i&&this.#i(),n instanceof rt&&((this.#r||=new Map).set(n.annotationElementId,n),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(n.constructor._type))}has(e){return this.#n.has(e)}get size(){return this.#n.size}#i(){this.#e||(this.#e=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#e&&(this.#e=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new jK(this)}get serializable(){if(this.#n.size===0)return EC;const e=new Map,n=new BK,r=[],i=Object.create(null);let s=!1;for(const[a,o]of this.#n){const l=o instanceof rt?o.serialize(!1,i):o;l&&(e.set(a,l),n.update(`${a}:${JSON.stringify(l)}`),s||=!!l.bitmap)}if(s)for(const a of e.values())a.bitmap&&r.push(a.bitmap);return e.size>0?{map:e,hash:n.hexdigest(),transfer:r}:EC}get editorStats(){let e=null;const n=new Map;let r=0,i=0;for(const s of this.#n.values()){if(!(s instanceof rt)){s.popup&&(s.popup.deleted?i+=1:r+=1);continue}s.isCommentDeleted?i+=1:s.hasEditedComment&&(r+=1);const a=s.telemetryFinalData;if(!a)continue;const{type:o}=a;n.has(o)||n.set(o,Object.getPrototypeOf(s).constructor),e||=Object.create(null);const l=e[o]||=new Map;for(const[c,d]of Object.entries(a)){if(c==="type")continue;let h=l.get(c);h||(h=new Map,l.set(c,h));const p=h.get(d)??0;h.set(d,p+1)}}if((i>0||r>0)&&(e||=Object.create(null),e.comments={deleted:i,edited:r}),!e)return null;for(const[s,a]of n)e[s]=a.computeTelemetryFinalData(e[s]);return e}resetModifiedIds(){this.#t=null}updateEditor(e,n){const r=this.#r?.get(e);return r?(r.updateFromAnnotationLayer(n),!0):!1}getEditor(e){return this.#r?.get(e)||null}get modifiedIds(){if(this.#t)return this.#t;const e=[];if(this.#r)for(const n of this.#r.values())n.serialize()&&e.push(n.annotationElementId);return this.#t={ids:new Set(e),hash:e.join(",")}}[Symbol.iterator](){return this.#n.entries()}}class jK extends YR{#e;constructor(e){super();const{map:n,hash:r,transfer:i}=e.serializable,s=structuredClone(n,i?{transfer:i}:null);this.#e={map:s,hash:r,transfer:i}}get print(){Zt("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#e}get modifiedIds(){return pt(this,"modifiedIds",{ids:new Set,hash:""})}}class Cke{#e=new Set;constructor({ownerDocument:e=globalThis.document,styleElement:n=null}){this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const n=this.styleElement.sheet;n.insertRule(e,n.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),this.#e.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:n,_inspectFont:r}){if(!(!e||this.#e.has(e.loadedName))){if(Ut(!n,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:i,src:s,style:a}=e,o=new FontFace(i,s,a);this.addNativeFontFace(o);try{await o.load(),this.#e.add(i),r?.(e)}catch{ft(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}return}Zt("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const r=e.createNativeFontFace();if(r){this.addNativeFontFace(r);try{await r.loaded}catch(i){throw ft(`Failed to load font '${r.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const n=e.createFontFaceRule();if(n){if(this.insertRule(n),this.isSyncFontLoadingSupported)return;await new Promise(r=>{const i=this._queueLoadingCallback(r);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){const e=!!this._document?.fonts;return pt(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return pt(this,"isSyncFontLoadingSupported",vr||Vn.platform.isFirefox)}_queueLoadingCallback(e){function n(){for(Ut(!i.done,"completeRequest() cannot be called twice."),i.done=!0;r.length>0&&r[0].done;){const s=r.shift();setTimeout(s.callback,0)}}const{loadingRequests:r}=this,i={done:!1,complete:n,callback:e};return r.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return pt(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,n){function r(E,A){return E.charCodeAt(A)<<24|E.charCodeAt(A+1)<<16|E.charCodeAt(A+2)<<8|E.charCodeAt(A+3)&255}function i(E,A,S,T){const M=E.substring(0,A),R=E.substring(A+S);return M+T+R}let s,a;const o=this._document.createElement("canvas");o.width=1,o.height=1;const l=o.getContext("2d");let c=0;function d(E,A){if(++c>30){ft("Load test font never loaded."),A();return}if(l.font="30px "+E,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){A();return}setTimeout(d.bind(null,E,A))}const h=`lt${Date.now()}${this.loadTestFontId++}`;let p=this._loadTestFont;p=i(p,976,h.length,h);const v=16,y=1482184792;let b=r(p,v);for(s=0,a=h.length-3;s<a;s+=4)b=b-y+r(h,s)|0;s<h.length&&(b=b-y+r(h+"XXX",s)|0),p=i(p,v,4,lke(b));const x=`url(data:font/opentype;base64,${btoa(p)});`,w=`@font-face {font-family:"${h}";src:${x}}`;this.insertRule(w);const D=this._document.createElement("div");D.style.visibility="hidden",D.style.width=D.style.height="10px",D.style.position="absolute",D.style.top=D.style.left="0px";for(const E of[e.loadedName,h]){const A=this._document.createElement("span");A.textContent="Hi",A.style.fontFamily=E,D.append(A)}this._document.body.append(D),d(h,()=>{D.remove(),n.complete()})}}class kke{#e;constructor(e,n=null,r,i){this.compiledGlyphs=Object.create(null),this.#e=e,this._inspectFont=n,r&&Object.assign(this,r),i&&(this.charProcOperatorList=i)}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const n={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(n.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,n)}return this._inspectFont?.(this),e}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${NK(this.data)});`;let n;if(!this.cssFontInfo)n=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let r=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(r+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),n=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${r}src:${e}}`}return this._inspectFont?.(this,e),n}getPathGenerator(e,n){if(this.compiledGlyphs[n]!==void 0)return this.compiledGlyphs[n];const r=this.loadedName+"_path_"+n;let i;try{i=e.get(r)}catch(a){ft(`getPathGenerator - ignoring character: "${a}".`)}const s=PK(i?.path);return this.fontExtraProperties||e.delete(r),this.compiledGlyphs[n]=s}get black(){return this.#e.black}get bold(){return this.#e.bold}get disableFontFace(){return this.#e.disableFontFace??!1}set disableFontFace(e){pt(this,"disableFontFace",!!e)}get fontExtraProperties(){return this.#e.fontExtraProperties??!1}get isInvalidPDFjsFont(){return this.#e.isInvalidPDFjsFont}get isType3Font(){return this.#e.isType3Font}get italic(){return this.#e.italic}get missingFile(){return this.#e.missingFile}get remeasure(){return this.#e.remeasure}get vertical(){return this.#e.vertical}get ascent(){return this.#e.ascent}get defaultWidth(){return this.#e.defaultWidth}get descent(){return this.#e.descent}get bbox(){return this.#e.bbox}set bbox(e){pt(this,"bbox",e)}get fontMatrix(){return this.#e.fontMatrix}get fallbackName(){return this.#e.fallbackName}get loadedName(){return this.#e.loadedName}get mimetype(){return this.#e.mimetype}get name(){return this.#e.name}get data(){return this.#e.data}clearData(){this.#e.clearData()}get cssFontInfo(){return this.#e.cssFontInfo}get systemFontInfo(){return this.#e.systemFontInfo}get defaultVMetrics(){return this.#e.defaultVMetrics}}class Mu{#e;#t;#r;static strings=["fontFamily","fontWeight","italicAngle"];static write(e){const n=new TextEncoder,r={};let i=0;for(const c of Mu.strings){const d=n.encode(e[c]);r[c]=d,i+=4+d.length}const s=new ArrayBuffer(i),a=new Uint8Array(s),o=new DataView(s);let l=0;for(const c of Mu.strings){const d=r[c],h=d.length;o.setUint32(l,h),a.set(d,l+4),l+=4+h}return Ut(l===s.byteLength,"CssFontInfo.write: Buffer overflow"),s}constructor(e){this.#e=e,this.#t=new DataView(this.#e),this.#r=new TextDecoder}#n(e){Ut(e<Mu.strings.length,"Invalid string index");let n=0;for(let i=0;i<e;i++)n+=this.#t.getUint32(n)+4;const r=this.#t.getUint32(n);return this.#r.decode(new Uint8Array(this.#e,n+4,r))}get fontFamily(){return this.#n(0)}get fontWeight(){return this.#n(1)}get italicAngle(){return this.#n(2)}}class Ou{#e;#t;#r;static strings=["css","loadedName","baseFontName","src"];static write(e){const n=new TextEncoder,r={};let i=0;for(const p of Ou.strings){const g=n.encode(e[p]);r[p]=g,i+=4+g.length}i+=4;let s,a,o=1+i;e.style&&(s=n.encode(e.style.style),a=n.encode(e.style.weight),o+=4+s.length+4+a.length);const l=new ArrayBuffer(o),c=new Uint8Array(l),d=new DataView(l);let h=0;d.setUint8(h++,e.guessFallback?1:0),d.setUint32(h,0),h+=4,i=0;for(const p of Ou.strings){const g=r[p],v=g.length;i+=4+v,d.setUint32(h,v),c.set(g,h+4),h+=4+v}return d.setUint32(h-i-4,i),e.style&&(d.setUint32(h,s.length),c.set(s,h+4),h+=4+s.length,d.setUint32(h,a.length),c.set(a,h+4),h+=4+a.length),Ut(h<=l.byteLength,"SubstitionInfo.write: Buffer overflow"),l.transferToFixedLength(h)}constructor(e){this.#e=e,this.#t=new DataView(this.#e),this.#r=new TextDecoder}get guessFallback(){return this.#t.getUint8(0)!==0}#n(e){Ut(e<Ou.strings.length,"Invalid string index");let n=5;for(let i=0;i<e;i++)n+=this.#t.getUint32(n)+4;const r=this.#t.getUint32(n);return this.#r.decode(new Uint8Array(this.#e,n+4,r))}get css(){return this.#n(0)}get loadedName(){return this.#n(1)}get baseFontName(){return this.#n(2)}get src(){return this.#n(3)}get style(){let e=1;e+=4+this.#t.getUint32(e);const n=this.#t.getUint32(e),r=this.#r.decode(new Uint8Array(this.#e,e+4,n));e+=4+n;const i=this.#t.getUint32(e),s=this.#r.decode(new Uint8Array(this.#e,e+4,i));return{style:r,weight:s}}}class Xt{static bools=["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"];static numbers=["ascent","defaultWidth","descent"];static strings=["fallbackName","loadedName","mimetype","name"];static#e=Math.ceil(this.bools.length*2/8);static#t=this.#e+this.numbers.length*8;static#r=this.#t+1+8;static#n=this.#r+1+48;static#i=this.#n+1+6;#a;#s;#o;constructor({data:e,extra:n}){this.#a=e,this.#s=new TextDecoder,this.#o=new DataView(this.#a),n&&Object.assign(this,n)}#c(e){Ut(e<Xt.bools.length,"Invalid boolean index");const n=Math.floor(e/4),r=e*2%8,i=this.#o.getUint8(n)>>r&3;return i===0?void 0:i===2}get black(){return this.#c(0)}get bold(){return this.#c(1)}get disableFontFace(){return this.#c(2)}get fontExtraProperties(){return this.#c(3)}get isInvalidPDFjsFont(){return this.#c(4)}get isType3Font(){return this.#c(5)}get italic(){return this.#c(6)}get missingFile(){return this.#c(7)}get remeasure(){return this.#c(8)}get vertical(){return this.#c(9)}#l(e){return Ut(e<Xt.numbers.length,"Invalid number index"),this.#o.getFloat64(Xt.#e+e*8)}get ascent(){return this.#l(0)}get defaultWidth(){return this.#l(1)}get descent(){return this.#l(2)}get bbox(){let e=Xt.#t;if(this.#o.getUint8(e)===0)return;e+=1;const r=[];for(let i=0;i<4;i++)r.push(this.#o.getInt16(e,!0)),e+=2;return r}get fontMatrix(){let e=Xt.#r;if(this.#o.getUint8(e)===0)return;e+=1;const r=[];for(let i=0;i<6;i++)r.push(this.#o.getFloat64(e,!0)),e+=8;return r}get defaultVMetrics(){let e=Xt.#n;if(this.#o.getUint8(e)===0)return;e+=1;const r=[];for(let i=0;i<3;i++)r.push(this.#o.getInt16(e,!0)),e+=2;return r}#h(e){Ut(e<Xt.strings.length,"Invalid string index");let n=Xt.#i+4;for(let s=0;s<e;s++)n+=this.#o.getUint32(n)+4;const r=this.#o.getUint32(n),i=new Uint8Array(r);return i.set(new Uint8Array(this.#a,n+4,r)),this.#s.decode(i)}get fallbackName(){return this.#h(0)}get loadedName(){return this.#h(1)}get mimetype(){return this.#h(2)}get name(){return this.#h(3)}get data(){let e=Xt.#i;const n=this.#o.getUint32(e);e+=4+n;const r=this.#o.getUint32(e);e+=4+r;const i=this.#o.getUint32(e);e+=4+i;const s=this.#o.getUint32(e);if(s!==0)return new Uint8Array(this.#a,e+4,s)}clearData(){let e=Xt.#i;const n=this.#o.getUint32(e);e+=4+n;const r=this.#o.getUint32(e);e+=4+r;const i=this.#o.getUint32(e);e+=4+i;const s=this.#o.getUint32(e);new Uint8Array(this.#a,e+4,s).fill(0),this.#o.setUint32(e,0)}get cssFontInfo(){let e=Xt.#i;const n=this.#o.getUint32(e);e+=4+n;const r=this.#o.getUint32(e);e+=4+r;const i=this.#o.getUint32(e);if(i===0)return null;const s=new Uint8Array(i);return s.set(new Uint8Array(this.#a,e+4,i)),new Mu(s.buffer)}get systemFontInfo(){let e=Xt.#i;const n=this.#o.getUint32(e);e+=4+n;const r=this.#o.getUint32(e);if(r===0)return null;const i=new Uint8Array(r);return i.set(new Uint8Array(this.#a,e+4,r)),new Ou(i.buffer)}static write(e){const n=e.systemFontInfo?Ou.write(e.systemFontInfo):null,r=e.cssFontInfo?Mu.write(e.cssFontInfo):null,i=new TextEncoder,s={};let a=0;for(const y of Xt.strings)s[y]=i.encode(e[y]),a+=4+s[y].length;const o=Xt.#i+4+a+4+(n?n.byteLength:0)+4+(r?r.byteLength:0)+4+(e.data?e.data.length:0),l=new ArrayBuffer(o),c=new Uint8Array(l),d=new DataView(l);let h=0;const p=Xt.bools.length;let g=0,v=0;for(let y=0;y<p;y++){const b=e[Xt.bools[y]];g|=(b===void 0?0:b?2:1)<<v,v+=2,(v===8||y===p-1)&&(d.setUint8(h++,g),g=0,v=0)}Ut(h===Xt.#e,"FontInfo.write: Boolean properties offset mismatch");for(const y of Xt.numbers)d.setFloat64(h,e[y]),h+=8;if(Ut(h===Xt.#t,"FontInfo.write: Number properties offset mismatch"),e.bbox){d.setUint8(h++,4);for(const y of e.bbox)d.setInt16(h,y,!0),h+=2}else d.setUint8(h++,0),h+=8;if(Ut(h===Xt.#r,"FontInfo.write: BBox properties offset mismatch"),e.fontMatrix){d.setUint8(h++,6);for(const y of e.fontMatrix)d.setFloat64(h,y,!0),h+=8}else d.setUint8(h++,0),h+=48;if(Ut(h===Xt.#n,"FontInfo.write: FontMatrix properties offset mismatch"),e.defaultVMetrics){d.setUint8(h++,1);for(const y of e.defaultVMetrics)d.setInt16(h,y,!0),h+=2}else d.setUint8(h++,0),h+=6;Ut(h===Xt.#i,"FontInfo.write: DefaultVMetrics properties offset mismatch"),d.setUint32(Xt.#i,0),h+=4;for(const y of Xt.strings){const b=s[y],x=b.length;d.setUint32(h,x),c.set(b,h+4),h+=4+x}if(d.setUint32(Xt.#i,h-Xt.#i-4),!n)d.setUint32(h,0),h+=4;else{const y=n.byteLength;d.setUint32(h,y),Ut(h+4+y<=l.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),c.set(new Uint8Array(n),h+4),h+=4+y}if(!r)d.setUint32(h,0),h+=4;else{const y=r.byteLength;d.setUint32(h,y),Ut(h+4+y<=l.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),c.set(new Uint8Array(r),h+4),h+=4+y}return e.data===void 0?(d.setUint32(h,0),h+=4):(d.setUint32(h,e.data.length),c.set(e.data,h+4),h+=4+e.data.length),Ut(h<=l.byteLength,"FontInfo.write: Buffer overflow"),l.transferToFixedLength(h)}}class Kn{static#e=0;static#t=1;static#r=2;static#n=3;static#i=4;static#a=8;static#s=12;static#o=16;constructor(e){this.buffer=e,this.view=new DataView(e),this.data=new Uint8Array(e)}static write(e){let n,r=null,i=[],s=[],a=[],o=[],l=null,c=null;switch(e[0]){case"RadialAxial":n=e[1]==="axial"?1:2,r=e[2],a=e[3],n===1?i.push(...e[4],...e[5]):i.push(e[4][0],e[4][1],e[6],e[5][0],e[5][1],e[7]);break;case"Mesh":n=3,l=e[1],i=e[2],s=e[3],o=e[4]||[],r=e[6],c=e[7];break;default:throw new Error(`Unsupported pattern type: ${e[0]}`)}const d=Math.floor(i.length/2),h=Math.floor(s.length/3),p=a.length,g=o.length;let v=0;for(const A of o)v+=1,v=Math.ceil(v/4)*4,v+=4+A.coords.length*4,v+=4+A.colors.length*4,A.verticesPerRow!==void 0&&(v+=4);const y=20+d*8+h*3+p*8+(r?16:0)+(c?3:0)+v,b=new ArrayBuffer(y),x=new DataView(b),w=new Uint8Array(b);x.setUint8(Kn.#e,n),x.setUint8(Kn.#t,r?1:0),x.setUint8(Kn.#r,c?1:0),x.setUint8(Kn.#n,l),x.setUint32(Kn.#i,d,!0),x.setUint32(Kn.#a,h,!0),x.setUint32(Kn.#s,p,!0),x.setUint32(Kn.#o,g,!0);let D=20;new Float32Array(b,D,d*2).set(i),D+=d*8,w.set(s,D),D+=h*3;for(const[A,S]of a)x.setFloat32(D,A,!0),D+=4,x.setUint32(D,parseInt(S.slice(1),16),!0),D+=4;if(r)for(const A of r)x.setFloat32(D,A,!0),D+=4;c&&(w.set(c,D),D+=3);for(let A=0;A<o.length;A++){const S=o[A];x.setUint8(D,S.type),D+=1,D=Math.ceil(D/4)*4,x.setUint32(D,S.coords.length,!0),D+=4,new Int32Array(b,D,S.coords.length).set(S.coords),D+=S.coords.length*4,x.setUint32(D,S.colors.length,!0),D+=4,new Int32Array(b,D,S.colors.length).set(S.colors),D+=S.colors.length*4,S.verticesPerRow!==void 0&&(x.setUint32(D,S.verticesPerRow,!0),D+=4)}return b}getIR(){const e=this.view,n=this.data[Kn.#e],r=!!this.data[Kn.#t],i=!!this.data[Kn.#r],s=e.getUint32(Kn.#i,!0),a=e.getUint32(Kn.#a,!0),o=e.getUint32(Kn.#s,!0),l=e.getUint32(Kn.#o,!0);let c=20;const d=new Float32Array(this.buffer,c,s*2);c+=s*8;const h=new Uint8Array(this.buffer,c,a*3);c+=a*3;const p=[];for(let b=0;b<o;++b){const x=e.getFloat32(c,!0);c+=4;const w=e.getUint32(c,!0);c+=4,p.push([x,`#${w.toString(16).padStart(6,"0")}`])}let g=null;if(r){g=[];for(let b=0;b<4;++b)g.push(e.getFloat32(c,!0)),c+=4}let v=null;i&&(v=new Uint8Array(this.buffer,c,3),c+=3);const y=[];for(let b=0;b<l;++b){const x=e.getUint8(c);c+=1,c=Math.ceil(c/4)*4;const w=e.getUint32(c,!0);c+=4;const D=new Int32Array(this.buffer,c,w);c+=w*4;const E=e.getUint32(c,!0);c+=4;const A=new Int32Array(this.buffer,c,E);c+=E*4;const S={type:x,coords:D,colors:A};x===vC.LATTICE&&(S.verticesPerRow=e.getUint32(c,!0),c+=4),y.push(S)}if(n===1)return["RadialAxial","axial",g,p,Array.from(d.slice(0,2)),Array.from(d.slice(2,4)),null,null];if(n===2)return["RadialAxial","radial",g,p,[d[0],d[1]],[d[3],d[4]],d[2],d[5]];if(n===3){const b=this.data[Kn.#n];let x=null;if(d.length>0){let w=d[0],D=d[0],E=d[1],A=d[1];for(let S=0;S<d.length;S+=2){const T=d[S],M=d[S+1];w=w>T?T:w,E=E>M?M:E,D=D<T?T:D,A=A<M?M:A}x=[w,E,D,A]}return["Mesh",b,d,h,y,x,g,v]}throw new Error(`Unsupported pattern kind: ${n}`)}}class Rke{static write(e){let n,r;return Vn.isFloat16ArraySupported?(r=new ArrayBuffer(e.length*2),n=new Float16Array(r)):(r=new ArrayBuffer(e.length*4),n=new Float32Array(r)),n.set(e),r}#e;constructor(e){this.#e=e}get path(){return Vn.isFloat16ArraySupported?new Float16Array(this.#e):new Float32Array(this.#e)}}function Uke(t){if(t instanceof URL)return t.href;if(typeof t=="string"){if(vr)return t;const e=URL.parse(t,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function Mke(t){if(vr&&typeof Buffer<"u"&&t instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength)return t;if(typeof t=="string")return pp(t);if(t instanceof ArrayBuffer||ArrayBuffer.isView(t)||typeof t=="object"&&!isNaN(t?.length))return new Uint8Array(t);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function xm(t){if(typeof t!="string")return null;if(t.endsWith("/"))return t;throw new Error(`Invalid factory url: "${t}" must include trailing slash.`)}const SC=t=>typeof t=="object"&&Number.isInteger(t?.num)&&t.num>=0&&Number.isInteger(t?.gen)&&t.gen>=0,Oke=t=>typeof t=="object"&&typeof t?.name=="string",Nke=fke.bind(null,SC,Oke);class Fke{#e=new Map;#t=Promise.resolve();postMessage(e,n){const r={data:structuredClone(e,n?{transfer:n}:null)};this.#t.then(()=>{for(const[i]of this.#e)i.call(this,r)})}addEventListener(e,n,r=null){let i=null;if(r?.signal instanceof AbortSignal){const{signal:s}=r;if(s.aborted){ft("LoopbackPort - cannot use an `aborted` signal.");return}const a=()=>this.removeEventListener(e,n);i=()=>s.removeEventListener("abort",a),s.addEventListener("abort",a)}this.#e.set(n,i)}removeEventListener(e,n){this.#e.get(n)?.(),this.#e.delete(n)}terminate(){for(const[,e]of this.#e)e?.();this.#e.clear()}}const wm={DATA:1,ERROR:2},Un={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Vj(){}function Lr(t){if(t instanceof Co||t instanceof xC||t instanceof Ij||t instanceof ab||t instanceof FS)return t;switch(t instanceof Error||typeof t=="object"&&t!==null||Zt('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),t.name){case"AbortException":return new Co(t.message);case"InvalidPDFException":return new xC(t.message);case"PasswordException":return new Ij(t.message,t.code);case"ResponseException":return new ab(t.message,t.status,t.missing);case"UnknownErrorException":return new FS(t.message,t.details)}return new FS(t.message,t.toString())}class $h{#e=new AbortController;constructor(e,n,r){this.sourceName=e,this.targetName=n,this.comObj=r,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),r.addEventListener("message",this.#t.bind(this),{signal:this.#e.signal})}#t({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){this.#n(e);return}if(e.callback){const r=e.callbackId,i=this.callbackCapabilities[r];if(!i)throw new Error(`Cannot resolve callback ${r}`);if(delete this.callbackCapabilities[r],e.callback===wm.DATA)i.resolve(e.data);else if(e.callback===wm.ERROR)i.reject(Lr(e.reason));else throw new Error("Unexpected callback case");return}const n=this.actionHandler[e.action];if(!n)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const r=this.sourceName,i=e.sourceName,s=this.comObj;Promise.try(n,e.data).then(function(a){s.postMessage({sourceName:r,targetName:i,callback:wm.DATA,callbackId:e.callbackId,data:a})},function(a){s.postMessage({sourceName:r,targetName:i,callback:wm.ERROR,callbackId:e.callbackId,reason:Lr(a)})});return}if(e.streamId){this.#r(e);return}n(e.data)}on(e,n){const r=this.actionHandler;if(r[e])throw new Error(`There is already an actionName called "${e}"`);r[e]=n}send(e,n,r){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:n},r)}sendWithPromise(e,n,r){const i=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[i]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:n},r)}catch(a){s.reject(a)}return s.promise}sendWithStream(e,n,r,i){const s=this.streamId++,a=this.sourceName,o=this.targetName,l=this.comObj;return new ReadableStream({start:c=>{const d=Promise.withResolvers();return this.streamControllers[s]={controller:c,startCall:d,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:a,targetName:o,action:e,streamId:s,data:n,desiredSize:c.desiredSize},i),d.promise},pull:c=>{const d=Promise.withResolvers();return this.streamControllers[s].pullCall=d,l.postMessage({sourceName:a,targetName:o,stream:Un.PULL,streamId:s,desiredSize:c.desiredSize}),d.promise},cancel:c=>{Ut(c instanceof Error,"cancel must have a valid reason");const d=Promise.withResolvers();return this.streamControllers[s].cancelCall=d,this.streamControllers[s].isClosed=!0,l.postMessage({sourceName:a,targetName:o,stream:Un.CANCEL,streamId:s,reason:Lr(c)}),d.promise}},r)}#r(e){const n=e.streamId,r=this.sourceName,i=e.sourceName,s=this.comObj,a=this,o=this.actionHandler[e.action],l={enqueue(c,d=1,h){if(this.isCancelled)return;const p=this.desiredSize;this.desiredSize-=d,p>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:r,targetName:i,stream:Un.ENQUEUE,streamId:n,chunk:c},h)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:Un.CLOSE,streamId:n}),delete a.streamSinks[n])},error(c){Ut(c instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:Un.ERROR,streamId:n,reason:Lr(c)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[n]=l,Promise.try(o,e.data,l).then(function(){s.postMessage({sourceName:r,targetName:i,stream:Un.START_COMPLETE,streamId:n,success:!0})},function(c){s.postMessage({sourceName:r,targetName:i,stream:Un.START_COMPLETE,streamId:n,reason:Lr(c)})})}#n(e){const n=e.streamId,r=this.sourceName,i=e.sourceName,s=this.comObj,a=this.streamControllers[n],o=this.streamSinks[n];switch(e.stream){case Un.START_COMPLETE:e.success?a.startCall.resolve():a.startCall.reject(Lr(e.reason));break;case Un.PULL_COMPLETE:e.success?a.pullCall.resolve():a.pullCall.reject(Lr(e.reason));break;case Un.PULL:if(!o){s.postMessage({sourceName:r,targetName:i,stream:Un.PULL_COMPLETE,streamId:n,success:!0});break}o.desiredSize<=0&&e.desiredSize>0&&o.sinkCapability.resolve(),o.desiredSize=e.desiredSize,Promise.try(o.onPull||Vj).then(function(){s.postMessage({sourceName:r,targetName:i,stream:Un.PULL_COMPLETE,streamId:n,success:!0})},function(c){s.postMessage({sourceName:r,targetName:i,stream:Un.PULL_COMPLETE,streamId:n,reason:Lr(c)})});break;case Un.ENQUEUE:if(Ut(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(e.chunk);break;case Un.CLOSE:if(Ut(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),this.#i(a,n);break;case Un.ERROR:Ut(a,"error should have stream controller"),a.controller.error(Lr(e.reason)),this.#i(a,n);break;case Un.CANCEL_COMPLETE:e.success?a.cancelCall.resolve():a.cancelCall.reject(Lr(e.reason)),this.#i(a,n);break;case Un.CANCEL:if(!o)break;const l=Lr(e.reason);Promise.try(o.onCancel||Vj,l).then(function(){s.postMessage({sourceName:r,targetName:i,stream:Un.CANCEL_COMPLETE,streamId:n,success:!0})},function(c){s.postMessage({sourceName:r,targetName:i,stream:Un.CANCEL_COMPLETE,streamId:n,reason:Lr(c)})}),o.sinkCapability.reject(l),o.isCancelled=!0,delete this.streamSinks[n];break;default:throw new Error("Unexpected stream case")}}async#i(e,n){await Promise.allSettled([e.startCall?.promise,e.pullCall?.promise,e.cancelCall?.promise]),delete this.streamControllers[n]}destroy(){this.#e?.abort(),this.#e=null}}class zK{#e=!1;constructor({enableHWA:e=!1}){this.#e=e}create(e,n){if(e<=0||n<=0)throw new Error("Invalid canvas size");const r=this._createCanvas(e,n);return{canvas:r,context:r.getContext("2d",{willReadFrequently:!this.#e})}}reset(e,n,r){if(!e.canvas)throw new Error("Canvas is not specified");if(n<=0||r<=0)throw new Error("Invalid canvas size");e.canvas.width=n,e.canvas.height=r}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,n){Zt("Abstract method `_createCanvas` called.")}}class Ike extends zK{constructor({ownerDocument:e=globalThis.document,enableHWA:n=!1}){super({enableHWA:n}),this._document=e}_createCanvas(e,n){const r=this._document.createElement("canvas");return r.width=e,r.height=n,r}}class qK{constructor({baseUrl:e=null,isCompressed:n=!0}){this.baseUrl=e,this.isCompressed=n}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const n=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(n).then(r=>({cMapData:r,isCompressed:this.isCompressed})).catch(r=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${n}`)})}async _fetch(e){Zt("Abstract method `_fetch` called.")}}class Hj extends qK{async _fetch(e){const n=await gp(e,this.isCompressed?"arraybuffer":"text");return n instanceof ArrayBuffer?new Uint8Array(n):pp(n)}}class WK{addFilter(e){return"none"}addHCMFilter(e,n){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,n,r,i,s){return"none"}destroy(e=!1){}}class Pke extends WK{#e;#t;#r;#n;#i;#a;#s=0;constructor({docId:e,ownerDocument:n=globalThis.document}){super(),this.#n=e,this.#i=n}get#o(){return this.#t||=new Map}get#c(){return this.#a||=new Map}get#l(){if(!this.#r){const e=this.#i.createElement("div"),{style:n}=e;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const r=this.#i.createElementNS(ua,"svg");r.setAttribute("width",0),r.setAttribute("height",0),this.#r=this.#i.createElementNS(ua,"defs"),e.append(r),r.append(this.#r),this.#i.body.append(e)}return this.#r}#h(e){if(e.length===1){const l=e[0],c=new Array(256);for(let h=0;h<256;h++)c[h]=l[h]/255;const d=c.join(",");return[d,d,d]}const[n,r,i]=e,s=new Array(256),a=new Array(256),o=new Array(256);for(let l=0;l<256;l++)s[l]=n[l]/255,a[l]=r[l]/255,o[l]=i[l]/255;return[s.join(","),a.join(","),o.join(",")]}#d(e){if(this.#e===void 0){this.#e="";const n=this.#i.URL;n!==this.#i.baseURI&&(hv(n)?ft('#createUrl: ignore "data:"-URL for performance reasons.'):this.#e=UK(n,""))}return`url(${this.#e}#${e})`}addFilter(e){if(!e)return"none";let n=this.#o.get(e);if(n)return n;const[r,i,s]=this.#h(e),a=e.length===1?r:`${r}${i}${s}`;if(n=this.#o.get(a),n)return this.#o.set(e,n),n;const o=`g_${this.#n}_transfer_map_${this.#s++}`,l=this.#d(o);this.#o.set(e,l),this.#o.set(a,l);const c=this.#g(o);return this.#p(r,i,s,c),l}addHCMFilter(e,n){const r=`${e}-${n}`,i="base";let s=this.#c.get(i);if(s?.key===r||(s?(s.filter?.remove(),s.key=r,s.url="none",s.filter=null):(s={key:r,url:"none",filter:null},this.#c.set(i,s)),!e||!n))return s.url;const a=this.#v(e);e=He.makeHexColor(...a);const o=this.#v(n);if(n=He.makeHexColor(...o),this.#l.style.color="",e==="#000000"&&n==="#ffffff"||e===n)return s.url;const l=new Array(256);for(let g=0;g<=255;g++){const v=g/255;l[g]=v<=.03928?v/12.92:((v+.055)/1.055)**2.4}const c=l.join(","),d=`g_${this.#n}_hcm_filter`,h=s.filter=this.#g(d);this.#p(c,c,c,h),this.#m(h);const p=(g,v)=>{const y=a[g]/255,b=o[g]/255,x=new Array(v+1);for(let w=0;w<=v;w++)x[w]=y+w/v*(b-y);return x.join(",")};return this.#p(p(0,5),p(1,5),p(2,5),h),s.url=this.#d(d),s.url}addAlphaFilter(e){let n=this.#o.get(e);if(n)return n;const[r]=this.#h([e]),i=`alpha_${r}`;if(n=this.#o.get(i),n)return this.#o.set(e,n),n;const s=`g_${this.#n}_alpha_map_${this.#s++}`,a=this.#d(s);this.#o.set(e,a),this.#o.set(i,a);const o=this.#g(s);return this.#y(r,o),a}addLuminosityFilter(e){let n=this.#o.get(e||"luminosity");if(n)return n;let r,i;if(e?([r]=this.#h([e]),i=`luminosity_${r}`):i="luminosity",n=this.#o.get(i),n)return this.#o.set(e,n),n;const s=`g_${this.#n}_luminosity_map_${this.#s++}`,a=this.#d(s);this.#o.set(e,a),this.#o.set(i,a);const o=this.#g(s);return this.#f(o),e&&this.#y(r,o),a}addHighlightHCMFilter(e,n,r,i,s){const a=`${n}-${r}-${i}-${s}`;let o=this.#c.get(e);if(o?.key===a||(o?(o.filter?.remove(),o.key=a,o.url="none",o.filter=null):(o={key:a,url:"none",filter:null},this.#c.set(e,o)),!n||!r))return o.url;const[l,c]=[n,r].map(this.#v.bind(this));let d=Math.round(.2126*l[0]+.7152*l[1]+.0722*l[2]),h=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),[p,g]=[i,s].map(this.#v.bind(this));h<d&&([d,h,p,g]=[h,d,g,p]),this.#l.style.color="";const v=(x,w,D)=>{const E=new Array(256),A=(h-d)/D,S=x/255,T=(w-x)/(255*D);let M=0;for(let R=0;R<=D;R++){const O=Math.round(d+R*A),z=S+R*T;for(let F=M;F<=O;F++)E[F]=z;M=O+1}for(let R=M;R<256;R++)E[R]=E[M-1];return E.join(",")},y=`g_${this.#n}_hcm_${e}_filter`,b=o.filter=this.#g(y);return this.#m(b),this.#p(v(p[0],g[0],5),v(p[1],g[1],5),v(p[2],g[2],5),b),o.url=this.#d(y),o.url}destroy(e=!1){e&&this.#a?.size||(this.#r?.parentNode.parentNode.remove(),this.#r=null,this.#t?.clear(),this.#t=null,this.#a?.clear(),this.#a=null,this.#s=0)}#f(e){const n=this.#i.createElementNS(ua,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(n)}#m(e){const n=this.#i.createElementNS(ua,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(n)}#g(e){const n=this.#i.createElementNS(ua,"filter");return n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("id",e),this.#l.append(n),n}#u(e,n,r){const i=this.#i.createElementNS(ua,n);i.setAttribute("type","discrete"),i.setAttribute("tableValues",r),e.append(i)}#p(e,n,r,i){const s=this.#i.createElementNS(ua,"feComponentTransfer");i.append(s),this.#u(s,"feFuncR",e),this.#u(s,"feFuncG",n),this.#u(s,"feFuncB",r)}#y(e,n){const r=this.#i.createElementNS(ua,"feComponentTransfer");n.append(r),this.#u(r,"feFuncA",e)}#v(e){return this.#l.style.color=e,yp(getComputedStyle(this.#l).getPropertyValue("color"))}}class VK{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const n=`${this.baseUrl}${e}`;return this._fetch(n).catch(r=>{throw new Error(`Unable to load font data at: ${n}`)})}async _fetch(e){Zt("Abstract method `_fetch` called.")}}class $j extends VK{async _fetch(e){const n=await gp(e,"arraybuffer");return new Uint8Array(n)}}class HK{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const n=`${this.baseUrl}${e}`;return this._fetch(n).catch(r=>{throw new Error(`Unable to load wasm data at: ${n}`)})}async _fetch(e){Zt("Abstract method `_fetch` called.")}}class Gj extends HK{async _fetch(e){const n=await gp(e,"arraybuffer");return new Uint8Array(n)}}vr&&ft("Please use the `legacy` build in Node.js environments.");async function ZR(t){const n=await process.getBuiltinModule("fs").promises.readFile(t);return new Uint8Array(n)}class Lke extends WK{}class Bke extends zK{_createCanvas(e,n){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,n)}}class jke extends qK{async _fetch(e){return ZR(e)}}class zke extends VK{async _fetch(e){return ZR(e)}}class qke extends HK{async _fetch(e){return ZR(e)}}const iu="__forcedDependency",{floor:Xj,ceil:Kj}=Math;function _m(t,e,n,r,i,s){t[e*4+0]=Math.min(t[e*4+0],n),t[e*4+1]=Math.min(t[e*4+1],r),t[e*4+2]=Math.max(t[e*4+2],i),t[e*4+3]=Math.max(t[e*4+3],s)}const AC=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];class Wke{#e;#t;constructor(e,n){this.#e=e,this.#t=n}get length(){return this.#e.length}isEmpty(e){return this.#e[e]===AC}minX(e){return this.#t[e*4+0]/256}minY(e){return this.#t[e*4+1]/256}maxX(e){return(this.#t[e*4+2]+1)/256}maxY(e){return(this.#t[e*4+3]+1)/256}}const Dm=(t,e)=>{if(!t)return;let n=t.get(e);return n||(n={dependencies:new Set,isRenderingOperation:!1},t.set(e,n)),n};class Vke{#e={__proto__:null};#t={__proto__:null,transform:[],moveText:[],sameLineText:[],[iu]:[]};#r=new Map;#n=[];#i=[];#a=[[1,0,0,1,0,0]];#s=[-1/0,-1/0,1/0,1/0];#o=new Float64Array([1/0,1/0,-1/0,-1/0]);#c=-1;#l=new Set;#h=new Map;#d=new Map;#f;#m;#g;#u;#p;constructor(e,n,r=!1){this.#f=e.width,this.#m=e.height,this.#y(n),r&&(this.#p=new Map)}growOperationsCount(e){e>=this.#u.length&&this.#y(e,this.#u)}#y(e,n){const r=new ArrayBuffer(e*4);this.#g=new Uint8ClampedArray(r),this.#u=new Uint32Array(r),n&&n.length>0?(this.#u.set(n),this.#u.fill(AC,n.length)):this.#u.fill(AC)}save(e){return this.#e={__proto__:this.#e},this.#t={__proto__:this.#t,transform:{__proto__:this.#t.transform},moveText:{__proto__:this.#t.moveText},sameLineText:{__proto__:this.#t.sameLineText},[iu]:{__proto__:this.#t[iu]}},this.#s={__proto__:this.#s},this.#n.push(e),this}restore(e){const n=Object.getPrototypeOf(this.#e);if(n===null)return this;this.#e=n,this.#t=Object.getPrototypeOf(this.#t),this.#s=Object.getPrototypeOf(this.#s);const r=this.#n.pop();return r!==void 0&&(Dm(this.#p,e)?.dependencies.add(r),this.#u[e]=this.#u[r]),this}recordOpenMarker(e){return this.#n.push(e),this}getOpenMarker(){return this.#n.length===0?null:this.#n.at(-1)}recordCloseMarker(e){const n=this.#n.pop();return n!==void 0&&(Dm(this.#p,e)?.dependencies.add(n),this.#u[e]=this.#u[n]),this}beginMarkedContent(e){return this.#i.push(e),this}endMarkedContent(e){const n=this.#i.pop();return n!==void 0&&(Dm(this.#p,e)?.dependencies.add(n),this.#u[e]=this.#u[n]),this}pushBaseTransform(e){return this.#a.push(He.multiplyByDOMMatrix(this.#a.at(-1),e.getTransform())),this}popBaseTransform(){return this.#a.length>1&&this.#a.pop(),this}recordSimpleData(e,n){return this.#e[e]=n,this}recordIncrementalData(e,n){return this.#t[e].push(n),this}resetIncrementalData(e,n){return this.#t[e].length=0,this}recordNamedData(e,n){return this.#r.set(e,n),this}recordSimpleDataFromNamed(e,n,r){this.#e[e]=this.#r.get(n)??r}recordFutureForcedDependency(e,n){return this.recordIncrementalData(iu,n),this}inheritSimpleDataAsFutureForcedDependencies(e){for(const n of e)n in this.#e&&this.recordFutureForcedDependency(n,this.#e[n]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const e of this.#l)this.recordFutureForcedDependency(iu,e);return this}resetBBox(e){return this.#c!==e&&(this.#c=e,this.#o[0]=1/0,this.#o[1]=1/0,this.#o[2]=-1/0,this.#o[3]=-1/0),this}recordClipBox(e,n,r,i,s,a){const o=He.multiplyByDOMMatrix(this.#a.at(-1),n.getTransform()),l=[1/0,1/0,-1/0,-1/0];He.axialAlignedBoundingBox([r,s,i,a],o,l);const c=He.intersect(this.#s,l);return c?(this.#s[0]=c[0],this.#s[1]=c[1],this.#s[2]=c[2],this.#s[3]=c[3]):(this.#s[0]=this.#s[1]=1/0,this.#s[2]=this.#s[3]=-1/0),this}recordBBox(e,n,r,i,s,a){const o=this.#s;if(o[0]===1/0)return this;const l=He.multiplyByDOMMatrix(this.#a.at(-1),n.getTransform());if(o[0]===-1/0)return He.axialAlignedBoundingBox([r,s,i,a],l,this.#o),this;const c=[1/0,1/0,-1/0,-1/0];return He.axialAlignedBoundingBox([r,s,i,a],l,c),this.#o[0]=Math.min(this.#o[0],Math.max(c[0],o[0])),this.#o[1]=Math.min(this.#o[1],Math.max(c[1],o[1])),this.#o[2]=Math.max(this.#o[2],Math.min(c[2],o[2])),this.#o[3]=Math.max(this.#o[3],Math.min(c[3],o[3])),this}recordCharacterBBox(e,n,r,i=1,s=0,a=0,o){const l=r.bbox;let c,d;if(l&&(c=l[2]!==l[0]&&l[3]!==l[1]&&this.#d.get(r),c!==!1&&(d=[0,0,0,0],He.axialAlignedBoundingBox(l,r.fontMatrix,d),(i!==1||s!==0||a!==0)&&He.scaleMinMax([i,0,0,-i,s,a],d),c)))return this.recordBBox(e,n,d[0],d[2],d[1],d[3]);if(!o)return this.recordFullPageBBox(e);const h=o();return l&&d&&c===void 0&&(c=d[0]<=s-h.actualBoundingBoxLeft&&d[2]>=s+h.actualBoundingBoxRight&&d[1]<=a-h.actualBoundingBoxAscent&&d[3]>=a+h.actualBoundingBoxDescent,this.#d.set(r,c),c)?this.recordBBox(e,n,d[0],d[2],d[1],d[3]):this.recordBBox(e,n,s-h.actualBoundingBoxLeft,s+h.actualBoundingBoxRight,a-h.actualBoundingBoxAscent,a+h.actualBoundingBoxDescent)}recordFullPageBBox(e){return this.#o[0]=Math.max(0,this.#s[0]),this.#o[1]=Math.max(0,this.#s[1]),this.#o[2]=Math.min(this.#f,this.#s[2]),this.#o[3]=Math.min(this.#m,this.#s[3]),this}getSimpleIndex(e){return this.#e[e]}recordDependencies(e,n){const r=this.#l,i=this.#e,s=this.#t;for(const a of n)a in this.#e?r.add(i[a]):a in s&&s[a].forEach(r.add,r);return this}recordNamedDependency(e,n){return this.#r.has(n)&&this.#l.add(this.#r.get(n)),this}recordOperation(e,n=!1){if(this.recordDependencies(e,[iu]),this.#p){const r=Dm(this.#p,e),{dependencies:i}=r;this.#l.forEach(i.add,i),this.#n.forEach(i.add,i),this.#i.forEach(i.add,i),i.delete(e),r.isRenderingOperation=!0}if(this.#c===e){const r=Xj(this.#o[0]*256/this.#f),i=Xj(this.#o[1]*256/this.#m),s=Kj(this.#o[2]*256/this.#f),a=Kj(this.#o[3]*256/this.#m);_m(this.#g,e,r,i,s,a);for(const o of this.#l)o!==e&&_m(this.#g,o,r,i,s,a);for(const o of this.#n)o!==e&&_m(this.#g,o,r,i,s,a);for(const o of this.#i)o!==e&&_m(this.#g,o,r,i,s,a);n||(this.#l.clear(),this.#c=-1)}return this}recordShowTextOperation(e,n=!1){const r=Array.from(this.#l);this.recordOperation(e,n),this.recordIncrementalData("sameLineText",e);for(const i of r)this.recordIncrementalData("sameLineText",i);return this}bboxToClipBoxDropOperation(e,n=!1){return this.#c===e&&(this.#c=-1,this.#s[0]=Math.max(this.#s[0],this.#o[0]),this.#s[1]=Math.max(this.#s[1],this.#o[1]),this.#s[2]=Math.min(this.#s[2],this.#o[2]),this.#s[3]=Math.min(this.#s[3],this.#o[3]),n||this.#l.clear()),this}_takePendingDependencies(){const e=this.#l;return this.#l=new Set,e}_extractOperation(e){const n=this.#h.get(e);return this.#h.delete(e),n}_pushPendingDependencies(e){for(const n of e)this.#l.add(n)}take(){return this.#d.clear(),new Wke(this.#u,this.#g)}takeDebugMetadata(){return this.#p}}class ob{#e;#t;#r;#n=0;#i=0;constructor(e,n,r){if(e instanceof ob&&e.#r===!!r)return e;this.#e=e,this.#t=n,this.#r=!!r}growOperationsCount(){throw new Error("Unreachable")}save(e){return this.#i++,this.#e.save(this.#t),this}restore(e){return this.#i>0&&(this.#e.restore(this.#t),this.#i--),this}recordOpenMarker(e){return this.#n++,this}getOpenMarker(){return this.#n>0?this.#t:this.#e.getOpenMarker()}recordCloseMarker(e){return this.#n--,this}beginMarkedContent(e){return this}endMarkedContent(e){return this}pushBaseTransform(e){return this.#e.pushBaseTransform(e),this}popBaseTransform(){return this.#e.popBaseTransform(),this}recordSimpleData(e,n){return this.#e.recordSimpleData(e,this.#t),this}recordIncrementalData(e,n){return this.#e.recordIncrementalData(e,this.#t),this}resetIncrementalData(e,n){return this.#e.resetIncrementalData(e,this.#t),this}recordNamedData(e,n){return this}recordSimpleDataFromNamed(e,n,r){return this.#e.recordSimpleDataFromNamed(e,n,this.#t),this}recordFutureForcedDependency(e,n){return this.#e.recordFutureForcedDependency(e,this.#t),this}inheritSimpleDataAsFutureForcedDependencies(e){return this.#e.inheritSimpleDataAsFutureForcedDependencies(e),this}inheritPendingDependenciesAsFutureForcedDependencies(){return this.#e.inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(e){return this.#r||this.#e.resetBBox(this.#t),this}recordClipBox(e,n,r,i,s,a){return this.#r||this.#e.recordClipBox(this.#t,n,r,i,s,a),this}recordBBox(e,n,r,i,s,a){return this.#r||this.#e.recordBBox(this.#t,n,r,i,s,a),this}recordCharacterBBox(e,n,r,i,s,a,o){return this.#r||this.#e.recordCharacterBBox(this.#t,n,r,i,s,a,o),this}recordFullPageBBox(e){return this.#r||this.#e.recordFullPageBBox(this.#t),this}getSimpleIndex(e){return this.#e.getSimpleIndex(e)}recordDependencies(e,n){return this.#e.recordDependencies(this.#t,n),this}recordNamedDependency(e,n){return this.#e.recordNamedDependency(this.#t,n),this}recordOperation(e){return this.#e.recordOperation(this.#t,!0),this}recordShowTextOperation(e){return this.#e.recordShowTextOperation(this.#t,!0),this}bboxToClipBoxDropOperation(e){return this.#r||this.#e.bboxToClipBoxDropOperation(this.#t,!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}}const Ri={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},ar={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function TC(t,e){if(!e)return;const n=e[2]-e[0],r=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],n,r),t.clip(i)}class JR{isModifyingCurrentTransform(){return!1}getPattern(){Zt("Abstract method `getPattern` called.")}}class Hke extends JR{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}isOriginBased(){return this._p0[0]===0&&this._p0[1]===0&&(!this.isRadial()||this._p1[0]===0&&this._p1[1]===0)}isRadial(){return this._type==="radial"}_createGradient(e,n=null){let r,i=this._p0,s=this._p1;if(n&&(i=i.slice(),s=s.slice(),He.applyTransform(i,n),He.applyTransform(s,n)),this._type==="axial")r=e.createLinearGradient(i[0],i[1],s[0],s[1]);else if(this._type==="radial"){let a=this._r0,o=this._r1;if(n){const l=new Float32Array(2);He.singularValueDecompose2dScale(n,l),a*=l[0],o*=l[0]}r=e.createRadialGradient(i[0],i[1],a,s[0],s[1],o)}for(const a of this._colorStops)r.addColorStop(a[0],a[1]);return r}getPattern(e,n,r,i){let s;if(i===ar.STROKE||i===ar.FILL){if(this.isOriginBased()){let p=He.transform(r,n.baseTransform);this.matrix&&(p=He.transform(p,this.matrix));const g=.001,v=Math.hypot(p[0],p[1]),y=Math.hypot(p[2],p[3]),b=(p[0]*p[2]+p[1]*p[3])/(v*y);if(Math.abs(b)<g)if(this.isRadial()){if(Math.abs(v-y)<g)return this._createGradient(e,p)}else return this._createGradient(e,p)}const a=n.current.getClippedPathBoundingBox(i,dn(e))||[0,0,0,0],o=Math.ceil(a[2]-a[0])||1,l=Math.ceil(a[3]-a[1])||1,c=n.cachedCanvases.getCanvas("pattern",o,l),d=c.context;d.clearRect(0,0,d.canvas.width,d.canvas.height),d.beginPath(),d.rect(0,0,d.canvas.width,d.canvas.height),d.translate(-a[0],-a[1]),r=He.transform(r,[1,0,0,1,a[0],a[1]]),d.transform(...n.baseTransform),this.matrix&&d.transform(...this.matrix),TC(d,this._bbox),d.fillStyle=this._createGradient(d),d.fill(),s=e.createPattern(c.canvas,"no-repeat");const h=new DOMMatrix(r);s.setTransform(h)}else TC(e,this._bbox),s=this._createGradient(e);return s}}function LS(t,e,n,r,i,s,a,o){const l=e.coords,c=e.colors,d=t.data,h=t.width*4;let p;l[n+1]>l[r+1]&&(p=n,n=r,r=p,p=s,s=a,a=p),l[r+1]>l[i+1]&&(p=r,r=i,i=p,p=a,a=o,o=p),l[n+1]>l[r+1]&&(p=n,n=r,r=p,p=s,s=a,a=p);const g=(l[n]+e.offsetX)*e.scaleX,v=(l[n+1]+e.offsetY)*e.scaleY,y=(l[r]+e.offsetX)*e.scaleX,b=(l[r+1]+e.offsetY)*e.scaleY,x=(l[i]+e.offsetX)*e.scaleX,w=(l[i+1]+e.offsetY)*e.scaleY;if(v>=w)return;const D=c[s],E=c[s+1],A=c[s+2],S=c[a],T=c[a+1],M=c[a+2],R=c[o],O=c[o+1],z=c[o+2],F=Math.round(v),q=Math.round(w);let k,H,N,B,G,$,W,L;for(let K=F;K<=q;K++){if(K<b){const se=K<v?0:(v-K)/(v-b);k=g-(g-y)*se,H=D-(D-S)*se,N=E-(E-T)*se,B=A-(A-M)*se}else{let se;K>w?se=1:b===w?se=0:se=(b-K)/(b-w),k=y-(y-x)*se,H=S-(S-R)*se,N=T-(T-O)*se,B=M-(M-z)*se}let j;K<v?j=0:K>w?j=1:j=(v-K)/(v-w),G=g-(g-x)*j,$=D-(D-R)*j,W=E-(E-O)*j,L=A-(A-z)*j;const Y=Math.round(Math.min(k,G)),ee=Math.round(Math.max(k,G));let re=h*K+Y*4;for(let se=Y;se<=ee;se++)j=(k-se)/(k-G),j<0?j=0:j>1&&(j=1),d[re++]=H-(H-$)*j|0,d[re++]=N-(N-W)*j|0,d[re++]=B-(B-L)*j|0,d[re++]=255}}function $ke(t,e,n){const r=e.coords,i=e.colors;let s,a;switch(e.type){case vC.LATTICE:const o=e.verticesPerRow,l=Math.floor(r.length/o)-1,c=o-1;for(s=0;s<l;s++){let d=s*o;for(let h=0;h<c;h++,d++)LS(t,n,r[d],r[d+1],r[d+o],i[d],i[d+1],i[d+o]),LS(t,n,r[d+o+1],r[d+1],r[d+o],i[d+o+1],i[d+1],i[d+o])}break;case vC.TRIANGLES:for(s=0,a=r.length;s<a;s+=3)LS(t,n,r[s],r[s+1],r[s+2],i[s],i[s+1],i[s+2]);break;default:throw new Error("illegal figure")}}class Gke extends JR{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,n,r){const o=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),c=Math.ceil(this._bounds[2])-o,d=Math.ceil(this._bounds[3])-l,h=Math.min(Math.ceil(Math.abs(c*e[0]*1.1)),3e3),p=Math.min(Math.ceil(Math.abs(d*e[1]*1.1)),3e3),g=c/h,v=d/p,y={coords:this._coords,colors:this._colors,offsetX:-o,offsetY:-l,scaleX:1/g,scaleY:1/v},b=h+4,x=p+4,w=r.getCanvas("mesh",b,x),D=w.context,E=D.createImageData(h,p);if(n){const S=E.data;for(let T=0,M=S.length;T<M;T+=4)S[T]=n[0],S[T+1]=n[1],S[T+2]=n[2],S[T+3]=255}for(const S of this._figures)$ke(E,S,y);return D.putImageData(E,2,2),{canvas:w.canvas,offsetX:o-2*g,offsetY:l-2*v,scaleX:g,scaleY:v}}isModifyingCurrentTransform(){return!0}getPattern(e,n,r,i){TC(e,this._bbox);const s=new Float32Array(2);if(i===ar.SHADING)He.singularValueDecompose2dScale(dn(e),s);else if(this.matrix){He.singularValueDecompose2dScale(this.matrix,s);const[o,l]=s;He.singularValueDecompose2dScale(n.baseTransform,s),s[0]*=o,s[1]*=l}else He.singularValueDecompose2dScale(n.baseTransform,s);const a=this._createMeshCanvas(s,i===ar.SHADING?null:this._background,n.cachedCanvases);return i!==ar.SHADING&&(e.setTransform(...n.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(a.offsetX,a.offsetY),e.scale(a.scaleX,a.scaleY),e.createPattern(a.canvas,"no-repeat")}}class Xke extends JR{getPattern(){return"hotpink"}}function Kke(t){switch(t[0]){case"RadialAxial":return new Hke(t);case"Mesh":return new Gke(t);case"Dummy":return new Xke}throw new Error(`Unknown IR type: ${t[0]}`)}const Yj={COLORED:1,UNCOLORED:2};class QR{static MAX_PATTERN_SIZE=3e3;constructor(e,n,r,i){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=n,this.canvasGraphicsFactory=r,this.baseTransform=i}createPatternCanvas(e,n){const{bbox:r,operatorList:i,paintType:s,tilingType:a,color:o,canvasGraphicsFactory:l}=this;let{xstep:c,ystep:d}=this;c=Math.abs(c),d=Math.abs(d),dv("TilingType: "+a);const h=r[0],p=r[1],g=r[2],v=r[3],y=g-h,b=v-p,x=new Float32Array(2);He.singularValueDecompose2dScale(this.matrix,x);const[w,D]=x;He.singularValueDecompose2dScale(this.baseTransform,x);const E=w*x[0],A=D*x[1];let S=y,T=b,M=!1,R=!1;const O=Math.ceil(c*E),z=Math.ceil(d*A),F=Math.ceil(y*E),q=Math.ceil(b*A);O>=F?S=c:M=!0,z>=q?T=d:R=!0;const k=this.getSizeAndScale(S,this.ctx.canvas.width,E),H=this.getSizeAndScale(T,this.ctx.canvas.height,A),N=e.cachedCanvases.getCanvas("pattern",k.size,H.size),B=N.context,G=l.createCanvasGraphics(B,n);if(G.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(G,s,o),B.translate(-k.scale*h,-H.scale*p),G.transform(0,k.scale,0,0,H.scale,0,0),B.save(),G.dependencyTracker?.save(),this.clipBbox(G,h,p,g,v),G.baseTransform=dn(G.ctx),G.executeOperatorList(i),G.endDrawing(),G.dependencyTracker?.restore(),B.restore(),M||R){const $=N.canvas;M&&(S=c),R&&(T=d);const W=this.getSizeAndScale(S,this.ctx.canvas.width,E),L=this.getSizeAndScale(T,this.ctx.canvas.height,A),K=W.size,j=L.size,Y=e.cachedCanvases.getCanvas("pattern-workaround",K,j),ee=Y.context,re=M?Math.floor(y/c):0,se=R?Math.floor(b/d):0;for(let ye=0;ye<=re;ye++)for(let xe=0;xe<=se;xe++)ee.drawImage($,K*ye,j*xe,K,j,0,0,K,j);return{canvas:Y.canvas,scaleX:W.scale,scaleY:L.scale,offsetX:h,offsetY:p}}return{canvas:N.canvas,scaleX:k.scale,scaleY:H.scale,offsetX:h,offsetY:p}}getSizeAndScale(e,n,r){const i=Math.max(QR.MAX_PATTERN_SIZE,n);let s=Math.ceil(e*r);return s>=i?s=i:r=s/e,{scale:r,size:s}}clipBbox(e,n,r,i,s){const a=i-n,o=s-r;e.ctx.rect(n,r,a,o),He.axialAlignedBoundingBox([n,r,i,s],dn(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,n,r){const i=e.ctx,s=e.current;switch(n){case Yj.COLORED:const{fillStyle:a,strokeStyle:o}=this.ctx;i.fillStyle=s.fillColor=a,i.strokeStyle=s.strokeColor=o;break;case Yj.UNCOLORED:i.fillStyle=i.strokeStyle=r,s.fillColor=s.strokeColor=r;break;default:throw new oke(`Unsupported paint type: ${n}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,n,r,i,s){let a=r;i!==ar.SHADING&&(a=He.transform(a,n.baseTransform),this.matrix&&(a=He.transform(a,this.matrix)));const o=this.createPatternCanvas(n,s);let l=new DOMMatrix(a);l=l.translate(o.offsetX,o.offsetY),l=l.scale(1/o.scaleX,1/o.scaleY);const c=e.createPattern(o.canvas,"repeat");return c.setTransform(l),c}}function Yke({src:t,srcPos:e=0,dest:n,width:r,height:i,nonBlackColor:s=4294967295,inverseDecode:a=!1}){const o=Vn.isLittleEndian?4278190080:255,[l,c]=a?[s,o]:[o,s],d=r>>3,h=r&7,p=t.length;n=new Uint32Array(n.buffer);let g=0;for(let v=0;v<i;v++){for(const b=e+d;e<b;e++){const x=e<p?t[e]:255;n[g++]=x&128?c:l,n[g++]=x&64?c:l,n[g++]=x&32?c:l,n[g++]=x&16?c:l,n[g++]=x&8?c:l,n[g++]=x&4?c:l,n[g++]=x&2?c:l,n[g++]=x&1?c:l}if(h===0)continue;const y=e<p?t[e++]:255;for(let b=0;b<h;b++)n[g++]=y&1<<7-b?c:l}return{srcPos:e,destPos:g}}const Zj=16,Jj=100,Zke=15,Qj=10,Br=16,BS=new DOMMatrix,ui=new Float32Array(2),_u=new Float32Array([1/0,1/0,-1/0,-1/0]);function Jke(t,e){if(t._removeMirroring)throw new Error("Context is already forwarding operations.");t.__originalSave=t.save,t.__originalRestore=t.restore,t.__originalRotate=t.rotate,t.__originalScale=t.scale,t.__originalTranslate=t.translate,t.__originalTransform=t.transform,t.__originalSetTransform=t.setTransform,t.__originalResetTransform=t.resetTransform,t.__originalClip=t.clip,t.__originalMoveTo=t.moveTo,t.__originalLineTo=t.lineTo,t.__originalBezierCurveTo=t.bezierCurveTo,t.__originalRect=t.rect,t.__originalClosePath=t.closePath,t.__originalBeginPath=t.beginPath,t._removeMirroring=()=>{t.save=t.__originalSave,t.restore=t.__originalRestore,t.rotate=t.__originalRotate,t.scale=t.__originalScale,t.translate=t.__originalTranslate,t.transform=t.__originalTransform,t.setTransform=t.__originalSetTransform,t.resetTransform=t.__originalResetTransform,t.clip=t.__originalClip,t.moveTo=t.__originalMoveTo,t.lineTo=t.__originalLineTo,t.bezierCurveTo=t.__originalBezierCurveTo,t.rect=t.__originalRect,t.closePath=t.__originalClosePath,t.beginPath=t.__originalBeginPath,delete t._removeMirroring},t.save=function(){e.save(),this.__originalSave()},t.restore=function(){e.restore(),this.__originalRestore()},t.translate=function(n,r){e.translate(n,r),this.__originalTranslate(n,r)},t.scale=function(n,r){e.scale(n,r),this.__originalScale(n,r)},t.transform=function(n,r,i,s,a,o){e.transform(n,r,i,s,a,o),this.__originalTransform(n,r,i,s,a,o)},t.setTransform=function(n,r,i,s,a,o){e.setTransform(n,r,i,s,a,o),this.__originalSetTransform(n,r,i,s,a,o)},t.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},t.rotate=function(n){e.rotate(n),this.__originalRotate(n)},t.clip=function(n){e.clip(n),this.__originalClip(n)},t.moveTo=function(n,r){e.moveTo(n,r),this.__originalMoveTo(n,r)},t.lineTo=function(n,r){e.lineTo(n,r),this.__originalLineTo(n,r)},t.bezierCurveTo=function(n,r,i,s,a,o){e.bezierCurveTo(n,r,i,s,a,o),this.__originalBezierCurveTo(n,r,i,s,a,o)},t.rect=function(n,r,i,s){e.rect(n,r,i,s),this.__originalRect(n,r,i,s)},t.closePath=function(){e.closePath(),this.__originalClosePath()},t.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class Qke{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,n,r){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,n,r)):(i=this.canvasFactory.create(n,r),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const n=this.cache[e];this.canvasFactory.destroy(n),delete this.cache[e]}}}function Em(t,e,n,r,i,s,a,o,l,c){const[d,h,p,g,v,y]=dn(t);if(h===0&&p===0){const w=a*d+v,D=Math.round(w),E=o*g+y,A=Math.round(E),S=(a+l)*d+v,T=Math.abs(Math.round(S)-D)||1,M=(o+c)*g+y,R=Math.abs(Math.round(M)-A)||1;return t.setTransform(Math.sign(d),0,0,Math.sign(g),D,A),t.drawImage(e,n,r,i,s,0,0,T,R),t.setTransform(d,h,p,g,v,y),[T,R]}if(d===0&&g===0){const w=o*p+v,D=Math.round(w),E=a*h+y,A=Math.round(E),S=(o+c)*p+v,T=Math.abs(Math.round(S)-D)||1,M=(a+l)*h+y,R=Math.abs(Math.round(M)-A)||1;return t.setTransform(0,Math.sign(h),Math.sign(p),0,D,A),t.drawImage(e,n,r,i,s,0,0,R,T),t.setTransform(d,h,p,g,v,y),[R,T]}t.drawImage(e,n,r,i,s,a,o,l,c);const b=Math.hypot(d,h),x=Math.hypot(p,g);return[b*l,x*c]}class e9{alphaIsShape=!1;fontSize=0;fontSizeScale=1;textMatrix=null;textMatrixScale=1;fontMatrix=bC;leading=0;x=0;y=0;lineX=0;lineY=0;charSpacing=0;wordSpacing=0;textHScale=1;textRenderingMode=jn.FILL;textRise=0;fillColor="#000000";strokeColor="#000000";patternFill=!1;patternStroke=!1;fillAlpha=1;strokeAlpha=1;lineWidth=1;activeSMask=null;transferMaps="none";constructor(e,n,r){r?.(this),this.clipBox=new Float32Array([0,0,e,n]),this.minMax=_u.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=ar.FILL,n=null){const r=this.minMax.slice();if(e===ar.STROKE){n||Zt("Stroke bounding box must include transform."),He.singularValueDecompose2dScale(n,ui);const i=ui[0]*this.lineWidth/2,s=ui[1]*this.lineWidth/2;r[0]-=i,r[1]-=s,r[2]+=i,r[3]+=s}return r}updateClipFromPath(){const e=He.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(_u,0)}getClippedPathBoundingBox(e=ar.FILL,n=null){return He.intersect(this.clipBox,this.getPathBoundingBox(e,n))}}function t9(t,e){if(e instanceof ImageData){t.putImageData(e,0,0);return}const n=e.height,r=e.width,i=n%Br,s=(n-i)/Br,a=i===0?s:s+1,o=t.createImageData(r,Br);let l=0,c;const d=e.data,h=o.data;let p,g,v,y;if(e.kind===Qm.GRAYSCALE_1BPP){const b=d.byteLength,x=new Uint32Array(h.buffer,0,h.byteLength>>2),w=x.length,D=r+7>>3,E=4294967295,A=Vn.isLittleEndian?4278190080:255;for(p=0;p<a;p++){for(v=p<s?Br:i,c=0,g=0;g<v;g++){const S=b-l;let T=0;const M=S>D?r:S*8-7,R=M&-8;let O=0,z=0;for(;T<R;T+=8)z=d[l++],x[c++]=z&128?E:A,x[c++]=z&64?E:A,x[c++]=z&32?E:A,x[c++]=z&16?E:A,x[c++]=z&8?E:A,x[c++]=z&4?E:A,x[c++]=z&2?E:A,x[c++]=z&1?E:A;for(;T<M;T++)O===0&&(z=d[l++],O=128),x[c++]=z&O?E:A,O>>=1}for(;c<w;)x[c++]=0;t.putImageData(o,0,p*Br)}}else if(e.kind===Qm.RGBA_32BPP){for(g=0,y=r*Br*4,p=0;p<s;p++)h.set(d.subarray(l,l+y)),l+=y,t.putImageData(o,0,g),g+=Br;p<a&&(y=r*i*4,h.set(d.subarray(l,l+y)),t.putImageData(o,0,g))}else if(e.kind===Qm.RGB_24BPP)for(v=Br,y=r*v,p=0;p<a;p++){for(p>=s&&(v=i,y=r*v),c=0,g=y;g--;)h[c++]=d[l++],h[c++]=d[l++],h[c++]=d[l++],h[c++]=255;t.putImageData(o,0,p*Br)}else throw new Error(`bad image kind: ${e.kind}`)}function n9(t,e){if(e.bitmap){t.drawImage(e.bitmap,0,0);return}const n=e.height,r=e.width,i=n%Br,s=(n-i)/Br,a=i===0?s:s+1,o=t.createImageData(r,Br);let l=0;const c=e.data,d=o.data;for(let h=0;h<a;h++){const p=h<s?Br:i;({srcPos:l}=Yke({src:c,srcPos:l,dest:d,width:r,height:p,nonBlackColor:0})),t.putImageData(o,0,h*Br)}}function wh(t,e){const n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of n)t[r]!==void 0&&(e[r]=t[r]);t.setLineDash!==void 0&&(e.setLineDash(t.getLineDash()),e.lineDashOffset=t.lineDashOffset)}function Sm(t){t.strokeStyle=t.fillStyle="#000000",t.fillRule="nonzero",t.globalAlpha=1,t.lineWidth=1,t.lineCap="butt",t.lineJoin="miter",t.miterLimit=10,t.globalCompositeOperation="source-over",t.font="10px sans-serif",t.setLineDash!==void 0&&(t.setLineDash([]),t.lineDashOffset=0);const{filter:e}=t;e!=="none"&&e!==""&&(t.filter="none")}function r9(t,e){if(e)return!0;He.singularValueDecompose2dScale(t,ui);const n=Math.fround(Ns.pixelRatio*Gu.PDF_TO_CSS_UNITS);return ui[0]<=n&&ui[1]<=n}const eRe=["butt","round","square"],tRe=["miter","round","bevel"],nRe={},i9={};class Nu{constructor(e,n,r,i,s,{optionalContentConfig:a,markedContentStack:o=null},l,c,d){this.ctx=e,this.current=new e9(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=n,this.objs=r,this.canvasFactory=i,this.filterFactory=s,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=o||[],this.optionalContentConfig=a,this.cachedCanvases=new Qke(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=c,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=d??null}getObject(e,n,r=null){return typeof n=="string"?(this.dependencyTracker?.recordNamedDependency(e,n),n.startsWith("g_")?this.commonObjs.get(n):this.objs.get(n)):r}beginDrawing({transform:e,viewport:n,transparency:r=!1,background:i=null}){const s=this.ctx.canvas.width,a=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,s,a),this.ctx.fillStyle=o,r){const l=this.cachedCanvases.getCanvas("transparent",s,a);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...dn(this.compositeCtx))}this.ctx.save(),Sm(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...n.transform),this.viewportScale=n.scale,this.baseTransform=dn(this.ctx)}executeOperatorList(e,n,r,i,s){const a=e.argsArray,o=e.fnArray;let l=n||0;const c=a.length;if(c===l)return l;const d=c-l>Qj&&typeof r=="function",h=d?Date.now()+Zke:0;let p=0;const g=this.commonObjs,v=this.objs;let y,b;for(;;){if(i!==void 0&&l===i.nextBreakPoint)return i.breakIt(l,r),l;if(!s||s(l))if(y=o[l],b=a[l]??null,y!==Nf.dependency)b===null?this[y](l):this[y](l,...b);else for(const x of b){this.dependencyTracker?.recordNamedData(x,l);const w=x.startsWith("g_")?g:v;if(!w.has(x))return w.get(x,r),l}if(l++,l===c)return l;if(d&&++p>Qj){if(Date.now()>h)return r(),l;p=0}}}#e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#e(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const n of e.values())typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&(n.width=n.height=0);e.clear()}this._cachedBitmapsMap.clear(),this.#t()}#t(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const n=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=n}}}_scaleImage(e,n){const r=e.width??e.displayWidth,i=e.height??e.displayHeight;let s=Math.max(Math.hypot(n[0],n[1]),1),a=Math.max(Math.hypot(n[2],n[3]),1),o=r,l=i,c="prescale1",d,h;for(;s>2&&o>1||a>2&&l>1;){let p=o,g=l;s>2&&o>1&&(p=o>=16384?Math.floor(o/2)-1||1:Math.ceil(o/2),s/=o/p),a>2&&l>1&&(g=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,a/=l/g),d=this.cachedCanvases.getCanvas(c,p,g),h=d.context,h.clearRect(0,0,p,g),h.drawImage(e,0,0,o,l,0,0,p,g),e=d.canvas,o=p,l=g,c=c==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:o,paintHeight:l}}_createMaskCanvas(e,n){const r=this.ctx,{width:i,height:s}=n,a=this.current.fillColor,o=this.current.patternFill,l=dn(r);let c,d,h,p;if((n.bitmap||n.data)&&n.count>1){const O=n.bitmap||n.data.buffer;d=JSON.stringify(o?l:[l.slice(0,4),a]),c=this._cachedBitmapsMap.get(O),c||(c=new Map,this._cachedBitmapsMap.set(O,c));const z=c.get(d);if(z&&!o){const F=Math.round(Math.min(l[0],l[2])+l[4]),q=Math.round(Math.min(l[1],l[3])+l[5]);return this.dependencyTracker?.recordDependencies(e,Ri.transformAndFill),{canvas:z,offsetX:F,offsetY:q}}h=z}h||(p=this.cachedCanvases.getCanvas("maskCanvas",i,s),n9(p.context,n));let g=He.transform(l,[1/i,0,0,-1/s,0,0]);g=He.transform(g,[1,0,0,1,0,-s]);const v=_u.slice();He.axialAlignedBoundingBox([0,0,i,s],g,v);const[y,b,x,w]=v,D=Math.round(x-y)||1,E=Math.round(w-b)||1,A=this.cachedCanvases.getCanvas("fillCanvas",D,E),S=A.context,T=y,M=b;S.translate(-T,-M),S.transform(...g),h||(h=this._scaleImage(p.canvas,xs(S)),h=h.img,c&&o&&c.set(d,h)),S.imageSmoothingEnabled=r9(dn(S),n.interpolate),Em(S,h,0,0,h.width,h.height,0,0,i,s),S.globalCompositeOperation="source-in";const R=He.transform(xs(S),[1,0,0,1,-T,-M]);return S.fillStyle=o?a.getPattern(r,this,R,ar.FILL,e):a,S.fillRect(0,0,i,s),c&&!o&&(this.cachedCanvases.delete("fillCanvas"),c.set(d,A.canvas)),this.dependencyTracker?.recordDependencies(e,Ri.transformAndFill),{canvas:A.canvas,offsetX:Math.round(T),offsetY:Math.round(M)}}setLineWidth(e,n){this.dependencyTracker?.recordSimpleData("lineWidth",e),n!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=n,this.ctx.lineWidth=n}setLineCap(e,n){this.dependencyTracker?.recordSimpleData("lineCap",e),this.ctx.lineCap=eRe[n]}setLineJoin(e,n){this.dependencyTracker?.recordSimpleData("lineJoin",e),this.ctx.lineJoin=tRe[n]}setMiterLimit(e,n){this.dependencyTracker?.recordSimpleData("miterLimit",e),this.ctx.miterLimit=n}setDash(e,n,r){this.dependencyTracker?.recordSimpleData("dash",e);const i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(n),i.lineDashOffset=r)}setRenderingIntent(e,n){}setFlatness(e,n){}setGState(e,n){for(const[r,i]of n)switch(r){case"LW":this.setLineWidth(e,i);break;case"LC":this.setLineCap(e,i);break;case"LJ":this.setLineJoin(e,i);break;case"ML":this.setMiterLimit(e,i);break;case"D":this.setDash(e,i[0],i[1]);break;case"RI":this.setRenderingIntent(e,i);break;case"FL":this.setFlatness(e,i);break;case"Font":this.setFont(e,i[0],i[1]);break;case"CA":this.dependencyTracker?.recordSimpleData("strokeAlpha",e),this.current.strokeAlpha=i;break;case"ca":this.dependencyTracker?.recordSimpleData("fillAlpha",e),this.ctx.globalAlpha=this.current.fillAlpha=i;break;case"BM":this.dependencyTracker?.recordSimpleData("globalCompositeOperation",e),this.ctx.globalCompositeOperation=i;break;case"SMask":this.dependencyTracker?.recordSimpleData("SMask",e),this.current.activeSMask=i?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.dependencyTracker?.recordSimpleData("filter",e),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(i);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(e){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const n=this.ctx.canvas.width,r=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(i,n,r);this.suspendedCtx=this.ctx;const a=this.ctx=s.context;a.setTransform(this.suspendedCtx.getTransform()),wh(this.suspendedCtx,a),Jke(a,this.suspendedCtx),this.setGState(e,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),wh(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const n=this.current.activeSMask,r=this.suspendedCtx;this.composeSMask(r,n,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,n,r,i){const s=i[0],a=i[1],o=i[2]-s,l=i[3]-a;o===0||l===0||(this.genericComposeSMask(n.context,r,o,l,n.subtype,n.backdrop,n.transferMap,s,a,n.offsetX,n.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(r.canvas,0,0),e.restore())}genericComposeSMask(e,n,r,i,s,a,o,l,c,d,h){let p=e.canvas,g=l-d,v=c-h;if(a)if(g<0||v<0||g+r>p.width||v+i>p.height){const b=this.cachedCanvases.getCanvas("maskExtension",r,i),x=b.context;x.drawImage(p,-g,-v),x.globalCompositeOperation="destination-atop",x.fillStyle=a,x.fillRect(0,0,r,i),x.globalCompositeOperation="source-over",p=b.canvas,g=v=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const b=new Path2D;b.rect(g,v,r,i),e.clip(b),e.globalCompositeOperation="destination-atop",e.fillStyle=a,e.fillRect(g,v,r,i),e.restore()}n.save(),n.globalAlpha=1,n.setTransform(1,0,0,1,0,0),s==="Alpha"&&o?n.filter=this.filterFactory.addAlphaFilter(o):s==="Luminosity"&&(n.filter=this.filterFactory.addLuminosityFilter(o));const y=new Path2D;y.rect(l,c,r,i),n.clip(y),n.globalCompositeOperation="destination-in",n.drawImage(p,g,v,r,i,l,c,r,i),n.restore()}save(e){this.inSMaskMode&&wh(this.ctx,this.suspendedCtx),this.ctx.save();const n=this.current;this.stateStack.push(n),this.current=n.clone(),this.dependencyTracker?.save(e)}restore(e){if(this.dependencyTracker?.restore(e),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&wh(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,n,r,i,s,a,o){this.dependencyTracker?.recordIncrementalData("transform",e),this.ctx.transform(n,r,i,s,a,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,n,r,i){let[s]=r;if(!i){s||=r[0]=new Path2D,this[n](e,s);return}if(this.dependencyTracker!==null){const a=n===Nf.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(e).recordBBox(e,this.ctx,i[0]-a,i[2]+a,i[1]-a,i[3]+a).recordDependencies(e,["transform"])}s instanceof Path2D||(s=r[0]=PK(s)),He.axialAlignedBoundingBox(i,dn(this.ctx),this.current.minMax),this[n](e,s),this._pathStartIdx=e}closePath(e){this.ctx.closePath()}stroke(e,n,r=!0){const i=this.ctx,s=this.current.strokeColor;if(i.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof s=="object"&&s?.getPattern){const a=s.isModifyingCurrentTransform()?i.getTransform():null;if(i.save(),i.strokeStyle=s.getPattern(i,this,xs(i),ar.STROKE,e),a){const o=new Path2D;o.addPath(n,i.getTransform().invertSelf().multiplySelf(a)),n=o}this.rescaleAndStroke(n,!1),i.restore()}else this.rescaleAndStroke(n,!0);this.dependencyTracker?.recordDependencies(e,Ri.stroke),r&&this.consumePath(e,n,this.current.getClippedPathBoundingBox(ar.STROKE,dn(this.ctx))),i.globalAlpha=this.current.fillAlpha}closeStroke(e,n){this.stroke(e,n)}fill(e,n,r=!0){const i=this.ctx,s=this.current.fillColor,a=this.current.patternFill;let o=!1;if(a){const c=s.isModifyingCurrentTransform()?i.getTransform():null;if(this.dependencyTracker?.save(e),i.save(),i.fillStyle=s.getPattern(i,this,xs(i),ar.FILL,e),c){const d=new Path2D;d.addPath(n,i.getTransform().invertSelf().multiplySelf(c)),n=d}o=!0}const l=this.current.getClippedPathBoundingBox();this.contentVisible&&l!==null&&(this.pendingEOFill?(i.fill(n,"evenodd"),this.pendingEOFill=!1):i.fill(n)),this.dependencyTracker?.recordDependencies(e,Ri.fill),o&&(i.restore(),this.dependencyTracker?.restore(e)),r&&this.consumePath(e,n,l)}eoFill(e,n){this.pendingEOFill=!0,this.fill(e,n)}fillStroke(e,n){this.fill(e,n,!1),this.stroke(e,n,!1),this.consumePath(e,n)}eoFillStroke(e,n){this.pendingEOFill=!0,this.fillStroke(e,n)}closeFillStroke(e,n){this.fillStroke(e,n)}closeEOFillStroke(e,n){this.pendingEOFill=!0,this.fillStroke(e,n)}endPath(e,n){this.consumePath(e,n)}rawFillPath(e,n){this.ctx.fill(n),this.dependencyTracker?.recordDependencies(e,Ri.rawFillPath).recordOperation(e)}clip(e){this.dependencyTracker?.recordFutureForcedDependency("clipMode",e),this.pendingClip=nRe}eoClip(e){this.dependencyTracker?.recordFutureForcedDependency("clipMode",e),this.pendingClip=i9}beginText(e){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,this.dependencyTracker?.recordOpenMarker(e).resetIncrementalData("sameLineText").resetIncrementalData("moveText",e)}endText(e){const n=this.pendingTextPaths,r=this.ctx;if(this.dependencyTracker){const{dependencyTracker:i}=this;n!==void 0&&i.recordFutureForcedDependency("textClip",i.getOpenMarker()).recordFutureForcedDependency("textClip",e),i.recordCloseMarker(e)}if(n!==void 0){const i=new Path2D,s=r.getTransform().invertSelf();for(const{transform:a,x:o,y:l,fontSize:c,path:d}of n)d&&i.addPath(d,new DOMMatrix(a).preMultiplySelf(s).translate(o,l).scale(c,-c));r.clip(i)}delete this.pendingTextPaths}setCharSpacing(e,n){this.dependencyTracker?.recordSimpleData("charSpacing",e),this.current.charSpacing=n}setWordSpacing(e,n){this.dependencyTracker?.recordSimpleData("wordSpacing",e),this.current.wordSpacing=n}setHScale(e,n){this.dependencyTracker?.recordSimpleData("hScale",e),this.current.textHScale=n/100}setLeading(e,n){this.dependencyTracker?.recordSimpleData("leading",e),this.current.leading=-n}setFont(e,n,r){this.dependencyTracker?.recordSimpleData("font",e).recordSimpleDataFromNamed("fontObj",n,e);const i=this.commonObjs.get(n),s=this.current;if(!i)throw new Error(`Can't find font for ${n}`);if(s.fontMatrix=i.fontMatrix||bC,(s.fontMatrix[0]===0||s.fontMatrix[3]===0)&&ft("Invalid font matrix for font "+n),r<0?(r=-r,s.fontDirection=-1):s.fontDirection=1,this.current.font=i,this.current.fontSize=r,i.isType3Font)return;const a=i.loadedName||"sans-serif",o=i.systemFontInfo?.css||`"${a}", ${i.fallbackName}`;let l="normal";i.black?l="900":i.bold&&(l="bold");const c=i.italic?"italic":"normal";let d=r;r<Zj?d=Zj:r>Jj&&(d=Jj),this.current.fontSizeScale=r/d,this.ctx.font=`${c} ${l} ${d}px ${o}`}setTextRenderingMode(e,n){this.dependencyTracker?.recordSimpleData("textRenderingMode",e),this.current.textRenderingMode=n}setTextRise(e,n){this.dependencyTracker?.recordSimpleData("textRise",e),this.current.textRise=n}moveText(e,n,r){this.dependencyTracker?.resetIncrementalData("sameLineText").recordIncrementalData("moveText",e),this.current.x=this.current.lineX+=n,this.current.y=this.current.lineY+=r}setLeadingMoveText(e,n,r){this.setLeading(e,-r),this.moveText(e,n,r)}setTextMatrix(e,n){this.dependencyTracker?.resetIncrementalData("sameLineText").recordSimpleData("textMatrix",e);const{current:r}=this;r.textMatrix=n,r.textMatrixScale=Math.hypot(n[0],n[1]),r.x=r.lineX=0,r.y=r.lineY=0}nextLine(e){this.moveText(e,0,this.current.leading),this.dependencyTracker?.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??e)}#r(e,n,r){const i=new Path2D;return i.addPath(e,new DOMMatrix(r).invertSelf().multiplySelf(n)),i}paintChar(e,n,r,i,s,a){const o=this.ctx,l=this.current,c=l.font,d=l.textRenderingMode,h=l.fontSize/l.fontSizeScale,p=d&jn.FILL_STROKE_MASK,g=!!(d&jn.ADD_TO_PATH_FLAG),v=l.patternFill&&!c.missingFile,y=l.patternStroke&&!c.missingFile;let b;if((c.disableFontFace||g||v||y)&&!c.missingFile&&(b=c.getPathGenerator(this.commonObjs,n)),b&&(c.disableFontFace||v||y)){o.save(),o.translate(r,i),o.scale(h,-h),this.dependencyTracker?.recordCharacterBBox(e,o,c);let x;if(p===jn.FILL||p===jn.FILL_STROKE)if(s){x=o.getTransform(),o.setTransform(...s);const w=this.#r(b,x,s);o.fill(w)}else o.fill(b);if(p===jn.STROKE||p===jn.FILL_STROKE)if(a){x||=o.getTransform(),o.setTransform(...a);const{a:w,b:D,c:E,d:A}=x,S=He.inverseTransform(a),T=He.transform([w,D,E,A,0,0],S);He.singularValueDecompose2dScale(T,ui),o.lineWidth*=Math.max(ui[0],ui[1])/h,o.stroke(this.#r(b,x,a))}else o.lineWidth/=h,o.stroke(b);o.restore()}else(p===jn.FILL||p===jn.FILL_STROKE)&&(o.fillText(n,r,i),this.dependencyTracker?.recordCharacterBBox(e,o,c,h,r,i,()=>o.measureText(n))),(p===jn.STROKE||p===jn.FILL_STROKE)&&(this.dependencyTracker&&this.dependencyTracker?.recordCharacterBBox(e,o,c,h,r,i,()=>o.measureText(n)).recordDependencies(e,Ri.stroke),o.strokeText(n,r,i));g&&((this.pendingTextPaths||=[]).push({transform:dn(o),x:r,y:i,fontSize:h,path:b}),this.dependencyTracker?.recordCharacterBBox(e,o,c,h,r,i))}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const n=e.getImageData(0,0,10,10).data;let r=!1;for(let i=3;i<n.length;i+=4)if(n[i]>0&&n[i]<255){r=!0;break}return pt(this,"isFontSubpixelAAEnabled",r)}showText(e,n){this.dependencyTracker&&(this.dependencyTracker.recordDependencies(e,Ri.showText).resetBBox(e),this.current.textRenderingMode&jn.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",e).inheritPendingDependenciesAsFutureForcedDependencies());const r=this.current,i=r.font;if(i.isType3Font){this.showType3Text(e,n),this.dependencyTracker?.recordShowTextOperation(e);return}const s=r.fontSize;if(s===0){this.dependencyTracker?.recordOperation(e);return}const a=this.ctx,o=r.fontSizeScale,l=r.charSpacing,c=r.wordSpacing,d=r.fontDirection,h=r.textHScale*d,p=n.length,g=i.vertical,v=g?1:-1,y=i.defaultVMetrics,b=s*r.fontMatrix[0],x=r.textRenderingMode===jn.FILL&&!i.disableFontFace&&!r.patternFill;a.save(),r.textMatrix&&a.transform(...r.textMatrix),a.translate(r.x,r.y+r.textRise),d>0?a.scale(h,-1):a.scale(h,1);let w,D;const E=r.textRenderingMode&jn.FILL_STROKE_MASK,A=E===jn.FILL||E===jn.FILL_STROKE,S=E===jn.STROKE||E===jn.FILL_STROKE;if(A&&r.patternFill){a.save();const z=r.fillColor.getPattern(a,this,xs(a),ar.FILL,e);w=dn(a),a.restore(),a.fillStyle=z}if(S&&r.patternStroke){a.save();const z=r.strokeColor.getPattern(a,this,xs(a),ar.STROKE,e);D=dn(a),a.restore(),a.strokeStyle=z}let T=r.lineWidth;const M=r.textMatrixScale;if(M===0||T===0?S&&(T=this.getSinglePixelWidth()):T/=M,o!==1&&(a.scale(o,o),T/=o),a.lineWidth=T,i.isInvalidPDFjsFont){const z=[];let F=0;for(const k of n)z.push(k.unicode),F+=k.width;const q=z.join("");if(a.fillText(q,0,0),this.dependencyTracker!==null){const k=a.measureText(q);this.dependencyTracker.recordBBox(e,this.ctx,-k.actualBoundingBoxLeft,k.actualBoundingBoxRight,-k.actualBoundingBoxAscent,k.actualBoundingBoxDescent).recordShowTextOperation(e)}r.x+=F*b*h,a.restore(),this.compose();return}let R=0,O;for(O=0;O<p;++O){const z=n[O];if(typeof z=="number"){R+=v*z*s/1e3;continue}let F=!1;const q=(z.isSpace?c:0)+l,k=z.fontChar,H=z.accent;let N,B,G=z.width;if(g){const L=z.vmetric||y,K=-(z.vmetric?L[1]:G*.5)*b,j=L[2]*b;G=L?-L[0]:G,N=K/o,B=(R+j)/o}else N=R/o,B=0;let $;if(i.remeasure&&G>0){$=a.measureText(k);const L=$.width*1e3/s*o;if(G<L&&this.isFontSubpixelAAEnabled){const K=G/L;F=!0,a.save(),a.scale(K,1),N/=K}else G!==L&&(N+=(G-L)/2e3*s/o)}if(this.contentVisible&&(z.isInFont||i.missingFile)){if(x&&!H)a.fillText(k,N,B),this.dependencyTracker?.recordCharacterBBox(e,a,$?{bbox:null}:i,s/o,N,B,()=>$??a.measureText(k));else if(this.paintChar(e,k,N,B,w,D),H){const L=N+s*H.offset.x/o,K=B-s*H.offset.y/o;this.paintChar(e,H.fontChar,L,K,w,D)}}const W=g?G*b-q*d:G*b+q*d;R+=W,F&&a.restore()}g?r.y-=R:r.x+=R*h,a.restore(),this.compose(),this.dependencyTracker?.recordShowTextOperation(e)}showType3Text(e,n){const r=this.ctx,i=this.current,s=i.font,a=i.fontSize,o=i.fontDirection,l=s.vertical?1:-1,c=i.charSpacing,d=i.wordSpacing,h=i.textHScale*o,p=i.fontMatrix||bC,g=n.length,v=i.textRenderingMode===jn.INVISIBLE;let y,b,x,w;if(v||a===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,r.save(),i.textMatrix&&r.transform(...i.textMatrix),r.translate(i.x,i.y+i.textRise),r.scale(h,o);const D=this.dependencyTracker;for(this.dependencyTracker=D?new ob(D,e):null,y=0;y<g;++y){if(b=n[y],typeof b=="number"){w=l*b*a/1e3,this.ctx.translate(w,0),i.x+=w*h;continue}const E=(b.isSpace?d:0)+c,A=s.charProcOperatorList[b.operatorListId];A?this.contentVisible&&(this.save(),r.scale(a,a),r.transform(...p),this.executeOperatorList(A),this.restore()):ft(`Type3 character "${b.operatorListId}" is not available.`);const S=[b.width,0];He.applyTransform(S,p),x=S[0]*a+E,r.translate(x,0),i.x+=x*h}r.restore(),D&&(this.dependencyTracker=D)}setCharWidth(e,n,r){}setCharWidthAndBounds(e,n,r,i,s,a,o){const l=new Path2D;l.rect(i,s,a-i,o-s),this.ctx.clip(l),this.dependencyTracker?.recordBBox(e,this.ctx,i,a,s,o).recordClipBox(e,this.ctx,i,a,s,o),this.endPath(e)}getColorN_Pattern(e,n){let r;if(n[0]==="TilingPattern"){const i=this.baseTransform||dn(this.ctx),s={createCanvasGraphics:(a,o)=>new Nu(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new ob(this.dependencyTracker,o,!0):null)};r=new QR(n,this.ctx,s,i)}else r=this._getPattern(e,n[1],n[2]);return r}setStrokeColorN(e,...n){this.dependencyTracker?.recordSimpleData("strokeColor",e),this.current.strokeColor=this.getColorN_Pattern(e,n),this.current.patternStroke=!0}setFillColorN(e,...n){this.dependencyTracker?.recordSimpleData("fillColor",e),this.current.fillColor=this.getColorN_Pattern(e,n),this.current.patternFill=!0}setStrokeRGBColor(e,n){this.dependencyTracker?.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor=n,this.current.patternStroke=!1}setStrokeTransparent(e){this.dependencyTracker?.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,n){this.dependencyTracker?.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor=n,this.current.patternFill=!1}setFillTransparent(e){this.dependencyTracker?.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,n,r=null){let i;return this.cachedPatterns.has(n)?i=this.cachedPatterns.get(n):(i=Kke(this.getObject(e,n)),this.cachedPatterns.set(n,i)),r&&(i.matrix=r),i}shadingFill(e,n){if(!this.contentVisible)return;const r=this.ctx;this.save(e);const i=this._getPattern(e,n);r.fillStyle=i.getPattern(r,this,xs(r),ar.SHADING,e);const s=xs(r);if(s){const{width:a,height:o}=r.canvas,l=_u.slice();He.axialAlignedBoundingBox([0,0,a,o],s,l);const[c,d,h,p]=l;this.ctx.fillRect(c,d,h-c,p-d)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.dependencyTracker?.resetBBox(e).recordFullPageBBox(e).recordDependencies(e,Ri.transform).recordDependencies(e,Ri.fill).recordOperation(e),this.compose(this.current.getClippedPathBoundingBox()),this.restore(e)}beginInlineImage(){Zt("Should not call beginInlineImage")}beginImageData(){Zt("Should not call beginImageData")}paintFormXObjectBegin(e,n,r){if(this.contentVisible&&(this.save(e),this.baseTransformStack.push(this.baseTransform),n&&this.transform(e,...n),this.baseTransform=dn(this.ctx),r)){He.axialAlignedBoundingBox(r,this.baseTransform,this.current.minMax);const[i,s,a,o]=r,l=new Path2D;l.rect(i,s,a-i,o-s),this.ctx.clip(l),this.dependencyTracker?.recordClipBox(e,this.ctx,i,a,s,o),this.endPath(e)}}paintFormXObjectEnd(e){this.contentVisible&&(this.restore(e),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e,n){if(!this.contentVisible)return;this.save(e),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const r=this.ctx;n.isolated||dv("TODO: Support non-isolated groups."),n.knockout&&ft("Knockout groups not supported.");const i=dn(r);if(n.matrix&&r.transform(...n.matrix),!n.bbox)throw new Error("Bounding box is required.");let s=_u.slice();He.axialAlignedBoundingBox(n.bbox,dn(r),s);const a=[0,0,r.canvas.width,r.canvas.height];s=He.intersect(s,a)||[0,0,0,0];const o=Math.floor(s[0]),l=Math.floor(s[1]),c=Math.max(Math.ceil(s[2])-o,1),d=Math.max(Math.ceil(s[3])-l,1);this.current.startNewPathAndClipBox([0,0,c,d]);let h="groupAt"+this.groupLevel;n.smask&&(h+="_smask_"+this.smaskCounter++%2);const p=this.cachedCanvases.getCanvas(h,c,d),g=p.context;g.translate(-o,-l),g.transform(...i);let v=new Path2D;const[y,b,x,w]=n.bbox;if(v.rect(y,b,x-y,w-b),n.matrix){const D=new Path2D;D.addPath(v,new DOMMatrix(n.matrix)),v=D}g.clip(v),n.smask&&this.smaskStack.push({canvas:p.canvas,context:g,offsetX:o,offsetY:l,subtype:n.smask.subtype,backdrop:n.smask.backdrop,transferMap:n.smask.transferMap||null,startTransformInverse:null}),(!n.smask||this.dependencyTracker)&&(r.setTransform(1,0,0,1,0,0),r.translate(o,l),r.save()),wh(r,g),this.ctx=g,this.dependencyTracker?.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(r),this.setGState(e,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(r),this.groupLevel++}endGroup(e,n){if(!this.contentVisible)return;this.groupLevel--;const r=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,this.dependencyTracker?.popBaseTransform(),n.smask)this.tempSMask=this.smaskStack.pop(),this.restore(e),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const s=dn(this.ctx);this.restore(e),this.ctx.save(),this.ctx.setTransform(...s);const a=_u.slice();He.axialAlignedBoundingBox([0,0,r.canvas.width,r.canvas.height],s,a),this.ctx.drawImage(r.canvas,0,0),this.ctx.restore(),this.compose(a)}}beginAnnotation(e,n,r,i,s,a){if(this.#e(),Sm(this.ctx),this.ctx.save(),this.save(e),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),r){const o=r[2]-r[0],l=r[3]-r[1];if(a&&this.annotationCanvasMap){i=i.slice(),i[4]-=r[0],i[5]-=r[1],r=r.slice(),r[0]=r[1]=0,r[2]=o,r[3]=l,He.singularValueDecompose2dScale(dn(this.ctx),ui);const{viewportScale:c}=this,d=Math.ceil(o*this.outputScaleX*c),h=Math.ceil(l*this.outputScaleY*c);this.annotationCanvas=this.canvasFactory.create(d,h);const{canvas:p,context:g}=this.annotationCanvas;this.annotationCanvasMap.set(n,p),this.annotationCanvas.savedCtx=this.ctx,this.ctx=g,this.ctx.save(),this.ctx.setTransform(ui[0],0,0,-ui[1],0,l*ui[1]),Sm(this.ctx)}else{Sm(this.ctx),this.endPath(e);const c=new Path2D;c.rect(r[0],r[1],o,l),this.ctx.clip(c)}}this.current=new e9(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(e,...i),this.transform(e,...s)}endAnnotation(e){this.annotationCanvas&&(this.ctx.restore(),this.#t(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e,n){if(!this.contentVisible)return;const r=n.count;n=this.getObject(e,n.data,n),n.count=r;const i=this.ctx,s=this._createMaskCanvas(e,n),a=s.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(a,s.offsetX,s.offsetY),this.dependencyTracker?.resetBBox(e).recordBBox(e,this.ctx,s.offsetX,s.offsetX+a.width,s.offsetY,s.offsetY+a.height).recordOperation(e),i.restore(),this.compose()}paintImageMaskXObjectRepeat(e,n,r,i=0,s=0,a,o){if(!this.contentVisible)return;n=this.getObject(e,n.data,n);const l=this.ctx;l.save();const c=dn(l);l.transform(r,i,s,a,0,0);const d=this._createMaskCanvas(e,n);l.setTransform(1,0,0,1,d.offsetX-c[4],d.offsetY-c[5]),this.dependencyTracker?.resetBBox(e);for(let h=0,p=o.length;h<p;h+=2){const g=He.transform(c,[r,i,s,a,o[h],o[h+1]]);l.drawImage(d.canvas,g[4],g[5]),this.dependencyTracker?.recordBBox(e,this.ctx,g[4],g[4]+d.canvas.width,g[5],g[5]+d.canvas.height)}l.restore(),this.compose(),this.dependencyTracker?.recordOperation(e)}paintImageMaskXObjectGroup(e,n){if(!this.contentVisible)return;const r=this.ctx,i=this.current.fillColor,s=this.current.patternFill;this.dependencyTracker?.resetBBox(e).recordDependencies(e,Ri.transformAndFill);for(const a of n){const{data:o,width:l,height:c,transform:d}=a,h=this.cachedCanvases.getCanvas("maskCanvas",l,c),p=h.context;p.save();const g=this.getObject(e,o,a);n9(p,g),p.globalCompositeOperation="source-in",p.fillStyle=s?i.getPattern(p,this,xs(r),ar.FILL,e):i,p.fillRect(0,0,l,c),p.restore(),r.save(),r.transform(...d),r.scale(1,-1),Em(r,h.canvas,0,0,l,c,0,-1,1,1),this.dependencyTracker?.recordBBox(e,r,0,l,0,c),r.restore()}this.compose(),this.dependencyTracker?.recordOperation(e)}paintImageXObject(e,n){if(!this.contentVisible)return;const r=this.getObject(e,n);if(!r){ft("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e,r)}paintImageXObjectRepeat(e,n,r,i,s){if(!this.contentVisible)return;const a=this.getObject(e,n);if(!a){ft("Dependent image isn't ready yet");return}const o=a.width,l=a.height,c=[];for(let d=0,h=s.length;d<h;d+=2)c.push({transform:[r,0,0,i,s[d],s[d+1]],x:0,y:0,w:o,h:l});this.paintInlineImageXObjectGroup(e,a,c)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:n,width:r,height:i}=e,s=this.cachedCanvases.getCanvas("inlineImage",r,i),a=s.context;return a.filter=this.current.transferMaps,a.drawImage(n,0,0),a.filter="none",s.canvas}paintInlineImageXObject(e,n){if(!this.contentVisible)return;const r=n.width,i=n.height,s=this.ctx;this.save(e);const{filter:a}=s;a!=="none"&&a!==""&&(s.filter="none"),s.scale(1/r,-1/i);let o;if(n.bitmap)o=this.applyTransferMapsToBitmap(n);else if(typeof HTMLElement=="function"&&n instanceof HTMLElement||!n.data)o=n;else{const d=this.cachedCanvases.getCanvas("inlineImage",r,i).context;t9(d,n),o=this.applyTransferMapsToCanvas(d)}const l=this._scaleImage(o,xs(s));s.imageSmoothingEnabled=r9(dn(s),n.interpolate),this.dependencyTracker?.resetBBox(e).recordBBox(e,s,0,r,-i,0).recordDependencies(e,Ri.imageXObject).recordOperation(e),Em(s,l.img,0,0,l.paintWidth,l.paintHeight,0,-i,r,i),this.compose(),this.restore(e)}paintInlineImageXObjectGroup(e,n,r){if(!this.contentVisible)return;const i=this.ctx;let s;if(n.bitmap)s=n.bitmap;else{const a=n.width,o=n.height,c=this.cachedCanvases.getCanvas("inlineImage",a,o).context;t9(c,n),s=this.applyTransferMapsToCanvas(c)}this.dependencyTracker?.resetBBox(e);for(const a of r)i.save(),i.transform(...a.transform),i.scale(1,-1),Em(i,s,a.x,a.y,a.w,a.h,0,-1,1,1),this.dependencyTracker?.recordBBox(e,i,0,1,-1,0),i.restore();this.dependencyTracker?.recordOperation(e),this.compose()}paintSolidColorImageMask(e){this.contentVisible&&(this.dependencyTracker?.resetBBox(e).recordBBox(e,this.ctx,0,1,0,1).recordDependencies(e,Ri.fill).recordOperation(e),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e,n){}markPointProps(e,n,r){}beginMarkedContent(e,n){this.dependencyTracker?.beginMarkedContent(e),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,n,r){this.dependencyTracker?.beginMarkedContent(e),n==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(r)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(e){this.dependencyTracker?.endMarkedContent(e),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(e){}endCompat(e){}consumePath(e,n,r){const i=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(r);const s=this.ctx;this.pendingClip?(i||(this.pendingClip===i9?s.clip(n,"evenodd"):s.clip(n)),this.pendingClip=null,this.dependencyTracker?.bboxToClipBoxDropOperation(e).recordFutureForcedDependency("clipPath",e)):this.dependencyTracker?.recordOperation(e),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=dn(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const n=Math.abs(e[0]*e[3]-e[2]*e[1]),r=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(r,i)/n}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:n,b:r,c:i,d:s}=this.ctx.getTransform();let a,o;if(r===0&&i===0){const l=Math.abs(n),c=Math.abs(s);if(l===c)if(e===0)a=o=1/l;else{const d=l*e;a=o=d<1?1/d:1}else if(e===0)a=1/l,o=1/c;else{const d=l*e,h=c*e;a=d<1?1/d:1,o=h<1?1/h:1}}else{const l=Math.abs(n*s-r*i),c=Math.hypot(n,r),d=Math.hypot(i,s);if(e===0)a=d/l,o=c/l;else{const h=e*l;a=d>h?d/h:1,o=c>h?c/h:1}}this._cachedScaleForStroking[0]=a,this._cachedScaleForStroking[1]=o}return this._cachedScaleForStroking}rescaleAndStroke(e,n){const{ctx:r,current:{lineWidth:i}}=this,[s,a]=this.getScaleForStroking();if(s===a){r.lineWidth=(i||1)*s,r.stroke(e);return}const o=r.getLineDash();n&&r.save(),r.scale(s,a),BS.a=1/s,BS.d=1/a;const l=new Path2D;if(l.addPath(e,BS),o.length>0){const c=Math.max(s,a);r.setLineDash(o.map(d=>d/c)),r.lineDashOffset/=c}r.lineWidth=i||1,r.stroke(l),n&&r.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}}for(const t in Nf)Nu.prototype[t]!==void 0&&(Nu.prototype[Nf[t]]=Nu.prototype[t]);class Fu{static#e=null;static#t="";static get workerPort(){return this.#e}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");this.#e=e}static get workerSrc(){return this.#t}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");this.#t=e}}class rRe{#e;#t;constructor({parsedData:e,rawData:n}){this.#e=e,this.#t=n}getRaw(){return this.#t}get(e){return this.#e.get(e)??null}[Symbol.iterator](){return this.#e.entries()}}const fu=Symbol("INTERNAL");class iRe{#e=!1;#t=!1;#r=!1;#n=!0;constructor(e,{name:n,intent:r,usage:i,rbGroups:s}){this.#e=!!(e&li.DISPLAY),this.#t=!!(e&li.PRINT),this.name=n,this.intent=r,this.usage=i,this.rbGroups=s}get visible(){if(this.#r)return this.#n;if(!this.#n)return!1;const{print:e,view:n}=this.usage;return this.#e?n?.viewState!=="OFF":this.#t?e?.printState!=="OFF":!0}_setVisible(e,n,r=!1){e!==fu&&Zt("Internal method `_setVisible` called."),this.#r=r,this.#n=n}}class sRe{#e=null;#t=new Map;#r=null;#n=null;constructor(e,n=li.DISPLAY){if(this.renderingIntent=n,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,this.#n=e.order;for(const r of e.groups)this.#t.set(r.id,new iRe(n,r));if(e.baseState==="OFF")for(const r of this.#t.values())r._setVisible(fu,!1);for(const r of e.on)this.#t.get(r)._setVisible(fu,!0);for(const r of e.off)this.#t.get(r)._setVisible(fu,!1);this.#r=this.getHash()}}#i(e){const n=e.length;if(n<2)return!0;const r=e[0];for(let i=1;i<n;i++){const s=e[i];let a;if(Array.isArray(s))a=this.#i(s);else if(this.#t.has(s))a=this.#t.get(s).visible;else return ft(`Optional content group not found: ${s}`),!0;switch(r){case"And":if(!a)return!1;break;case"Or":if(a)return!0;break;case"Not":return!a;default:return!0}}return r==="And"}isVisible(e){if(this.#t.size===0)return!0;if(!e)return dv("Optional content group not defined."),!0;if(e.type==="OCG")return this.#t.has(e.id)?this.#t.get(e.id).visible:(ft(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return this.#i(e.expression);if(!e.policy||e.policy==="AnyOn"){for(const n of e.ids){if(!this.#t.has(n))return ft(`Optional content group not found: ${n}`),!0;if(this.#t.get(n).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const n of e.ids){if(!this.#t.has(n))return ft(`Optional content group not found: ${n}`),!0;if(!this.#t.get(n).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const n of e.ids){if(!this.#t.has(n))return ft(`Optional content group not found: ${n}`),!0;if(!this.#t.get(n).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const n of e.ids){if(!this.#t.has(n))return ft(`Optional content group not found: ${n}`),!0;if(this.#t.get(n).visible)return!1}return!0}return ft(`Unknown optional content policy ${e.policy}.`),!0}return ft(`Unknown group type ${e.type}.`),!0}setVisibility(e,n=!0,r=!0){const i=this.#t.get(e);if(!i){ft(`Optional content group not found: ${e}`);return}if(r&&n&&i.rbGroups.length)for(const s of i.rbGroups)for(const a of s)a!==e&&this.#t.get(a)?._setVisible(fu,!1,!0);i._setVisible(fu,!!n,!0),this.#e=null}setOCGState({state:e,preserveRB:n}){let r;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":r=i;continue}const s=this.#t.get(i);if(s)switch(r){case"ON":this.setVisibility(i,!0,n);break;case"OFF":this.setVisibility(i,!1,n);break;case"Toggle":this.setVisibility(i,!s.visible,n);break}}this.#e=null}get hasInitialVisibility(){return this.#r===null||this.getHash()===this.#r}getOrder(){return this.#t.size?this.#n?this.#n.slice():[...this.#t.keys()]:null}getGroup(e){return this.#t.get(e)||null}getHash(){if(this.#e!==null)return this.#e;const e=new BK;for(const[n,r]of this.#t)e.update(`${n}:${r.visible}`);return this.#e=e.hexdigest()}[Symbol.iterator](){return this.#t.entries()}}class aRe{constructor(e,{disableRange:n=!1,disableStream:r=!1}){Ut(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:s,progressiveDone:a,contentDispositionFilename:o}=e;if(this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=o,s?.length>0){const l=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!r,this._isRangeSupported=!n,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,c)=>{this._onReceiveData({begin:l,chunk:c})}),e.addProgressListener((l,c)=>{this._onProgress({loaded:l,total:c})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:n}){const r=n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength?n.buffer:new Uint8Array(n).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{const i=this._rangeReaders.some(function(s){return s._begin!==e?!1:(s._enqueue(r),!0)});Ut(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(e){e.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:e.loaded}):this._fullRequestReader?.onProgress?.({loaded:e.loaded,total:e.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const n=this._rangeReaders.indexOf(e);n>=0&&this._rangeReaders.splice(n,1)}getFullReader(){Ut(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new oRe(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const r=new lRe(this,e,n);return this._pdfDataRangeTransport.requestDataRange(e,n),this._rangeReaders.push(r),r}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const n of this._rangeReaders.slice(0))n.cancel(e);this._pdfDataRangeTransport.abort()}}class oRe{constructor(e,n,r=!1,i=null){this._stream=e,this._done=r||!1,this._filename=GR(i)?i:null,this._queuedChunks=n||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class lRe{constructor(e,n,r){this._stream=e,this._begin=n,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function cRe(t){let e=!0,n=r("filename\\*","i").exec(t);if(n){n=n[1];let d=o(n);return d=unescape(d),d=l(d),d=c(d),s(d)}if(n=a(t),n){const d=c(n);return s(d)}if(n=r("filename","i").exec(t),n){n=n[1];let d=o(n);return d=c(d),s(d)}function r(d,h){return new RegExp("(?:^|;)\\s*"+d+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',h)}function i(d,h){if(d){if(!/^[\x00-\xFF]+$/.test(h))return h;try{const p=new TextDecoder(d,{fatal:!0}),g=pp(h);h=p.decode(g),e=!1}catch{}}return h}function s(d){return e&&/[\x80-\xff]/.test(d)&&(d=i("utf-8",d),e&&(d=i("iso-8859-1",d))),d}function a(d){const h=[];let p;const g=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(p=g.exec(d))!==null;){let[,y,b,x]=p;if(y=parseInt(y,10),y in h){if(y===0)break;continue}h[y]=[b,x]}const v=[];for(let y=0;y<h.length&&y in h;++y){let[b,x]=h[y];x=o(x),b&&(x=unescape(x),y===0&&(x=l(x))),v.push(x)}return v.join("")}function o(d){if(d.startsWith('"')){const h=d.slice(1).split('\\"');for(let p=0;p<h.length;++p){const g=h[p].indexOf('"');g!==-1&&(h[p]=h[p].slice(0,g),h.length=p+1),h[p]=h[p].replaceAll(/\\(.)/g,"$1")}d=h.join('"')}return d}function l(d){const h=d.indexOf("'");if(h===-1)return d;const p=d.slice(0,h),v=d.slice(h+1).replace(/^[^']*'/,"");return i(p,v)}function c(d){return!d.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(d)?d:d.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(h,p,g,v){if(g==="q"||g==="Q")return v=v.replaceAll("_"," "),v=v.replaceAll(/=([0-9a-fA-F]{2})/g,function(y,b){return String.fromCharCode(parseInt(b,16))}),i(p,v);try{v=atob(v)}catch{}return i(p,v)})}return""}function $K(t,e){const n=new Headers;if(!t||!e||typeof e!="object")return n;for(const r in e){const i=e[r];i!==void 0&&n.append(r,i)}return n}function pv(t){return URL.parse(t)?.origin??null}function GK({responseHeaders:t,isHttp:e,rangeChunkSize:n,disableRange:r}){const i={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(t.get("Content-Length"),10);return!Number.isInteger(s)||(i.suggestedLength=s,s<=2*n)||r||!e||t.get("Accept-Ranges")!=="bytes"||(t.get("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function XK(t){const e=t.get("Content-Disposition");if(e){let n=cRe(e);if(n.includes("%"))try{n=decodeURIComponent(n)}catch{}if(GR(n))return n}return null}function vp(t,e){return new ab(`Unexpected server response (${t}) while retrieving PDF "${e}".`,t,t===404||t===0&&e.startsWith("file:"))}function KK(t){return t===200||t===206}function YK(t,e,n){return{method:"GET",headers:t,signal:n.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function ZK(t){return t instanceof Uint8Array?t.buffer:t instanceof ArrayBuffer?t:(ft(`getArrayBuffer - unexpected data format: ${t}`),new Uint8Array(t).buffer)}class uRe{_responseOrigin=null;constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=$K(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return Ut(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new dRe(this),this._fullRequestReader}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const r=new hRe(this,e,n);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class dRe{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const n=e.source;this._withCredentials=n.withCredentials||!1,this._contentLength=n.length,this._headersCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange;const r=new Headers(e.headers),i=n.url;fetch(i,YK(r,this._withCredentials,this._abortController)).then(s=>{if(e._responseOrigin=pv(s.url),!KK(s.status))throw vp(s.status,i);this._reader=s.body.getReader(),this._headersCapability.resolve();const a=s.headers,{allowRangeRequests:o,suggestedLength:l}=GK({responseHeaders:a,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=l||this._contentLength,this._filename=XK(a),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Co("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:e,done:n}=await this._reader.read();return n?{value:e,done:n}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:ZK(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}class hRe{constructor(e,n,r){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const s=new Headers(e.headers);s.append("Range",`bytes=${n}-${r-1}`);const a=i.url;fetch(a,YK(s,this._withCredentials,this._abortController)).then(o=>{const l=pv(o.url);if(l!==e._responseOrigin)throw new Error(`Expected range response-origin "${l}" to match "${e._responseOrigin}".`);if(!KK(o.status))throw vp(o.status,a);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:e,done:n}=await this._reader.read();return n?{value:e,done:n}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded}),{value:ZK(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}const jS=200,zS=206;function fRe(t){const e=t.response;return typeof e!="string"?e:pp(e).buffer}class pRe{_responseOrigin=null;constructor({url:e,httpHeaders:n,withCredentials:r}){this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=$K(this.isHttp,n),this.withCredentials=r||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const n=new XMLHttpRequest,r=this.currXhrId++,i=this.pendingRequests[r]={xhr:n};n.open("GET",this.url),n.withCredentials=this.withCredentials;for(const[s,a]of this.headers)n.setRequestHeader(s,a);return this.isHttp&&"begin"in e&&"end"in e?(n.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=zS):i.expectedStatus=jS,n.responseType="arraybuffer",Ut(e.onError,"Expected `onError` callback to be provided."),n.onerror=()=>{e.onError(n.status)},n.onreadystatechange=this.onStateChange.bind(this,r),n.onprogress=this.onProgress.bind(this,r),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,n.send(null),r}onProgress(e,n){const r=this.pendingRequests[e];r&&r.onProgress?.(n)}onStateChange(e,n){const r=this.pendingRequests[e];if(!r)return;const i=r.xhr;if(i.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){r.onError(i.status);return}const s=i.status||jS;if(!(s===jS&&r.expectedStatus===zS)&&s!==r.expectedStatus){r.onError(i.status);return}const o=fRe(i);if(s===zS){const l=i.getResponseHeader("Content-Range"),c=/bytes (\d+)-(\d+)\/(\d+)/.exec(l);c?r.onDone({begin:parseInt(c[1],10),chunk:o}):(ft('Missing or invalid "Content-Range" header.'),r.onError(0))}else o?r.onDone({begin:0,chunk:o}):r.onError(i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const n=this.pendingRequests[e].xhr;delete this.pendingRequests[e],n.abort()}}class gRe{constructor(e){this._source=e,this._manager=new pRe(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const n=this._rangeRequestReaders.indexOf(e);n>=0&&this._rangeRequestReaders.splice(n,1)}getFullReader(){return Ut(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new mRe(this._manager,this._source),this._fullRequestReader}getRangeReader(e,n){const r=new yRe(this._manager,e,n);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class mRe{constructor(e,n){this._manager=e,this._url=n.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._contentLength=n.length,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,n=this._manager.getRequestXhr(e);this._manager._responseOrigin=pv(n.responseURL);const r=n.getAllResponseHeaders(),i=new Headers(r?r.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(o=>{const[l,...c]=o.split(": ");return[l,c.join(": ")]}):[]),{allowRangeRequests:s,suggestedLength:a}=GK({responseHeaders:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=a||this._contentLength,this._filename=XK(i),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=vp(e,this._url),this._headersCapability.reject(this._storedError);for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){this.onProgress?.({loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class yRe{constructor(e,n,r){this._manager=e,this._url=e.url,this._requestId=e.request({begin:n,end:r,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){const e=pv(this._manager.getRequestXhr(this._requestId)?.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){this.onClosed?.(this)}_onDone(e){const n=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:n,done:!1}):this._queuedChunk=n,this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??=vp(e,this._url);for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){this.isStreamingSupported||this.onProgress?.({loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const bRe=/^[a-z][a-z0-9\-+.]+:/i;function vRe(t){if(bRe.test(t))return new URL(t);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(t))}class xRe{constructor(e){this.source=e,this.url=vRe(e.url),Ut(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return Ut(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new wRe(this),this._fullRequestReader}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const r=new _Re(this,e,n);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class wRe{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const n=e.source;this._contentLength=n.length,this._loaded=0,this._filename=null,this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const r=process.getBuiltinModule("fs");r.promises.lstat(this._url).then(i=>{this._contentLength=i.size,this._setReadableStream(r.createReadStream(this._url)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=vp(0,this._url.href)),this._storedError=i,this._headersCapability.reject(i)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",n=>{this._error(n)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Co("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class _Re{constructor(e,n,r){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const i=e.source;this._isStreamingSupported=!i.disableStream;const s=process.getBuiltinModule("fs");this._setReadableStream(s.createReadStream(this._url,{start:n,end:r-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",n=>{this._error(n)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const _h=Symbol("INITIAL_DATA");class JK{#e=Object.create(null);#t(e){return this.#e[e]||={...Promise.withResolvers(),data:_h}}get(e,n=null){if(n){const i=this.#t(e);return i.promise.then(()=>n(i.data)),null}const r=this.#e[e];if(!r||r.data===_h)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return r.data}has(e){const n=this.#e[e];return!!n&&n.data!==_h}delete(e){const n=this.#e[e];return!n||n.data===_h?!1:(delete this.#e[e],!0)}resolve(e,n=null){const r=this.#t(e);r.data=n,r.resolve()}clear(){for(const e in this.#e){const{data:n}=this.#e[e];n?.bitmap?.close()}this.#e=Object.create(null)}*[Symbol.iterator](){for(const e in this.#e){const{data:n}=this.#e[e];n!==_h&&(yield[e,n])}}}const DRe=1e5,s9=30;class ci{#e=Promise.withResolvers();#t=null;#r=!1;#n=!!globalThis.FontInspector?.enabled;#i=null;#a=null;#s=0;#o=0;#c=null;#l=null;#h=0;#d=0;#f=Object.create(null);#m=[];#g=null;#u=[];#p=new WeakMap;#y=null;static#v=new Map;static#b=new Map;static#E=new WeakMap;static#D=null;static#x=new Set;constructor({textContentSource:e,container:n,viewport:r}){if(e instanceof ReadableStream)this.#g=e;else if(typeof e=="object")this.#g=new ReadableStream({start(l){l.enqueue(e),l.close()}});else throw new Error('No "textContentSource" parameter specified.');this.#t=this.#l=n,this.#d=r.scale*Ns.pixelRatio,this.#h=r.rotation,this.#a={div:null,properties:null,ctx:null};const{pageWidth:i,pageHeight:s,pageX:a,pageY:o}=r.rawDims;this.#y=[1,0,0,-1,-a,o+s],this.#o=i,this.#s=s,ci.#k(),n.style.setProperty("--min-font-size",ci.#D),Wl(n,r),this.#e.promise.finally(()=>{ci.#x.delete(this),this.#a=null,this.#f=null}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:n}=Vn.platform;return pt(this,"fontFamilyMap",new Map([["sans-serif",`${e&&n?"Calibri, ":""}sans-serif`],["monospace",`${e&&n?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{this.#c.read().then(({value:n,done:r})=>{if(r){this.#e.resolve();return}this.#i??=n.lang,Object.assign(this.#f,n.styles),this.#A(n.items),e()},this.#e.reject)};return this.#c=this.#g.getReader(),ci.#x.add(this),e(),this.#e.promise}update({viewport:e,onBefore:n=null}){const r=e.scale*Ns.pixelRatio,i=e.rotation;if(i!==this.#h&&(n?.(),this.#h=i,Wl(this.#l,{rotation:i})),r!==this.#d){n?.(),this.#d=r;const s={div:null,properties:null,ctx:ci.#R(this.#i)};for(const a of this.#u)s.properties=this.#p.get(a),s.div=a,this.#S(s)}}cancel(){const e=new Co("TextLayer task cancelled.");this.#c?.cancel(e).catch(()=>{}),this.#c=null,this.#e.reject(e)}get textDivs(){return this.#u}get textContentItemsStr(){return this.#m}#A(e){if(this.#r)return;this.#a.ctx??=ci.#R(this.#i);const n=this.#u,r=this.#m;for(const i of e){if(n.length>DRe){ft("Ignoring additional textDivs for performance reasons."),this.#r=!0;return}if(i.str===void 0){if(i.type==="beginMarkedContentProps"||i.type==="beginMarkedContent"){const s=this.#t;this.#t=document.createElement("span"),this.#t.classList.add("markedContent"),i.id&&this.#t.setAttribute("id",`${i.id}`),s.append(this.#t)}else i.type==="endMarkedContent"&&(this.#t=this.#t.parentNode);continue}r.push(i.str),this.#w(i)}}#w(e){const n=document.createElement("span"),r={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};this.#u.push(n);const i=He.transform(this.#y,e.transform);let s=Math.atan2(i[1],i[0]);const a=this.#f[e.fontName];a.vertical&&(s+=Math.PI/2);let o=this.#n&&a.fontSubstitution||a.fontFamily;o=ci.fontFamilyMap.get(o)||o;const l=Math.hypot(i[2],i[3]),c=l*ci.#P(o,a,this.#i);let d,h;s===0?(d=i[4],h=i[5]-c):(d=i[4]+c*Math.sin(s),h=i[5]-c*Math.cos(s));const p=n.style;p.left=`${(100*d/this.#o).toFixed(2)}%`,p.top=`${(100*h/this.#s).toFixed(2)}%`,p.setProperty("--font-height",`${l.toFixed(2)}px`),p.fontFamily=o,r.fontSize=l,n.setAttribute("role","presentation"),n.textContent=e.str,n.dir=e.dir,this.#n&&(n.dataset.fontName=a.fontSubstitutionLoadedName||e.fontName),s!==0&&(r.angle=s*(180/Math.PI));let g=!1;if(e.str.length>1)g=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const v=Math.abs(e.transform[0]),y=Math.abs(e.transform[3]);v!==y&&Math.max(v,y)/Math.min(v,y)>1.5&&(g=!0)}if(g&&(r.canvasWidth=a.vertical?e.height:e.width),this.#p.set(n,r),this.#a.div=n,this.#a.properties=r,this.#S(this.#a),r.hasText&&this.#t.append(n),r.hasEOL){const v=document.createElement("br");v.setAttribute("role","presentation"),this.#t.append(v)}}#S(e){const{div:n,properties:r,ctx:i}=e,{style:s}=n;if(r.canvasWidth!==0&&r.hasText){const{fontFamily:a}=s,{canvasWidth:o,fontSize:l}=r;ci.#C(i,l*this.#d,a);const{width:c}=i.measureText(n.textContent);c>0&&s.setProperty("--scale-x",o*this.#d/c)}r.angle!==0&&s.setProperty("--rotate",`${r.angle}deg`)}static cleanup(){if(!(this.#x.size>0)){this.#v.clear();for(const{canvas:e}of this.#b.values())e.remove();this.#b.clear()}}static#R(e=null){let n=this.#b.get(e||="");if(!n){const r=document.createElement("canvas");r.className="hiddenCanvasElement",r.lang=e,document.body.append(r),n=r.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#b.set(e,n),this.#E.set(n,{size:0,family:""})}return n}static#C(e,n,r){const i=this.#E.get(e);n===i.size&&r===i.family||(e.font=`${n}px ${r}`,i.size=n,i.family=r)}static#k(){if(this.#D!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),this.#D=e.getBoundingClientRect().height,e.remove()}static#P(e,n,r){const i=this.#v.get(e);if(i)return i;const s=this.#R(r);s.canvas.width=s.canvas.height=s9,this.#C(s,s9,e);const a=s.measureText(""),o=a.fontBoundingBoxAscent,l=Math.abs(a.fontBoundingBoxDescent);s.canvas.width=s.canvas.height=0;let c=.8;return o?c=o/(o+l):(Vn.platform.isFirefox&&ft("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),n.ascent?c=n.ascent:n.descent&&(c=1+n.descent)),this.#v.set(e,c),c}}const ERe=100;function QK(t={}){typeof t=="string"||t instanceof URL?t={url:t}:(t instanceof ArrayBuffer||ArrayBuffer.isView(t))&&(t={data:t});const e=new e3,{docId:n}=e,r=t.url?Uke(t.url):null,i=t.data?Mke(t.data):null,s=t.httpHeaders||null,a=t.withCredentials===!0,o=t.password??null,l=t.range instanceof eY?t.range:null,c=Number.isInteger(t.rangeChunkSize)&&t.rangeChunkSize>0?t.rangeChunkSize:2**16;let d=t.worker instanceof If?t.worker:null;const h=t.verbosity,p=typeof t.docBaseUrl=="string"&&!hv(t.docBaseUrl)?t.docBaseUrl:null,g=xm(t.cMapUrl),v=t.cMapPacked!==!1,y=t.CMapReaderFactory||(vr?jke:Hj),b=xm(t.iccUrl),x=xm(t.standardFontDataUrl),w=t.StandardFontDataFactory||(vr?zke:$j),D=xm(t.wasmUrl),E=t.WasmFactory||(vr?qke:Gj),A=t.stopAtErrors!==!0,S=Number.isInteger(t.maxImageSize)&&t.maxImageSize>-1?t.maxImageSize:-1,T=t.isEvalSupported!==!1,M=typeof t.isOffscreenCanvasSupported=="boolean"?t.isOffscreenCanvasSupported:!vr,R=typeof t.isImageDecoderSupported=="boolean"?t.isImageDecoderSupported:!vr&&(Vn.platform.isFirefox||!globalThis.chrome),O=Number.isInteger(t.canvasMaxAreaInBytes)?t.canvasMaxAreaInBytes:-1,z=typeof t.disableFontFace=="boolean"?t.disableFontFace:vr,F=t.fontExtraProperties===!0,q=t.enableXfa===!0,k=t.ownerDocument||globalThis.document,H=t.disableRange===!0,N=t.disableStream===!0,B=t.disableAutoFetch===!0,G=t.pdfBug===!0,$=t.CanvasFactory||(vr?Bke:Ike),W=t.FilterFactory||(vr?Lke:Pke),L=t.enableHWA===!0,K=t.useWasm!==!1,j=l?l.length:t.length??NaN,Y=typeof t.useSystemFonts=="boolean"?t.useSystemFonts:!vr&&!z,ee=typeof t.useWorkerFetch=="boolean"?t.useWorkerFetch:!!(y===Hj&&w===$j&&E===Gj&&g&&x&&D&&Hh(g,document.baseURI)&&Hh(x,document.baseURI)&&Hh(D,document.baseURI)),re=null;ike(h);const se={canvasFactory:new $({ownerDocument:k,enableHWA:L}),filterFactory:new W({docId:n,ownerDocument:k}),cMapReaderFactory:ee?null:new y({baseUrl:g,isCompressed:v}),standardFontDataFactory:ee?null:new w({baseUrl:x}),wasmFactory:ee?null:new E({baseUrl:D})};d||(d=If.create({verbosity:h,port:Fu.workerPort}),e._worker=d);const ye={docId:n,apiVersion:"5.4.530",data:i,password:o,disableAutoFetch:B,rangeChunkSize:c,length:j,docBaseUrl:p,enableXfa:q,evaluatorOptions:{maxImageSize:S,disableFontFace:z,ignoreErrors:A,isEvalSupported:T,isOffscreenCanvasSupported:M,isImageDecoderSupported:R,canvasMaxAreaInBytes:O,fontExtraProperties:F,useSystemFonts:Y,useWasm:K,useWorkerFetch:ee,cMapUrl:g,iccUrl:b,standardFontDataUrl:x,wasmUrl:D}},xe={ownerDocument:k,pdfBug:G,styleElement:re,loadingParams:{disableAutoFetch:B,enableXfa:q}};return d.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const Re=d.messageHandler.sendWithPromise("GetDocRequest",ye,i?[i.buffer]:null);let Fe;if(l)Fe=new aRe(l,{disableRange:H,disableStream:N});else if(!i){if(!r)throw new Error("getDocument - no `url` parameter provided.");const qe=Hh(r)?uRe:vr?xRe:gRe;Fe=new qe({url:r,length:j,httpHeaders:s,withCredentials:a,rangeChunkSize:c,disableRange:H,disableStream:N})}return Re.then(qe=>{if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const We=new $h(n,qe,d.port),P=new TRe(We,e,Fe,xe,se,L);e._transport=P,We.send("Ready",null)})}).catch(e._capability.reject),e}class e3{static#e=0;_capability=Promise.withResolvers();_transport=null;_worker=null;docId=`d${e3.#e++}`;destroyed=!1;onPassword=null;onProgress=null;get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(e){throw this._worker?.port&&delete this._worker._pendingDestroy,e}this._transport=null,this._worker?.destroy(),this._worker=null}async getData(){return this._transport.getData()}}class eY{#e=Promise.withResolvers();#t=[];#r=[];#n=[];#i=[];constructor(e,n,r=!1,i=null){this.length=e,this.initialData=n,this.progressiveDone=r,this.contentDispositionFilename=i}addRangeListener(e){this.#i.push(e)}addProgressListener(e){this.#n.push(e)}addProgressiveReadListener(e){this.#r.push(e)}addProgressiveDoneListener(e){this.#t.push(e)}onDataRange(e,n){for(const r of this.#i)r(e,n)}onDataProgress(e,n){this.#e.promise.then(()=>{for(const r of this.#n)r(e,n)})}onDataProgressiveRead(e){this.#e.promise.then(()=>{for(const n of this.#r)n(e)})}onDataProgressiveDone(){this.#e.promise.then(()=>{for(const e of this.#t)e()})}transportReady(){this.#e.resolve()}requestDataRange(e,n){Zt("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class SRe{constructor(e,n){this._pdfInfo=e,this._transport=n}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return pt(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(e,n){return this._transport.getAnnotationsByType(e,n)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:n}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(n)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}extractPages(e){return this._transport.extractPages(e)}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class ARe{#e=!1;constructor(e,n,r,i=!1){this._pageIndex=e,this._pageInfo=n,this._transport=r,this._stats=i?new Lj:null,this._pdfBug=i,this.commonObjs=r.commonObjs,this.objs=new JK,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:n=this.rotate,offsetX:r=0,offsetY:i=0,dontFlip:s=!1}={}){return new mp({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:n,offsetX:r,offsetY:i,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:n}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,n)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return pt(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:e,canvas:n=e.canvas,viewport:r,intent:i="display",annotationMode:s=go.ENABLE,transform:a=null,background:o=null,optionalContentConfigPromise:l=null,annotationCanvasMap:c=null,pageColors:d=null,printAnnotationStorage:h=null,isEditing:p=!1,recordOperations:g=!1,operationsFilter:v=null}){this._stats?.time("Overall");const y=this._transport.getRenderingIntent(i,s,h,p),{renderingIntent:b,cacheKey:x}=y;this.#e=!1,l||=this._transport.getOptionalContentConfig(b);let w=this._intentStates.get(x);w||(w=Object.create(null),this._intentStates.set(x,w)),w.streamReaderCancelTimeout&&(clearTimeout(w.streamReaderCancelTimeout),w.streamReaderCancelTimeout=null);const D=!!(b&li.PRINT);w.displayReadyCapability||(w.displayReadyCapability=Promise.withResolvers(),w.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(y));const E=!!(this._pdfBug&&globalThis.StepperManager?.enabled),A=!this.recordedBBoxes&&(g||E),S=R=>{if(w.renderTasks.delete(T),A){const O=T.gfx?.dependencyTracker.take();O&&(T.stepper&&T.stepper.setOperatorBBoxes(O,T.gfx.dependencyTracker.takeDebugMetadata()),g&&(this.recordedBBoxes=O))}D&&(this.#e=!0),this.#t(),R?(T.capability.reject(R),this._abortOperatorList({intentState:w,reason:R instanceof Error?R:new Error(R)})):T.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},T=new Du({callback:S,params:{canvas:n,canvasContext:e,dependencyTracker:A?new Vke(n,w.operatorList.length,E):null,viewport:r,transform:a,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:c,operatorList:w.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!D,pdfBug:this._pdfBug,pageColors:d,enableHWA:this._transport.enableHWA,operationsFilter:v});(w.renderTasks||=new Set).add(T);const M=T.task;return Promise.all([w.displayReadyCapability.promise,l]).then(([R,O])=>{if(this.destroyed){S();return}if(this._stats?.time("Rendering"),!(O.renderingIntent&b))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");T.initializeGraphics({transparency:R,optionalContentConfig:O}),T.operatorListChanged()}).catch(S),M}getOperatorList({intent:e="display",annotationMode:n=go.ENABLE,printAnnotationStorage:r=null,isEditing:i=!1}={}){function s(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(l))}const a=this._transport.getRenderingIntent(e,n,r,i,!0);let o=this._intentStates.get(a.cacheKey);o||(o=Object.create(null),this._intentStates.set(a.cacheKey,o));let l;return o.opListReadCapability||(l=Object.create(null),l.operatorListChanged=s,o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||=new Set).add(l),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(a)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:n=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:n===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(r=>Ff.textContent(r));const n=this.streamTextContent(e);return new Promise(function(r,i){function s(){a.read().then(function({value:l,done:c}){if(c){r(o);return}o.lang??=l.lang,Object.assign(o.styles,l.styles),o.items.push(...l.items),s()},i)}const a=n.getReader(),o={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const n of this._intentStates.values())if(this._abortOperatorList({intentState:n,reason:new Error("Page was destroyed."),force:!0}),!n.opListReadCapability)for(const r of n.renderTasks)e.push(r.completed),r.cancel();return this.objs.clear(),this.#e=!1,Promise.all(e)}cleanup(e=!1){this.#e=!0;const n=this.#t();return e&&n&&(this._stats&&=new Lj),n}#t(){if(!this.#e||this.destroyed)return!1;for(const{renderTasks:e,operatorList:n}of this._intentStates.values())if(e.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#e=!1,!0}_startRenderPage(e,n){const r=this._intentStates.get(n);r&&(this._stats?.timeEnd("Page Request"),r.displayReadyCapability?.resolve(e))}_renderPageChunk(e,n){for(let r=0,i=e.length;r<i;r++)n.operatorList.fnArray.push(e.fnArray[r]),n.operatorList.argsArray.push(e.argsArray[r]);n.operatorList.lastChunk=e.lastChunk,n.operatorList.separateAnnots=e.separateAnnots;for(const r of n.renderTasks)r.operatorListChanged();e.lastChunk&&this.#t()}_pumpOperatorList({renderingIntent:e,cacheKey:n,annotationStorageSerializable:r,modifiedIds:i}){const{map:s,transfer:a}=r,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:n,annotationStorage:s,modifiedIds:i},a).getReader(),c=this._intentStates.get(n);c.streamReader=l;const d=()=>{l.read().then(({value:h,done:p})=>{if(p){c.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(h,c),d())},h=>{if(c.streamReader=null,!this._transport.destroyed){if(c.operatorList){c.operatorList.lastChunk=!0;for(const p of c.renderTasks)p.operatorListChanged();this.#t()}if(c.displayReadyCapability)c.displayReadyCapability.reject(h);else if(c.opListReadCapability)c.opListReadCapability.reject(h);else throw h}})};d()}_abortOperatorList({intentState:e,reason:n,force:r=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!r){if(e.renderTasks.size>0)return;if(n instanceof $R){let i=ERe;n.extraDelay>0&&n.extraDelay<1e3&&(i+=n.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:n,force:!0})},i);return}}if(e.streamReader.cancel(new Co(n.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,s]of this._intentStates)if(s===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}var mo,ns,fa,Al,pb,Tl,Cl,Sr,ey,tY,nY,Gh,Lu,ty;const cn=class cn{constructor({name:e=null,port:n=null,verbosity:r=ske()}={}){bs(this,Sr);bs(this,mo,Promise.withResolvers());bs(this,ns,null);bs(this,fa,null);bs(this,Al,null);if(this.name=e,this.destroyed=!1,this.verbosity=r,n){if(ln(cn,Cl).has(n))throw new Error("Cannot use more than one PDFWorker per port.");ln(cn,Cl).set(n,this),vs(this,Sr,tY).call(this,n)}else vs(this,Sr,nY).call(this)}get promise(){return ln(this,mo).promise}get port(){return ln(this,fa)}get messageHandler(){return ln(this,ns)}destroy(){this.destroyed=!0,ln(this,Al)?.terminate(),Ir(this,Al,null),ln(cn,Cl).delete(ln(this,fa)),Ir(this,fa,null),ln(this,ns)?.destroy(),Ir(this,ns,null)}static create(e){const n=ln(this,Cl).get(e?.port);if(n){if(n._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return n}return new cn(e)}static get workerSrc(){if(Fu.workerSrc)return Fu.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return pt(this,"_setupFakeWorkerGlobal",(async()=>ln(this,Lu,ty)?ln(this,Lu,ty):(await import(this.workerSrc)).WorkerMessageHandler)())}};mo=new WeakMap,ns=new WeakMap,fa=new WeakMap,Al=new WeakMap,pb=new WeakMap,Tl=new WeakMap,Cl=new WeakMap,Sr=new WeakSet,ey=function(){ln(this,mo).resolve(),ln(this,ns).send("configure",{verbosity:this.verbosity})},tY=function(e){Ir(this,fa,e),Ir(this,ns,new $h("main","worker",e)),ln(this,ns).on("ready",()=>{}),vs(this,Sr,ey).call(this)},nY=function(){if(ln(cn,Tl)||ln(cn,Lu,ty)){vs(this,Sr,Gh).call(this);return}let{workerSrc:e}=cn;try{cn._isSameOrigin(window.location,e)||(e=cn._createCDNWrapper(new URL(e,window.location).href));const n=new Worker(e,{type:"module"}),r=new $h("main","worker",n),i=()=>{s.abort(),r.destroy(),n.terminate(),this.destroyed?ln(this,mo).reject(new Error("Worker was destroyed")):vs(this,Sr,Gh).call(this)},s=new AbortController;n.addEventListener("error",()=>{ln(this,Al)||i()},{signal:s.signal}),r.on("test",o=>{if(s.abort(),this.destroyed||!o){i();return}Ir(this,ns,r),Ir(this,fa,n),Ir(this,Al,n),vs(this,Sr,ey).call(this)}),r.on("ready",o=>{if(s.abort(),this.destroyed){i();return}try{a()}catch{vs(this,Sr,Gh).call(this)}});const a=()=>{const o=new Uint8Array;r.send("test",o,[o.buffer])};a();return}catch{dv("The worker has been disabled.")}vs(this,Sr,Gh).call(this)},Gh=function(){ln(cn,Tl)||(ft("Setting up fake worker."),Ir(cn,Tl,!0)),cn._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){ln(this,mo).reject(new Error("Worker was destroyed"));return}const n=new Fke;Ir(this,fa,n);const r=`fake${IN(cn,pb)._++}`,i=new $h(r+"_worker",r,n);e.setup(i,n),Ir(this,ns,new $h(r,r+"_worker",n)),vs(this,Sr,ey).call(this)}).catch(e=>{ln(this,mo).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},Lu=new WeakSet,ty=function(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}},bs(cn,Lu),bs(cn,pb,0),bs(cn,Tl,!1),bs(cn,Cl,new WeakMap),vr&&(Ir(cn,Tl,!0),Fu.workerSrc||="./pdf.worker.mjs"),cn._isSameOrigin=(e,n)=>{const r=URL.parse(e);if(!r?.origin||r.origin==="null")return!1;const i=new URL(n,r);return r.origin===i.origin},cn._createCDNWrapper=e=>{const n=`await import("${e}");`;return URL.createObjectURL(new Blob([n],{type:"text/javascript"}))},cn.fromPort=e=>{if(yke("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!e?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return cn.create(e)};let If=cn;class TRe{#e=new Map;#t=new Map;#r=new Map;#n=new Map;#i=null;constructor(e,n,r,i,s,a){this.messageHandler=e,this.loadingTask=n,this.commonObjs=new JK,this.fontLoader=new Cke({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.wasmFactory=s.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=a,this.setupMessageHandler()}#a(e,n=null){const r=this.#e.get(e);if(r)return r;const i=this.messageHandler.sendWithPromise(e,n);return this.#e.set(e,i),i}get annotationStorage(){return pt(this,"annotationStorage",new YR)}getRenderingIntent(e,n=go.ENABLE,r=null,i=!1,s=!1){let a=li.DISPLAY,o=EC;switch(e){case"any":a=li.ANY;break;case"display":break;case"print":a=li.PRINT;break;default:ft(`getRenderingIntent - invalid intent: ${e}`)}const l=a&li.PRINT&&r instanceof jK?r:this.annotationStorage;switch(n){case go.DISABLE:a+=li.ANNOTATIONS_DISABLE;break;case go.ENABLE:break;case go.ENABLE_FORMS:a+=li.ANNOTATIONS_FORMS;break;case go.ENABLE_STORAGE:a+=li.ANNOTATIONS_STORAGE,o=l.serializable;break;default:ft(`getRenderingIntent - invalid annotationMode: ${n}`)}i&&(a+=li.IS_EDITING),s&&(a+=li.OPLIST);const{ids:c,hash:d}=l.modifiedIds,h=[a,o.hash,d];return{renderingIntent:a,cacheKey:h.join("_"),annotationStorageSerializable:o,modifiedIds:c}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#i?.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const r of this.#t.values())e.push(r._destroy());this.#t.clear(),this.#r.clear(),this.#n.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const n=this.messageHandler.sendWithPromise("Terminate",null);return e.push(n),Promise.all(e).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(),ci.cleanup(),this._networkStream?.cancelAllRequests(new Co("Worker was terminated.")),this.messageHandler?.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:n}=this;e.on("GetReader",(r,i)=>{Ut(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},i.onPull=()=>{this._fullReader.read().then(function({value:s,done:a}){if(a){i.close();return}Ut(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{i.error(s)})},i.onCancel=s=>{this._fullReader.cancel(s),i.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("ReaderHeadersReady",async r=>{await this._fullReader.headersReady;const{isStreamingSupported:i,isRangeSupported:s,contentLength:a}=this._fullReader;return(!i||!s)&&(this._lastProgress&&n.onProgress?.(this._lastProgress),this._fullReader.onProgress=o=>{n.onProgress?.({loaded:o.loaded,total:o.total})}),{isStreamingSupported:i,isRangeSupported:s,contentLength:a}}),e.on("GetRangeReader",(r,i)=>{Ut(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(r.begin,r.end);if(!s){i.close();return}i.onPull=()=>{s.read().then(function({value:a,done:o}){if(o){i.close();return}Ut(a instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{i.error(a)})},i.onCancel=a=>{s.cancel(a),i.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("GetDoc",({pdfInfo:r})=>{this._numPages=r.numPages,this._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,n._capability.resolve(new SRe(r,this))}),e.on("DocException",r=>{n._capability.reject(Lr(r))}),e.on("PasswordRequest",r=>{this.#i=Promise.withResolvers();try{if(!n.onPassword)throw Lr(r);const i=s=>{s instanceof Error?this.#i.reject(s):this.#i.resolve({password:s})};n.onPassword(i,r.code)}catch(i){this.#i.reject(i)}return this.#i.promise}),e.on("DataLoaded",r=>{n.onProgress?.({loaded:r.length,total:r.length}),this.downloadInfoCapability.resolve(r)}),e.on("StartRenderPage",r=>{if(this.destroyed)return;this.#t.get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}),e.on("commonobj",([r,i,s])=>{if(this.destroyed||this.commonObjs.has(r))return null;switch(i){case"Font":if("error"in s){const h=s.error;ft(`Error during font loading: ${h}`),this.commonObjs.resolve(r,h);break}const a=new Xt(s),o=this._params.pdfBug&&globalThis.FontInspector?.enabled?(h,p)=>globalThis.FontInspector.fontAdded(h,p):null,l=new kke(a,o,s.extra,s.charProcOperatorList);this.fontLoader.bind(l).catch(()=>e.sendWithPromise("FontFallback",{id:r})).finally(()=>{!l.fontExtraProperties&&l.data&&l.clearData(),this.commonObjs.resolve(r,l)});break;case"CopyLocalImage":const{imageRef:c}=s;Ut(c,"The imageRef must be defined.");for(const h of this.#t.values())for(const[,p]of h.objs)if(p?.ref===c)return p.dataLen?(this.commonObjs.resolve(r,structuredClone(p)),p.dataLen):null;break;case"FontPath":this.commonObjs.resolve(r,new Rke(s));break;case"Image":this.commonObjs.resolve(r,s);break;case"Pattern":const d=new Kn(s);this.commonObjs.resolve(r,d.getIR());break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([r,i,s,a])=>{if(this.destroyed)return;const o=this.#t.get(i);if(!o.objs.has(r)){if(o._intentStates.size===0){a?.bitmap?.close();return}switch(s){case"Image":case"Pattern":o.objs.resolve(r,a);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",r=>{this.destroyed||n.onProgress?.({loaded:r.loaded,total:r.total})}),e.on("FetchBinaryData",async r=>{if(this.destroyed)throw new Error("Worker was destroyed.");const i=this[r.type];if(!i)throw new Error(`${r.type} not initialized, see the \`useWorkerFetch\` parameter.`);return i.fetch(r)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&ft("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:n}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:this._fullReader?.filename??null},n).finally(()=>{this.annotationStorage.resetModified()})}extractPages(e){return this.messageHandler.sendWithPromise("ExtractPages",{pageInfos:e})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const n=e-1,r=this.#r.get(n);if(r)return r;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:n}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&this.#n.set(s.refStr,e);const a=new ARe(n,s,this,this._params.pdfBug);return this.#t.set(n,a),a});return this.#r.set(n,i),i}getPageIndex(e){return SC(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,n){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:n})}getFieldObjects(){return this.#a("GetFieldObjects")}hasJSActions(){return this.#a("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(e,n){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:e,pageIndexesToSkip:n})}getDocJSActions(){return this.#a("GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return this.#a("GetOptionalContentConfig").then(n=>new sRe(n,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",n=this.#e.get(e);if(n)return n;const r=this.messageHandler.sendWithPromise(e,null).then(i=>({info:i[0],metadata:i[1]?new rRe(i[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null,hasStructTree:i[2]}));return this.#e.set(e,r),r}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const n of this.#t.values())if(!n.cleanup())throw new Error(`startCleanup: Page ${n.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(!0),ci.cleanup()}}cachedPageNumber(e){if(!SC(e))return null;const n=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return this.#n.get(n)??null}}class CRe{#e=null;onContinue=null;onError=null;constructor(e){this.#e=e}get promise(){return this.#e.capability.promise}cancel(e=0){this.#e.cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=this.#e.operatorList;if(!e)return!1;const{annotationCanvasMap:n}=this.#e;return e.form||e.canvas&&n?.size>0}}class Du{#e=null;static#t=new WeakSet;constructor({callback:e,params:n,objs:r,commonObjs:i,annotationCanvasMap:s,operatorList:a,pageIndex:o,canvasFactory:l,filterFactory:c,useRequestAnimationFrame:d=!1,pdfBug:h=!1,pageColors:p=null,enableHWA:g=!1,operationsFilter:v=null}){this.callback=e,this.params=n,this.objs=r,this.commonObjs=i,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=o,this.canvasFactory=l,this.filterFactory=c,this._pdfBug=h,this.pageColors=p,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=d===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new CRe(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=n.canvas,this._canvasContext=n.canvas?null:n.canvasContext,this._enableHWA=g,this._dependencyTracker=n.dependencyTracker,this._operationsFilter=v}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:n}){if(this.cancelled)return;if(this._canvas){if(Du.#t.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Du.#t.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:r,transform:i,background:s,dependencyTracker:a}=this.params,o=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new Nu(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:n},this.annotationCanvasMap,this.pageColors,a),this.gfx.beginDrawing({transform:i,viewport:r,transparency:e,background:s}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(e=null,n=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#e&&(window.cancelAnimationFrame(this.#e),this.#e=null),Du.#t.delete(this._canvas),e||=new $R(`Rendering cancelled, page ${this._pageIndex+1}`,n),this.callback(e),this.task.onError?.(e)}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.gfx.dependencyTracker?.growOperationsCount(this.operatorList.fnArray.length),this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#e=window.requestAnimationFrame(()=>{this.#e=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),Du.#t.delete(this._canvas),this.callback())))}}const rY="5.4.530",kRe="50cc4adac";class Ni{#e=null;#t=null;#r;#n=null;#i=!1;#a=!1;#s=null;#o;#c=null;#l=null;static#h=null;static get _keyboardManager(){return pt(this,"_keyboardManager",new bp([[["Escape","mac+Escape"],Ni.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Ni.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Ni.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Ni.prototype._moveToPrevious],[["Home","mac+Home"],Ni.prototype._moveToBeginning],[["End","mac+End"],Ni.prototype._moveToEnd]]))}constructor({editor:e=null,uiManager:n=null}){e?(this.#a=!1,this.#s=e):this.#a=!0,this.#l=e?._uiManager||n,this.#o=this.#l._eventBus,this.#r=e?.color?.toUpperCase()||this.#l?.highlightColors.values().next().value||"#FFFF98",Ni.#h||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){const e=this.#e=document.createElement("button");e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",this.#s&&(e.ariaControls=`${this.#s.id}_colorpicker_dropdown`);const n=this.#l._signal;e.addEventListener("click",this.#g.bind(this),{signal:n}),e.addEventListener("keydown",this.#m.bind(this),{signal:n});const r=this.#t=document.createElement("span");return r.className="swatch",r.ariaHidden="true",r.style.backgroundColor=this.#r,e.append(r),e}renderMainDropdown(){const e=this.#n=this.#d();return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}#d(){const e=document.createElement("div"),n=this.#l._signal;e.addEventListener("contextmenu",Vi,{signal:n}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),this.#s&&(e.id=`${this.#s.id}_colorpicker_dropdown`);for(const[r,i]of this.#l.highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",i),s.title=r,s.setAttribute("data-l10n-id",Ni.#h[r]);const a=document.createElement("span");s.append(a),a.className="swatch",a.style.backgroundColor=i,s.ariaSelected=i===this.#r,s.addEventListener("click",this.#f.bind(this,i),{signal:n}),e.append(s)}return e.addEventListener("keydown",this.#m.bind(this),{signal:n}),e}#f(e,n){n.stopPropagation(),this.#o.dispatch("switchannotationeditorparams",{source:this,type:Rt.HIGHLIGHT_COLOR,value:e}),this.updateColor(e)}_colorSelectFromKeyboard(e){if(e.target===this.#e){this.#g(e);return}const n=e.target.getAttribute("data-color");n&&this.#f(n,e)}_moveToNext(e){if(!this.#p){this.#g(e);return}if(e.target===this.#e){this.#n.firstElementChild?.focus();return}e.target.nextSibling?.focus()}_moveToPrevious(e){if(e.target===this.#n?.firstElementChild||e.target===this.#e){this.#p&&this._hideDropdownFromKeyboard();return}this.#p||this.#g(e),e.target.previousSibling?.focus()}_moveToBeginning(e){if(!this.#p){this.#g(e);return}this.#n.firstElementChild?.focus()}_moveToEnd(e){if(!this.#p){this.#g(e);return}this.#n.lastElementChild?.focus()}#m(e){Ni._keyboardManager.exec(this,e)}#g(e){if(this.#p){this.hideDropdown();return}if(this.#i=e.detail===0,this.#c||(this.#c=new AbortController,window.addEventListener("pointerdown",this.#u.bind(this),{signal:this.#l.combinedSignal(this.#c)})),this.#e.ariaExpanded="true",this.#n){this.#n.classList.remove("hidden");return}const n=this.#n=this.#d();this.#e.append(n)}#u(e){this.#n?.contains(e.target)||this.hideDropdown()}hideDropdown(){this.#n?.classList.add("hidden"),this.#e.ariaExpanded="false",this.#c?.abort(),this.#c=null}get#p(){return this.#n&&!this.#n.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#a){if(!this.#p){this.#s?.unselect();return}this.hideDropdown(),this.#e.focus({preventScroll:!0,focusVisible:this.#i})}}updateColor(e){if(this.#t&&(this.#t.style.backgroundColor=e),!this.#n)return;const n=this.#l.highlightColors.values();for(const r of this.#n.children)r.ariaSelected=n.next().value===e.toUpperCase()}destroy(){this.#e?.remove(),this.#e=null,this.#t=null,this.#n?.remove(),this.#n=null}}class Pf{#e=null;#t=null;#r=null;static#n=null;constructor(e){this.#t=e,this.#r=e._uiManager,Pf.#n||=Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"})}renderButton(){if(this.#e)return this.#e;const{editorType:e,colorType:n,color:r}=this.#t,i=this.#e=document.createElement("input");return i.type="color",i.value=r||"#000000",i.className="basicColorPicker",i.tabIndex=0,i.setAttribute("data-l10n-id",Pf.#n[e]),i.addEventListener("input",()=>{this.#r.updateParams(n,i.value)},{signal:this.#r._signal}),i}update(e){this.#e&&(this.#e.value=e)}destroy(){this.#e?.remove(),this.#e=null}hideDropdown(){}}function a9(t){return Math.floor(Math.max(0,Math.min(1,t))*255).toString(16).padStart(2,"0")}function Dh(t){return Math.max(0,Math.min(255,255*t))}class o9{static CMYK_G([e,n,r,i]){return["G",1-Math.min(1,.3*e+.59*r+.11*n+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=Dh(e),[e,e,e]}static G_HTML([e]){const n=a9(e);return`#${n}${n}${n}`}static RGB_G([e,n,r]){return["G",.3*e+.59*n+.11*r]}static RGB_rgb(e){return e.map(Dh)}static RGB_HTML(e){return`#${e.map(a9).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,n,r,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,r+i),1-Math.min(1,n+i)]}static CMYK_rgb([e,n,r,i]){return[Dh(1-Math.min(1,e+i)),Dh(1-Math.min(1,r+i)),Dh(1-Math.min(1,n+i))]}static CMYK_HTML(e){const n=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(n)}static RGB_CMYK([e,n,r]){const i=1-e,s=1-n,a=1-r,o=Math.min(i,s,a);return["CMYK",i,s,a,o]}}class RRe{create(e,n,r=!1){if(e<=0||n<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),r||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${n}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${n}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Zt("Abstract method `_createSVG` called.")}}class lb extends RRe{_createSVG(e){return document.createElementNS(ua,e)}}const URe=9,Vl=new WeakSet,MRe=new Date().getTimezoneOffset()*60*1e3;class qS{static create(e){switch(e.data.annotationType){case Mn.LINK:return new t3(e);case Mn.TEXT:return new NRe(e);case Mn.WIDGET:switch(e.data.fieldType){case"Tx":return new FRe(e);case"Btn":return e.data.radioButton?new iY(e):e.data.checkBox?new PRe(e):new LRe(e);case"Ch":return new BRe(e);case"Sig":return new IRe(e)}return new nc(e);case Mn.POPUP:return new CC(e);case Mn.FREETEXT:return new sY(e);case Mn.LINE:return new zRe(e);case Mn.SQUARE:return new qRe(e);case Mn.CIRCLE:return new WRe(e);case Mn.POLYLINE:return new aY(e);case Mn.CARET:return new HRe(e);case Mn.INK:return new n3(e);case Mn.POLYGON:return new VRe(e);case Mn.HIGHLIGHT:return new oY(e);case Mn.UNDERLINE:return new $Re(e);case Mn.SQUIGGLY:return new GRe(e);case Mn.STRIKEOUT:return new XRe(e);case Mn.STAMP:return new lY(e);case Mn.FILEATTACHMENT:return new KRe(e);default:return new fn(e)}}}class fn{#e=null;#t=!1;#r=null;constructor(e,{isRenderable:n=!1,ignoreBorder:r=!1,createQuadrilaterals:i=!1}={}){this.isRenderable=n,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableComment=e.enableComment,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,this.hasOwnCommentButton=!1,n&&(this.contentElement=this.container=this._createContainer(r)),i&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:n}){return!!(e?.str||n?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return fn._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){const{data:e}=this,n=this.annotationStorage?.getEditor(e.id);return n?n.getData():e}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){const e=this.annotationStorage?.getEditor(this.data.id);if(e)return e.commentButtonPositionInPage;const{quadPoints:n,inkLists:r,rect:i}=this.data;let s=-1/0,a=-1/0;if(n?.length>=8){for(let o=0;o<n.length;o+=8)n[o+1]>a?(a=n[o+1],s=n[o+2]):n[o+1]===a&&(s=Math.max(s,n[o+2]));return[s,a]}if(r?.length>=1){for(const o of r)for(let l=0,c=o.length;l<c;l+=2)o[l+1]>a?(a=o[l+1],s=o[l]):o[l+1]===a&&(s=Math.max(s,o[l]));if(s!==1/0)return[s,a]}return i?[i[2],i[3]]:null}_normalizePoint(e){const{page:{view:n},viewport:{rawDims:{pageWidth:r,pageHeight:i,pageX:s,pageY:a}}}=this.parent;return e[1]=n[3]-e[1]+n[1],e[0]=100*(e[0]-s)/r,e[1]=100*(e[1]-a)/i,e}get commentText(){const{data:e}=this;return this.annotationStorage.getRawValue(`${Of}${e.id}`)?.popup?.contents||e.contentsObj?.str||""}set commentText(e){const{data:n}=this,r={deleted:!e,contents:e||""};this.annotationStorage.updateEditor(n.id,{popup:r})||this.annotationStorage.setValue(`${Of}${n.id}`,{id:n.id,annotationType:n.annotationType,pageIndex:this.parent.page._pageIndex,popup:r,popupRef:n.popupRef,modificationDate:new Date}),e||this.removePopup()}removePopup(){(this.#r?.popup||this.popup)?.remove(),this.#r=this.popup=null}updateEdited(e){if(!this.container)return;e.rect&&(this.#e||={rect:this.data.rect.slice(0)});const{rect:n,popup:r}=e;n&&this.#n(n);let i=this.#r?.popup||this.popup;!i&&r?.text&&(this._createPopup(r),i=this.#r.popup),i&&(i.updateEdited(e),r?.deleted&&(i.remove(),this.#r=null,this.popup=null))}resetEdited(){this.#e&&(this.#n(this.#e.rect),this.#r?.popup.resetEdited(),this.#e=null)}#n(e){const{container:{style:n},data:{rect:r,rotation:i},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:a,pageX:o,pageY:l}}}}=this;r?.splice(0,4,...e),n.left=`${100*(e[0]-o)/s}%`,n.top=`${100*(a-e[3]+l)/a}%`,i===0?(n.width=`${100*(e[2]-e[0])/s}%`,n.height=`${100*(e[3]-e[1])/a}%`):this.setRotation(i)}_createContainer(e){const{data:n,parent:{page:r,viewport:i}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",n.id),!(this instanceof nc)&&!(this instanceof t3)&&(s.tabIndex=0);const{style:a}=s;if(a.zIndex=this.parent.zIndex,this.parent.zIndex+=2,n.alternativeText&&(s.title=n.alternativeText),n.noRotate&&s.classList.add("norotate"),!n.rect||this instanceof CC){const{rotation:y}=n;return!n.hasOwnCanvas&&y!==0&&this.setRotation(y,s),s}const{width:o,height:l}=this;if(!e&&n.borderStyle.width>0){a.borderWidth=`${n.borderStyle.width}px`;const y=n.borderStyle.horizontalCornerRadius,b=n.borderStyle.verticalCornerRadius;if(y>0||b>0){const w=`calc(${y}px * var(--total-scale-factor)) / calc(${b}px * var(--total-scale-factor))`;a.borderRadius=w}else if(this instanceof iY){const w=`calc(${o}px * var(--total-scale-factor)) / calc(${l}px * var(--total-scale-factor))`;a.borderRadius=w}switch(n.borderStyle.style){case hu.SOLID:a.borderStyle="solid";break;case hu.DASHED:a.borderStyle="dashed";break;case hu.BEVELED:ft("Unimplemented border style: beveled");break;case hu.INSET:ft("Unimplemented border style: inset");break;case hu.UNDERLINE:a.borderBottomStyle="solid";break}const x=n.borderColor||null;x?(this.#t=!0,a.borderColor=He.makeHexColor(x[0]|0,x[1]|0,x[2]|0)):a.borderWidth=0}const c=He.normalizeRect([n.rect[0],r.view[3]-n.rect[1]+r.view[1],n.rect[2],r.view[3]-n.rect[3]+r.view[1]]),{pageWidth:d,pageHeight:h,pageX:p,pageY:g}=i.rawDims;a.left=`${100*(c[0]-p)/d}%`,a.top=`${100*(c[1]-g)/h}%`;const{rotation:v}=n;return n.hasOwnCanvas||v===0?(a.width=`${100*o/d}%`,a.height=`${100*l/h}%`):this.setRotation(v,s),s}setRotation(e,n=this.container){if(!this.data.rect)return;const{pageWidth:r,pageHeight:i}=this.parent.viewport.rawDims;let{width:s,height:a}=this;e%180!==0&&([s,a]=[a,s]),n.style.width=`${100*s/r}%`,n.style.height=`${100*a/i}%`,n.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(n,r,i)=>{const s=i.detail[n],a=s[0],o=s.slice(1);i.target.style[r]=o9[`${a}_HTML`](o),this.annotationStorage.setValue(this.data.id,{[r]:o9[`${a}_rgb`](o)})};return pt(this,"_commonActions",{display:n=>{const{display:r}=n.detail,i=r%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:r===1||r===2})},print:n=>{this.annotationStorage.setValue(this.data.id,{noPrint:!n.detail.print})},hidden:n=>{const{hidden:r}=n.detail;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:r,noView:r})},focus:n=>{setTimeout(()=>n.target.focus({preventScroll:!1}),0)},userName:n=>{n.target.title=n.detail.userName},readonly:n=>{n.target.disabled=n.detail.readonly},required:n=>{this._setRequired(n.target,n.detail.required)},bgColor:n=>{e("bgColor","backgroundColor",n)},fillColor:n=>{e("fillColor","backgroundColor",n)},fgColor:n=>{e("fgColor","color",n)},textColor:n=>{e("textColor","color",n)},borderColor:n=>{e("borderColor","borderColor",n)},strokeColor:n=>{e("strokeColor","borderColor",n)},rotation:n=>{const r=n.detail.rotation;this.setRotation(r),this.annotationStorage.setValue(this.data.id,{rotation:r})}})}_dispatchEventFromSandbox(e,n){const r=this._commonActions;for(const i of Object.keys(n.detail))(e[i]||r[i])?.(n)}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const n=this.annotationStorage.getRawValue(this.data.id);if(!n)return;const r=this._commonActions;for(const[i,s]of Object.entries(n)){const a=r[i];if(a){const o={detail:{[i]:s},target:e};a(o),delete n[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[n,r,i,s]=this.data.rect.map(y=>Math.fround(y));if(e.length===8){const[y,b,x,w]=e.subarray(2,6);if(i===y&&s===b&&n===x&&r===w)return}const{style:a}=this.container;let o;if(this.#t){const{borderColor:y,borderWidth:b}=a;a.borderWidth=0,o=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${y}" stroke-width="${b}">`],this.container.classList.add("hasBorder")}const l=i-n,c=s-r,{svgFactory:d}=this,h=d.createElement("svg");h.classList.add("quadrilateralsContainer"),h.setAttribute("width",0),h.setAttribute("height",0),h.role="none";const p=d.createElement("defs");h.append(p);const g=d.createElement("clipPath"),v=`clippath_${this.data.id}`;g.setAttribute("id",v),g.setAttribute("clipPathUnits","objectBoundingBox"),p.append(g);for(let y=2,b=e.length;y<b;y+=8){const x=e[y],w=e[y+1],D=e[y+2],E=e[y+3],A=d.createElement("rect"),S=(D-n)/l,T=(s-w)/c,M=(x-D)/l,R=(w-E)/c;A.setAttribute("x",S),A.setAttribute("y",T),A.setAttribute("width",M),A.setAttribute("height",R),g.append(A),o?.push(`<rect vector-effect="non-scaling-stroke" x="${S}" y="${T}" width="${M}" height="${R}"/>`)}this.#t&&(o.push("</g></svg>')"),a.backgroundImage=o.join("")),this.container.append(h),this.container.style.clipPath=`url(#${v})`}_createPopup(e=null){const{data:n}=this;let r,i;e?(r={str:e.text},i=e.date):(r=n.contentsObj,i=n.modificationDate),this.#r=new CC({data:{color:n.color,titleObj:n.titleObj,modificationDate:i,contentsObj:r,richText:n.richText,parentRect:n.rect,borderStyle:0,id:`popup_${n.id}`,rotation:n.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]})}get hasPopupElement(){return!!(this.#r||this.popup||this.data.popupRef)}get extraPopupElement(){return this.#r}render(){Zt("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,n=null){const r=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:s,id:a,exportValues:o}of i){if(s===-1||a===n)continue;const l=typeof o=="string"?o:null,c=document.querySelector(`[data-element-id="${a}"]`);if(c&&!Vl.has(c)){ft(`_getElementsByName - element not allowed: ${a}`);continue}r.push({id:a,exportValue:l,domElement:c})}return r}for(const i of document.getElementsByName(e)){const{exportValue:s}=i,a=i.getAttribute("data-element-id");a!==n&&Vl.has(i)&&r.push({id:a,exportValue:s,domElement:i})}return r}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const n of e)n.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:n}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:e,editId:n,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}}class ORe extends fn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.editor=e.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:e}=this;e.hasComment&&this._createPopup(e.comment)}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(e){this.editor.comment=e,e||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.parent.removeAnnotation(this.data.id),this.container.remove(),this.container=null,this.removePopup()}}class t3 extends fn{constructor(e,n=null){super(e,{isRenderable:!0,ignoreBorder:!!n?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:n}=this,r=document.createElement("a");r.setAttribute("data-element-id",e.id);let i=!1;return e.url?(n.addLinkAttributes(r,e.url,e.newWindow),i=!0):e.action?(this._bindNamedAction(r,e.action,e.overlaidText),i=!0):e.attachment?(this.#t(r,e.attachment,e.overlaidText,e.attachmentDest),i=!0):e.setOCGState?(this.#r(r,e.setOCGState,e.overlaidText),i=!0):e.dest?(this._bindLink(r,e.dest,e.overlaidText),i=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,e),i=!0),e.resetForm?(this._bindResetFormAction(r,e.resetForm),i=!0):this.isTooltipOnly&&!i&&(this._bindLink(r,""),i=!0)),this.container.classList.add("linkAnnotation"),i&&(this.contentElement=r,this.container.append(r)),this.container}#e(){this.container.setAttribute("data-internal-link","")}_bindLink(e,n,r=""){e.href=this.linkService.getDestinationHash(n),e.onclick=()=>(n&&this.linkService.goToDestination(n),!1),(n||n==="")&&this.#e(),r&&(e.title=r)}_bindNamedAction(e,n,r=""){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(n),!1),r&&(e.title=r),this.#e()}#t(e,n,r="",i=null){e.href=this.linkService.getAnchorUrl(""),n.description?e.title=n.description:r&&(e.title=r),e.onclick=()=>(this.downloadManager?.openOrDownloadData(n.content,n.filename,i),!1),this.#e()}#r(e,n,r=""){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(n),!1),r&&(e.title=r),this.#e()}_bindJSAction(e,n){e.href=this.linkService.getAnchorUrl("");const r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const i of Object.keys(n.actions)){const s=r.get(i);s&&(e[s]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n.id,name:i}}),!1))}n.overlaidText&&(e.title=n.overlaidText),e.onclick||(e.onclick=()=>!1),this.#e()}_bindResetFormAction(e,n){const r=e.onclick;if(r||(e.href=this.linkService.getAnchorUrl("")),this.#e(),!this._fieldObjects){ft('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),r||(e.onclick=()=>!1);return}e.onclick=()=>{r?.();const{fields:i,refs:s,include:a}=n,o=[];if(i.length!==0||s.length!==0){const d=new Set(s);for(const h of i){const p=this._fieldObjects[h]||[];for(const{id:g}of p)d.add(g)}for(const h of Object.values(this._fieldObjects))for(const p of h)d.has(p.id)===a&&o.push(p)}else for(const d of Object.values(this._fieldObjects))o.push(...d);const l=this.annotationStorage,c=[];for(const d of o){const{id:h}=d;switch(c.push(h),d.type){case"text":{const g=d.defaultValue||"";l.setValue(h,{value:g});break}case"checkbox":case"radiobutton":{const g=d.defaultValue===d.exportValues;l.setValue(h,{value:g});break}case"combobox":case"listbox":{const g=d.defaultValue||"";l.setValue(h,{value:g});break}default:continue}const p=document.querySelector(`[data-element-id="${h}"]`);if(p){if(!Vl.has(p)){ft(`_bindResetFormAction - element not allowed: ${h}`);continue}}else continue;p.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:c,name:"ResetForm"}}),!1}}}class NRe extends fn{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(e),this.container}}class nc extends fn{render(){return this.container}showElementAndHideCanvas(e){this.data.hasOwnCanvas&&(e.previousSibling?.nodeName==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return Vn.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,n,r,i,s){r.includes("mouse")?e.addEventListener(r,a=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(a),shift:a.shiftKey,modifier:this._getKeyModifier(a)}})}):e.addEventListener(r,a=>{if(r==="blur"){if(!n.focused||!a.relatedTarget)return;n.focused=!1}else if(r==="focus"){if(n.focused)return;n.focused=!0}s&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(a)}})})}_setEventListeners(e,n,r,i){for(const[s,a]of r)(a==="Action"||this.data.actions?.[a])&&((a==="Focus"||a==="Blur")&&(n||={focused:!1}),this._setEventListener(e,n,s,a,i),a==="Focus"&&!this.data.actions?.Blur?this._setEventListener(e,n,"blur","Blur",null):a==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(e,n,"focus","Focus",null))}_setBackgroundColor(e){const n=this.data.backgroundColor||null;e.style.backgroundColor=n===null?"transparent":He.makeHexColor(n[0],n[1],n[2])}_setTextStyle(e){const n=["left","center","right"],{fontColor:r}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||URe,s=e.style;let a;const o=2,l=c=>Math.round(10*c)/10;if(this.data.multiLine){const c=Math.abs(this.data.rect[3]-this.data.rect[1]-o),d=Math.round(c/(NS*i))||1,h=c/d;a=Math.min(i,l(h/NS))}else{const c=Math.abs(this.data.rect[3]-this.data.rect[1]-o);a=Math.min(i,l(c/NS))}s.fontSize=`calc(${a}px * var(--total-scale-factor))`,s.color=He.makeHexColor(r[0],r[1],r[2]),this.data.textAlignment!==null&&(s.textAlign=n[this.data.textAlignment])}_setRequired(e,n){n?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",n)}}class FRe extends nc{constructor(e){const n=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:n})}setPropertyOnSiblings(e,n,r,i){const s=this.annotationStorage;for(const a of this._getElementsByName(e.name,e.id))a.domElement&&(a.domElement[n]=r),s.setValue(a.id,{[i]:r})}render(){const e=this.annotationStorage,n=this.data.id;this.container.classList.add("textWidgetAnnotation");let r=null;if(this.renderForms){const i=e.getValue(n,{value:this.data.fieldValue});let s=i.value||"";const a=e.getValue(n,{charLimit:this.data.maxLen}).charLimit;a&&s.length>a&&(s=s.slice(0,a));let o=i.formattedValue||this.data.textContent?.join(`
`)||null;o&&this.data.comb&&(o=o.replaceAll(/\s+/g,""));const l={userValue:s,formattedValue:o,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(r=document.createElement("textarea"),r.textContent=o??s,this.data.doNotScroll&&(r.style.overflowY="hidden")):(r=document.createElement("input"),r.type=this.data.password?"password":"text",r.setAttribute("value",o??s),this.data.doNotScroll&&(r.style.overflowX="hidden")),this.data.hasOwnCanvas&&(r.hidden=!0),Vl.add(r),this.contentElement=r,r.setAttribute("data-element-id",n),r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.tabIndex=0;const{datetimeFormat:c,datetimeType:d,timeStep:h}=this.data,p=!!d&&this.enableScripting;c&&(r.title=c),this._setRequired(r,this.data.required),a&&(r.maxLength=a),r.addEventListener("input",v=>{e.setValue(n,{value:v.target.value}),this.setPropertyOnSiblings(r,"value",v.target.value,"value"),l.formattedValue=null}),r.addEventListener("resetform",v=>{const y=this.data.defaultFieldValue??"";r.value=l.userValue=y,l.formattedValue=null});let g=v=>{const{formattedValue:y}=l;y!=null&&(v.target.value=y),v.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){r.addEventListener("focus",y=>{if(l.focused)return;const{target:b}=y;if(p&&(b.type=d,h&&(b.step=h)),l.userValue){const x=l.userValue;if(p)if(d==="time"){const w=new Date(x),D=[w.getHours(),w.getMinutes(),w.getSeconds()];b.value=D.map(E=>E.toString().padStart(2,"0")).join(":")}else b.value=new Date(x-MRe).toISOString().split(d==="date"?"T":".",1)[0];else b.value=x}l.lastCommittedValue=b.value,l.commitKey=1,this.data.actions?.Focus||(l.focused=!0)}),r.addEventListener("updatefromsandbox",y=>{this.showElementAndHideCanvas(y.target);const b={value(x){l.userValue=x.detail.value??"",p||e.setValue(n,{value:l.userValue.toString()}),x.target.value=l.userValue},formattedValue(x){const{formattedValue:w}=x.detail;l.formattedValue=w,w!=null&&x.target!==document.activeElement&&(x.target.value=w);const D={formattedValue:w};p&&(D.value=w),e.setValue(n,D)},selRange(x){x.target.setSelectionRange(...x.detail.selRange)},charLimit:x=>{const{charLimit:w}=x.detail,{target:D}=x;if(w===0){D.removeAttribute("maxLength");return}D.setAttribute("maxLength",w);let E=l.userValue;!E||E.length<=w||(E=E.slice(0,w),D.value=l.userValue=E,e.setValue(n,{value:E}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:E,willCommit:!0,commitKey:1,selStart:D.selectionStart,selEnd:D.selectionEnd}}))}};this._dispatchEventFromSandbox(b,y)}),r.addEventListener("keydown",y=>{l.commitKey=1;let b=-1;if(y.key==="Escape"?b=0:y.key==="Enter"&&!this.data.multiLine?b=2:y.key==="Tab"&&(l.commitKey=3),b===-1)return;const{value:x}=y.target;l.lastCommittedValue!==x&&(l.lastCommittedValue=x,l.userValue=x,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:x,willCommit:!0,commitKey:b,selStart:y.target.selectionStart,selEnd:y.target.selectionEnd}}))});const v=g;g=null,r.addEventListener("blur",y=>{if(!l.focused||!y.relatedTarget)return;this.data.actions?.Blur||(l.focused=!1);const{target:b}=y;let{value:x}=b;if(p){if(x&&d==="time"){const w=x.split(":").map(D=>parseInt(D,10));x=new Date(2e3,0,1,w[0],w[1],w[2]||0).valueOf(),b.step=""}else x.includes("T")||(x=`${x}T00:00`),x=new Date(x).valueOf();b.type="text"}l.userValue=x,l.lastCommittedValue!==x&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:x,willCommit:!0,commitKey:l.commitKey,selStart:y.target.selectionStart,selEnd:y.target.selectionEnd}}),v(y)}),this.data.actions?.Keystroke&&r.addEventListener("beforeinput",y=>{l.lastCommittedValue=null;const{data:b,target:x}=y,{value:w,selectionStart:D,selectionEnd:E}=x;let A=D,S=E;switch(y.inputType){case"deleteWordBackward":{const T=w.substring(0,D).match(/\w*[^\w]*$/);T&&(A-=T[0].length);break}case"deleteWordForward":{const T=w.substring(D).match(/^[^\w]*\w*/);T&&(S+=T[0].length);break}case"deleteContentBackward":D===E&&(A-=1);break;case"deleteContentForward":D===E&&(S+=1);break}y.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:w,change:b||"",willCommit:!1,selStart:A,selEnd:S}})}),this._setEventListeners(r,l,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],y=>y.target.value)}if(g&&r.addEventListener("blur",g),this.data.comb){const y=(this.data.rect[2]-this.data.rect[0])/a;r.classList.add("comb"),r.style.letterSpacing=`calc(${y}px * var(--total-scale-factor) - 1ch)`}}else r=document.createElement("div"),r.textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell",this.data.hasOwnCanvas&&(r.hidden=!0);return this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class IRe extends nc{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class PRe extends nc{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,n=this.data,r=n.id;let i=e.getValue(r,{value:n.exportValue===n.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(r,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return Vl.add(s),s.setAttribute("data-element-id",r),s.disabled=n.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=n.fieldName,i&&s.setAttribute("checked",!0),s.setAttribute("exportValue",n.exportValue),s.tabIndex=0,s.addEventListener("change",a=>{const{name:o,checked:l}=a.target;for(const c of this._getElementsByName(o,r)){const d=l&&c.exportValue===n.exportValue;c.domElement&&(c.domElement.checked=d),e.setValue(c.id,{value:d})}e.setValue(r,{value:l})}),s.addEventListener("resetform",a=>{const o=n.defaultFieldValue||"Off";a.target.checked=o===n.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",a=>{const o={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(r,{value:l.target.checked})}};this._dispatchEventFromSandbox(o,a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class iY extends nc{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,n=this.data,r=n.id;let i=e.getValue(r,{value:n.fieldValue===n.buttonValue}).value;if(typeof i=="string"&&(i=i!==n.buttonValue,e.setValue(r,{value:i})),i)for(const a of this._getElementsByName(n.fieldName,r))e.setValue(a.id,{value:!1});const s=document.createElement("input");if(Vl.add(s),s.setAttribute("data-element-id",r),s.disabled=n.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=n.fieldName,i&&s.setAttribute("checked",!0),s.tabIndex=0,s.addEventListener("change",a=>{const{name:o,checked:l}=a.target;for(const c of this._getElementsByName(o,r))e.setValue(c.id,{value:!1});e.setValue(r,{value:l})}),s.addEventListener("resetform",a=>{const o=n.defaultFieldValue;a.target.checked=o!=null&&o===n.buttonValue}),this.enableScripting&&this.hasJSActions){const a=n.buttonValue;s.addEventListener("updatefromsandbox",o=>{const l={value:c=>{const d=a===c.detail.value;for(const h of this._getElementsByName(c.target.name)){const p=d&&h.id===r;h.domElement&&(h.domElement.checked=p),e.setValue(h.id,{value:p})}}};this._dispatchEventFromSandbox(l,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class LRe extends t3{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const n=e.lastChild;return this.enableScripting&&this.hasJSActions&&n&&(this._setDefaultPropertiesFromJS(n),n.addEventListener("updatefromsandbox",r=>{this._dispatchEventFromSandbox({},r)})),e}}class BRe extends nc{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,n=this.data.id,r=e.getValue(n,{value:this.data.fieldValue}),i=document.createElement("select");Vl.add(i),i.setAttribute("data-element-id",n),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=0;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",d=>{const h=this.data.defaultFieldValue;for(const p of i.options)p.selected=p.value===h});for(const d of this.data.options){const h=document.createElement("option");h.textContent=d.displayValue,h.value=d.exportValue,r.value.includes(d.exportValue)&&(h.setAttribute("selected",!0),s=!1),i.append(h)}let a=null;if(s){const d=document.createElement("option");d.value=" ",d.setAttribute("hidden",!0),d.setAttribute("selected",!0),i.prepend(d),a=()=>{d.remove(),i.removeEventListener("input",a),a=null},i.addEventListener("input",a)}const o=d=>{const h=d?"value":"textContent",{options:p,multiple:g}=i;return g?Array.prototype.filter.call(p,v=>v.selected).map(v=>v[h]):p.selectedIndex===-1?null:p[p.selectedIndex][h]};let l=o(!1);const c=d=>{const h=d.target.options;return Array.prototype.map.call(h,p=>({displayValue:p.textContent,exportValue:p.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",d=>{const h={value(p){a?.();const g=p.detail.value,v=new Set(Array.isArray(g)?g:[g]);for(const y of i.options)y.selected=v.has(y.value);e.setValue(n,{value:o(!0)}),l=o(!1)},multipleSelection(p){i.multiple=!0},remove(p){const g=i.options,v=p.detail.remove;g[v].selected=!1,i.remove(v),g.length>0&&Array.prototype.findIndex.call(g,b=>b.selected)===-1&&(g[0].selected=!0),e.setValue(n,{value:o(!0),items:c(p)}),l=o(!1)},clear(p){for(;i.length!==0;)i.remove(0);e.setValue(n,{value:null,items:[]}),l=o(!1)},insert(p){const{index:g,displayValue:v,exportValue:y}=p.detail.insert,b=i.children[g],x=document.createElement("option");x.textContent=v,x.value=y,b?b.before(x):i.append(x),e.setValue(n,{value:o(!0),items:c(p)}),l=o(!1)},items(p){const{items:g}=p.detail;for(;i.length!==0;)i.remove(0);for(const v of g){const{displayValue:y,exportValue:b}=v,x=document.createElement("option");x.textContent=y,x.value=b,i.append(x)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(n,{value:o(!0),items:c(p)}),l=o(!1)},indices(p){const g=new Set(p.detail.indices);for(const v of p.target.options)v.selected=g.has(v.index);e.setValue(n,{value:o(!0)}),l=o(!1)},editable(p){p.target.disabled=!p.detail.editable}};this._dispatchEventFromSandbox(h,d)}),i.addEventListener("input",d=>{const h=o(!0),p=o(!1);e.setValue(n,{value:h}),d.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:l,change:p,changeEx:h,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],d=>d.target.value)):i.addEventListener("input",function(d){e.setValue(n,{value:o(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class CC extends fn{constructor(e){const{data:n,elements:r,parent:i}=e,s=!!i._commentManager;if(super(e,{isRenderable:!s&&fn._hasPopupData(n)}),this.elements=r,s&&fn._hasPopupData(n)){const a=this.popup=this.#e();for(const o of r)o.popup=a}else this.popup=null}#e(){return new jRe({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})}render(){const{container:e}=this;e.classList.add("popupAnnotation"),e.role="comment";const n=this.popup=this.#e(),r=[];for(const i of this.elements)i.popup=n,i.container.ariaHasPopup="dialog",r.push(i.data.id),i.addHighlightArea();return this.container.setAttribute("aria-controls",r.map(i=>`${wu}${i}`).join(",")),this.container}}class jRe{#e=null;#t=this.#V.bind(this);#r=this.#B.bind(this);#n=this.#O.bind(this);#i=this.#_.bind(this);#a=null;#s=null;#o=null;#c=null;#l=null;#h=null;#d=null;#f=!1;#m=null;#g=null;#u=null;#p=null;#y=null;#v=null;#b=null;#E=null;#D=null;#x=null;#A=!1;#w=null;#S=null;constructor({container:e,color:n,elements:r,titleObj:i,modificationDate:s,contentsObj:a,richText:o,parent:l,rect:c,parentRect:d,open:h,commentManager:p=null}){this.#s=e,this.#D=i,this.#o=a,this.#E=o,this.#h=l,this.#a=n,this.#b=c,this.#d=d,this.#l=r,this.#e=p,this.#w=r[0],this.#c=wC.toDateObject(s),this.trigger=r.flatMap(g=>g.getElementsToTriggerPopup()),p||(this.#R(),this.#s.hidden=!0,h&&this.#_())}#R(){if(this.#g)return;this.#g=new AbortController;const{signal:e}=this.#g;for(const n of this.trigger)n.addEventListener("click",this.#i,{signal:e}),n.addEventListener("pointerenter",this.#n,{signal:e}),n.addEventListener("pointerleave",this.#r,{signal:e}),n.classList.add("popupTriggerArea");for(const n of this.#l)n.container?.addEventListener("keydown",this.#t,{signal:e})}#C(){const e=this.#l.find(n=>n.hasCommentButton);e&&(this.#y=e._normalizePoint(e.commentButtonPosition))}renderCommentButton(){if(this.#p){this.#p.parentNode||this.#w.container.after(this.#p);return}if(this.#y||this.#C(),!this.#y)return;const{signal:e}=this.#g=new AbortController,n=this.#w.hasOwnCommentButton,r=()=>{this.#e.toggleCommentPopup(this,!0,void 0,!n)},i=()=>{this.#e.toggleCommentPopup(this,!1,!0,!n)},s=()=>{this.#e.toggleCommentPopup(this,!1,!1)};if(n){this.#p=this.#w.container;for(const a of this.trigger)a.ariaHasPopup="dialog",a.ariaControls="commentPopup",a.addEventListener("keydown",this.#t,{signal:e}),a.addEventListener("click",r,{signal:e}),a.addEventListener("pointerenter",i,{signal:e}),a.addEventListener("pointerleave",s,{signal:e}),a.classList.add("popupTriggerArea")}else{const a=this.#p=document.createElement("button");a.className="annotationCommentButton";const o=this.#w.container;a.style.zIndex=o.style.zIndex+1,a.tabIndex=0,a.ariaHasPopup="dialog",a.ariaControls="commentPopup",a.setAttribute("data-l10n-id","pdfjs-show-comment-button"),this.#P(),this.#k(),a.addEventListener("keydown",this.#t,{signal:e}),a.addEventListener("click",r,{signal:e}),a.addEventListener("pointerenter",i,{signal:e}),a.addEventListener("pointerleave",s,{signal:e}),o.after(a)}}#k(){if(this.#w.extraPopupElement&&!this.#w.editor)return;this.#p||this.renderCommentButton();const[e,n]=this.#y,{style:r}=this.#p;r.left=`calc(${e}%)`,r.top=`calc(${n}% - var(--comment-button-dim))`}#P(){this.#w.extraPopupElement||(this.#p||this.renderCommentButton(),this.#p.style.backgroundColor=this.commentButtonColor||"")}get commentButtonColor(){const{color:e,opacity:n}=this.#w.commentData;return e?this.#h._commentManager.makeCommentColor(e,n):null}focusCommentButton(){setTimeout(()=>{this.#p?.focus()},0)}getData(){const{richText:e,color:n,opacity:r,creationDate:i,modificationDate:s}=this.#w.commentData;return{contentsObj:{str:this.comment},richText:e,color:n,opacity:r,creationDate:i,modificationDate:s}}get elementBeforePopup(){return this.#p}get comment(){return this.#S||=this.#w.commentText,this.#S}set comment(e){e!==this.comment&&(this.#w.commentText=this.#S=e)}focus(){this.#w.container?.focus()}get parentBoundingClientRect(){return this.#w.layer.getBoundingClientRect()}setCommentButtonStates({selected:e,hasPopup:n}){this.#p&&(this.#p.classList.toggle("selected",e),this.#p.ariaExpanded=n)}setSelectedCommentButton(e){this.#p.classList.toggle("selected",e)}get commentPopupPosition(){if(this.#v)return this.#v;const{x:e,y:n,height:r}=this.#p.getBoundingClientRect(),{x:i,y:s,width:a,height:o}=this.#w.layer.getBoundingClientRect();return[(e-i)/a,(n+r-s)/o]}set commentPopupPosition(e){this.#v=e}hasDefaultPopupPosition(){return this.#v===null}get commentButtonPosition(){return this.#y}get commentButtonWidth(){return this.#p.getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(e){const[n,r]=this.#v||this.commentButtonPosition.map(c=>c/100),i=this.parentBoundingClientRect,{x:s,y:a,width:o,height:l}=i;this.#e.showDialog(null,this,s+n*o,a+r*l,{...e,parentDimensions:i})}render(){if(this.#m)return;const e=this.#m=document.createElement("div");if(e.className="popup",this.#a){const r=e.style.outlineColor=He.makeHexColor(...this.#a);e.style.backgroundColor=`color-mix(in srgb, ${r} 30%, white)`}const n=document.createElement("span");if(n.className="header",this.#D?.str){const r=document.createElement("span");r.className="title",n.append(r),{dir:r.dir,str:r.textContent}=this.#D}if(e.append(n),this.#c){const r=document.createElement("time");r.className="popupDate",r.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),r.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#c.valueOf()})),r.dateTime=this.#c.toISOString(),n.append(r)}IK({html:this.#M||this.#o.str,dir:this.#o?.dir,className:"popupContent"},e),this.#s.append(e)}get#M(){const e=this.#E,n=this.#o;return e?.str&&(!n?.str||n.str===e.str)&&this.#E.html||null}get#N(){return this.#M?.attributes?.style?.fontSize||0}get#L(){return this.#M?.attributes?.style?.color||null}#F(e){const n=[],r={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:n}]}},i={style:{color:this.#L,fontSize:this.#N?`calc(${this.#N}px * var(--total-scale-factor))`:""}};for(const s of e.split(`
`))n.push({name:"span",value:s,attributes:i});return r}#V(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&this.#f)&&this.#_()}updateEdited({rect:e,popup:n,deleted:r}){if(this.#e){r?(this.remove(),this.#S=null):n&&(n.deleted?this.remove():(this.#P(),this.#S=n.text)),e&&(this.#y=null,this.#C(),this.#k());return}if(r||n?.deleted){this.remove();return}this.#R(),this.#x||={contentsObj:this.#o,richText:this.#E},e&&(this.#u=null),n&&n.text&&(this.#E=this.#F(n.text),this.#c=wC.toDateObject(n.date),this.#o=null),this.#m?.remove(),this.#m=null}resetEdited(){this.#x&&({contentsObj:this.#o,richText:this.#E}=this.#x,this.#x=null,this.#m?.remove(),this.#m=null,this.#u=null)}remove(){if(this.#g?.abort(),this.#g=null,this.#m?.remove(),this.#m=null,this.#A=!1,this.#f=!1,this.#p?.remove(),this.#p=null,this.trigger)for(const e of this.trigger)e.classList.remove("popupTriggerArea")}#T(){if(this.#u!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:n,pageHeight:r,pageX:i,pageY:s}}}=this.#h;let a=!!this.#d,o=a?this.#d:this.#b;for(const v of this.#l)if(!o||He.intersect(v.data.rect,o)!==null){o=v.data.rect,a=!0;break}const l=He.normalizeRect([o[0],e[3]-o[1]+e[1],o[2],e[3]-o[3]+e[1]]),d=a?o[2]-o[0]+5:0,h=l[0]+d,p=l[1];this.#u=[100*(h-i)/n,100*(p-s)/r];const{style:g}=this.#s;g.left=`${this.#u[0]}%`,g.top=`${this.#u[1]}%`}#_(){if(this.#e){this.#e.toggleCommentPopup(this,!1);return}this.#f=!this.#f,this.#f?(this.#O(),this.#s.addEventListener("click",this.#i),this.#s.addEventListener("keydown",this.#t)):(this.#B(),this.#s.removeEventListener("click",this.#i),this.#s.removeEventListener("keydown",this.#t))}#O(){this.#m||this.render(),this.isVisible?this.#f&&this.#s.classList.add("focused"):(this.#T(),this.#s.hidden=!1,this.#s.style.zIndex=parseInt(this.#s.style.zIndex)+1e3)}#B(){this.#s.classList.remove("focused"),!(this.#f||!this.isVisible)&&(this.#s.hidden=!0,this.#s.style.zIndex=parseInt(this.#s.style.zIndex)-1e3)}forceHide(){this.#A=this.isVisible,this.#A&&(this.#s.hidden=!0)}maybeShow(){this.#e||(this.#R(),this.#A&&(this.#m||this.#O(),this.#A=!1,this.#s.hidden=!1))}get isVisible(){return this.#e?!1:this.#s.hidden===!1}}class sY extends fn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=gt.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=this.contentElement=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const n of this.textContent){const r=document.createElement("span");r.textContent=n,e.append(r)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}class zRe extends fn{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const{data:e,width:n,height:r}=this,i=this.svgFactory.create(n,r,!0),s=this.#e=this.svgFactory.createElement("svg:line");return s.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),s.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),s.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),s.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),s.setAttribute("stroke-width",e.borderStyle.width||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),i.append(s),this.container.append(i),!e.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class qRe extends fn{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const{data:e,width:n,height:r}=this,i=this.svgFactory.create(n,r,!0),s=e.borderStyle.width,a=this.#e=this.svgFactory.createElement("svg:rect");return a.setAttribute("x",s/2),a.setAttribute("y",s/2),a.setAttribute("width",n-s),a.setAttribute("height",r-s),a.setAttribute("stroke-width",s||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),i.append(a),this.container.append(i),!e.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class WRe extends fn{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const{data:e,width:n,height:r}=this,i=this.svgFactory.create(n,r,!0),s=e.borderStyle.width,a=this.#e=this.svgFactory.createElement("svg:ellipse");return a.setAttribute("cx",n/2),a.setAttribute("cy",r/2),a.setAttribute("rx",n/2-s/2),a.setAttribute("ry",r/2-s/2),a.setAttribute("stroke-width",s||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),i.append(a),this.container.append(i),!e.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class aY extends fn{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:n,borderStyle:r,popupRef:i},width:s,height:a}=this;if(!n)return this.container;const o=this.svgFactory.create(s,a,!0);let l=[];for(let d=0,h=n.length;d<h;d+=2){const p=n[d]-e[0],g=e[3]-n[d+1];l.push(`${p},${g}`)}l=l.join(" ");const c=this.#e=this.svgFactory.createElement(this.svgElementName);return c.setAttribute("points",l),c.setAttribute("stroke-width",r.width||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),o.append(c),this.container.append(o),!i&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class VRe extends aY{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class HRe extends fn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}}class n3 extends fn{#e=null;#t=[];constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?gt.HIGHLIGHT:gt.INK}#r(e,n){switch(e){case 90:return{transform:`rotate(90) translate(${-n[0]},${n[1]}) scale(1,-1)`,width:n[3]-n[1],height:n[2]-n[0]};case 180:return{transform:`rotate(180) translate(${-n[2]},${n[1]}) scale(1,-1)`,width:n[2]-n[0],height:n[3]-n[1]};case 270:return{transform:`rotate(270) translate(${-n[2]},${n[3]}) scale(1,-1)`,width:n[3]-n[1],height:n[2]-n[0]};default:return{transform:`translate(${-n[0]},${n[3]}) scale(1,-1)`,width:n[2]-n[0],height:n[3]-n[1]}}}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,rotation:n,inkLists:r,borderStyle:i,popupRef:s}}=this,{transform:a,width:o,height:l}=this.#r(n,e),c=this.svgFactory.create(o,l,!0),d=this.#e=this.svgFactory.createElement("svg:g");c.append(d),d.setAttribute("stroke-width",i.width||1),d.setAttribute("stroke-linecap","round"),d.setAttribute("stroke-linejoin","round"),d.setAttribute("stroke-miterlimit",10),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),d.setAttribute("transform",a);for(let h=0,p=r.length;h<p;h++){const g=this.svgFactory.createElement(this.svgElementName);this.#t.push(g),g.setAttribute("points",r[h].join(",")),d.append(g)}return!s&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(c),this._editOnDoubleClick(),this.container}updateEdited(e){super.updateEdited(e);const{thickness:n,points:r,rect:i}=e,s=this.#e;if(n>=0&&s.setAttribute("stroke-width",n||1),r)for(let a=0,o=this.#t.length;a<o;a++)this.#t[a].setAttribute("points",r[a].join(","));if(i){const{transform:a,width:o,height:l}=this.#r(this.data.rotation,i);s.parentElement.setAttribute("viewBox",`0 0 ${o} ${l}`),s.setAttribute("transform",a)}}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class oY extends fn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=gt.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:n}}=this;if(!n&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const r=document.createElement("mark");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class $Re extends fn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:n}}=this;if(!n&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("underlineAnnotation"),e){const r=document.createElement("u");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class GRe extends fn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:n}}=this;if(!n&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("squigglyAnnotation"),e){const r=document.createElement("u");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class XRe extends fn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:n}}=this;if(!n&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("strikeoutAnnotation"),e){const r=document.createElement("s");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class lY extends fn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=gt.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}class KRe extends fn{#e=null;constructor(e){super(e,{isRenderable:!0});const{file:n}=this.data;this.filename=n.filename,this.content=n.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...n})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:n}=this;let r;n.hasAppearance||n.fillAlpha===0?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(n.name)?"paperclip":"pushpin"}.svg`,n.fillAlpha&&n.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(n.fillAlpha*100)}%);`)),r.addEventListener("dblclick",this.#t.bind(this)),this.#e=r;const{isMac:i}=Vn.platform;return e.addEventListener("keydown",s=>{s.key==="Enter"&&(i?s.metaKey:s.ctrlKey)&&this.#t()}),!n.popupRef&&this.hasPopupData?(this.hasOwnCommentButton=!0,this._createPopup()):r.classList.add("popupTriggerArea"),e.append(r),e}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}#t(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}class r3{#e=null;#t=null;#r=null;#n=new Map;#i=null;#a=null;#s=[];#o=!1;constructor({div:e,accessibilityManager:n,annotationCanvasMap:r,annotationEditorUIManager:i,page:s,viewport:a,structTreeLayer:o,commentManager:l,linkService:c,annotationStorage:d}){this.div=e,this.#e=n,this.#t=r,this.#i=o||null,this.#a=c||null,this.#r=d||new YR,this.page=s,this.viewport=a,this.zIndex=0,this._annotationEditorUIManager=i,this._commentManager=l||null}hasEditableAnnotations(){return this.#n.size>0}async render(e){const{annotations:n}=e,r=this.div;Wl(r,this.viewport);const i=new Map,s=[],a={data:null,layer:r,linkService:this.#a,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new lb,annotationStorage:this.#r,enableComment:e.enableComment===!0,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const o of n){if(o.noHTML)continue;const l=o.annotationType===Mn.POPUP;if(l){const h=i.get(o.id);if(!h)continue;if(!this._commentManager){s.push(o);continue}a.elements=h}else if(o.rect[2]===o.rect[0]||o.rect[3]===o.rect[1])continue;a.data=o;const c=qS.create(a);if(!c.isRenderable)continue;if(!l&&(this.#s.push(c),o.popupRef)){const h=i.get(o.popupRef);h?h.push(c):i.set(o.popupRef,[c])}const d=c.render();o.hidden&&(d.style.visibility="hidden"),c._isEditable&&(this.#n.set(c.data.id,c),this._annotationEditorUIManager?.renderAnnotationElement(c))}await this.#c();for(const o of s){const l=a.elements=i.get(o.id);a.data=o;const c=qS.create(a);if(!c.isRenderable)continue;const d=c.render();c.contentElement.id=`${wu}${o.id}`,o.hidden&&(d.style.visibility="hidden"),l.at(-1).container.after(d)}this.#l()}async#c(){if(this.#s.length===0)return;this.div.replaceChildren();const e=[];if(!this.#o){this.#o=!0;for(const{contentElement:r,data:{id:i}}of this.#s){const s=r.id=`${wu}${i}`;e.push(this.#i?.getAriaAttributes(s).then(a=>{if(a)for(const[o,l]of a)r.setAttribute(o,l)}))}}this.#s.sort(({data:{rect:[r,i,s,a]}},{data:{rect:[o,l,c,d]}})=>{if(r===s&&i===a)return 1;if(o===c&&l===d)return-1;const h=a,p=i,g=(i+a)/2,v=d,y=l,b=(l+d)/2;if(g>=v&&b<=p)return-1;if(b>=h&&g<=y)return 1;const x=(r+s)/2,w=(o+c)/2;return x-w});const n=document.createDocumentFragment();for(const r of this.#s)n.append(r.container),this._commentManager?(r.extraPopupElement?.popup||r.popup)?.renderCommentButton():r.extraPopupElement&&n.append(r.extraPopupElement.render());if(this.div.append(n),await Promise.all(e),this.#e)for(const r of this.#s)this.#e.addPointerInTextLayer(r.contentElement,!1)}async addLinkAnnotations(e){const n={data:null,layer:this.div,linkService:this.#a,svgFactory:new lb,parent:this};for(const r of e){r.borderStyle||=r3._defaultBorderStyle,n.data=r;const i=qS.create(n);i.isRenderable&&(i.render(),i.contentElement.id=`${wu}${r.id}`,this.#s.push(i))}await this.#c()}update({viewport:e}){const n=this.div;this.viewport=e,Wl(n,{rotation:e.rotation}),this.#l(),n.hidden=!1}#l(){if(!this.#t)return;const e=this.div;for(const[n,r]of this.#t){const i=e.querySelector(`[data-annotation-id="${n}"]`);if(!i)continue;r.className="annotationContent";const{firstChild:s}=i;s?s.nodeName==="CANVAS"?s.replaceWith(r):s.classList.contains("annotationContent")?s.after(r):s.before(r):i.append(r);const a=this.#n.get(n);a&&(a._hasNoCanvas?(this._annotationEditorUIManager?.setMissingCanvas(n,i.id,r),a._hasNoCanvas=!1):a.canvas=r)}this.#t.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(e){return this.#n.get(e)}addFakeAnnotation(e){const{div:n}=this,{id:r,rotation:i}=e,s=new ORe({data:{id:r,rect:e.getPDFRect(),rotation:i},editor:e,layer:n,parent:this,enableComment:!!this._commentManager,linkService:this.#a,annotationStorage:this.#r});return s.render(),s.contentElement.id=`${wu}${r}`,s.createOrUpdatePopup(),this.#s.push(s),s}removeAnnotation(e){const n=this.#s.findIndex(i=>i.data.id===e);if(n<0)return;const[r]=this.#s.splice(n,1);this.#e?.removePointerInTextLayer(r.contentElement)}updateFakeAnnotations(e){if(e.length!==0){for(const n of e)n.updateFakeAnnotationElement(this);this.#c()}}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}static get _defaultBorderStyle(){return pt(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:hu.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}}const Am=/\r\n?|\n/g;class Yn extends rt{#e="";#t=`${this.id}-editor`;#r=null;#n;_colorPicker=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const e=Yn.prototype,n=s=>s.isEmpty(),r=ko.TRANSLATE_SMALL,i=ko.TRANSLATE_BIG;return pt(this,"_keyboardManager",new bp([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-r,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-i,0],checker:n}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[r,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[i,0],checker:n}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-r],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-i],checker:n}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,r],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,i],checker:n}]]))}static _type="freetext";static _editorType=gt.FREETEXT;constructor(e){super({...e,name:"freeTextEditor"}),this.color=e.color||Yn._defaultColor||rt._defaultLineColor,this.#n=e.fontSize||Yn._defaultFontSize,this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert"),this.canAddComment=!1}static initialize(e,n){rt.initialize(e,n);const r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,n){switch(e){case Rt.FREETEXT_SIZE:Yn._defaultFontSize=n;break;case Rt.FREETEXT_COLOR:Yn._defaultColor=n;break}}updateParams(e,n){switch(e){case Rt.FREETEXT_SIZE:this.#i(n);break;case Rt.FREETEXT_COLOR:this.#a(n);break}}static get defaultPropertiesToUpdate(){return[[Rt.FREETEXT_SIZE,Yn._defaultFontSize],[Rt.FREETEXT_COLOR,Yn._defaultColor||rt._defaultLineColor]]}get propertiesToUpdate(){return[[Rt.FREETEXT_SIZE,this.#n],[Rt.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||=new Pf(this),[["colorPicker",this._colorPicker]]}get colorType(){return Rt.FREETEXT_COLOR}#i(e){const n=i=>{this.editorDiv.style.fontSize=`calc(${i}px * var(--total-scale-factor))`,this.translate(0,-(i-this.#n)*this.parentScale),this.#n=i,this.#o()},r=this.#n;this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Rt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}onUpdatedColor(){this.editorDiv.style.color=this.color,this._colorPicker?.update(this.color),super.onUpdatedColor()}#a(e){const n=i=>{this.color=i,this.onUpdatedColor()},r=this.color;this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Rt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(e,n){this._uiManager.translateSelectedEditors(e,n,!0)}getInitialTranslation(){const e=this.parentScale;return[-Yn._internalPadding*e,-(Yn._internalPadding+this.#n)*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#r=new AbortController;const e=this._uiManager.combinedSignal(this.#r);return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e}),!0}disableEditMode(){return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#t),this._isDraggable=!0,this.#r?.abort(),this.#r=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(e){this.width||(this.enableEditMode(),e&&this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#s(){const e=[];this.editorDiv.normalize();let n=null;for(const r of this.editorDiv.childNodes)n?.nodeType===Node.TEXT_NODE&&r.nodeName==="BR"||(e.push(Yn.#c(r)),n=r);return e.join(`
`)}#o(){const[e,n]=this.parentDimensions;let r;if(this.isAttachedToDOM)r=this.div.getBoundingClientRect();else{const{currentLayer:i,div:s}=this,a=s.style.display,o=s.classList.contains("hidden");s.classList.remove("hidden"),s.style.display="hidden",i.div.append(this.div),r=s.getBoundingClientRect(),s.remove(),s.style.display=a,s.classList.toggle("hidden",o)}this.rotation%180===this.parentRotation%180?(this.width=r.width/e,this.height=r.height/n):(this.width=r.height/e,this.height=r.width/n),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=this.#e,n=this.#e=this.#s().trimEnd();if(e===n)return;const r=i=>{if(this.#e=i,!i){this.remove();return}this.#l(),this._uiManager.rebuild(this),this.#o()};this.addCommands({cmd:()=>{r(n)},undo:()=>{r(e)},mustExec:!1}),this.#o()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){Yn._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let e,n;(this._isCopy||this.annotationElementId)&&(e=this.x,n=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#t),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:r}=this.editorDiv;if(r.fontSize=`calc(${this.#n}px * var(--total-scale-factor))`,r.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[i,s]=this.parentDimensions;if(this.annotationElementId){const{position:a}=this._initialData;let[o,l]=this.getInitialTranslation();[o,l]=this.pageTranslationToScreen(o,l);const[c,d]=this.pageDimensions,[h,p]=this.pageTranslation;let g,v;switch(this.rotation){case 0:g=e+(a[0]-h)/c,v=n+this.height-(a[1]-p)/d;break;case 90:g=e+(a[0]-h)/c,v=n-(a[1]-p)/d,[o,l]=[l,-o];break;case 180:g=e-this.width+(a[0]-h)/c,v=n-(a[1]-p)/d,[o,l]=[-o,-l];break;case 270:g=e+(a[0]-h-this.height*d)/c,v=n+(a[1]-p-this.width*c)/d,[o,l]=[-l,o];break}this.setAt(g*i,v*s,o,l)}else this._moveAfterPaste(e,n);this.#l(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#c(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(Am,"")}editorDivPaste(e){const n=e.clipboardData||window.clipboardData,{types:r}=n;if(r.length===1&&r[0]==="text/plain")return;e.preventDefault();const i=Yn.#d(n.getData("text")||"").replaceAll(Am,`
`);if(!i)return;const s=window.getSelection();if(!s.rangeCount)return;this.editorDiv.normalize(),s.deleteFromDocument();const a=s.getRangeAt(0);if(!i.includes(`
`)){a.insertNode(document.createTextNode(i)),this.editorDiv.normalize(),s.collapseToStart();return}const{startContainer:o,startOffset:l}=a,c=[],d=[];if(o.nodeType===Node.TEXT_NODE){const g=o.parentElement;if(d.push(o.nodeValue.slice(l).replaceAll(Am,"")),g!==this.editorDiv){let v=c;for(const y of this.editorDiv.childNodes){if(y===g){v=d;continue}v.push(Yn.#c(y))}}c.push(o.nodeValue.slice(0,l).replaceAll(Am,""))}else if(o===this.editorDiv){let g=c,v=0;for(const y of this.editorDiv.childNodes)v++===l&&(g=d),g.push(Yn.#c(y))}this.#e=`${c.join(`
`)}${i}${d.join(`
`)}`,this.#l();const h=new Range;let p=Math.sumPrecise(c.map(g=>g.length));for(const{firstChild:g}of this.editorDiv.childNodes)if(g.nodeType===Node.TEXT_NODE){const v=g.nodeValue.length;if(p<=v){h.setStart(g,p),h.setEnd(g,p);break}p-=v}s.removeAllRanges(),s.addRange(h)}#l(){if(this.editorDiv.replaceChildren(),!!this.#e)for(const e of this.#e.split(`
`)){const n=document.createElement("div");n.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(n)}}#h(){return this.#e.replaceAll(""," ")}static#d(e){return e.replaceAll(" ","")}get contentDiv(){return this.editorDiv}getPDFRect(){const e=Yn._internalPadding*this.parentScale;return this.getRect(e,e)}static async deserialize(e,n,r){let i=null;if(e instanceof sY){const{data:{defaultAppearanceData:{fontSize:a,fontColor:o},rect:l,rotation:c,id:d,popupRef:h,richText:p,contentsObj:g,creationDate:v,modificationDate:y},textContent:b,textPosition:x,parent:{page:{pageNumber:w}}}=e;if(!b||b.length===0)return null;i=e={annotationType:gt.FREETEXT,color:Array.from(o),fontSize:a,value:b.join(`
`),position:x,pageIndex:w-1,rect:l.slice(0),rotation:c,annotationElementId:d,id:d,deleted:!1,popupRef:h,comment:g?.str||null,richText:p,creationDate:v,modificationDate:y}}const s=await super.deserialize(e,n,r);return s.#n=e.fontSize,s.color=He.makeHexColor(...e.color),s.#e=Yn.#d(e.value),s._initialData=i,e.comment&&s.setCommentData(e),s}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=rt._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),r=Object.assign(super.serialize(e),{color:n,fontSize:this.#n,value:this.#h()});return this.addComment(r),e?(r.isCopy=!0,r):this.annotationElementId&&!this.#f(r)?null:(r.id=this.annotationElementId,r)}#f(e){const{value:n,fontSize:r,color:i,pageIndex:s}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||e.value!==n||e.fontSize!==r||e.color.some((a,o)=>a!==i[o])||e.pageIndex!==s}renderAnnotationElement(e){const n=super.renderAnnotationElement(e);if(!n)return null;const{style:r}=n;r.fontSize=`calc(${this.#n}px * var(--total-scale-factor))`,r.color=this.color,n.replaceChildren();for(const i of this.#e.split(`
`)){const s=document.createElement("div");s.append(i?document.createTextNode(i):document.createElement("br")),n.append(s)}return e.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:this.#e}}),n}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}}class $e{static PRECISION=1e-4;toSVGPath(){Zt("Abstract method `toSVGPath` must be implemented.")}get box(){Zt("Abstract getter `box` must be implemented.")}serialize(e,n){Zt("Abstract method `serialize` must be implemented.")}static _rescale(e,n,r,i,s,a){a||=new Float32Array(e.length);for(let o=0,l=e.length;o<l;o+=2)a[o]=n+e[o]*i,a[o+1]=r+e[o+1]*s;return a}static _rescaleAndSwap(e,n,r,i,s,a){a||=new Float32Array(e.length);for(let o=0,l=e.length;o<l;o+=2)a[o]=n+e[o+1]*i,a[o+1]=r+e[o]*s;return a}static _translate(e,n,r,i){i||=new Float32Array(e.length);for(let s=0,a=e.length;s<a;s+=2)i[s]=n+e[s],i[s+1]=r+e[s+1];return i}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,n,r,i,s){switch(s){case 90:return[1-n/r,e/i];case 180:return[1-e/r,1-n/i];case 270:return[n/r,1-e/i];default:return[e/r,n/i]}}static _normalizePagePoint(e,n,r){switch(r){case 90:return[1-n,e];case 180:return[1-e,1-n];case 270:return[n,1-e];default:return[e,n]}}static createBezierPoints(e,n,r,i,s,a){return[(e+5*r)/6,(n+5*i)/6,(5*r+s)/6,(5*i+a)/6,(r+s)/2,(i+a)/2]}}class Sl{#e;#t=[];#r;#n;#i=[];#a=new Float32Array(18);#s;#o;#c;#l;#h;#d;#f=[];static#m=8;static#g=2;static#u=Sl.#m+Sl.#g;constructor({x:e,y:n},r,i,s,a,o=0){this.#e=r,this.#d=s*i,this.#n=a,this.#a.set([NaN,NaN,NaN,NaN,e,n],6),this.#r=o,this.#l=Sl.#m*i,this.#c=Sl.#u*i,this.#h=i,this.#f.push(e,n)}isEmpty(){return isNaN(this.#a[8])}#p(){const e=this.#a.subarray(4,6),n=this.#a.subarray(16,18),[r,i,s,a]=this.#e;return[(this.#s+(e[0]-n[0])/2-r)/s,(this.#o+(e[1]-n[1])/2-i)/a,(this.#s+(n[0]-e[0])/2-r)/s,(this.#o+(n[1]-e[1])/2-i)/a]}add({x:e,y:n}){this.#s=e,this.#o=n;const[r,i,s,a]=this.#e;let[o,l,c,d]=this.#a.subarray(8,12);const h=e-c,p=n-d,g=Math.hypot(h,p);if(g<this.#c)return!1;const v=g-this.#l,y=v/g,b=y*h,x=y*p;let w=o,D=l;o=c,l=d,c+=b,d+=x,this.#f?.push(e,n);const E=-x/v,A=b/v,S=E*this.#d,T=A*this.#d;return this.#a.set(this.#a.subarray(2,8),0),this.#a.set([c+S,d+T],4),this.#a.set(this.#a.subarray(14,18),12),this.#a.set([c-S,d-T],16),isNaN(this.#a[6])?(this.#i.length===0&&(this.#a.set([o+S,l+T],2),this.#i.push(NaN,NaN,NaN,NaN,(o+S-r)/s,(l+T-i)/a),this.#a.set([o-S,l-T],14),this.#t.push(NaN,NaN,NaN,NaN,(o-S-r)/s,(l-T-i)/a)),this.#a.set([w,D,o,l,c,d],6),!this.isEmpty()):(this.#a.set([w,D,o,l,c,d],6),Math.abs(Math.atan2(D-l,w-o)-Math.atan2(x,b))<Math.PI/2?([o,l,c,d]=this.#a.subarray(2,6),this.#i.push(NaN,NaN,NaN,NaN,((o+c)/2-r)/s,((l+d)/2-i)/a),[o,l,w,D]=this.#a.subarray(14,18),this.#t.push(NaN,NaN,NaN,NaN,((w+o)/2-r)/s,((D+l)/2-i)/a),!0):([w,D,o,l,c,d]=this.#a.subarray(0,6),this.#i.push(((w+5*o)/6-r)/s,((D+5*l)/6-i)/a,((5*o+c)/6-r)/s,((5*l+d)/6-i)/a,((o+c)/2-r)/s,((l+d)/2-i)/a),[c,d,o,l,w,D]=this.#a.subarray(12,18),this.#t.push(((w+5*o)/6-r)/s,((D+5*l)/6-i)/a,((5*o+c)/6-r)/s,((5*l+d)/6-i)/a,((o+c)/2-r)/s,((l+d)/2-i)/a),!0))}toSVGPath(){if(this.isEmpty())return"";const e=this.#i,n=this.#t;if(isNaN(this.#a[6])&&!this.isEmpty())return this.#y();const r=[];r.push(`M${e[4]} ${e[5]}`);for(let i=6;i<e.length;i+=6)isNaN(e[i])?r.push(`L${e[i+4]} ${e[i+5]}`):r.push(`C${e[i]} ${e[i+1]} ${e[i+2]} ${e[i+3]} ${e[i+4]} ${e[i+5]}`);this.#b(r);for(let i=n.length-6;i>=6;i-=6)isNaN(n[i])?r.push(`L${n[i+4]} ${n[i+5]}`):r.push(`C${n[i]} ${n[i+1]} ${n[i+2]} ${n[i+3]} ${n[i+4]} ${n[i+5]}`);return this.#v(r),r.join(" ")}#y(){const[e,n,r,i]=this.#e,[s,a,o,l]=this.#p();return`M${(this.#a[2]-e)/r} ${(this.#a[3]-n)/i} L${(this.#a[4]-e)/r} ${(this.#a[5]-n)/i} L${s} ${a} L${o} ${l} L${(this.#a[16]-e)/r} ${(this.#a[17]-n)/i} L${(this.#a[14]-e)/r} ${(this.#a[15]-n)/i} Z`}#v(e){const n=this.#t;e.push(`L${n[4]} ${n[5]} Z`)}#b(e){const[n,r,i,s]=this.#e,a=this.#a.subarray(4,6),o=this.#a.subarray(16,18),[l,c,d,h]=this.#p();e.push(`L${(a[0]-n)/i} ${(a[1]-r)/s} L${l} ${c} L${d} ${h} L${(o[0]-n)/i} ${(o[1]-r)/s}`)}newFreeDrawOutline(e,n,r,i,s,a){return new cY(e,n,r,i,s,a)}getOutlines(){const e=this.#i,n=this.#t,r=this.#a,[i,s,a,o]=this.#e,l=new Float32Array((this.#f?.length??0)+2);for(let h=0,p=l.length-2;h<p;h+=2)l[h]=(this.#f[h]-i)/a,l[h+1]=(this.#f[h+1]-s)/o;if(l[l.length-2]=(this.#s-i)/a,l[l.length-1]=(this.#o-s)/o,isNaN(r[6])&&!this.isEmpty())return this.#E(l);const c=new Float32Array(this.#i.length+24+this.#t.length);let d=e.length;for(let h=0;h<d;h+=2){if(isNaN(e[h])){c[h]=c[h+1]=NaN;continue}c[h]=e[h],c[h+1]=e[h+1]}d=this.#x(c,d);for(let h=n.length-6;h>=6;h-=6)for(let p=0;p<6;p+=2){if(isNaN(n[h+p])){c[d]=c[d+1]=NaN,d+=2;continue}c[d]=n[h+p],c[d+1]=n[h+p+1],d+=2}return this.#D(c,d),this.newFreeDrawOutline(c,l,this.#e,this.#h,this.#r,this.#n)}#E(e){const n=this.#a,[r,i,s,a]=this.#e,[o,l,c,d]=this.#p(),h=new Float32Array(36);return h.set([NaN,NaN,NaN,NaN,(n[2]-r)/s,(n[3]-i)/a,NaN,NaN,NaN,NaN,(n[4]-r)/s,(n[5]-i)/a,NaN,NaN,NaN,NaN,o,l,NaN,NaN,NaN,NaN,c,d,NaN,NaN,NaN,NaN,(n[16]-r)/s,(n[17]-i)/a,NaN,NaN,NaN,NaN,(n[14]-r)/s,(n[15]-i)/a],0),this.newFreeDrawOutline(h,e,this.#e,this.#h,this.#r,this.#n)}#D(e,n){const r=this.#t;return e.set([NaN,NaN,NaN,NaN,r[4],r[5]],n),n+=6}#x(e,n){const r=this.#a.subarray(4,6),i=this.#a.subarray(16,18),[s,a,o,l]=this.#e,[c,d,h,p]=this.#p();return e.set([NaN,NaN,NaN,NaN,(r[0]-s)/o,(r[1]-a)/l,NaN,NaN,NaN,NaN,c,d,NaN,NaN,NaN,NaN,h,p,NaN,NaN,NaN,NaN,(i[0]-s)/o,(i[1]-a)/l],n),n+=24}}class cY extends $e{#e;#t=new Float32Array(4);#r;#n;#i;#a;#s;constructor(e,n,r,i,s,a){super(),this.#s=e,this.#i=n,this.#e=r,this.#a=i,this.#r=s,this.#n=a,this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],this.#o(a);const[o,l,c,d]=this.#t;for(let h=0,p=e.length;h<p;h+=2)e[h]=(e[h]-o)/c,e[h+1]=(e[h+1]-l)/d;for(let h=0,p=n.length;h<p;h+=2)n[h]=(n[h]-o)/c,n[h+1]=(n[h+1]-l)/d}toSVGPath(){const e=[`M${this.#s[4]} ${this.#s[5]}`];for(let n=6,r=this.#s.length;n<r;n+=6){if(isNaN(this.#s[n])){e.push(`L${this.#s[n+4]} ${this.#s[n+5]}`);continue}e.push(`C${this.#s[n]} ${this.#s[n+1]} ${this.#s[n+2]} ${this.#s[n+3]} ${this.#s[n+4]} ${this.#s[n+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,n,r,i],s){const a=r-e,o=i-n;let l,c;switch(s){case 0:l=$e._rescale(this.#s,e,i,a,-o),c=$e._rescale(this.#i,e,i,a,-o);break;case 90:l=$e._rescaleAndSwap(this.#s,e,n,a,o),c=$e._rescaleAndSwap(this.#i,e,n,a,o);break;case 180:l=$e._rescale(this.#s,r,n,-a,o),c=$e._rescale(this.#i,r,n,-a,o);break;case 270:l=$e._rescaleAndSwap(this.#s,r,i,-a,-o),c=$e._rescaleAndSwap(this.#i,r,i,-a,-o);break}return{outline:Array.from(l),points:[Array.from(c)]}}#o(e){const n=this.#s;let r=n[4],i=n[5];const s=[r,i,r,i];let a=r,o=i,l=r,c=i;const d=e?Math.max:Math.min,h=new Float32Array(4);for(let g=6,v=n.length;g<v;g+=6){const y=n[g+4],b=n[g+5];isNaN(n[g])?(He.pointBoundingBox(y,b,s),o>b?(a=y,o=b):o===b&&(a=d(a,y)),c<b?(l=y,c=b):c===b&&(l=d(l,y))):(h[0]=h[1]=1/0,h[2]=h[3]=-1/0,He.bezierBoundingBox(r,i,...n.slice(g,g+6),h),He.rectBoundingBox(h[0],h[1],h[2],h[3],s),o>h[1]?(a=h[0],o=h[1]):o===h[1]&&(a=d(a,h[0])),c<h[3]?(l=h[2],c=h[3]):c===h[3]&&(l=d(l,h[2]))),r=y,i=b}const p=this.#t;p[0]=s[0]-this.#r,p[1]=s[1]-this.#r,p[2]=s[2]-s[0]+2*this.#r,p[3]=s[3]-s[1]+2*this.#r,this.firstPoint=[a,o],this.lastPoint=[l,c]}get box(){return this.#t}newOutliner(e,n,r,i,s,a=0){return new Sl(e,n,r,i,s,a)}getNewOutline(e,n){const[r,i,s,a]=this.#t,[o,l,c,d]=this.#e,h=s*c,p=a*d,g=r*c+o,v=i*d+l,y=this.newOutliner({x:this.#i[0]*h+g,y:this.#i[1]*p+v},this.#e,this.#a,e,this.#n,n??this.#r);for(let b=2;b<this.#i.length;b+=2)y.add({x:this.#i[b]*h+g,y:this.#i[b+1]*p+v});return y.getOutlines()}}class kC{#e;#t;#r;#n=[];#i=[];constructor(e,n=0,r=0,i=!0){const s=[1/0,1/0,-1/0,-1/0],a=10**-4;for(const{x:y,y:b,width:x,height:w}of e){const D=Math.floor((y-n)/a)*a,E=Math.ceil((y+x+n)/a)*a,A=Math.floor((b-n)/a)*a,S=Math.ceil((b+w+n)/a)*a,T=[D,A,S,!0],M=[E,A,S,!1];this.#n.push(T,M),He.rectBoundingBox(D,A,E,S,s)}const o=s[2]-s[0]+2*r,l=s[3]-s[1]+2*r,c=s[0]-r,d=s[1]-r;let h=i?-1/0:1/0,p=1/0;const g=this.#n.at(i?-1:-2),v=[g[0],g[2]];for(const y of this.#n){const[b,x,w,D]=y;!D&&i?x<p?(p=x,h=b):x===p&&(h=Math.max(h,b)):D&&!i&&(x<p?(p=x,h=b):x===p&&(h=Math.min(h,b))),y[0]=(b-c)/o,y[1]=(x-d)/l,y[2]=(w-d)/l}this.#e=new Float32Array([c,d,o,l]),this.#t=[h,p],this.#r=v}getOutlines(){this.#n.sort((n,r)=>n[0]-r[0]||n[1]-r[1]||n[2]-r[2]);const e=[];for(const n of this.#n)n[3]?(e.push(...this.#l(n)),this.#o(n)):(this.#c(n),e.push(...this.#l(n)));return this.#a(e)}#a(e){const n=[],r=new Set;for(const a of e){const[o,l,c]=a;n.push([o,l,a],[o,c,a])}n.sort((a,o)=>a[1]-o[1]||a[0]-o[0]);for(let a=0,o=n.length;a<o;a+=2){const l=n[a][2],c=n[a+1][2];l.push(c),c.push(l),r.add(l),r.add(c)}const i=[];let s;for(;r.size>0;){const a=r.values().next().value;let[o,l,c,d,h]=a;r.delete(a);let p=o,g=l;for(s=[o,c],i.push(s);;){let v;if(r.has(d))v=d;else if(r.has(h))v=h;else break;r.delete(v),[o,l,c,d,h]=v,p!==o&&(s.push(p,g,o,g===l?l:c),p=o),g=g===l?c:l}s.push(p,g)}return new YRe(i,this.#e,this.#t,this.#r)}#s(e){const n=this.#i;let r=0,i=n.length-1;for(;r<=i;){const s=r+i>>1,a=n[s][0];if(a===e)return s;a<e?r=s+1:i=s-1}return i+1}#o([,e,n]){const r=this.#s(e);this.#i.splice(r,0,[e,n])}#c([,e,n]){const r=this.#s(e);for(let i=r;i<this.#i.length;i++){const[s,a]=this.#i[i];if(s!==e)break;if(s===e&&a===n){this.#i.splice(i,1);return}}for(let i=r-1;i>=0;i--){const[s,a]=this.#i[i];if(s!==e)break;if(s===e&&a===n){this.#i.splice(i,1);return}}}#l(e){const[n,r,i]=e,s=[[n,r,i]],a=this.#s(i);for(let o=0;o<a;o++){const[l,c]=this.#i[o];for(let d=0,h=s.length;d<h;d++){const[,p,g]=s[d];if(!(c<=p||g<=l)){if(p>=l){if(g>c)s[d][1]=c;else{if(h===1)return[];s.splice(d,1),d--,h--}continue}s[d][2]=l,g>c&&s.push([n,c,g])}}}return s}}class YRe extends $e{#e;#t;constructor(e,n,r,i){super(),this.#t=e,this.#e=n,this.firstPoint=r,this.lastPoint=i}toSVGPath(){const e=[];for(const n of this.#t){let[r,i]=n;e.push(`M${r} ${i}`);for(let s=2;s<n.length;s+=2){const a=n[s],o=n[s+1];a===r?(e.push(`V${o}`),i=o):o===i&&(e.push(`H${a}`),r=a)}e.push("Z")}return e.join(" ")}serialize([e,n,r,i],s){const a=[],o=r-e,l=i-n;for(const c of this.#t){const d=new Array(c.length);for(let h=0;h<c.length;h+=2)d[h]=e+c[h]*o,d[h+1]=i-c[h+1]*l;a.push(d)}return a}get box(){return this.#e}get classNamesForOutlining(){return["highlightOutline"]}}class RC extends Sl{newFreeDrawOutline(e,n,r,i,s,a){return new ZRe(e,n,r,i,s,a)}}class ZRe extends cY{newOutliner(e,n,r,i,s,a=0){return new RC(e,n,r,i,s,a)}}class Dn extends rt{#e=null;#t=0;#r;#n=null;#i=null;#a=null;#s=null;#o=0;#c=null;#l=null;#h=null;#d=!1;#f=null;#m=null;#g=null;#u="";#p;#y="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=gt.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const e=Dn.prototype;return pt(this,"_keyboardManager",new bp([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}constructor(e){super({...e,name:"highlightEditor"}),this.color=e.color||Dn._defaultColor,this.#p=e.thickness||Dn._defaultThickness,this.opacity=e.opacity||Dn._defaultOpacity,this.#r=e.boxes||null,this.#y=e.methodOfCreation||"",this.#u=e.text||"",this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",e.highlightId>-1?(this.#d=!0,this.#b(e),this.#w()):this.#r&&(this.#e=e.anchorNode,this.#t=e.anchorOffset,this.#s=e.focusNode,this.#o=e.focusOffset,this.#v(),this.#w(),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}get telemetryInitialData(){return{action:"added",type:this.#d?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:this.#p,methodOfCreation:this.#y}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}#v(){const e=new kC(this.#r,.001);this.#l=e.getOutlines(),[this.x,this.y,this.width,this.height]=this.#l.box;const n=new kC(this.#r,.0025,.001,this._uiManager.direction==="ltr");this.#a=n.getOutlines();const{firstPoint:r}=this.#l;this.#f=[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height];const{lastPoint:i}=this.#a;this.#m=[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height]}#b({highlightOutlines:e,highlightId:n,clipPathId:r}){this.#l=e;const i=1.5;if(this.#a=e.getNewOutline(this.#p/2+i,.0025),n>=0)this.#h=n,this.#n=r,this.parent.drawLayer.finalizeDraw(n,{bbox:e.box,path:{d:e.toSVGPath()}}),this.#g=this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:this.#a.box,path:{d:this.#a.toSVGPath()}},!0);else if(this.parent){const h=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(this.#h,{bbox:Dn.#S(this.#l.box,(h-this.rotation+360)%360),path:{d:e.toSVGPath()}}),this.parent.drawLayer.updateProperties(this.#g,{bbox:Dn.#S(this.#a.box,h),path:{d:this.#a.toSVGPath()}})}const[s,a,o,l]=e.box;switch(this.rotation){case 0:this.x=s,this.y=a,this.width=o,this.height=l;break;case 90:{const[h,p]=this.parentDimensions;this.x=a,this.y=1-s,this.width=o*p/h,this.height=l*h/p;break}case 180:this.x=1-s,this.y=1-a,this.width=o,this.height=l;break;case 270:{const[h,p]=this.parentDimensions;this.x=1-a,this.y=s,this.width=o*p/h,this.height=l*h/p;break}}const{firstPoint:c}=e;this.#f=[(c[0]-s)/o,(c[1]-a)/l];const{lastPoint:d}=this.#a;this.#m=[(d[0]-s)/o,(d[1]-a)/l]}static initialize(e,n){rt.initialize(e,n),Dn._defaultColor||=n.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(e,n){switch(e){case Rt.HIGHLIGHT_COLOR:Dn._defaultColor=n;break;case Rt.HIGHLIGHT_THICKNESS:Dn._defaultThickness=n;break}}translateInPage(e,n){}get toolbarPosition(){return this.#m}get commentButtonPosition(){return this.#f}updateParams(e,n){switch(e){case Rt.HIGHLIGHT_COLOR:this.#E(n);break;case Rt.HIGHLIGHT_THICKNESS:this.#D(n);break}}static get defaultPropertiesToUpdate(){return[[Rt.HIGHLIGHT_COLOR,Dn._defaultColor],[Rt.HIGHLIGHT_THICKNESS,Dn._defaultThickness]]}get propertiesToUpdate(){return[[Rt.HIGHLIGHT_COLOR,this.color||Dn._defaultColor],[Rt.HIGHLIGHT_THICKNESS,this.#p||Dn._defaultThickness],[Rt.HIGHLIGHT_FREE,this.#d]]}onUpdatedColor(){this.parent?.drawLayer.updateProperties(this.#h,{root:{fill:this.color,"fill-opacity":this.opacity}}),this.#i?.updateColor(this.color),super.onUpdatedColor()}#E(e){const n=(s,a)=>{this.color=s,this.opacity=a,this.onUpdatedColor()},r=this.color,i=this.opacity;this.addCommands({cmd:n.bind(this,e,Dn._defaultOpacity),undo:n.bind(this,r,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Rt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(e)},!0)}#D(e){const n=this.#p,r=i=>{this.#p=i,this.#x(i)};this.addCommands({cmd:r.bind(this,e),undo:r.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Rt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",this.#i=new Ni({editor:this})]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#k())}getBaseTranslation(){return[0,0]}getRect(e,n){return super.getRect(e,n,this.#k())}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),e&&this.div.focus()}remove(){this.#A(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#w(),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let n=!1;this.parent&&!e?this.#A():e&&(this.#w(e),n=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),this.show(this._isVisible),n&&this.select()}#x(e){this.#d&&(this.#b({highlightOutlines:this.#l.getNewOutline(e/2)}),this.fixAndSetPosition(),this.setDims())}#A(){this.#h===null||!this.parent||(this.parent.drawLayer.remove(this.#h),this.#h=null,this.parent.drawLayer.remove(this.#g),this.#g=null)}#w(e=this.parent){this.#h===null&&({id:this.#h,clipPathId:this.#n}=e.drawLayer.draw({bbox:this.#l.box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:this.#d},path:{d:this.#l.toSVGPath()}},!1,!0),this.#g=e.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:this.#d},bbox:this.#a.box,path:{d:this.#a.toSVGPath()}},this.#d),this.#c&&(this.#c.style.clipPath=this.#n))}static#S([e,n,r,i],s){switch(s){case 90:return[1-n-i,e,i,r];case 180:return[1-e-r,1-n-i,r,i];case 270:return[n,1-e-r,i,r]}return[e,n,r,i]}rotate(e){const{drawLayer:n}=this.parent;let r;this.#d?(e=(e-this.rotation+360)%360,r=Dn.#S(this.#l.box,e)):r=Dn.#S([this.x,this.y,this.width,this.height],e),n.updateProperties(this.#h,{bbox:r,root:{"data-main-rotation":e}}),n.updateProperties(this.#g,{bbox:Dn.#S(this.#a.box,e),root:{"data-main-rotation":e}})}render(){if(this.div)return this.div;const e=super.render();this.#u&&(e.setAttribute("aria-label",this.#u),e.setAttribute("role","mark")),this.#d?e.classList.add("free"):this.div.addEventListener("keydown",this.#R.bind(this),{signal:this._uiManager._signal});const n=this.#c=document.createElement("div");return e.append(n),n.setAttribute("aria-hidden","true"),n.className="internal",n.style.clipPath=this.#n,this.setDims(),LK(this,this.#c,["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#g,{rootClass:{hovered:!0}})}pointerleave(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#g,{rootClass:{hovered:!1}})}#R(e){Dn._keyboardManager.exec(this,e)}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:this.#C(!0);break;case 1:case 3:this.#C(!1);break}}#C(e){if(!this.#e)return;const n=window.getSelection();e?n.setPosition(this.#e,this.#t):n.setPosition(this.#s,this.#o)}select(){super.select(),this.#g&&this.parent?.drawLayer.updateProperties(this.#g,{rootClass:{hovered:!1,selected:!0}})}unselect(){super.unselect(),this.#g&&(this.parent?.drawLayer.updateProperties(this.#g,{rootClass:{selected:!1}}),this.#d||this.#C(!1))}get _mustFixPosition(){return!this.#d}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.updateProperties(this.#h,{rootClass:{hidden:!e}}),this.parent.drawLayer.updateProperties(this.#g,{rootClass:{hidden:!e}}))}#k(){return this.#d?this.rotation:0}#P(){if(this.#d)return null;const[e,n]=this.pageDimensions,[r,i]=this.pageTranslation,s=this.#r,a=new Float32Array(s.length*8);let o=0;for(const{x:l,y:c,width:d,height:h}of s){const p=l*e+r,g=(1-c)*n+i;a[o]=a[o+4]=p,a[o+1]=a[o+3]=g,a[o+2]=a[o+6]=p+d*e,a[o+5]=a[o+7]=g-h*n,o+=8}return a}#M(e){return this.#l.serialize(e,this.#k())}static startHighlighting(e,n,{target:r,x:i,y:s}){const{x:a,y:o,width:l,height:c}=r.getBoundingClientRect(),d=new AbortController,h=e.combinedSignal(d),p=g=>{d.abort(),this.#L(e,g)};window.addEventListener("blur",p,{signal:h}),window.addEventListener("pointerup",p,{signal:h}),window.addEventListener("pointerdown",vn,{capture:!0,passive:!1,signal:h}),window.addEventListener("contextmenu",Vi,{signal:h}),r.addEventListener("pointermove",this.#N.bind(this,e),{signal:h}),this._freeHighlight=new RC({x:i,y:s},[a,o,l,c],e.scale,this._defaultThickness/2,n,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static#N(e,n){this._freeHighlight.add(n)&&e.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}static#L(e,n){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(n,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static async deserialize(e,n,r){let i=null;if(e instanceof oY){const{data:{quadPoints:v,rect:y,rotation:b,id:x,color:w,opacity:D,popupRef:E,richText:A,contentsObj:S,creationDate:T,modificationDate:M},parent:{page:{pageNumber:R}}}=e;i=e={annotationType:gt.HIGHLIGHT,color:Array.from(w),opacity:D,quadPoints:v,boxes:null,pageIndex:R-1,rect:y.slice(0),rotation:b,annotationElementId:x,id:x,deleted:!1,popupRef:E,richText:A,comment:S?.str||null,creationDate:T,modificationDate:M}}else if(e instanceof n3){const{data:{inkLists:v,rect:y,rotation:b,id:x,color:w,borderStyle:{rawWidth:D},popupRef:E,richText:A,contentsObj:S,creationDate:T,modificationDate:M},parent:{page:{pageNumber:R}}}=e;i=e={annotationType:gt.HIGHLIGHT,color:Array.from(w),thickness:D,inkLists:v,boxes:null,pageIndex:R-1,rect:y.slice(0),rotation:b,annotationElementId:x,id:x,deleted:!1,popupRef:E,richText:A,comment:S?.str||null,creationDate:T,modificationDate:M}}const{color:s,quadPoints:a,inkLists:o,opacity:l}=e,c=await super.deserialize(e,n,r);c.color=He.makeHexColor(...s),c.opacity=l||1,o&&(c.#p=e.thickness),c._initialData=i,e.comment&&c.setCommentData(e);const[d,h]=c.pageDimensions,[p,g]=c.pageTranslation;if(a){const v=c.#r=[];for(let y=0;y<a.length;y+=8)v.push({x:(a[y]-p)/d,y:1-(a[y+1]-g)/h,width:(a[y+2]-a[y])/d,height:(a[y+1]-a[y+5])/h});c.#v(),c.#w(),c.rotate(c.rotation)}else if(o){c.#d=!0;const v=o[0],y={x:v[0]-p,y:h-(v[1]-g)},b=new RC(y,[0,0,d,h],1,c.#p/2,!0,.001);for(let D=0,E=v.length;D<E;D+=2)y.x=v[D]-p,y.y=h-(v[D+1]-g),b.add(y);const{id:x,clipPathId:w}=n.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:c.color,"fill-opacity":c._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:b.toSVGPath()}},!0,!0);c.#b({highlightOutlines:b.getOutlines(),highlightId:x,clipPathId:w}),c.#w(),c.rotate(c.parentRotation)}return c}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const n=rt._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),r=super.serialize(e);return Object.assign(r,{color:n,opacity:this.opacity,thickness:this.#p,quadPoints:this.#P(),outlines:this.#M(r.rect)}),this.addComment(r),this.annotationElementId&&!this.#F(r)?null:(r.id=this.annotationElementId,r)}#F(e){const{color:n}=this._initialData;return this.hasEditedComment||e.color.some((r,i)=>r!==n[i])}renderAnnotationElement(e){return this.deleted?(e.hide(),null):(e.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}}class uY{#e=Object.create(null);updateProperty(e,n){this[e]=n,this.updateSVGProperty(e,n)}updateProperties(e){if(e)for(const[n,r]of Object.entries(e))n.startsWith("_")||this.updateProperty(n,r)}updateSVGProperty(e,n){this.#e[e]=n}toSVGProperties(){const e=this.#e;return this.#e=Object.create(null),{root:e}}reset(){this.#e=Object.create(null)}updateAll(e=this){this.updateProperties(e)}clone(){Zt("Not implemented")}}class Bt extends rt{#e=null;#t;_colorPicker=null;_drawId=null;static _currentDrawId=-1;static _currentParent=null;static#r=null;static#n=null;static#i=null;static _INNER_MARGIN=3;constructor(e){super(e),this.#t=e.mustBeCommitted||!1,this._addOutlines(e)}onUpdatedColor(){this._colorPicker?.update(this.color),super.onUpdatedColor()}_addOutlines(e){e.drawOutlines&&(this.#a(e),this.#c())}#a({drawOutlines:e,drawId:n,drawingOptions:r}){this.#e=e,this._drawingOptions||=r,this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),n>=0?(this._drawId=n,this.parent.drawLayer.finalizeDraw(n,e.defaultProperties)):this._drawId=this.#s(e,this.parent),this.#d(e.box)}#s(e,n){const{id:r}=n.drawLayer.draw(Bt._mergeSVGProperties(this._drawingOptions.toSVGProperties(),e.defaultSVGProperties),!1,!1);return r}static _mergeSVGProperties(e,n){const r=new Set(Object.keys(e));for(const[i,s]of Object.entries(n))r.has(i)?Object.assign(e[i],s):e[i]=s;return e}static getDefaultDrawingOptions(e){Zt("Not implemented")}static get typesMap(){Zt("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(e,n){const r=this.typesMap.get(e);r&&this._defaultDrawingOptions.updateProperty(r,n),this._currentParent&&(Bt.#r.updateProperty(r,n),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(e,n){const r=this.constructor.typesMap.get(e);r&&this._updateProperty(e,r,n)}static get defaultPropertiesToUpdate(){const e=[],n=this._defaultDrawingOptions;for(const[r,i]of this.typesMap)e.push([r,n[i]]);return e}get propertiesToUpdate(){const e=[],{_drawingOptions:n}=this;for(const[r,i]of this.constructor.typesMap)e.push([r,n[i]]);return e}_updateProperty(e,n,r){const i=this._drawingOptions,s=i[n],a=o=>{i.updateProperty(n,o);const l=this.#e.updateProperty(n,o);l&&this.#d(l),this.parent?.drawLayer.updateProperties(this._drawId,i.toSVGProperties()),e===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:a.bind(this,r),undo:a.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:e,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){this.parent?.drawLayer.updateProperties(this._drawId,Bt._mergeSVGProperties(this.#e.getPathResizingSVGProperties(this.#h()),{bbox:this.#f()}))}_onResized(){this.parent?.drawLayer.updateProperties(this._drawId,Bt._mergeSVGProperties(this.#e.getPathResizedSVGProperties(this.#h()),{bbox:this.#f()}))}_onTranslating(e,n){this.parent?.drawLayer.updateProperties(this._drawId,{bbox:this.#f()})}_onTranslated(){this.parent?.drawLayer.updateProperties(this._drawId,Bt._mergeSVGProperties(this.#e.getPathTranslatedSVGProperties(this.#h(),this.parentDimensions),{bbox:this.#f()}))}_onStartDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,this.#t&&(this.#t=!1,this.commit(),this.parent.setSelected(this),e&&this.isOnScreen&&this.div.focus())}remove(){this.#o(),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#c(),this.#d(this.#e.box),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let n=!1;this.parent&&!e?(this._uiManager.removeShouldRescale(this),this.#o()):e&&(this._uiManager.addShouldRescale(this),this.#c(e),n=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),n&&this.select()}#o(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}#c(e=this.parent){if(!(this._drawId!==null&&this.parent===e)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,e.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=this.#s(this.#e,e)}}#l([e,n,r,i]){const{parentDimensions:[s,a],rotation:o}=this;switch(o){case 90:return[n,1-e,r*(a/s),i*(s/a)];case 180:return[1-e,1-n,r,i];case 270:return[1-n,e,r*(a/s),i*(s/a)];default:return[e,n,r,i]}}#h(){const{x:e,y:n,width:r,height:i,parentDimensions:[s,a],rotation:o}=this;switch(o){case 90:return[1-n,e,r*(s/a),i*(a/s)];case 180:return[1-e,1-n,r,i];case 270:return[n,1-e,r*(s/a),i*(a/s)];default:return[e,n,r,i]}}#d(e){[this.x,this.y,this.width,this.height]=this.#l(e),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()}#f(){const{x:e,y:n,width:r,height:i,rotation:s,parentRotation:a,parentDimensions:[o,l]}=this;switch((s*4+a)/90){case 1:return[1-n-i,e,i,r];case 2:return[1-e-r,1-n-i,r,i];case 3:return[n,1-e-r,i,r];case 4:return[e,n-r*(o/l),i*(l/o),r*(o/l)];case 5:return[1-n,e,r*(o/l),i*(l/o)];case 6:return[1-e-i*(l/o),1-n,i*(l/o),r*(o/l)];case 7:return[n-r*(o/l),1-e-i*(l/o),r*(o/l),i*(l/o)];case 8:return[e-r,n-i,r,i];case 9:return[1-n,e-r,i,r];case 10:return[1-e,1-n,r,i];case 11:return[n-i,1-e,i,r];case 12:return[e-i*(l/o),n,i*(l/o),r*(o/l)];case 13:return[1-n-r*(o/l),e-i*(l/o),r*(o/l),i*(l/o)];case 14:return[1-e,1-n-r*(o/l),i*(l/o),r*(o/l)];case 15:return[n,1-e,r*(o/l),i*(l/o)];default:return[e,n,r,i]}}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,Bt._mergeSVGProperties({bbox:this.#f()},this.#e.updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&this.#d(this.#e.updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let e,n;this._isCopy&&(e=this.x,n=this.y);const r=super.render();r.classList.add("draw");const i=document.createElement("div");return r.append(i),i.setAttribute("aria-hidden","true"),i.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(e,n),r}static createDrawerInstance(e,n,r,i,s){Zt("Not implemented")}static startDrawing(e,n,r,i){const{target:s,offsetX:a,offsetY:o,pointerId:l,pointerType:c}=i;if(jt.isInitializedAndDifferentPointerType(c))return;const{viewport:{rotation:d}}=e,{width:h,height:p}=s.getBoundingClientRect(),g=Bt.#n=new AbortController,v=e.combinedSignal(g);if(jt.setPointer(c,l),window.addEventListener("pointerup",y=>{jt.isSamePointerIdOrRemove(y.pointerId)&&this._endDraw(y)},{signal:v}),window.addEventListener("pointercancel",y=>{jt.isSamePointerIdOrRemove(y.pointerId)&&this._currentParent.endDrawingSession()},{signal:v}),window.addEventListener("pointerdown",y=>{jt.isSamePointerType(y.pointerType)&&(jt.initializeAndAddPointerId(y.pointerId),Bt.#r.isCancellable()&&(Bt.#r.removeLastElement(),Bt.#r.isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:v}),window.addEventListener("contextmenu",Vi,{signal:v}),s.addEventListener("pointermove",this._drawMove.bind(this),{signal:v}),s.addEventListener("touchmove",y=>{jt.isSameTimeStamp(y.timeStamp)&&vn(y)},{signal:v}),e.toggleDrawing(),n._editorUndoBar?.hide(),Bt.#r){e.drawLayer.updateProperties(this._currentDrawId,Bt.#r.startNew(a,o,h,p,d));return}n.updateUIForDefaultProperties(this),Bt.#r=this.createDrawerInstance(a,o,h,p,d),Bt.#i=this.getDefaultDrawingOptions(),this._currentParent=e,{id:this._currentDrawId}=e.drawLayer.draw(this._mergeSVGProperties(Bt.#i.toSVGProperties(),Bt.#r.defaultSVGProperties),!0,!1)}static _drawMove(e){if(jt.isSameTimeStamp(e.timeStamp),!Bt.#r)return;const{offsetX:n,offsetY:r,pointerId:i}=e;if(jt.isSamePointerId(i)){if(jt.isUsingMultiplePointers()){this._endDraw(e);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,Bt.#r.add(n,r)),jt.setTimeStamp(e.timeStamp),vn(e)}}static _cleanup(e){e&&(this._currentDrawId=-1,this._currentParent=null,Bt.#r=null,Bt.#i=null,jt.clearTimeStamp()),Bt.#n&&(Bt.#n.abort(),Bt.#n=null,jt.clearPointerIds())}static _endDraw(e){const n=this._currentParent;if(n){if(n.toggleDrawing(!0),this._cleanup(!1),e?.target===n.div&&n.drawLayer.updateProperties(this._currentDrawId,Bt.#r.end(e.offsetX,e.offsetY)),this.supportMultipleDrawings){const r=Bt.#r,i=this._currentDrawId,s=r.getLastElement();n.addCommands({cmd:()=>{n.drawLayer.updateProperties(i,r.setLastElement(s))},undo:()=>{n.drawLayer.updateProperties(i,r.removeLastElement())},mustExec:!1,type:Rt.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(e){const n=this._currentParent;if(!n)return null;if(n.toggleDrawing(!0),n.cleanUndoStack(Rt.DRAW_STEP),!Bt.#r.isEmpty()){const{pageDimensions:[r,i],scale:s}=n,a=n.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:Bt.#r.getOutlines(r*s,i*s,s,this._INNER_MARGIN),drawingOptions:Bt.#i,mustBeCommitted:!e});return this._cleanup(!0),a}return n.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(e){}static deserializeDraw(e,n,r,i,s,a){Zt("Not implemented")}static async deserialize(e,n,r){const{rawDims:{pageWidth:i,pageHeight:s,pageX:a,pageY:o}}=n.viewport,l=this.deserializeDraw(a,o,i,s,this._INNER_MARGIN,e),c=await super.deserialize(e,n,r);return c.createDrawingOptions(e),c.#a({drawOutlines:l}),c.#c(),c.onScaleChanging(),c.rotate(),c}serializeDraw(e){const[n,r]=this.pageTranslation,[i,s]=this.pageDimensions;return this.#e.serialize([n,r,i,s],e)}renderAnnotationElement(e){return e.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}}class JRe{#e=new Float64Array(6);#t;#r;#n;#i;#a;#s="";#o=0;#c=new xp;#l;#h;constructor(e,n,r,i,s,a){this.#l=r,this.#h=i,this.#n=s,this.#i=a,[e,n]=this.#d(e,n);const o=this.#t=[NaN,NaN,NaN,NaN,e,n];this.#a=[e,n],this.#r=[{line:o,points:this.#a}],this.#e.set(o,0)}updateProperty(e,n){e==="stroke-width"&&(this.#i=n)}#d(e,n){return $e._normalizePoint(e,n,this.#l,this.#h,this.#n)}isEmpty(){return!this.#r||this.#r.length===0}isCancellable(){return this.#a.length<=10}add(e,n){[e,n]=this.#d(e,n);const[r,i,s,a]=this.#e.subarray(2,6),o=e-s,l=n-a;return Math.hypot(this.#l*o,this.#h*l)<=2?null:(this.#a.push(e,n),isNaN(r)?(this.#e.set([s,a,e,n],2),this.#t.push(NaN,NaN,NaN,NaN,e,n),{path:{d:this.toSVGPath()}}):(isNaN(this.#e[0])&&this.#t.splice(6,6),this.#e.set([r,i,s,a,e,n],0),this.#t.push(...$e.createBezierPoints(r,i,s,a,e,n)),{path:{d:this.toSVGPath()}}))}end(e,n){const r=this.add(e,n);return r||(this.#a.length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,n,r,i,s){this.#l=r,this.#h=i,this.#n=s,[e,n]=this.#d(e,n);const a=this.#t=[NaN,NaN,NaN,NaN,e,n];this.#a=[e,n];const o=this.#r.at(-1);return o&&(o.line=new Float32Array(o.line),o.points=new Float32Array(o.points)),this.#r.push({line:a,points:this.#a}),this.#e.set(a,0),this.#o=0,this.toSVGPath(),null}getLastElement(){return this.#r.at(-1)}setLastElement(e){return this.#r?(this.#r.push(e),this.#t=e.line,this.#a=e.points,this.#o=0,{path:{d:this.toSVGPath()}}):this.#c.setLastElement(e)}removeLastElement(){if(!this.#r)return this.#c.removeLastElement();this.#r.pop(),this.#s="";for(let e=0,n=this.#r.length;e<n;e++){const{line:r,points:i}=this.#r[e];this.#t=r,this.#a=i,this.#o=0,this.toSVGPath()}return{path:{d:this.#s}}}toSVGPath(){const e=$e.svgRound(this.#t[4]),n=$e.svgRound(this.#t[5]);if(this.#a.length===2)return this.#s=`${this.#s} M ${e} ${n} Z`,this.#s;if(this.#a.length<=6){const i=this.#s.lastIndexOf("M");this.#s=`${this.#s.slice(0,i)} M ${e} ${n}`,this.#o=6}if(this.#a.length===4){const i=$e.svgRound(this.#t[10]),s=$e.svgRound(this.#t[11]);return this.#s=`${this.#s} L ${i} ${s}`,this.#o=12,this.#s}const r=[];this.#o===0&&(r.push(`M ${e} ${n}`),this.#o=6);for(let i=this.#o,s=this.#t.length;i<s;i+=6){const[a,o,l,c,d,h]=this.#t.slice(i,i+6).map($e.svgRound);r.push(`C${a} ${o} ${l} ${c} ${d} ${h}`)}return this.#s+=r.join(" "),this.#o=this.#t.length,this.#s}getOutlines(e,n,r,i){const s=this.#r.at(-1);return s.line=new Float32Array(s.line),s.points=new Float32Array(s.points),this.#c.build(this.#r,e,n,r,this.#n,this.#i,i),this.#e=null,this.#t=null,this.#r=null,this.#s=null,this.#c}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}class xp extends $e{#e;#t=0;#r;#n;#i;#a;#s;#o;#c;build(e,n,r,i,s,a,o){this.#i=n,this.#a=r,this.#s=i,this.#o=s,this.#c=a,this.#r=o??0,this.#n=e,this.#d()}get thickness(){return this.#c}setLastElement(e){return this.#n.push(e),{path:{d:this.toSVGPath()}}}removeLastElement(){return this.#n.pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const e=[];for(const{line:n}of this.#n){if(e.push(`M${$e.svgRound(n[4])} ${$e.svgRound(n[5])}`),n.length===6){e.push("Z");continue}if(n.length===12&&isNaN(n[6])){e.push(`L${$e.svgRound(n[10])} ${$e.svgRound(n[11])}`);continue}for(let r=6,i=n.length;r<i;r+=6){const[s,a,o,l,c,d]=n.subarray(r,r+6).map($e.svgRound);e.push(`C${s} ${a} ${o} ${l} ${c} ${d}`)}}return e.join("")}serialize([e,n,r,i],s){const a=[],o=[],[l,c,d,h]=this.#h();let p,g,v,y,b,x,w,D,E;switch(this.#o){case 0:E=$e._rescale,p=e,g=n+i,v=r,y=-i,b=e+l*r,x=n+(1-c-h)*i,w=e+(l+d)*r,D=n+(1-c)*i;break;case 90:E=$e._rescaleAndSwap,p=e,g=n,v=r,y=i,b=e+c*r,x=n+l*i,w=e+(c+h)*r,D=n+(l+d)*i;break;case 180:E=$e._rescale,p=e+r,g=n,v=-r,y=i,b=e+(1-l-d)*r,x=n+c*i,w=e+(1-l)*r,D=n+(c+h)*i;break;case 270:E=$e._rescaleAndSwap,p=e+r,g=n+i,v=-r,y=-i,b=e+(1-c-h)*r,x=n+(1-l-d)*i,w=e+(1-c)*r,D=n+(1-l)*i;break}for(const{line:A,points:S}of this.#n)a.push(E(A,p,g,v,y,s?new Array(A.length):null)),o.push(E(S,p,g,v,y,s?new Array(S.length):null));return{lines:a,points:o,rect:[b,x,w,D]}}static deserialize(e,n,r,i,s,{paths:{lines:a,points:o},rotation:l,thickness:c}){const d=[];let h,p,g,v,y;switch(l){case 0:y=$e._rescale,h=-e/r,p=n/i+1,g=1/r,v=-1/i;break;case 90:y=$e._rescaleAndSwap,h=-n/i,p=-e/r,g=1/i,v=1/r;break;case 180:y=$e._rescale,h=e/r+1,p=-n/i,g=-1/r,v=1/i;break;case 270:y=$e._rescaleAndSwap,h=n/i+1,p=e/r+1,g=-1/i,v=-1/r;break}if(!a){a=[];for(const x of o){const w=x.length;if(w===2){a.push(new Float32Array([NaN,NaN,NaN,NaN,x[0],x[1]]));continue}if(w===4){a.push(new Float32Array([NaN,NaN,NaN,NaN,x[0],x[1],NaN,NaN,NaN,NaN,x[2],x[3]]));continue}const D=new Float32Array(3*(w-2));a.push(D);let[E,A,S,T]=x.subarray(0,4);D.set([NaN,NaN,NaN,NaN,E,A],0);for(let M=4;M<w;M+=2){const R=x[M],O=x[M+1];D.set($e.createBezierPoints(E,A,S,T,R,O),(M-2)*3),[E,A,S,T]=[S,T,R,O]}}}for(let x=0,w=a.length;x<w;x++)d.push({line:y(a[x].map(D=>D??NaN),h,p,g,v),points:y(o[x].map(D=>D??NaN),h,p,g,v)});const b=new this.prototype.constructor;return b.build(d,r,i,1,l,c,s),b}#l(e=this.#c){const n=this.#r+e/2*this.#s;return this.#o%180===0?[n/this.#i,n/this.#a]:[n/this.#a,n/this.#i]}#h(){const[e,n,r,i]=this.#e,[s,a]=this.#l(0);return[e+s,n+a,r-2*s,i-2*a]}#d(){const e=this.#e=new Float32Array([1/0,1/0,-1/0,-1/0]);for(const{line:i}of this.#n){if(i.length<=12){for(let o=4,l=i.length;o<l;o+=6)He.pointBoundingBox(i[o],i[o+1],e);continue}let s=i[4],a=i[5];for(let o=6,l=i.length;o<l;o+=6){const[c,d,h,p,g,v]=i.subarray(o,o+6);He.bezierBoundingBox(s,a,c,d,h,p,g,v,e),s=g,a=v}}const[n,r]=this.#l();e[0]=xr(e[0]-n,0,1),e[1]=xr(e[1]-r,0,1),e[2]=xr(e[2]+n,0,1),e[3]=xr(e[3]+r,0,1),e[2]-=e[0],e[3]-=e[1]}get box(){return this.#e}updateProperty(e,n){return e==="stroke-width"?this.#f(n):null}#f(e){const[n,r]=this.#l();this.#c=e;const[i,s]=this.#l(),[a,o]=[i-n,s-r],l=this.#e;return l[0]-=a,l[1]-=o,l[2]+=2*a,l[3]+=2*o,l}updateParentDimensions([e,n],r){const[i,s]=this.#l();this.#i=e,this.#a=n,this.#s=r;const[a,o]=this.#l(),l=a-i,c=o-s,d=this.#e;return d[0]-=l,d[1]-=c,d[2]+=2*l,d[3]+=2*c,d}updateRotation(e){return this.#t=e,{path:{transform:this.rotationTransform}}}get viewBox(){return this.#e.map($e.svgRound).join(" ")}get defaultProperties(){const[e,n]=this.#e;return{root:{viewBox:this.viewBox},path:{"transform-origin":`${$e.svgRound(e)} ${$e.svgRound(n)}`}}}get rotationTransform(){const[,,e,n]=this.#e;let r=0,i=0,s=0,a=0,o=0,l=0;switch(this.#t){case 90:i=n/e,s=-e/n,o=e;break;case 180:r=-1,a=-1,o=e,l=n;break;case 270:i=-n/e,s=e/n,l=n;break;default:return""}return`matrix(${r} ${i} ${s} ${a} ${$e.svgRound(o)} ${$e.svgRound(l)})`}getPathResizingSVGProperties([e,n,r,i]){const[s,a]=this.#l(),[o,l,c,d]=this.#e;if(Math.abs(c-s)<=$e.PRECISION||Math.abs(d-a)<=$e.PRECISION){const y=e+r/2-(o+c/2),b=n+i/2-(l+d/2);return{path:{"transform-origin":`${$e.svgRound(e)} ${$e.svgRound(n)}`,transform:`${this.rotationTransform} translate(${y} ${b})`}}}const h=(r-2*s)/(c-2*s),p=(i-2*a)/(d-2*a),g=c/r,v=d/i;return{path:{"transform-origin":`${$e.svgRound(o)} ${$e.svgRound(l)}`,transform:`${this.rotationTransform} scale(${g} ${v}) translate(${$e.svgRound(s)} ${$e.svgRound(a)}) scale(${h} ${p}) translate(${$e.svgRound(-s)} ${$e.svgRound(-a)})`}}}getPathResizedSVGProperties([e,n,r,i]){const[s,a]=this.#l(),o=this.#e,[l,c,d,h]=o;if(o[0]=e,o[1]=n,o[2]=r,o[3]=i,Math.abs(d-s)<=$e.PRECISION||Math.abs(h-a)<=$e.PRECISION){const b=e+r/2-(l+d/2),x=n+i/2-(c+h/2);for(const{line:w,points:D}of this.#n)$e._translate(w,b,x,w),$e._translate(D,b,x,D);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${$e.svgRound(e)} ${$e.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const p=(r-2*s)/(d-2*s),g=(i-2*a)/(h-2*a),v=-p*(l+s)+e+s,y=-g*(c+a)+n+a;if(p!==1||g!==1||v!==0||y!==0)for(const{line:b,points:x}of this.#n)$e._rescale(b,v,y,p,g,b),$e._rescale(x,v,y,p,g,x);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${$e.svgRound(e)} ${$e.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([e,n],r){const[i,s]=r,a=this.#e,o=e-a[0],l=n-a[1];if(this.#i===i&&this.#a===s)for(const{line:c,points:d}of this.#n)$e._translate(c,o,l,c),$e._translate(d,o,l,d);else{const c=this.#i/i,d=this.#a/s;this.#i=i,this.#a=s;for(const{line:h,points:p}of this.#n)$e._rescale(h,o,l,c,d,h),$e._rescale(p,o,l,c,d,p);a[2]*=c,a[3]*=d}return a[0]=e,a[1]=n,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${$e.svgRound(e)} ${$e.svgRound(n)}`}}}get defaultSVGProperties(){const e=this.#e;return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${$e.svgRound(e[0])} ${$e.svgRound(e[1])}`,transform:this.rotationTransform||null},bbox:e}}}class gv extends uY{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:rt._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,n){e==="stroke-width"&&(n??=this["stroke-width"],n*=this._viewParameters.realScale),super.updateSVGProperty(e,n)}clone(){const e=new gv(this._viewParameters);return e.updateAll(this),e}}class i3 extends Bt{static _type="ink";static _editorType=gt.INK;static _defaultDrawingOptions=null;constructor(e){super({...e,name:"inkEditor"}),this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(e,n){rt.initialize(e,n),this._defaultDrawingOptions=new gv(n.viewParameters)}static getDefaultDrawingOptions(e){const n=this._defaultDrawingOptions.clone();return n.updateProperties(e),n}static get supportMultipleDrawings(){return!0}static get typesMap(){return pt(this,"typesMap",new Map([[Rt.INK_THICKNESS,"stroke-width"],[Rt.INK_COLOR,"stroke"],[Rt.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(e,n,r,i,s){return new JRe(e,n,r,i,s,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(e,n,r,i,s,a){return xp.deserialize(e,n,r,i,s,a)}static async deserialize(e,n,r){let i=null;if(e instanceof n3){const{data:{inkLists:a,rect:o,rotation:l,id:c,color:d,opacity:h,borderStyle:{rawWidth:p},popupRef:g,richText:v,contentsObj:y,creationDate:b,modificationDate:x},parent:{page:{pageNumber:w}}}=e;i=e={annotationType:gt.INK,color:Array.from(d),thickness:p,opacity:h,paths:{points:a},boxes:null,pageIndex:w-1,rect:o.slice(0),rotation:l,annotationElementId:c,id:c,deleted:!1,popupRef:g,richText:v,comment:y?.str||null,creationDate:b,modificationDate:x}}const s=await super.deserialize(e,n,r);return s._initialData=i,e.comment&&s.setCommentData(e),s}get toolbarButtons(){return this._colorPicker||=new Pf(this),[["colorPicker",this._colorPicker]]}get colorType(){return Rt.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:e,_drawingOptions:n,parent:r}=this;n.updateSVGProperty("stroke-width"),r.drawLayer.updateProperties(e,n.toSVGProperties())}static onScaleChangingWhenDrawing(){const e=this._currentParent;e&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),e.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:e,thickness:n,opacity:r}){this._drawingOptions=i3.getDefaultDrawingOptions({stroke:He.makeHexColor(...e),"stroke-width":n,"stroke-opacity":r})}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:n,points:r}=this.serializeDraw(e),{_drawingOptions:{stroke:i,"stroke-opacity":s,"stroke-width":a}}=this,o=Object.assign(super.serialize(e),{color:rt._colorManager.convert(i),opacity:s,thickness:a,paths:{lines:n,points:r}});return this.addComment(o),e?(o.isCopy=!0,o):this.annotationElementId&&!this.#e(o)?null:(o.id=this.annotationElementId,o)}#e(e){const{color:n,thickness:r,opacity:i,pageIndex:s}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||e.color.some((a,o)=>a!==n[o])||e.thickness!==r||e.opacity!==i||e.pageIndex!==s}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;const{points:n,rect:r}=this.serializeDraw(!1);return e.updateEdited({rect:r,thickness:this._drawingOptions["stroke-width"],points:n,popup:this.comment}),null}}class UC extends xp{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const Tm=8,Eh=3;class pu{static#e={maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16};static#t(e,n,r,i){return r-=e,i-=n,r===0?i>0?0:4:r===1?i+6:2-i}static#r=new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]);static#n(e,n,r,i,s,a,o){const l=this.#t(r,i,s,a);for(let c=0;c<8;c++){const d=(-c+l-o+16)%8,h=this.#r[2*d],p=this.#r[2*d+1];if(e[(r+h)*n+(i+p)]!==0)return d}return-1}static#i(e,n,r,i,s,a,o){const l=this.#t(r,i,s,a);for(let c=0;c<8;c++){const d=(c+l+o+16)%8,h=this.#r[2*d],p=this.#r[2*d+1];if(e[(r+h)*n+(i+p)]!==0)return d}return-1}static#a(e,n,r,i){const s=e.length,a=new Int32Array(s);for(let d=0;d<s;d++)a[d]=e[d]<=i?1:0;for(let d=1;d<r-1;d++)a[d*n]=a[d*n+n-1]=0;for(let d=0;d<n;d++)a[d]=a[n*r-1-d]=0;let o=1,l;const c=[];for(let d=1;d<r-1;d++){l=1;for(let h=1;h<n-1;h++){const p=d*n+h,g=a[p];if(g===0)continue;let v=d,y=h;if(g===1&&a[p-1]===0)o+=1,y-=1;else if(g>=1&&a[p+1]===0)o+=1,y+=1,g>1&&(l=g);else{g!==1&&(l=Math.abs(g));continue}const b=[h,d],x=y===h+1,w={isHole:x,points:b,id:o,parent:0};c.push(w);let D;for(const z of c)if(z.id===l){D=z;break}D?D.isHole?w.parent=x?D.parent:l:w.parent=x?l:D.parent:w.parent=x?l:0;const E=this.#n(a,n,d,h,v,y,0);if(E===-1){a[p]=-o,a[p]!==1&&(l=Math.abs(a[p]));continue}let A=this.#r[2*E],S=this.#r[2*E+1];const T=d+A,M=h+S;v=T,y=M;let R=d,O=h;for(;;){const z=this.#i(a,n,R,O,v,y,1);A=this.#r[2*z],S=this.#r[2*z+1];const F=R+A,q=O+S;b.push(q,F);const k=R*n+O;if(a[k+1]===0?a[k]=-o:a[k]===1&&(a[k]=o),F===d&&q===h&&R===T&&O===M){a[p]!==1&&(l=Math.abs(a[p]));break}else v=R,y=O,R=F,O=q}}}return c}static#s(e,n,r,i){if(r-n<=4){for(let T=n;T<r-2;T+=2)i.push(e[T],e[T+1]);return}const s=e[n],a=e[n+1],o=e[r-4]-s,l=e[r-3]-a,c=Math.hypot(o,l),d=o/c,h=l/c,p=d*a-h*s,g=l/o,v=1/c,y=Math.atan(g),b=Math.cos(y),x=Math.sin(y),w=v*(Math.abs(b)+Math.abs(x)),D=v*(1-w+w**2),E=Math.max(Math.atan(Math.abs(x+b)*D),Math.atan(Math.abs(x-b)*D));let A=0,S=n;for(let T=n+2;T<r-2;T+=2){const M=Math.abs(p-d*e[T+1]+h*e[T]);M>A&&(S=T,A=M)}A>(c*E)**2?(this.#s(e,n,S+2,i),this.#s(e,S,r,i)):i.push(s,a)}static#o(e){const n=[],r=e.length;return this.#s(e,0,r,n),n.push(e[r-2],e[r-1]),n.length<=4?null:n}static#c(e,n,r,i,s,a){const o=new Float32Array(a**2),l=-2*i**2,c=a>>1;for(let y=0;y<a;y++){const b=(y-c)**2;for(let x=0;x<a;x++)o[y*a+x]=Math.exp((b+(x-c)**2)/l)}const d=new Float32Array(256),h=-2*s**2;for(let y=0;y<256;y++)d[y]=Math.exp(y**2/h);const p=e.length,g=new Uint8Array(p),v=new Uint32Array(256);for(let y=0;y<r;y++)for(let b=0;b<n;b++){const x=y*n+b,w=e[x];let D=0,E=0;for(let S=0;S<a;S++){const T=y+S-c;if(!(T<0||T>=r))for(let M=0;M<a;M++){const R=b+M-c;if(R<0||R>=n)continue;const O=e[T*n+R],z=o[S*a+M]*d[Math.abs(O-w)];D+=O*z,E+=z}}const A=g[x]=Math.round(D/E);v[A]++}return[g,v]}static#l(e){const n=new Uint32Array(256);for(const r of e)n[r]++;return n}static#h(e){const n=e.length,r=new Uint8ClampedArray(n>>2);let i=-1/0,s=1/0;for(let o=0,l=r.length;o<l;o++){const c=r[o]=e[o<<2];i=Math.max(i,c),s=Math.min(s,c)}const a=255/(i-s);for(let o=0,l=r.length;o<l;o++)r[o]=(r[o]-s)*a;return r}static#d(e){let n,r=-1/0,i=-1/0;const s=e.findIndex(l=>l!==0);let a=s,o=s;for(n=s;n<256;n++){const l=e[n];l>r&&(n-a>i&&(i=n-a,o=n-1),r=l,a=n)}for(n=o-1;n>=0&&!(e[n]>e[n+1]);n--);return n}static#f(e){const n=e,{width:r,height:i}=e,{maxDim:s}=this.#e;let a=r,o=i;if(r>s||i>s){let p=r,g=i,v=Math.log2(Math.max(r,i)/s);const y=Math.floor(v);v=v===y?y-1:y;for(let x=0;x<v;x++){a=Math.ceil(p/2),o=Math.ceil(g/2);const w=new OffscreenCanvas(a,o);w.getContext("2d").drawImage(e,0,0,p,g,0,0,a,o),p=a,g=o,e!==n&&e.close(),e=w.transferToImageBitmap()}const b=Math.min(s/a,s/o);a=Math.round(a*b),o=Math.round(o*b)}const c=new OffscreenCanvas(a,o).getContext("2d",{willReadFrequently:!0});c.fillStyle="white",c.fillRect(0,0,a,o),c.filter="grayscale(1)",c.drawImage(e,0,0,e.width,e.height,0,0,a,o);const d=c.getImageData(0,0,a,o).data;return[this.#h(d),a,o]}static extractContoursFromText(e,{fontFamily:n,fontStyle:r,fontWeight:i},s,a,o,l){let c=new OffscreenCanvas(1,1),d=c.getContext("2d",{alpha:!1});const h=200,p=d.font=`${r} ${i} ${h}px ${n}`,{actualBoundingBoxLeft:g,actualBoundingBoxRight:v,actualBoundingBoxAscent:y,actualBoundingBoxDescent:b,fontBoundingBoxAscent:x,fontBoundingBoxDescent:w,width:D}=d.measureText(e),E=1.5,A=Math.ceil(Math.max(Math.abs(g)+Math.abs(v)||0,D)*E),S=Math.ceil(Math.max(Math.abs(y)+Math.abs(b)||h,Math.abs(x)+Math.abs(w)||h)*E);c=new OffscreenCanvas(A,S),d=c.getContext("2d",{alpha:!0,willReadFrequently:!0}),d.font=p,d.filter="grayscale(1)",d.fillStyle="white",d.fillRect(0,0,A,S),d.fillStyle="black",d.fillText(e,A*(E-1)/2,S*(3-E)/2);const T=this.#h(d.getImageData(0,0,A,S).data),M=this.#l(T),R=this.#d(M),O=this.#a(T,A,S,R);return this.processDrawnLines({lines:{curves:O,width:A,height:S},pageWidth:s,pageHeight:a,rotation:o,innerMargin:l,mustSmooth:!0,areContours:!0})}static process(e,n,r,i,s){const[a,o,l]=this.#f(e),[c,d]=this.#c(a,o,l,Math.hypot(o,l)*this.#e.sigmaSFactor,this.#e.sigmaR,this.#e.kernelSize),h=this.#d(d),p=this.#a(c,o,l,h);return this.processDrawnLines({lines:{curves:p,width:o,height:l},pageWidth:n,pageHeight:r,rotation:i,innerMargin:s,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:n,pageHeight:r,rotation:i,innerMargin:s,mustSmooth:a,areContours:o}){i%180!==0&&([n,r]=[r,n]);const{curves:l,width:c,height:d}=e,h=e.thickness??0,p=[],g=Math.min(n/c,r/d),v=g/n,y=g/r,b=[];for(const{points:w}of l){const D=a?this.#o(w):w;if(!D)continue;b.push(D);const E=D.length,A=new Float32Array(E),S=new Float32Array(3*(E===2?2:E-2));if(p.push({line:S,points:A}),E===2){A[0]=D[0]*v,A[1]=D[1]*y,S.set([NaN,NaN,NaN,NaN,A[0],A[1]],0);continue}let[T,M,R,O]=D;T*=v,M*=y,R*=v,O*=y,A.set([T,M,R,O],0),S.set([NaN,NaN,NaN,NaN,T,M],0);for(let z=4;z<E;z+=2){const F=A[z]=D[z]*v,q=A[z+1]=D[z+1]*y;S.set($e.createBezierPoints(T,M,R,O,F,q),(z-2)*3),[T,M,R,O]=[R,O,F,q]}}if(p.length===0)return null;const x=o?new UC:new xp;return x.build(p,n,r,1,i,o?0:h,s),{outline:x,newCurves:b,areContours:o,thickness:h,width:c,height:d}}static async compressSignature({outlines:e,areContours:n,thickness:r,width:i,height:s}){let a=1/0,o=-1/0,l=0;for(const D of e){l+=D.length;for(let E=2,A=D.length;E<A;E++){const S=D[E]-D[E-2];a=Math.min(a,S),o=Math.max(o,S)}}let c;a>=-128&&o<=127?c=Int8Array:a>=-32768&&o<=32767?c=Int16Array:c=Int32Array;const d=e.length,h=Tm+Eh*d,p=new Uint32Array(h);let g=0;p[g++]=h*Uint32Array.BYTES_PER_ELEMENT+(l-2*d)*c.BYTES_PER_ELEMENT,p[g++]=0,p[g++]=i,p[g++]=s,p[g++]=n?0:1,p[g++]=Math.max(0,Math.floor(r??0)),p[g++]=d,p[g++]=c.BYTES_PER_ELEMENT;for(const D of e)p[g++]=D.length-2,p[g++]=D[0],p[g++]=D[1];const v=new CompressionStream("deflate-raw"),y=v.writable.getWriter();await y.ready,y.write(p);const b=c.prototype.constructor;for(const D of e){const E=new b(D.length-2);for(let A=2,S=D.length;A<S;A++)E[A-2]=D[A]-D[A-2];y.write(E)}y.close();const x=await new Response(v.readable).arrayBuffer(),w=new Uint8Array(x);return NK(w)}static async decompressSignature(e){try{const n=pke(e),{readable:r,writable:i}=new DecompressionStream("deflate-raw"),s=i.getWriter();await s.ready,s.write(n).then(async()=>{await s.ready,await s.close()}).catch(()=>{});let a=null,o=0;for await(const D of r)a||=new Uint8Array(new Uint32Array(D.buffer,0,4)[0]),a.set(D,o),o+=D.length;const l=new Uint32Array(a.buffer,0,a.length>>2),c=l[1];if(c!==0)throw new Error(`Invalid version: ${c}`);const d=l[2],h=l[3],p=l[4]===0,g=l[5],v=l[6],y=l[7],b=[],x=(Tm+Eh*v)*Uint32Array.BYTES_PER_ELEMENT;let w;switch(y){case Int8Array.BYTES_PER_ELEMENT:w=new Int8Array(a.buffer,x);break;case Int16Array.BYTES_PER_ELEMENT:w=new Int16Array(a.buffer,x);break;case Int32Array.BYTES_PER_ELEMENT:w=new Int32Array(a.buffer,x);break}o=0;for(let D=0;D<v;D++){const E=l[Eh*D+Tm],A=new Float32Array(E+2);b.push(A);for(let S=0;S<Eh-1;S++)A[S]=l[Eh*D+Tm+S+1];for(let S=0;S<E;S++)A[S+2]=A[S]+w[o++]}return{areContours:p,thickness:g,outlines:b,width:d,height:h}}catch(n){return ft(`decompressSignature: ${n}`),null}}}class s3 extends uY{constructor(){super(),super.updateProperties({fill:rt._defaultLineColor,"stroke-width":0})}clone(){const e=new s3;return e.updateAll(this),e}}class a3 extends gv{constructor(e){super(e),super.updateProperties({stroke:rt._defaultLineColor,"stroke-width":1})}clone(){const e=new a3(this._viewParameters);return e.updateAll(this),e}}class Es extends Bt{#e=!1;#t=null;#r=null;#n=null;static _type="signature";static _editorType=gt.SIGNATURE;static _defaultDrawingOptions=null;constructor(e){super({...e,mustBeCommitted:!0,name:"signatureEditor"}),this._willKeepAspectRatio=!0,this.#r=e.signatureData||null,this.#t=null,this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(e,n){rt.initialize(e,n),this._defaultDrawingOptions=new s3,this._defaultDrawnSignatureOptions=new a3(n.viewParameters)}static getDefaultDrawingOptions(e){const n=this._defaultDrawingOptions.clone();return n.updateProperties(e),n}static get supportMultipleDrawings(){return!1}static get typesMap(){return pt(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!this.#t}}static computeTelemetryFinalData(e){const n=e.get("hasDescription");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let e,n;const{_isCopy:r}=this;if(r&&(this._isCopy=!1,e=this.x,n=this.y),super.render(),this._drawId===null)if(this.#r){const{lines:i,mustSmooth:s,areContours:a,description:o,uuid:l,heightInPage:c}=this.#r,{rawDims:{pageWidth:d,pageHeight:h},rotation:p}=this.parent.viewport,g=pu.processDrawnLines({lines:i,pageWidth:d,pageHeight:h,rotation:p,innerMargin:Es._INNER_MARGIN,mustSmooth:s,areContours:a});this.addSignature(g,c,o,l)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:this.#t||""}));return r&&(this._isCopy=!0,this._moveAfterPaste(e,n)),this.div}setUuid(e){this.#n=e,this.addEditToolbar()}getUuid(){return this.#n}get description(){return this.#t}set description(e){this.#t=e,this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:e})),super.addEditToolbar().then(n=>{n?.updateEditSignatureButton(e)}))}getSignaturePreview(){const{newCurves:e,areContours:n,thickness:r,width:i,height:s}=this.#r,a=Math.max(i,s),o=pu.processDrawnLines({lines:{curves:e.map(l=>({points:l})),thickness:r,width:i,height:s},pageWidth:a,pageHeight:a,rotation:0,innerMargin:0,mustSmooth:!1,areContours:n});return{areContours:n,outline:o.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(e,n,r,i){const{x:s,y:a}=this,{outline:o}=this.#r=e;this.#e=o instanceof UC,this.description=r;let l;this.#e?l=Es.getDefaultDrawingOptions():(l=Es._defaultDrawnSignatureOptions.clone(),l.updateProperties({"stroke-width":o.thickness})),this._addOutlines({drawOutlines:o,drawingOptions:l});const[,c]=this.pageDimensions;let d=n/c;d=d>=1?.5:d,this.width*=d/this.height,this.width>=1&&(d*=.9/this.width,this.width=.9),this.height=d,this.setDims(),this.x=s,this.y=a,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(i),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!i,hasDescription:!!r}}),this.div.hidden=!1}getFromImage(e){const{rawDims:{pageWidth:n,pageHeight:r},rotation:i}=this.parent.viewport;return pu.process(e,n,r,i,Es._INNER_MARGIN)}getFromText(e,n){const{rawDims:{pageWidth:r,pageHeight:i},rotation:s}=this.parent.viewport;return pu.extractContoursFromText(e,n,r,i,s,Es._INNER_MARGIN)}getDrawnSignature(e){const{rawDims:{pageWidth:n,pageHeight:r},rotation:i}=this.parent.viewport;return pu.processDrawnLines({lines:e,pageWidth:n,pageHeight:r,rotation:i,innerMargin:Es._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:e,thickness:n}){e?this._drawingOptions=Es.getDefaultDrawingOptions():(this._drawingOptions=Es._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":n}))}serialize(e=!1){if(this.isEmpty())return null;const{lines:n,points:r}=this.serializeDraw(e),{_drawingOptions:{"stroke-width":i}}=this,s=Object.assign(super.serialize(e),{isSignature:!0,areContours:this.#e,color:[0,0,0],thickness:this.#e?0:i});return this.addComment(s),e?(s.paths={lines:n,points:r},s.uuid=this.#n,s.isCopy=!0):s.lines=n,this.#t&&(s.accessibilityData={type:"Figure",alt:this.#t}),s}static deserializeDraw(e,n,r,i,s,a){return a.areContours?UC.deserialize(e,n,r,i,s,a):xp.deserialize(e,n,r,i,s,a)}static async deserialize(e,n,r){const i=await super.deserialize(e,n,r);return i.#e=e.areContours,i.description=e.accessibilityData?.alt||"",i.#n=e.uuid,i}}class QRe extends rt{#e=null;#t=null;#r=null;#n=null;#i=null;#a="";#s=null;#o=!1;#c=null;#l=!1;#h=!1;static _type="stamp";static _editorType=gt.STAMP;constructor(e){super({...e,name:"stampEditor"}),this.#n=e.bitmapUrl,this.#i=e.bitmapFile,this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(e,n){rt.initialize(e,n)}static isHandlingMimeForPasting(e){return _C.includes(e)}static paste(e,n){n.pasteEditor({mode:gt.STAMP},{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(e){const n=e.get("hasAltText");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}#d(e,n=!1){if(!e){this.remove();return}this.#e=e.bitmap,n||(this.#t=e.id,this.#l=e.isSvg),e.file&&(this.#a=e.file.name),this.#g()}#f(){if(this.#r=null,this._uiManager.enableWaiting(!1),!!this.#s){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}async mlGuessAltText(e=null,n=!0){if(this.hasAltTextData())return null;const{mlManager:r}=this._uiManager;if(!r)throw new Error("No ML.");if(!await r.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:i,width:s,height:a}=e||this.copyCanvas(null,null,!0).imageData,o=await r.guess({name:"altText",request:{data:i,width:s,height:a,channels:i.length/(s*a)}});if(!o)throw new Error("No response from the AI service.");if(o.error)throw new Error("Error from the AI service.");if(o.cancel)return null;if(!o.output)throw new Error("No valid response from the AI service.");const l=o.output;return await this.setGuessedAltText(l),n&&!this.hasAltTextData()&&(this.altTextData={alt:l,decorative:!1}),l}#m(){if(this.#t){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#t).then(r=>this.#d(r,!0)).finally(()=>this.#f());return}if(this.#n){const r=this.#n;this.#n=null,this._uiManager.enableWaiting(!0),this.#r=this._uiManager.imageManager.getFromUrl(r).then(i=>this.#d(i)).finally(()=>this.#f());return}if(this.#i){const r=this.#i;this.#i=null,this._uiManager.enableWaiting(!0),this.#r=this._uiManager.imageManager.getFromFile(r).then(i=>this.#d(i)).finally(()=>this.#f());return}const e=document.createElement("input");e.type="file",e.accept=_C.join(",");const n=this._uiManager._signal;this.#r=new Promise(r=>{e.addEventListener("change",async()=>{if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const i=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#d(i)}r()},{signal:n}),e.addEventListener("cancel",()=>{this.remove(),r()},{signal:n})}).finally(()=>this.#f()),e.click()}remove(){this.#t&&(this.#e=null,this._uiManager.imageManager.deleteId(this.#t),this.#s?.remove(),this.#s=null,this.#c&&(clearTimeout(this.#c),this.#c=null)),super.remove()}rebuild(){if(!this.parent){this.#t&&this.#m();return}super.rebuild(),this.div!==null&&(this.#t&&this.#s===null&&this.#m(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(e){this._isDraggable=!0,e&&this.div.focus()}isEmpty(){return!(this.#r||this.#e||this.#n||this.#i||this.#t||this.#o)}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let e,n;return this._isCopy&&(e=this.x,n=this.y),super.render(),this.div.hidden=!0,this.createAltText(),this.#o||(this.#e?this.#g():this.#m()),this._isCopy&&this._moveAfterPaste(e,n),this._uiManager.addShouldRescale(this),this.div}setCanvas(e,n){const{id:r,bitmap:i}=this._uiManager.imageManager.getFromCanvas(e,n);n.remove(),r&&this._uiManager.imageManager.isValidId(r)&&(this.#t=r,i&&(this.#e=i),this.#o=!1,this.#g())}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;this.#c!==null&&clearTimeout(this.#c);const e=200;this.#c=setTimeout(()=>{this.#c=null,this.#p()},e)}#g(){const{div:e}=this;let{width:n,height:r}=this.#e;const[i,s]=this.pageDimensions,a=.75;if(this.width)n=this.width*i,r=this.height*s;else if(n>a*i||r>a*s){const l=Math.min(a*i/n,a*s/r);n*=l,r*=l}this._uiManager.enableWaiting(!1);const o=this.#s=document.createElement("canvas");o.setAttribute("role","img"),this.addContainer(o),this.width=n/i,this.height=r/s,this.setDims(),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(e.hidden=!1),this.#p(),this.#h||(this.parent.addUndoableEditor(this),this.#h=!0),this._reportTelemetry({action:"inserted_image"}),this.#a&&this.div.setAttribute("aria-description",this.#a),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")}copyCanvas(e,n,r=!1){e||(e=224);const{width:i,height:s}=this.#e,a=new Ns;let o=this.#e,l=i,c=s,d=null;if(n){if(i>n||s>n){const S=Math.min(n/i,n/s);l=Math.floor(i*S),c=Math.floor(s*S)}d=document.createElement("canvas");const p=d.width=Math.ceil(l*a.sx),g=d.height=Math.ceil(c*a.sy);this.#l||(o=this.#u(p,g));const v=d.getContext("2d");v.filter=this._uiManager.hcmFilter;let y="white",b="#cfcfd8";this._uiManager.hcmFilter!=="none"?b="black":xke.isDarkMode&&(y="#8f8f9d",b="#42414d");const x=15,w=x*a.sx,D=x*a.sy,E=new OffscreenCanvas(w*2,D*2),A=E.getContext("2d");A.fillStyle=y,A.fillRect(0,0,w*2,D*2),A.fillStyle=b,A.fillRect(0,0,w,D),A.fillRect(w,D,w,D),v.fillStyle=v.createPattern(E,"repeat"),v.fillRect(0,0,p,g),v.drawImage(o,0,0,o.width,o.height,0,0,p,g)}let h=null;if(r){let p,g;if(a.symmetric&&o.width<e&&o.height<e)p=o.width,g=o.height;else if(o=this.#e,i>e||s>e){const b=Math.min(e/i,e/s);p=Math.floor(i*b),g=Math.floor(s*b),this.#l||(o=this.#u(p,g))}const y=new OffscreenCanvas(p,g).getContext("2d",{willReadFrequently:!0});y.drawImage(o,0,0,o.width,o.height,0,0,p,g),h={width:p,height:g,data:y.getImageData(0,0,p,g).data}}return{canvas:d,width:l,height:c,imageData:h}}#u(e,n){const{width:r,height:i}=this.#e;let s=r,a=i,o=this.#e;for(;s>2*e||a>2*n;){const l=s,c=a;s>2*e&&(s=s>=16384?Math.floor(s/2)-1:Math.ceil(s/2)),a>2*n&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2));const d=new OffscreenCanvas(s,a);d.getContext("2d").drawImage(o,0,0,l,c,0,0,s,a),o=d.transferToImageBitmap()}return o}#p(){const[e,n]=this.parentDimensions,{width:r,height:i}=this,s=new Ns,a=Math.ceil(r*e*s.sx),o=Math.ceil(i*n*s.sy),l=this.#s;if(!l||l.width===a&&l.height===o)return;l.width=a,l.height=o;const c=this.#l?this.#e:this.#u(a,o),d=l.getContext("2d");d.filter=this._uiManager.hcmFilter,d.drawImage(c,0,0,c.width,c.height,0,0,a,o)}#y(e){if(e){if(this.#l){const i=this._uiManager.imageManager.getSvgUrl(this.#t);if(i)return i}const n=document.createElement("canvas");return{width:n.width,height:n.height}=this.#e,n.getContext("2d").drawImage(this.#e,0,0),n.toDataURL()}if(this.#l){const[n,r]=this.pageDimensions,i=Math.round(this.width*n*Gu.PDF_TO_CSS_UNITS),s=Math.round(this.height*r*Gu.PDF_TO_CSS_UNITS),a=new OffscreenCanvas(i,s);return a.getContext("2d").drawImage(this.#e,0,0,this.#e.width,this.#e.height,0,0,i,s),a.transferToImageBitmap()}return structuredClone(this.#e)}static async deserialize(e,n,r){let i=null,s=!1;if(e instanceof lY){const{data:{rect:y,rotation:b,id:x,structParent:w,popupRef:D,richText:E,contentsObj:A,creationDate:S,modificationDate:T},container:M,parent:{page:{pageNumber:R}},canvas:O}=e;let z,F;O?(delete e.canvas,{id:z,bitmap:F}=r.imageManager.getFromCanvas(M.id,O),O.remove()):(s=!0,e._hasNoCanvas=!0);const q=(await n._structTree.getAriaAttributes(`${wu}${x}`))?.get("aria-label")||"";i=e={annotationType:gt.STAMP,bitmapId:z,bitmap:F,pageIndex:R-1,rect:y.slice(0),rotation:b,annotationElementId:x,id:x,deleted:!1,accessibilityData:{decorative:!1,altText:q},isSvg:!1,structParent:w,popupRef:D,richText:E,comment:A?.str||null,creationDate:S,modificationDate:T}}const a=await super.deserialize(e,n,r),{rect:o,bitmap:l,bitmapUrl:c,bitmapId:d,isSvg:h,accessibilityData:p}=e;s?(r.addMissingCanvas(e.id,a),a.#o=!0):d&&r.imageManager.isValidId(d)?(a.#t=d,l&&(a.#e=l)):a.#n=c,a.#l=h;const[g,v]=a.pageDimensions;return a.width=(o[2]-o[0])/g,a.height=(o[3]-o[1])/v,p&&(a.altTextData=p),a._initialData=i,e.comment&&a.setCommentData(e),a.#h=!!i,a}serialize(e=!1,n=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r=Object.assign(super.serialize(e),{bitmapId:this.#t,isSvg:this.#l});if(this.addComment(r),e)return r.bitmapUrl=this.#y(!0),r.accessibilityData=this.serializeAltText(!0),r.isCopy=!0,r;const{decorative:i,altText:s}=this.serializeAltText(!1);if(!i&&s&&(r.accessibilityData={type:"Figure",alt:s}),this.annotationElementId){const o=this.#v(r);return o.isSame?null:(o.isSameAltText?delete r.accessibilityData:r.accessibilityData.structParent=this._initialData.structParent??-1,r.id=this.annotationElementId,delete r.bitmapId,r)}if(n===null)return r;n.stamps||=new Map;const a=this.#l?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null;if(!n.stamps.has(this.#t))n.stamps.set(this.#t,{area:a,serialized:r}),r.bitmap=this.#y(!1);else if(this.#l){const o=n.stamps.get(this.#t);a>o.area&&(o.area=a,o.serialized.bitmap.close(),o.serialized.bitmap=this.#y(!1))}return r}#v(e){const{pageIndex:n,accessibilityData:{altText:r}}=this._initialData,i=e.pageIndex===n,s=(e.accessibilityData?.alt||"")===r;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&i&&s,isSameAltText:s}}renderAnnotationElement(e){return this.deleted?(e.hide(),null):(e.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}class ha{#e;#t=!1;#r=null;#n=null;#i=null;#a=new Map;#s=!1;#o=!1;#c=!1;#l=null;#h=null;#d=null;#f=null;#m=null;#g=-1;#u;static _initialized=!1;static#p=new Map([Yn,i3,QRe,Dn,Es].map(e=>[e._editorType,e]));constructor({uiManager:e,pageIndex:n,div:r,structTreeLayer:i,accessibilityManager:s,annotationLayer:a,drawLayer:o,textLayer:l,viewport:c,l10n:d}){const h=[...ha.#p.values()];if(!ha._initialized){ha._initialized=!0;for(const p of h)p.initialize(d,e)}e.registerEditorTypes(h),this.#u=e,this.pageIndex=n,this.div=r,this.#e=s,this.#r=a,this.viewport=c,this.#d=l,this.drawLayer=o,this._structTree=i,this.#u.addLayer(this)}get isEmpty(){return this.#a.size===0}get isInvisible(){return this.isEmpty&&this.#u.getMode()===gt.NONE}updateToolbar(e){this.#u.updateToolbar(e)}updateMode(e=this.#u.getMode()){switch(this.#x(),e){case gt.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case gt.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case gt.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:n}=this.div;if(n.toggle("nonEditing",!1),e===gt.POPUP)n.toggle("commentEditing",!0);else{n.toggle("commentEditing",!1);for(const r of ha.#p.values())n.toggle(`${r._type}Editing`,e===r._editorType)}this.div.hidden=!1}hasTextLayer(e){return e===this.#d?.div}setEditingState(e){this.#u.setEditingState(e)}addCommands(e){this.#u.addCommands(e)}cleanUndoStack(e){this.#u.cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){this.#r?.togglePointerEvents(e)}get#y(){return this.#a.size!==0?this.#a.values():this.#u.getEditors(this.pageIndex)}async enable(){this.#c=!0,this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),this.#m?.abort(),this.#m=null;const e=new Set;for(const r of this.#y)r.enableEditing(),r.show(!0),r.annotationElementId&&(this.#u.removeChangedExistingAnnotation(r),e.add(r.annotationElementId));const n=this.#r;if(n)for(const r of n.getEditableAnnotations()){if(r.hide(),this.#u.isDeletedAnnotationElement(r.data.id)||e.has(r.data.id))continue;const i=await this.deserialize(r);i&&(this.addOrRebuild(i),i.enableEditing())}this.#c=!1,this.#u._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){if(this.#o=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),this.#d&&!this.#m){this.#m=new AbortController;const i=this.#u.combinedSignal(this.#m);this.#d.div.addEventListener("pointerdown",s=>{const{clientX:o,clientY:l,timeStamp:c}=s,d=this.#g;if(c-d>500){this.#g=c;return}this.#g=-1;const{classList:h}=this.div;h.toggle("getElements",!0);const p=document.elementsFromPoint(o,l);if(h.toggle("getElements",!1),!this.div.contains(p[0]))return;let g;const v=new RegExp(`^${Of}[0-9]+$`);for(const b of p)if(v.test(b.id)){g=b.id;break}if(!g)return;const y=this.#a.get(g);y?.annotationElementId===null&&(s.stopPropagation(),s.preventDefault(),y.dblclick(s))},{signal:i,capture:!0})}const e=this.#r,n=[];if(e){const i=new Map,s=new Map;for(const o of this.#y){if(o.disableEditing(),!o.annotationElementId){n.push(o);continue}if(o.serialize()!==null){i.set(o.annotationElementId,o);continue}else s.set(o.annotationElementId,o);this.getEditableAnnotation(o.annotationElementId)?.show(),o.remove()}const a=e.getEditableAnnotations();for(const o of a){const{id:l}=o.data;if(this.#u.isDeletedAnnotationElement(l)){o.updateEdited({deleted:!0});continue}let c=s.get(l);if(c){c.resetAnnotationElement(o),c.show(!1),o.show();continue}c=i.get(l),c&&(this.#u.addChangedExistingAnnotation(c),c.renderAnnotationElement(o)&&c.show(!1)),o.show()}}this.#x(),this.isEmpty&&(this.div.hidden=!0);const{classList:r}=this.div;for(const i of ha.#p.values())r.remove(`${i._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),e?.updateFakeAnnotations(n),this.#o=!1}getEditableAnnotation(e){return this.#r?.getEditableAnnotation(e)||null}setActiveEditor(e){this.#u.getActive()!==e&&this.#u.setActiveEditor(e)}enableTextSelection(){if(this.div.tabIndex=-1,this.#d?.div&&!this.#f){this.#f=new AbortController;const e=this.#u.combinedSignal(this.#f);this.#d.div.addEventListener("pointerdown",this.#v.bind(this),{signal:e}),this.#d.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#d?.div&&this.#f&&(this.#f.abort(),this.#f=null,this.#d.div.classList.remove("highlighting"))}#v(e){this.#u.unselectAll();const{target:n}=e;if(n===this.#d.div||(n.getAttribute("role")==="img"||n.classList.contains("endOfContent"))&&this.#d.div.contains(n)){const{isMac:r}=Vn.platform;if(e.button!==0||e.ctrlKey&&r)return;this.#u.showAllEditors("highlight",!0,!0),this.#d.div.classList.add("free"),this.toggleDrawing(),Dn.startHighlighting(this,this.#u.direction==="ltr",{target:this.#d.div,x:e.x,y:e.y}),this.#d.div.addEventListener("pointerup",()=>{this.#d.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#u._signal}),e.preventDefault()}}enableClick(){if(this.#n)return;this.#n=new AbortController;const e=this.#u.combinedSignal(this.#n);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const n=this.pointerup.bind(this);this.div.addEventListener("pointerup",n,{signal:e}),this.div.addEventListener("pointercancel",n,{signal:e})}disableClick(){this.#n?.abort(),this.#n=null}attach(e){this.#a.set(e.id,e);const{annotationElementId:n}=e;n&&this.#u.isDeletedAnnotationElement(n)&&this.#u.removeDeletedAnnotationElement(e)}detach(e){this.#a.delete(e.id),this.#e?.removePointerInTextLayer(e.contentDiv),!this.#o&&e.annotationElementId&&this.#u.addDeletedAnnotationElement(e)}remove(e){this.detach(e),this.#u.removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){e.parent!==this&&(e.parent&&e.annotationElementId&&(this.#u.addDeletedAnnotationElement(e),rt.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),e.parent?.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),this.#u.addEditor(e),this.attach(e),!e.isAttachedToDOM){const n=e.render();this.div.append(n),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!this.#c),this.#u.addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){if(!e.isAttachedToDOM)return;const{activeElement:n}=document;e.div.contains(n)&&!this.#i&&(e._focusEventsAllowed=!1,this.#i=setTimeout(()=>{this.#i=null,e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this.#u._signal}),n.focus())},0)),e._structTreeParentId=this.#e?.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||=this,e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const n=()=>e._uiManager.rebuild(e),r=()=>{e.remove()};this.addCommands({cmd:n,undo:r,mustExec:!1})}getEditorByUID(e){for(const n of this.#a.values())if(n.uid===e)return n;return null}getNextId(){return this.#u.getId()}get#b(){return ha.#p.get(this.#u.getMode())}combinedSignal(e){return this.#u.combinedSignal(e)}#E(e){const n=this.#b;return n?new n.prototype.constructor(e):null}canCreateNewEmptyEditor(){return this.#b?.canCreateNewEmptyEditor()}async pasteEditor(e,n){this.updateToolbar(e),await this.#u.updateMode(e.mode);const{offsetX:r,offsetY:i}=this.#D(),s=this.getNextId(),a=this.#E({parent:this,id:s,x:r,y:i,uiManager:this.#u,isCentered:!0,...n});a&&this.add(a)}async deserialize(e){return await ha.#p.get(e.annotationType??e.annotationEditorType)?.deserialize(e,this,this.#u)||null}createAndAddNewEditor(e,n,r={}){const i=this.getNextId(),s=this.#E({parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:this.#u,isCentered:n,...r});return s&&this.add(s),s}get boundingClientRect(){return this.div.getBoundingClientRect()}#D(){const{x:e,y:n,width:r,height:i}=this.boundingClientRect,s=Math.max(0,e),a=Math.max(0,n),o=Math.min(window.innerWidth,e+r),l=Math.min(window.innerHeight,n+i),c=(s+o)/2-e,d=(a+l)/2-n,[h,p]=this.viewport.rotation%180===0?[c,d]:[d,c];return{offsetX:h,offsetY:p}}addNewEditor(e={}){this.createAndAddNewEditor(this.#D(),!0,e)}setSelected(e){this.#u.setSelected(e)}toggleSelected(e){this.#u.toggleSelected(e)}unselect(e){this.#u.unselect(e)}pointerup(e){const{isMac:n}=Vn.platform;if(e.button!==0||e.ctrlKey&&n||e.target!==this.div||!this.#s||(this.#s=!1,this.#b?.isDrawer&&this.#b.supportMultipleDrawings))return;if(!this.#t){this.#t=!0;return}const r=this.#u.getMode();if(r===gt.STAMP||r===gt.SIGNATURE){this.#u.unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){if(this.#u.getMode()===gt.HIGHLIGHT&&this.enableTextSelection(),this.#s){this.#s=!1;return}const{isMac:n}=Vn.platform;if(e.button!==0||e.ctrlKey&&n||e.target!==this.div)return;if(this.#s=!0,this.#b?.isDrawer){this.startDrawingSession(e);return}const r=this.#u.getActive();this.#t=!r||r.isEmpty()}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),this.#l){this.#b.startDrawing(this,this.#u,!1,e);return}this.#u.setCurrentDrawingSession(this),this.#l=new AbortController;const n=this.#u.combinedSignal(this.#l);this.div.addEventListener("blur",({relatedTarget:r})=>{r&&!this.div.contains(r)&&(this.#h=null,this.commitOrRemove())},{signal:n}),this.#b.startDrawing(this,this.#u,!1,e)}pause(e){if(e){const{activeElement:n}=document;this.div.contains(n)&&(this.#h=n);return}this.#h&&setTimeout(()=>{this.#h?.focus(),this.#h=null},0)}endDrawingSession(e=!1){return this.#l?(this.#u.setCurrentDrawingSession(null),this.#l.abort(),this.#l=null,this.#h=null,this.#b.endDrawing(e)):null}findNewParent(e,n,r){const i=this.#u.findParent(n,r);return i===null||i===this?!1:(i.changeParent(e),!0)}commitOrRemove(){return this.#l?(this.endDrawingSession(),!0):!1}onScaleChanging(){this.#l&&this.#b.onScaleChangingWhenDrawing(this)}destroy(){this.commitOrRemove(),this.#u.getActive()?.parent===this&&(this.#u.commitOrRemove(),this.#u.setActiveEditor(null)),this.#i&&(clearTimeout(this.#i),this.#i=null);for(const e of this.#a.values())this.#e?.removePointerInTextLayer(e.contentDiv),e.setParent(null),e.isAttachedToDOM=!1,e.div.remove();this.div=null,this.#a.clear(),this.#u.removeLayer(this)}#x(){for(const e of this.#a.values())e.isEmpty()&&e.remove()}render({viewport:e}){this.viewport=e,Wl(this.div,e);for(const n of this.#u.getEditors(this.pageIndex))this.add(n),n.rebuild();this.updateMode()}update({viewport:e}){this.#u.commitOrRemove(),this.#x();const n=this.viewport.rotation,r=e.rotation;if(this.viewport=e,Wl(this.div,{rotation:r}),n!==r)for(const i of this.#a.values())i.rotate(r)}get pageDimensions(){const{pageWidth:e,pageHeight:n}=this.viewport.rawDims;return[e,n]}get scale(){return this.#u.viewParameters.realScale}}class ir{#e=null;#t=new Map;#r=new Map;static#n=0;constructor({pageIndex:e}){this.pageIndex=e}setParent(e){if(!this.#e){this.#e=e;return}if(this.#e!==e){if(this.#t.size>0)for(const n of this.#t.values())n.remove(),e.append(n);this.#e=e}}static get _svgFactory(){return pt(this,"_svgFactory",new lb)}static#i(e,[n,r,i,s]){const{style:a}=e;a.top=`${100*r}%`,a.left=`${100*n}%`,a.width=`${100*i}%`,a.height=`${100*s}%`}#a(){const e=ir._svgFactory.create(1,1,!0);return this.#e.append(e),e.setAttribute("aria-hidden",!0),e}#s(e,n){const r=ir._svgFactory.createElement("clipPath");e.append(r);const i=`clip_${n}`;r.setAttribute("id",i),r.setAttribute("clipPathUnits","objectBoundingBox");const s=ir._svgFactory.createElement("use");return r.append(s),s.setAttribute("href",`#${n}`),s.classList.add("clip"),i}#o(e,n){for(const[r,i]of Object.entries(n))i===null?e.removeAttribute(r):e.setAttribute(r,i)}draw(e,n=!1,r=!1){const i=ir.#n++,s=this.#a(),a=ir._svgFactory.createElement("defs");s.append(a);const o=ir._svgFactory.createElement("path");a.append(o);const l=`path_p${this.pageIndex}_${i}`;o.setAttribute("id",l),o.setAttribute("vector-effect","non-scaling-stroke"),n&&this.#r.set(i,o);const c=r?this.#s(a,l):null,d=ir._svgFactory.createElement("use");return s.append(d),d.setAttribute("href",`#${l}`),this.updateProperties(s,e),this.#t.set(i,s),{id:i,clipPathId:`url(#${c})`}}drawOutline(e,n){const r=ir.#n++,i=this.#a(),s=ir._svgFactory.createElement("defs");i.append(s);const a=ir._svgFactory.createElement("path");s.append(a);const o=`path_p${this.pageIndex}_${r}`;a.setAttribute("id",o),a.setAttribute("vector-effect","non-scaling-stroke");let l;if(n){const h=ir._svgFactory.createElement("mask");s.append(h),l=`mask_p${this.pageIndex}_${r}`,h.setAttribute("id",l),h.setAttribute("maskUnits","objectBoundingBox");const p=ir._svgFactory.createElement("rect");h.append(p),p.setAttribute("width","1"),p.setAttribute("height","1"),p.setAttribute("fill","white");const g=ir._svgFactory.createElement("use");h.append(g),g.setAttribute("href",`#${o}`),g.setAttribute("stroke","none"),g.setAttribute("fill","black"),g.setAttribute("fill-rule","nonzero"),g.classList.add("mask")}const c=ir._svgFactory.createElement("use");i.append(c),c.setAttribute("href",`#${o}`),l&&c.setAttribute("mask",`url(#${l})`);const d=c.cloneNode();return i.append(d),c.classList.add("mainOutline"),d.classList.add("secondaryOutline"),this.updateProperties(i,e),this.#t.set(r,i),r}finalizeDraw(e,n){this.#r.delete(e),this.updateProperties(e,n)}updateProperties(e,n){if(!n)return;const{root:r,bbox:i,rootClass:s,path:a}=n,o=typeof e=="number"?this.#t.get(e):e;if(o){if(r&&this.#o(o,r),i&&ir.#i(o,i),s){const{classList:l}=o;for(const[c,d]of Object.entries(s))l.toggle(c,d)}if(a){const c=o.firstElementChild.firstElementChild;this.#o(c,a)}}}updateParent(e,n){if(n===this)return;const r=this.#t.get(e);r&&(n.#e.append(r),this.#t.delete(e),n.#t.set(e,r))}remove(e){this.#r.delete(e),this.#e!==null&&(this.#t.get(e).remove(),this.#t.delete(e))}destroy(){this.#e=null;for(const e of this.#t.values())e.remove();this.#t.clear(),this.#r.clear()}}globalThis._pdfjsTestingUtils={HighlightOutliner:kC};globalThis.pdfjsLib={AbortException:Co,AnnotationEditorLayer:ha,AnnotationEditorParamsType:Rt,AnnotationEditorType:gt,AnnotationEditorUIManager:ko,AnnotationLayer:r3,AnnotationMode:go,AnnotationType:Mn,applyOpacity:_ke,build:kRe,ColorPicker:Ni,createValidAbsoluteUrl:RK,CSSConstants:wke,DOMSVGFactory:lb,DrawLayer:ir,FeatureTest:Vn,fetchData:gp,findContrastColor:Dke,getDocument:QK,getFilenameFromUrl:gke,getPdfFilenameFromUrl:mke,getRGB:yp,getUuid:OK,getXfaPageViewport:bke,GlobalWorkerOptions:Fu,ImageKind:Qm,InvalidPDFException:xC,isDataScheme:hv,isPdfFile:GR,isValidExplicitDest:Nke,MathClamp:xr,noContextMenu:Vi,normalizeUnicode:hke,OPS:Nf,OutputScale:Ns,PasswordResponses:rke,PDFDataRangeTransport:eY,PDFDateString:wC,PDFWorker:If,PermissionFlag:nke,PixelsPerInch:Gu,RenderingCancelledException:$R,renderRichText:IK,ResponseException:ab,setLayerDimensions:Wl,shadow:pt,SignatureExtractor:pu,stopEvent:vn,SupportedImageMimeTypes:_C,TextLayer:ci,TouchManager:fv,updateUrlHash:UK,Util:He,VerbosityLevel:cv,version:rY,XfaLayer:FK};var Ui={},o3="1.13.7",l9=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||Function("return this")()||{},mv=Array.prototype,l3=Object.prototype,c9=typeof Symbol<"u"?Symbol.prototype:null,e3e=mv.push,wp=mv.slice,Lf=l3.toString,t3e=l3.hasOwnProperty,dY=typeof ArrayBuffer<"u",n3e=typeof DataView<"u",r3e=Array.isArray,u9=Object.keys,d9=Object.create,h9=dY&&ArrayBuffer.isView,i3e=isNaN,s3e=isFinite,hY=!{toString:null}.propertyIsEnumerable("toString"),f9=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],a3e=Math.pow(2,53)-1;function Ar(t,e){return e=e==null?t.length-1:+e,function(){for(var n=Math.max(arguments.length-e,0),r=Array(n),i=0;i<n;i++)r[i]=arguments[i+e];switch(e){case 0:return t.call(this,r);case 1:return t.call(this,arguments[0],r);case 2:return t.call(this,arguments[0],arguments[1],r)}var s=Array(e+1);for(i=0;i<e;i++)s[i]=arguments[i];return s[e]=r,t.apply(this,s)}}function Fo(t){var e=typeof t;return e==="function"||e==="object"&&!!t}function fY(t){return t===null}function c3(t){return t===void 0}function u3(t){return t===!0||t===!1||Lf.call(t)==="[object Boolean]"}function pY(t){return!!(t&&t.nodeType===1)}function pr(t){var e="[object "+t+"]";return function(n){return Lf.call(n)===e}}const yv=pr("String"),d3=pr("Number"),gY=pr("Date"),mY=pr("RegExp"),yY=pr("Error"),h3=pr("Symbol"),f3=pr("ArrayBuffer");var bY=pr("Function"),o3e=l9.document&&l9.document.childNodes;typeof/./!="function"&&typeof Int8Array!="object"&&typeof o3e!="function"&&(bY=function(t){return typeof t=="function"||!1});const hr=bY,vY=pr("Object");var xY=n3e&&(!/\[native code\]/.test(String(DataView))||vY(new DataView(new ArrayBuffer(8)))),p3=typeof Map<"u"&&vY(new Map),l3e=pr("DataView");function c3e(t){return t!=null&&hr(t.getInt8)&&f3(t.buffer)}const Bf=xY?c3e:l3e,Io=r3e||pr("Array");function Po(t,e){return t!=null&&t3e.call(t,e)}var MC=pr("Arguments");(function(){MC(arguments)||(MC=function(t){return Po(t,"callee")})})();const bv=MC;function wY(t){return!h3(t)&&s3e(t)&&!isNaN(parseFloat(t))}function g3(t){return d3(t)&&i3e(t)}function m3(t){return function(){return t}}function _Y(t){return function(e){var n=t(e);return typeof n=="number"&&n>=0&&n<=a3e}}function DY(t){return function(e){return e?.[t]}}const cb=DY("byteLength"),u3e=_Y(cb);var d3e=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function h3e(t){return h9?h9(t)&&!Bf(t):u3e(t)&&d3e.test(Lf.call(t))}const y3=dY?h3e:m3(!1),Hr=DY("length");function f3e(t){for(var e={},n=t.length,r=0;r<n;++r)e[t[r]]=!0;return{contains:function(i){return e[i]===!0},push:function(i){return e[i]=!0,t.push(i)}}}function EY(t,e){e=f3e(e);var n=f9.length,r=t.constructor,i=hr(r)&&r.prototype||l3,s="constructor";for(Po(t,s)&&!e.contains(s)&&e.push(s);n--;)s=f9[n],s in t&&t[s]!==i[s]&&!e.contains(s)&&e.push(s)}function Hn(t){if(!Fo(t))return[];if(u9)return u9(t);var e=[];for(var n in t)Po(t,n)&&e.push(n);return hY&&EY(t,e),e}function SY(t){if(t==null)return!0;var e=Hr(t);return typeof e=="number"&&(Io(t)||yv(t)||bv(t))?e===0:Hr(Hn(t))===0}function b3(t,e){var n=Hn(e),r=n.length;if(t==null)return!r;for(var i=Object(t),s=0;s<r;s++){var a=n[s];if(e[a]!==i[a]||!(a in i))return!1}return!0}function zt(t){if(t instanceof zt)return t;if(!(this instanceof zt))return new zt(t);this._wrapped=t}zt.VERSION=o3;zt.prototype.value=function(){return this._wrapped};zt.prototype.valueOf=zt.prototype.toJSON=zt.prototype.value;zt.prototype.toString=function(){return String(this._wrapped)};function p9(t){return new Uint8Array(t.buffer||t,t.byteOffset||0,cb(t))}var g9="[object DataView]";function OC(t,e,n,r){if(t===e)return t!==0||1/t===1/e;if(t==null||e==null)return!1;if(t!==t)return e!==e;var i=typeof t;return i!=="function"&&i!=="object"&&typeof e!="object"?!1:AY(t,e,n,r)}function AY(t,e,n,r){t instanceof zt&&(t=t._wrapped),e instanceof zt&&(e=e._wrapped);var i=Lf.call(t);if(i!==Lf.call(e))return!1;if(xY&&i=="[object Object]"&&Bf(t)){if(!Bf(e))return!1;i=g9}switch(i){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:+t==0?1/+t===1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return c9.valueOf.call(t)===c9.valueOf.call(e);case"[object ArrayBuffer]":case g9:return AY(p9(t),p9(e),n,r)}var s=i==="[object Array]";if(!s&&y3(t)){var a=cb(t);if(a!==cb(e))return!1;if(t.buffer===e.buffer&&t.byteOffset===e.byteOffset)return!0;s=!0}if(!s){if(typeof t!="object"||typeof e!="object")return!1;var o=t.constructor,l=e.constructor;if(o!==l&&!(hr(o)&&o instanceof o&&hr(l)&&l instanceof l)&&"constructor"in t&&"constructor"in e)return!1}n=n||[],r=r||[];for(var c=n.length;c--;)if(n[c]===t)return r[c]===e;if(n.push(t),r.push(e),s){if(c=t.length,c!==e.length)return!1;for(;c--;)if(!OC(t[c],e[c],n,r))return!1}else{var d=Hn(t),h;if(c=d.length,Hn(e).length!==c)return!1;for(;c--;)if(h=d[c],!(Po(e,h)&&OC(t[h],e[h],n,r)))return!1}return n.pop(),r.pop(),!0}function TY(t,e){return OC(t,e)}function gd(t){if(!Fo(t))return[];var e=[];for(var n in t)e.push(n);return hY&&EY(t,e),e}function v3(t){var e=Hr(t);return function(n){if(n==null)return!1;var r=gd(n);if(Hr(r))return!1;for(var i=0;i<e;i++)if(!hr(n[t[i]]))return!1;return t!==RY||!hr(n[x3])}}var x3="forEach",CY="has",w3=["clear","delete"],kY=["get",CY,"set"],p3e=w3.concat(x3,kY),RY=w3.concat(kY),g3e=["add"].concat(w3,x3,CY);const UY=p3?v3(p3e):pr("Map"),MY=p3?v3(RY):pr("WeakMap"),OY=p3?v3(g3e):pr("Set"),NY=pr("WeakSet");function rc(t){for(var e=Hn(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=t[e[i]];return r}function FY(t){for(var e=Hn(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=[e[i],t[e[i]]];return r}function _3(t){for(var e={},n=Hn(t),r=0,i=n.length;r<i;r++)e[t[n[r]]]=n[r];return e}function jf(t){var e=[];for(var n in t)hr(t[n])&&e.push(n);return e.sort()}function D3(t,e){return function(n){var r=arguments.length;if(e&&(n=Object(n)),r<2||n==null)return n;for(var i=1;i<r;i++)for(var s=arguments[i],a=t(s),o=a.length,l=0;l<o;l++){var c=a[l];(!e||n[c]===void 0)&&(n[c]=s[c])}return n}}const E3=D3(gd),Xu=D3(Hn),S3=D3(gd,!0);function m3e(){return function(){}}function IY(t){if(!Fo(t))return{};if(d9)return d9(t);var e=m3e();e.prototype=t;var n=new e;return e.prototype=null,n}function PY(t,e){var n=IY(t);return e&&Xu(n,e),n}function LY(t){return Fo(t)?Io(t)?t.slice():E3({},t):t}function BY(t,e){return e(t),t}function A3(t){return Io(t)?t:[t]}zt.toPath=A3;function _p(t){return zt.toPath(t)}function T3(t,e){for(var n=e.length,r=0;r<n;r++){if(t==null)return;t=t[e[r]]}return n?t:void 0}function C3(t,e,n){var r=T3(t,_p(e));return c3(r)?n:r}function jY(t,e){e=_p(e);for(var n=e.length,r=0;r<n;r++){var i=e[r];if(!Po(t,i))return!1;t=t[i]}return!!n}function vv(t){return t}function Hl(t){return t=Xu({},t),function(e){return b3(e,t)}}function xv(t){return t=_p(t),function(e){return T3(e,t)}}function Dp(t,e,n){if(e===void 0)return t;switch(n??3){case 1:return function(r){return t.call(e,r)};case 3:return function(r,i,s){return t.call(e,r,i,s)};case 4:return function(r,i,s,a){return t.call(e,r,i,s,a)}}return function(){return t.apply(e,arguments)}}function zY(t,e,n){return t==null?vv:hr(t)?Dp(t,e,n):Fo(t)&&!Io(t)?Hl(t):xv(t)}function wv(t,e){return zY(t,e,1/0)}zt.iteratee=wv;function Gr(t,e,n){return zt.iteratee!==wv?zt.iteratee(t,e):zY(t,e,n)}function qY(t,e,n){e=Gr(e,n);for(var r=Hn(t),i=r.length,s={},a=0;a<i;a++){var o=r[a];s[o]=e(t[o],o,t)}return s}function k3(){}function WY(t){return t==null?k3:function(e){return C3(t,e)}}function VY(t,e,n){var r=Array(Math.max(0,t));e=Dp(e,n,1);for(var i=0;i<t;i++)r[i]=e(i);return r}function ub(t,e){return e==null&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))}const Ku=Date.now||function(){return new Date().getTime()};function HY(t){var e=function(s){return t[s]},n="(?:"+Hn(t).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(s){return s=s==null?"":""+s,r.test(s)?s.replace(i,e):s}}const $Y={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},GY=HY($Y),y3e=_3($Y),XY=HY(y3e),KY=zt.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var WS=/(.)^/,b3e={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},v3e=/\\|'|\r|\n|\u2028|\u2029/g;function x3e(t){return"\\"+b3e[t]}var w3e=/^\s*(\w|\$)+\s*$/;function YY(t,e,n){!e&&n&&(e=n),e=S3({},e,zt.templateSettings);var r=RegExp([(e.escape||WS).source,(e.interpolate||WS).source,(e.evaluate||WS).source].join("|")+"|$","g"),i=0,s="__p+='";t.replace(r,function(c,d,h,p,g){return s+=t.slice(i,g).replace(v3e,x3e),i=g+c.length,d?s+=`'+
((__t=(`+d+`))==null?'':_.escape(__t))+
'`:h?s+=`'+
((__t=(`+h+`))==null?'':__t)+
'`:p&&(s+=`';
`+p+`
__p+='`),c}),s+=`';
`;var a=e.variable;if(a){if(!w3e.test(a))throw new Error("variable is not a bare identifier: "+a)}else s=`with(obj||{}){
`+s+`}
`,a="obj";s=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+s+`return __p;
`;var o;try{o=new Function(a,"_",s)}catch(c){throw c.source=s,c}var l=function(c){return o.call(this,c,zt)};return l.source="function("+a+`){
`+s+"}",l}function ZY(t,e,n){e=_p(e);var r=e.length;if(!r)return hr(n)?n.call(t):n;for(var i=0;i<r;i++){var s=t?.[e[i]];s===void 0&&(s=n,i=r),t=hr(s)?s.call(t):s}return t}var _3e=0;function JY(t){var e=++_3e+"";return t?t+e:e}function QY(t){var e=zt(t);return e._chain=!0,e}function eZ(t,e,n,r,i){if(!(r instanceof e))return t.apply(n,i);var s=IY(t.prototype),a=t.apply(s,i);return Fo(a)?a:s}var ic=Ar(function(t,e){var n=ic.placeholder,r=function(){for(var i=0,s=e.length,a=Array(s),o=0;o<s;o++)a[o]=e[o]===n?arguments[i++]:e[o];for(;i<arguments.length;)a.push(arguments[i++]);return eZ(t,r,this,this,a)};return r});ic.placeholder=zt;const R3=Ar(function(t,e,n){if(!hr(t))throw new TypeError("Bind must be called on a function");var r=Ar(function(i){return eZ(t,r,e,this,n.concat(i))});return r}),mi=_Y(Hr);function sc(t,e,n,r){if(r=r||[],!e&&e!==0)e=1/0;else if(e<=0)return r.concat(t);for(var i=r.length,s=0,a=Hr(t);s<a;s++){var o=t[s];if(mi(o)&&(Io(o)||bv(o)))if(e>1)sc(o,e-1,n,r),i=r.length;else for(var l=0,c=o.length;l<c;)r[i++]=o[l++];else n||(r[i++]=o)}return r}const tZ=Ar(function(t,e){e=sc(e,!1,!1);var n=e.length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=e[n];t[r]=R3(t[r],t)}return t});function nZ(t,e){var n=function(r){var i=n.cache,s=""+(e?e.apply(this,arguments):r);return Po(i,s)||(i[s]=t.apply(this,arguments)),i[s]};return n.cache={},n}const U3=Ar(function(t,e,n){return setTimeout(function(){return t.apply(null,n)},e)}),rZ=ic(U3,zt,1);function iZ(t,e,n){var r,i,s,a,o=0;n||(n={});var l=function(){o=n.leading===!1?0:Ku(),r=null,a=t.apply(i,s),r||(i=s=null)},c=function(){var d=Ku();!o&&n.leading===!1&&(o=d);var h=e-(d-o);return i=this,s=arguments,h<=0||h>e?(r&&(clearTimeout(r),r=null),o=d,a=t.apply(i,s),r||(i=s=null)):!r&&n.trailing!==!1&&(r=setTimeout(l,h)),a};return c.cancel=function(){clearTimeout(r),o=0,r=i=s=null},c}function sZ(t,e,n){var r,i,s,a,o,l=function(){var d=Ku()-i;e>d?r=setTimeout(l,e-d):(r=null,n||(a=t.apply(o,s)),r||(s=o=null))},c=Ar(function(d){return o=this,s=d,i=Ku(),r||(r=setTimeout(l,e),n&&(a=t.apply(o,s))),a});return c.cancel=function(){clearTimeout(r),r=s=o=null},c}function aZ(t,e){return ic(e,t)}function _v(t){return function(){return!t.apply(this,arguments)}}function oZ(){var t=arguments,e=t.length-1;return function(){for(var n=e,r=t[e].apply(this,arguments);n--;)r=t[n].call(this,r);return r}}function lZ(t,e){return function(){if(--t<1)return e.apply(this,arguments)}}function M3(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}}const cZ=ic(M3,2);function O3(t,e,n){e=Gr(e,n);for(var r=Hn(t),i,s=0,a=r.length;s<a;s++)if(i=r[s],e(t[i],i,t))return i}function uZ(t){return function(e,n,r){n=Gr(n,r);for(var i=Hr(e),s=t>0?0:i-1;s>=0&&s<i;s+=t)if(n(e[s],s,e))return s;return-1}}const Dv=uZ(1),N3=uZ(-1);function F3(t,e,n,r){n=Gr(n,r,1);for(var i=n(e),s=0,a=Hr(t);s<a;){var o=Math.floor((s+a)/2);n(t[o])<i?s=o+1:a=o}return s}function dZ(t,e,n){return function(r,i,s){var a=0,o=Hr(r);if(typeof s=="number")t>0?a=s>=0?s:Math.max(s+o,a):o=s>=0?Math.min(s+1,o):s+o+1;else if(n&&s&&o)return s=n(r,i),r[s]===i?s:-1;if(i!==i)return s=e(wp.call(r,a,o),g3),s>=0?s+a:-1;for(s=t>0?a:o-1;s>=0&&s<o;s+=t)if(r[s]===i)return s;return-1}}const I3=dZ(1,Dv,F3),hZ=dZ(-1,N3);function zf(t,e,n){var r=mi(t)?Dv:O3,i=r(t,e,n);if(i!==void 0&&i!==-1)return t[i]}function fZ(t,e){return zf(t,Hl(e))}function ds(t,e,n){e=Dp(e,n);var r,i;if(mi(t))for(r=0,i=t.length;r<i;r++)e(t[r],r,t);else{var s=Hn(t);for(r=0,i=s.length;r<i;r++)e(t[s[r]],s[r],t)}return t}function Da(t,e,n){e=Gr(e,n);for(var r=!mi(t)&&Hn(t),i=(r||t).length,s=Array(i),a=0;a<i;a++){var o=r?r[a]:a;s[a]=e(t[o],o,t)}return s}function pZ(t){var e=function(n,r,i,s){var a=!mi(n)&&Hn(n),o=(a||n).length,l=t>0?0:o-1;for(s||(i=n[a?a[l]:l],l+=t);l>=0&&l<o;l+=t){var c=a?a[l]:l;i=r(i,n[c],c,n)}return i};return function(n,r,i,s){var a=arguments.length>=3;return e(n,Dp(r,s,4),i,a)}}const Iu=pZ(1),db=pZ(-1);function Ro(t,e,n){var r=[];return e=Gr(e,n),ds(t,function(i,s,a){e(i,s,a)&&r.push(i)}),r}function gZ(t,e,n){return Ro(t,_v(Gr(e)),n)}function hb(t,e,n){e=Gr(e,n);for(var r=!mi(t)&&Hn(t),i=(r||t).length,s=0;s<i;s++){var a=r?r[s]:s;if(!e(t[a],a,t))return!1}return!0}function fb(t,e,n){e=Gr(e,n);for(var r=!mi(t)&&Hn(t),i=(r||t).length,s=0;s<i;s++){var a=r?r[s]:s;if(e(t[a],a,t))return!0}return!1}function Wi(t,e,n,r){return mi(t)||(t=rc(t)),(typeof n!="number"||r)&&(n=0),I3(t,e,n)>=0}const mZ=Ar(function(t,e,n){var r,i;return hr(e)?i=e:(e=_p(e),r=e.slice(0,-1),e=e[e.length-1]),Da(t,function(s){var a=i;if(!a){if(r&&r.length&&(s=T3(s,r)),s==null)return;a=s[e]}return a==null?a:a.apply(s,n)})});function Ev(t,e){return Da(t,xv(e))}function yZ(t,e){return Ro(t,Hl(e))}function P3(t,e,n){var r=-1/0,i=-1/0,s,a;if(e==null||typeof e=="number"&&typeof t[0]!="object"&&t!=null){t=mi(t)?t:rc(t);for(var o=0,l=t.length;o<l;o++)s=t[o],s!=null&&s>r&&(r=s)}else e=Gr(e,n),ds(t,function(c,d,h){a=e(c,d,h),(a>i||a===-1/0&&r===-1/0)&&(r=c,i=a)});return r}function bZ(t,e,n){var r=1/0,i=1/0,s,a;if(e==null||typeof e=="number"&&typeof t[0]!="object"&&t!=null){t=mi(t)?t:rc(t);for(var o=0,l=t.length;o<l;o++)s=t[o],s!=null&&s<r&&(r=s)}else e=Gr(e,n),ds(t,function(c,d,h){a=e(c,d,h),(a<i||a===1/0&&r===1/0)&&(r=c,i=a)});return r}var D3e=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function L3(t){return t?Io(t)?wp.call(t):yv(t)?t.match(D3e):mi(t)?Da(t,vv):rc(t):[]}function B3(t,e,n){if(e==null||n)return mi(t)||(t=rc(t)),t[ub(t.length-1)];var r=L3(t),i=Hr(r);e=Math.max(Math.min(e,i),0);for(var s=i-1,a=0;a<e;a++){var o=ub(a,s),l=r[a];r[a]=r[o],r[o]=l}return r.slice(0,e)}function vZ(t){return B3(t,1/0)}function xZ(t,e,n){var r=0;return e=Gr(e,n),Ev(Da(t,function(i,s,a){return{value:i,index:r++,criteria:e(i,s,a)}}).sort(function(i,s){var a=i.criteria,o=s.criteria;if(a!==o){if(a>o||a===void 0)return 1;if(a<o||o===void 0)return-1}return i.index-s.index}),"value")}function Sv(t,e){return function(n,r,i){var s=e?[[],[]]:{};return r=Gr(r,i),ds(n,function(a,o){var l=r(a,o,n);t(s,a,l)}),s}}const wZ=Sv(function(t,e,n){Po(t,n)?t[n].push(e):t[n]=[e]}),_Z=Sv(function(t,e,n){t[n]=e}),DZ=Sv(function(t,e,n){Po(t,n)?t[n]++:t[n]=1}),EZ=Sv(function(t,e,n){t[n?0:1].push(e)},!0);function SZ(t){return t==null?0:mi(t)?t.length:Hn(t).length}function E3e(t,e,n){return e in n}const j3=Ar(function(t,e){var n={},r=e[0];if(t==null)return n;hr(r)?(e.length>1&&(r=Dp(r,e[1])),e=gd(t)):(r=E3e,e=sc(e,!1,!1),t=Object(t));for(var i=0,s=e.length;i<s;i++){var a=e[i],o=t[a];r(o,a,t)&&(n[a]=o)}return n}),AZ=Ar(function(t,e){var n=e[0],r;return hr(n)?(n=_v(n),e.length>1&&(r=e[1])):(e=Da(sc(e,!1,!1),String),n=function(i,s){return!Wi(e,s)}),j3(t,n,r)});function z3(t,e,n){return wp.call(t,0,Math.max(0,t.length-(e==null||n?1:e)))}function Pu(t,e,n){return t==null||t.length<1?e==null||n?void 0:[]:e==null||n?t[0]:z3(t,t.length-e)}function Ml(t,e,n){return wp.call(t,e==null||n?1:e)}function TZ(t,e,n){return t==null||t.length<1?e==null||n?void 0:[]:e==null||n?t[t.length-1]:Ml(t,Math.max(0,t.length-e))}function CZ(t){return Ro(t,Boolean)}function kZ(t,e){return sc(t,e,!1)}const q3=Ar(function(t,e){return e=sc(e,!0,!0),Ro(t,function(n){return!Wi(e,n)})}),RZ=Ar(function(t,e){return q3(t,e)});function qf(t,e,n,r){u3(e)||(r=n,n=e,e=!1),n!=null&&(n=Gr(n,r));for(var i=[],s=[],a=0,o=Hr(t);a<o;a++){var l=t[a],c=n?n(l,a,t):l;e&&!n?((!a||s!==c)&&i.push(l),s=c):n?Wi(s,c)||(s.push(c),i.push(l)):Wi(i,l)||i.push(l)}return i}const UZ=Ar(function(t){return qf(sc(t,!0,!0))});function MZ(t){for(var e=[],n=arguments.length,r=0,i=Hr(t);r<i;r++){var s=t[r];if(!Wi(e,s)){var a;for(a=1;a<n&&Wi(arguments[a],s);a++);a===n&&e.push(s)}}return e}function Wf(t){for(var e=t&&P3(t,Hr).length||0,n=Array(e),r=0;r<e;r++)n[r]=Ev(t,r);return n}const OZ=Ar(Wf);function NZ(t,e){for(var n={},r=0,i=Hr(t);r<i;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n}function FZ(t,e,n){e==null&&(e=t||0,t=0),n||(n=e<t?-1:1);for(var r=Math.max(Math.ceil((e-t)/n),0),i=Array(r),s=0;s<r;s++,t+=n)i[s]=t;return i}function IZ(t,e){if(e==null||e<1)return[];for(var n=[],r=0,i=t.length;r<i;)n.push(wp.call(t,r,r+=e));return n}function W3(t,e){return t._chain?zt(e).chain():e}function V3(t){return ds(jf(t),function(e){var n=zt[e]=t[e];zt.prototype[e]=function(){var r=[this._wrapped];return e3e.apply(r,arguments),W3(this,n.apply(zt,r))}}),zt}ds(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=mv[t];zt.prototype[t]=function(){var n=this._wrapped;return n!=null&&(e.apply(n,arguments),(t==="shift"||t==="splice")&&n.length===0&&delete n[0]),W3(this,n)}});ds(["concat","join","slice"],function(t){var e=mv[t];zt.prototype[t]=function(){var n=this._wrapped;return n!=null&&(n=e.apply(n,arguments)),W3(this,n)}});const S3e=Object.freeze(Object.defineProperty({__proto__:null,VERSION:o3,after:lZ,all:hb,allKeys:gd,any:fb,assign:Xu,before:M3,bind:R3,bindAll:tZ,chain:QY,chunk:IZ,clone:LY,collect:Da,compact:CZ,compose:oZ,constant:m3,contains:Wi,countBy:DZ,create:PY,debounce:sZ,default:zt,defaults:S3,defer:rZ,delay:U3,detect:zf,difference:q3,drop:Ml,each:ds,escape:GY,every:hb,extend:E3,extendOwn:Xu,filter:Ro,find:zf,findIndex:Dv,findKey:O3,findLastIndex:N3,findWhere:fZ,first:Pu,flatten:kZ,foldl:Iu,foldr:db,forEach:ds,functions:jf,get:C3,groupBy:wZ,has:jY,head:Pu,identity:vv,include:Wi,includes:Wi,indexBy:_Z,indexOf:I3,initial:z3,inject:Iu,intersection:MZ,invert:_3,invoke:mZ,isArguments:bv,isArray:Io,isArrayBuffer:f3,isBoolean:u3,isDataView:Bf,isDate:gY,isElement:pY,isEmpty:SY,isEqual:TY,isError:yY,isFinite:wY,isFunction:hr,isMap:UY,isMatch:b3,isNaN:g3,isNull:fY,isNumber:d3,isObject:Fo,isRegExp:mY,isSet:OY,isString:yv,isSymbol:h3,isTypedArray:y3,isUndefined:c3,isWeakMap:MY,isWeakSet:NY,iteratee:wv,keys:Hn,last:TZ,lastIndexOf:hZ,map:Da,mapObject:qY,matcher:Hl,matches:Hl,max:P3,memoize:nZ,methods:jf,min:bZ,mixin:V3,negate:_v,noop:k3,now:Ku,object:NZ,omit:AZ,once:cZ,pairs:FY,partial:ic,partition:EZ,pick:j3,pluck:Ev,property:xv,propertyOf:WY,random:ub,range:FZ,reduce:Iu,reduceRight:db,reject:gZ,rest:Ml,restArguments:Ar,result:ZY,sample:B3,select:Ro,shuffle:vZ,size:SZ,some:fb,sortBy:xZ,sortedIndex:F3,tail:Ml,take:Pu,tap:BY,template:YY,templateSettings:KY,throttle:iZ,times:VY,toArray:L3,toPath:A3,transpose:Wf,unescape:XY,union:UZ,uniq:qf,unique:qf,uniqueId:JY,unzip:Wf,values:rc,where:yZ,without:RZ,wrap:aZ,zip:OZ},Symbol.toStringTag,{value:"Module"}));var NC=V3(S3e);NC._=NC;const A3e=Object.freeze(Object.defineProperty({__proto__:null,VERSION:o3,after:lZ,all:hb,allKeys:gd,any:fb,assign:Xu,before:M3,bind:R3,bindAll:tZ,chain:QY,chunk:IZ,clone:LY,collect:Da,compact:CZ,compose:oZ,constant:m3,contains:Wi,countBy:DZ,create:PY,debounce:sZ,default:NC,defaults:S3,defer:rZ,delay:U3,detect:zf,difference:q3,drop:Ml,each:ds,escape:GY,every:hb,extend:E3,extendOwn:Xu,filter:Ro,find:zf,findIndex:Dv,findKey:O3,findLastIndex:N3,findWhere:fZ,first:Pu,flatten:kZ,foldl:Iu,foldr:db,forEach:ds,functions:jf,get:C3,groupBy:wZ,has:jY,head:Pu,identity:vv,include:Wi,includes:Wi,indexBy:_Z,indexOf:I3,initial:z3,inject:Iu,intersection:MZ,invert:_3,invoke:mZ,isArguments:bv,isArray:Io,isArrayBuffer:f3,isBoolean:u3,isDataView:Bf,isDate:gY,isElement:pY,isEmpty:SY,isEqual:TY,isError:yY,isFinite:wY,isFunction:hr,isMap:UY,isMatch:b3,isNaN:g3,isNull:fY,isNumber:d3,isObject:Fo,isRegExp:mY,isSet:OY,isString:yv,isSymbol:h3,isTypedArray:y3,isUndefined:c3,isWeakMap:MY,isWeakSet:NY,iteratee:wv,keys:Hn,last:TZ,lastIndexOf:hZ,map:Da,mapObject:qY,matcher:Hl,matches:Hl,max:P3,memoize:nZ,methods:jf,min:bZ,mixin:V3,negate:_v,noop:k3,now:Ku,object:NZ,omit:AZ,once:cZ,pairs:FY,partial:ic,partition:EZ,pick:j3,pluck:Ev,property:xv,propertyOf:WY,random:ub,range:FZ,reduce:Iu,reduceRight:db,reject:gZ,rest:Ml,restArguments:Ar,result:ZY,sample:B3,select:Ro,shuffle:vZ,size:SZ,some:fb,sortBy:xZ,sortedIndex:F3,tail:Ml,take:Pu,tap:BY,template:YY,templateSettings:KY,throttle:iZ,times:VY,toArray:L3,toPath:A3,transpose:Wf,unescape:XY,union:UZ,uniq:qf,unique:qf,uniqueId:JY,unzip:Wf,values:rc,where:yZ,without:RZ,wrap:aZ,zip:OZ},Symbol.toStringTag,{value:"Module"})),En=aee(A3e);var Cm={},Mi={},VS={exports:{}},km={exports:{}},m9;function md(){if(m9)return km.exports;m9=1;var t=(function(){return this===void 0})();if(t)km.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:t,propertyIsWritable:function(d,h){var p=Object.getOwnPropertyDescriptor(d,h);return!!(!p||p.writable||p.set)}};else{var e={}.hasOwnProperty,n={}.toString,r={}.constructor.prototype,i=function(d){var h=[];for(var p in d)e.call(d,p)&&h.push(p);return h},s=function(d,h){return{value:d[h]}},a=function(d,h,p){return d[h]=p.value,d},o=function(d){return d},l=function(d){try{return Object(d).constructor.prototype}catch{return r}},c=function(d){try{return n.call(d)==="[object Array]"}catch{return!1}};km.exports={isArray:c,keys:i,names:i,defineProperty:a,getDescriptor:s,freeze:o,getPrototypeOf:l,isES5:t,propertyIsWritable:function(){return!0}}}return km.exports}var Sh,y9;function nn(){if(y9)return Sh;y9=1;var t={},e=md(),n=typeof navigator>"u",r={e:{}},i,s=typeof self<"u"?self:typeof window<"u"?window:typeof Li<"u"?Li:Sh!==void 0?Sh:null;function a(){try{var j=i;return i=null,j.apply(this,arguments)}catch(Y){return r.e=Y,r}}function o(j){return i=j,a}var l=function(j,Y){var ee={}.hasOwnProperty;function re(){this.constructor=j,this.constructor$=Y;for(var se in Y.prototype)ee.call(Y.prototype,se)&&se.charAt(se.length-1)!=="$"&&(this[se+"$"]=Y.prototype[se])}return re.prototype=Y.prototype,j.prototype=new re,j.prototype};function c(j){return j==null||j===!0||j===!1||typeof j=="string"||typeof j=="number"}function d(j){return typeof j=="function"||typeof j=="object"&&j!==null}function h(j){return c(j)?new Error(T(j)):j}function p(j,Y){var ee=j.length,re=new Array(ee+1),se;for(se=0;se<ee;++se)re[se]=j[se];return re[se]=Y,re}function g(j,Y,ee){if(e.isES5){var re=Object.getOwnPropertyDescriptor(j,Y);if(re!=null)return re.get==null&&re.set==null?re.value:ee}else return{}.hasOwnProperty.call(j,Y)?j[Y]:void 0}function v(j,Y,ee){if(c(j))return j;var re={value:ee,configurable:!0,enumerable:!1,writable:!0};return e.defineProperty(j,Y,re),j}function y(j){throw j}var b=(function(){var j=[Array.prototype,Object.prototype,Function.prototype],Y=function(se){for(var ye=0;ye<j.length;++ye)if(j[ye]===se)return!0;return!1};if(e.isES5){var ee=Object.getOwnPropertyNames;return function(se){for(var ye=[],xe=Object.create(null);se!=null&&!Y(se);){var Re;try{Re=ee(se)}catch{return ye}for(var Fe=0;Fe<Re.length;++Fe){var qe=Re[Fe];if(!xe[qe]){xe[qe]=!0;var We=Object.getOwnPropertyDescriptor(se,qe);We!=null&&We.get==null&&We.set==null&&ye.push(qe)}}se=e.getPrototypeOf(se)}return ye}}else{var re={}.hasOwnProperty;return function(se){if(Y(se))return[];var ye=[];e:for(var xe in se)if(re.call(se,xe))ye.push(xe);else{for(var Re=0;Re<j.length;++Re)if(re.call(j[Re],xe))continue e;ye.push(xe)}return ye}}})(),x=/this\s*\.\s*\S+\s*=/;function w(j){try{if(typeof j=="function"){var Y=e.names(j.prototype),ee=e.isES5&&Y.length>1,re=Y.length>0&&!(Y.length===1&&Y[0]==="constructor"),se=x.test(j+"")&&e.names(j).length>0;if(ee||re||se)return!0}return!1}catch{return!1}}function D(j){return j}var E=/^[a-z$_][a-z$_0-9]*$/i;function A(j){return E.test(j)}function S(j,Y,ee){for(var re=new Array(j),se=0;se<j;++se)re[se]=Y+se+ee;return re}function T(j){try{return j+""}catch{return"[no string representation]"}}function M(j){return j!==null&&typeof j=="object"&&typeof j.message=="string"&&typeof j.name=="string"}function R(j){try{v(j,"isOperational",!0)}catch{}}function O(j){return j==null?!1:j instanceof Error.__BluebirdErrorTypes__.OperationalError||j.isOperational===!0}function z(j){return M(j)&&e.propertyIsWritable(j,"stack")}var F=(function(){return"stack"in new Error?function(j){return z(j)?j:new Error(T(j))}:function(j){if(z(j))return j;try{throw new Error(T(j))}catch(Y){return Y}}})();function q(j){return{}.toString.call(j)}function k(j,Y,ee){for(var re=e.names(j),se=0;se<re.length;++se){var ye=re[se];if(ee(ye))try{e.defineProperty(Y,ye,e.getDescriptor(j,ye))}catch{}}}var H=function(j){return e.isArray(j)?j:null};if(typeof Symbol<"u"&&Symbol.iterator){var N=typeof Array.from=="function"?function(j){return Array.from(j)}:function(j){for(var Y=[],ee=j[Symbol.iterator](),re;!(re=ee.next()).done;)Y.push(re.value);return Y};H=function(j){return e.isArray(j)?j:j!=null&&typeof j[Symbol.iterator]=="function"?N(j):null}}var B=typeof process<"u"&&q(process).toLowerCase()==="[object process]",G=typeof process<"u"&&typeof t<"u";function $(j){return G?t[j]:void 0}function W(){if(typeof Promise=="function")try{var j=new Promise(function(){});if({}.toString.call(j)==="[object Promise]")return Promise}catch{}}function L(j,Y){return j.bind(Y)}var K={isClass:w,isIdentifier:A,inheritedDataKeys:b,getDataPropertyOrDefault:g,thrower:y,isArray:e.isArray,asArray:H,notEnumerableProp:v,isPrimitive:c,isObject:d,isError:M,canEvaluate:n,errorObj:r,tryCatch:o,inherits:l,withAppended:p,maybeWrapAsError:h,toFastProperties:D,filledRange:S,toString:T,canAttachTrace:z,ensureErrorObject:F,originatesFromRejection:O,markAsOriginatingFromRejection:R,classString:q,copyDescriptors:k,hasDevTools:typeof chrome<"u"&&chrome&&typeof chrome.loadTimes=="function",isNode:B,hasEnvVariables:G,env:$,global:s,getNativePromise:W,domainBind:L};K.isRecentNode=K.isNode&&(function(){var j=process.versions.node.split(".").map(Number);return j[0]===0&&j[1]>10||j[0]>0})(),K.isNode&&K.toFastProperties(process);try{throw new Error}catch(j){K.lastLineError=j}return Sh=K,Sh}var Rm={exports:{}},HS,b9;function T3e(){if(b9)return HS;b9=1;var t=nn(),e,n=function(){throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)},r=t.getNativePromise();if(t.isNode&&typeof MutationObserver>"u"){var i=Li.setImmediate,s=process.nextTick;e=t.isRecentNode?function(o){i.call(Li,o)}:function(o){s.call(process,o)}}else if(typeof r=="function"&&typeof r.resolve=="function"){var a=r.resolve();e=function(o){a.then(o)}}else typeof MutationObserver<"u"&&!(typeof window<"u"&&window.navigator&&(window.navigator.standalone||window.cordova))?e=(function(){var o=document.createElement("div"),l={attributes:!0},c=!1,d=document.createElement("div"),h=new MutationObserver(function(){o.classList.toggle("foo"),c=!1});h.observe(d,l);var p=function(){c||(c=!0,d.classList.toggle("foo"))};return function(v){var y=new MutationObserver(function(){y.disconnect(),v()});y.observe(o,l),p()}})():typeof setImmediate<"u"?e=function(o){setImmediate(o)}:typeof setTimeout<"u"?e=function(o){setTimeout(o,0)}:e=n;return HS=e,HS}var $S,v9;function C3e(){if(v9)return $S;v9=1;function t(n,r,i,s,a){for(var o=0;o<a;++o)i[o+s]=n[o+r],n[o+r]=void 0}function e(n){this._capacity=n,this._length=0,this._front=0}return e.prototype._willBeOverCapacity=function(n){return this._capacity<n},e.prototype._pushOne=function(n){var r=this.length();this._checkCapacity(r+1);var i=this._front+r&this._capacity-1;this[i]=n,this._length=r+1},e.prototype.push=function(n,r,i){var s=this.length()+3;if(this._willBeOverCapacity(s)){this._pushOne(n),this._pushOne(r),this._pushOne(i);return}var a=this._front+s-3;this._checkCapacity(s);var o=this._capacity-1;this[a+0&o]=n,this[a+1&o]=r,this[a+2&o]=i,this._length=s},e.prototype.shift=function(){var n=this._front,r=this[n];return this[n]=void 0,this._front=n+1&this._capacity-1,this._length--,r},e.prototype.length=function(){return this._length},e.prototype._checkCapacity=function(n){this._capacity<n&&this._resizeTo(this._capacity<<1)},e.prototype._resizeTo=function(n){var r=this._capacity;this._capacity=n;var i=this._front,s=this._length,a=i+s&r-1;t(this,0,this,r,a)},$S=e,$S}var x9;function k3e(){if(x9)return Rm.exports;x9=1;var t;try{throw new Error}catch(l){t=l}var e=T3e(),n=C3e(),r=nn();function i(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new n(16),this._normalQueue=new n(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var l=this;this.drainQueues=function(){l._drainQueues()},this._schedule=e}i.prototype.setScheduler=function(l){var c=this._schedule;return this._schedule=l,this._customScheduler=!0,c},i.prototype.hasCustomScheduler=function(){return this._customScheduler},i.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},i.prototype.disableTrampolineIfNecessary=function(){r.hasDevTools&&(this._trampolineEnabled=!1)},i.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},i.prototype.fatalError=function(l,c){c?(process.stderr.write("Fatal "+(l instanceof Error?l.stack:l)+`
`),process.exit(2)):this.throwLater(l)},i.prototype.throwLater=function(l,c){if(arguments.length===1&&(c=l,l=function(){throw c}),typeof setTimeout<"u")setTimeout(function(){l(c)},0);else try{this._schedule(function(){l(c)})}catch{throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)}};function s(l,c,d){this._lateQueue.push(l,c,d),this._queueTick()}function a(l,c,d){this._normalQueue.push(l,c,d),this._queueTick()}function o(l){this._normalQueue._pushOne(l),this._queueTick()}return r.hasDevTools?(i.prototype.invokeLater=function(l,c,d){this._trampolineEnabled?s.call(this,l,c,d):this._schedule(function(){setTimeout(function(){l.call(c,d)},100)})},i.prototype.invoke=function(l,c,d){this._trampolineEnabled?a.call(this,l,c,d):this._schedule(function(){l.call(c,d)})},i.prototype.settlePromises=function(l){this._trampolineEnabled?o.call(this,l):this._schedule(function(){l._settlePromises()})}):(i.prototype.invokeLater=s,i.prototype.invoke=a,i.prototype.settlePromises=o),i.prototype._drainQueue=function(l){for(;l.length()>0;){var c=l.shift();if(typeof c!="function"){c._settlePromises();continue}var d=l.shift(),h=l.shift();c.call(d,h)}},i.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},i.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},i.prototype._reset=function(){this._isTickUsed=!1},Rm.exports=i,Rm.exports.firstLineError=t,Rm.exports}var GS,w9;function Uo(){if(w9)return GS;w9=1;var t=md(),e=t.freeze,n=nn(),r=n.inherits,i=n.notEnumerableProp;function s(x,w){function D(E){if(!(this instanceof D))return new D(E);i(this,"message",typeof E=="string"?E:w),i(this,"name",x),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return r(D,Error),D}var a,o,l=s("Warning","warning"),c=s("CancellationError","cancellation error"),d=s("TimeoutError","timeout error"),h=s("AggregateError","aggregate error");try{a=TypeError,o=RangeError}catch{a=s("TypeError","type error"),o=s("RangeError","range error")}for(var p="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),g=0;g<p.length;++g)typeof Array.prototype[p[g]]=="function"&&(h.prototype[p[g]]=Array.prototype[p[g]]);t.defineProperty(h.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),h.prototype.isOperational=!0;var v=0;h.prototype.toString=function(){var x=Array(v*4+1).join(" "),w=`
`+x+`AggregateError of:
`;v++,x=Array(v*4+1).join(" ");for(var D=0;D<this.length;++D){for(var E=this[D]===this?"[Circular AggregateError]":this[D]+"",A=E.split(`
`),S=0;S<A.length;++S)A[S]=x+A[S];E=A.join(`
`),w+=E+`
`}return v--,w};function y(x){if(!(this instanceof y))return new y(x);i(this,"name","OperationalError"),i(this,"message",x),this.cause=x,this.isOperational=!0,x instanceof Error?(i(this,"message",x.message),i(this,"stack",x.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}r(y,Error);var b=Error.__BluebirdErrorTypes__;return b||(b=e({CancellationError:c,TimeoutError:d,OperationalError:y,RejectionError:y,AggregateError:h}),t.defineProperty(Error,"__BluebirdErrorTypes__",{value:b,writable:!1,enumerable:!1,configurable:!1})),GS={Error,TypeError:a,RangeError:o,CancellationError:b.CancellationError,OperationalError:b.OperationalError,TimeoutError:b.TimeoutError,AggregateError:b.AggregateError,Warning:l},GS}var XS,_9;function R3e(){return _9||(_9=1,XS=function(t,e){var n=nn(),r=n.errorObj,i=n.isObject;function s(h,p){if(i(h)){if(h instanceof t)return h;var g=o(h);if(g===r){p&&p._pushContext();var v=t.reject(g.e);return p&&p._popContext(),v}else if(typeof g=="function"){if(c(h)){var v=new t(e);return h._then(v._fulfill,v._reject,void 0,v,null),v}return d(h,g,p)}}return h}function a(h){return h.then}function o(h){try{return a(h)}catch(p){return r.e=p,r}}var l={}.hasOwnProperty;function c(h){try{return l.call(h,"_promise0")}catch{return!1}}function d(h,p,g){var v=new t(e),y=v;g&&g._pushContext(),v._captureStackTrace(),g&&g._popContext();var b=!0,x=n.tryCatch(p).call(h,w,D);b=!1,v&&x===r&&(v._rejectCallback(x.e,!0,!0),v=null);function w(E){v&&(v._resolveCallback(E),v=null)}function D(E){v&&(v._rejectCallback(E,b,!0),v=null)}return y}return s}),XS}var KS,D9;function U3e(){return D9||(D9=1,KS=function(t,e,n,r,i){var s=nn();s.isArray;function a(l){switch(l){case-2:return[];case-3:return{}}}function o(l){var c=this._promise=new t(e);l instanceof t&&c._propagateFrom(l,3),c._setOnCancel(this),this._values=l,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return s.inherits(o,i),o.prototype.length=function(){return this._length},o.prototype.promise=function(){return this._promise},o.prototype._init=function l(c,d){var h=n(this._values,this._promise);if(h instanceof t){h=h._target();var p=h._bitField;if(this._values=h,(p&50397184)===0)return this._promise._setAsyncGuaranteed(),h._then(l,this._reject,void 0,this,d);if((p&33554432)!==0)h=h._value();else return(p&16777216)!==0?this._reject(h._reason()):this._cancel()}if(h=s.asArray(h),h===null){var g=r("expecting an array or an iterable object but got "+s.classString(h)).reason();this._promise._rejectCallback(g,!1);return}if(h.length===0){d===-5?this._resolveEmptyArray():this._resolve(a(d));return}this._iterate(h)},o.prototype._iterate=function(l){var c=this.getActualLength(l.length);this._length=c,this._values=this.shouldCopyValues()?new Array(c):this._values;for(var d=this._promise,h=!1,p=null,g=0;g<c;++g){var v=n(l[g],d);v instanceof t?(v=v._target(),p=v._bitField):p=null,h?p!==null&&v.suppressUnhandledRejections():p!==null?(p&50397184)===0?(v._proxy(this,g),this._values[g]=v):(p&33554432)!==0?h=this._promiseFulfilled(v._value(),g):(p&16777216)!==0?h=this._promiseRejected(v._reason(),g):h=this._promiseCancelled(g):h=this._promiseFulfilled(v,g)}h||d._setAsyncGuaranteed()},o.prototype._isResolved=function(){return this._values===null},o.prototype._resolve=function(l){this._values=null,this._promise._fulfill(l)},o.prototype._cancel=function(){this._isResolved()||!this._promise._isCancellable()||(this._values=null,this._promise._cancel())},o.prototype._reject=function(l){this._values=null,this._promise._rejectCallback(l,!1)},o.prototype._promiseFulfilled=function(l,c){this._values[c]=l;var d=++this._totalResolved;return d>=this._length?(this._resolve(this._values),!0):!1},o.prototype._promiseCancelled=function(){return this._cancel(),!0},o.prototype._promiseRejected=function(l){return this._totalResolved++,this._reject(l),!0},o.prototype._resultCancelled=function(){if(!this._isResolved()){var l=this._values;if(this._cancel(),l instanceof t)l.cancel();else for(var c=0;c<l.length;++c)l[c]instanceof t&&l[c].cancel()}},o.prototype.shouldCopyValues=function(){return!0},o.prototype.getActualLength=function(l){return l},o}),KS}var YS,E9;function M3e(){return E9||(E9=1,YS=function(t){var e=!1,n=[];t.prototype._promiseCreated=function(){},t.prototype._pushContext=function(){},t.prototype._popContext=function(){return null},t._peekContext=t.prototype._peekContext=function(){};function r(){this._trace=new r.CapturedTrace(s())}r.prototype._pushContext=function(){this._trace!==void 0&&(this._trace._promiseCreated=null,n.push(this._trace))},r.prototype._popContext=function(){if(this._trace!==void 0){var a=n.pop(),o=a._promiseCreated;return a._promiseCreated=null,o}return null};function i(){if(e)return new r}function s(){var a=n.length-1;if(a>=0)return n[a]}return r.CapturedTrace=null,r.create=i,r.deactivateLongStackTraces=function(){},r.activateLongStackTraces=function(){var a=t.prototype._pushContext,o=t.prototype._popContext,l=t._peekContext,c=t.prototype._peekContext,d=t.prototype._promiseCreated;r.deactivateLongStackTraces=function(){t.prototype._pushContext=a,t.prototype._popContext=o,t._peekContext=l,t.prototype._peekContext=c,t.prototype._promiseCreated=d,e=!1},e=!0,t.prototype._pushContext=r.prototype._pushContext,t.prototype._popContext=r.prototype._popContext,t._peekContext=t.prototype._peekContext=s,t.prototype._promiseCreated=function(){var h=this._peekContext();h&&h._promiseCreated==null&&(h._promiseCreated=this)}},r}),YS}var ZS,S9;function O3e(){return S9||(S9=1,ZS=function(t,e){var n=t._getDomain,r=t._async,i=Uo().Warning,s=nn(),a=s.canAttachTrace,o,l,c=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,d=/\((?:timers\.js):\d+:\d+\)/,h=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,p=null,g=null,v=!1,y,b=!!(s.env("BLUEBIRD_DEBUG")!=0&&(s.env("BLUEBIRD_DEBUG")||s.env("NODE_ENV")==="development")),x=!!(s.env("BLUEBIRD_WARNINGS")!=0&&(b||s.env("BLUEBIRD_WARNINGS"))),w=!!(s.env("BLUEBIRD_LONG_STACK_TRACES")!=0&&(b||s.env("BLUEBIRD_LONG_STACK_TRACES"))),D=s.env("BLUEBIRD_W_FORGOTTEN_RETURN")!=0&&(x||!!s.env("BLUEBIRD_W_FORGOTTEN_RETURN"));t.prototype.suppressUnhandledRejections=function(){var ie=this._target();ie._bitField=ie._bitField&-1048577|524288},t.prototype._ensurePossibleRejectionHandled=function(){(this._bitField&524288)===0&&(this._setRejectionIsUnhandled(),r.invokeLater(this._notifyUnhandledRejection,this,void 0))},t.prototype._notifyUnhandledRejectionIsHandled=function(){qe("rejectionHandled",o,void 0,this)},t.prototype._setReturnedNonUndefined=function(){this._bitField=this._bitField|268435456},t.prototype._returnedNonUndefined=function(){return(this._bitField&268435456)!==0},t.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var ie=this._settledValue();this._setUnhandledRejectionIsNotified(),qe("unhandledRejection",l,ie,this)}},t.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=this._bitField|262144},t.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=this._bitField&-262145},t.prototype._isUnhandledRejectionNotified=function(){return(this._bitField&262144)>0},t.prototype._setRejectionIsUnhandled=function(){this._bitField=this._bitField|1048576},t.prototype._unsetRejectionIsUnhandled=function(){this._bitField=this._bitField&-1048577,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},t.prototype._isRejectionUnhandled=function(){return(this._bitField&1048576)>0},t.prototype._warn=function(ie,le,me){return Y(ie,le,me||this)},t.onPossiblyUnhandledRejection=function(ie){var le=n();l=typeof ie=="function"?le===null?ie:s.domainBind(le,ie):void 0},t.onUnhandledRejectionHandled=function(ie){var le=n();o=typeof ie=="function"?le===null?ie:s.domainBind(le,ie):void 0};var E=function(){};t.longStackTraces=function(){if(r.haveItemsQueued()&&!fe.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);if(!fe.longStackTraces&&oe()){var ie=t.prototype._captureStackTrace,le=t.prototype._attachExtraTrace;fe.longStackTraces=!0,E=function(){if(r.haveItemsQueued()&&!fe.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);t.prototype._captureStackTrace=ie,t.prototype._attachExtraTrace=le,e.deactivateLongStackTraces(),r.enableTrampoline(),fe.longStackTraces=!1},t.prototype._captureStackTrace=W,t.prototype._attachExtraTrace=L,e.activateLongStackTraces(),r.disableTrampolineIfNecessary()}},t.hasLongStackTraces=function(){return fe.longStackTraces&&oe()};var A=(function(){try{if(typeof CustomEvent=="function"){var ie=new CustomEvent("CustomEvent");return s.global.dispatchEvent(ie),function(le,me){var ae=new CustomEvent(le.toLowerCase(),{detail:me,cancelable:!0});return!s.global.dispatchEvent(ae)}}else if(typeof Event=="function"){var ie=new Event("CustomEvent");return s.global.dispatchEvent(ie),function(me,ae){var ve=new Event(me.toLowerCase(),{cancelable:!0});return ve.detail=ae,!s.global.dispatchEvent(ve)}}else{var ie=document.createEvent("CustomEvent");return ie.initCustomEvent("testingtheevent",!1,!0,{}),s.global.dispatchEvent(ie),function(me,ae){var ve=document.createEvent("CustomEvent");return ve.initCustomEvent(me.toLowerCase(),!1,!0,ae),!s.global.dispatchEvent(ve)}}}catch{}return function(){return!1}})(),S=(function(){return s.isNode?function(){return process.emit.apply(process,arguments)}:s.global?function(ie){var le="on"+ie.toLowerCase(),me=s.global[le];return me?(me.apply(s.global,[].slice.call(arguments,1)),!0):!1}:function(){return!1}})();function T(ie,le){return{promise:le}}var M={promiseCreated:T,promiseFulfilled:T,promiseRejected:T,promiseResolved:T,promiseCancelled:T,promiseChained:function(ie,le,me){return{promise:le,child:me}},warning:function(ie,le){return{warning:le}},unhandledRejection:function(ie,le,me){return{reason:le,promise:me}},rejectionHandled:T},R=function(ie){var le=!1;try{le=S.apply(null,arguments)}catch(ae){r.throwLater(ae),le=!0}var me=!1;try{me=A(ie,M[ie].apply(null,arguments))}catch(ae){r.throwLater(ae),me=!0}return me||le};t.config=function(ie){if(ie=Object(ie),"longStackTraces"in ie&&(ie.longStackTraces?t.longStackTraces():!ie.longStackTraces&&t.hasLongStackTraces()&&E()),"warnings"in ie){var le=ie.warnings;fe.warnings=!!le,D=fe.warnings,s.isObject(le)&&"wForgottenReturn"in le&&(D=!!le.wForgottenReturn)}if("cancellation"in ie&&ie.cancellation&&!fe.cancellation){if(r.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");t.prototype._clearCancellationData=H,t.prototype._propagateFrom=N,t.prototype._onCancel=q,t.prototype._setOnCancel=k,t.prototype._attachCancellationCallback=F,t.prototype._execute=z,G=N,fe.cancellation=!0}return"monitoring"in ie&&(ie.monitoring&&!fe.monitoring?(fe.monitoring=!0,t.prototype._fireEvent=R):!ie.monitoring&&fe.monitoring&&(fe.monitoring=!1,t.prototype._fireEvent=O)),t};function O(){return!1}t.prototype._fireEvent=O,t.prototype._execute=function(ie,le,me){try{ie(le,me)}catch(ae){return ae}},t.prototype._onCancel=function(){},t.prototype._setOnCancel=function(ie){},t.prototype._attachCancellationCallback=function(ie){},t.prototype._captureStackTrace=function(){},t.prototype._attachExtraTrace=function(){},t.prototype._clearCancellationData=function(){},t.prototype._propagateFrom=function(ie,le){};function z(ie,le,me){var ae=this;try{ie(le,me,function(ve){if(typeof ve!="function")throw new TypeError("onCancel must be a function, got: "+s.toString(ve));ae._attachCancellationCallback(ve)})}catch(ve){return ve}}function F(ie){if(!this._isCancellable())return this;var le=this._onCancel();le!==void 0?s.isArray(le)?le.push(ie):this._setOnCancel([le,ie]):this._setOnCancel(ie)}function q(){return this._onCancelField}function k(ie){this._onCancelField=ie}function H(){this._cancellationParent=void 0,this._onCancelField=void 0}function N(ie,le){if((le&1)!==0){this._cancellationParent=ie;var me=ie._branchesRemainingToCancel;me===void 0&&(me=0),ie._branchesRemainingToCancel=me+1}(le&2)!==0&&ie._isBound()&&this._setBoundTo(ie._boundTo)}function B(ie,le){(le&2)!==0&&ie._isBound()&&this._setBoundTo(ie._boundTo)}var G=B;function $(){var ie=this._boundTo;return ie!==void 0&&ie instanceof t?ie.isFulfilled()?ie.value():void 0:ie}function W(){this._trace=new De(this._peekContext())}function L(ie,le){if(a(ie)){var me=this._trace;if(me!==void 0&&le&&(me=me._parent),me!==void 0)me.attachExtraTrace(ie);else if(!ie.__stackCleaned__){var ae=Re(ie);s.notEnumerableProp(ie,"stack",ae.message+`
`+ae.stack.join(`
`)),s.notEnumerableProp(ie,"__stackCleaned__",!0)}}}function K(ie,le,me,ae,ve){if(ie===void 0&&le!==null&&D){if(ve!==void 0&&ve._returnedNonUndefined()||(ae._bitField&65535)===0)return;me&&(me=me+" ");var Ue="",Le="";if(le._trace){for(var Pe=le._trace.stack.split(`
`),Ve=ye(Pe),tt=Ve.length-1;tt>=0;--tt){var pe=Ve[tt];if(!d.test(pe)){var Te=pe.match(h);Te&&(Ue="at "+Te[1]+":"+Te[2]+":"+Te[3]+" ");break}}if(Ve.length>0){for(var Be=Ve[0],tt=0;tt<Pe.length;++tt)if(Pe[tt]===Be){tt>0&&(Le=`
`+Pe[tt-1]);break}}}var Ie="a promise was created in a "+me+"handler "+Ue+"but was not returned from it, see http://goo.gl/rRqMUw"+Le;ae._warn(Ie,!0,le)}}function j(ie,le){var me=ie+" is deprecated and will be removed in a future version.";return le&&(me+=" Use "+le+" instead."),Y(me)}function Y(ie,le,me){if(fe.warnings){var ae=new i(ie),ve;if(le)me._attachExtraTrace(ae);else if(fe.longStackTraces&&(ve=t._peekContext()))ve.attachExtraTrace(ae);else{var Ue=Re(ae);ae.stack=Ue.message+`
`+Ue.stack.join(`
`)}R("warning",ae)||Fe(ae,"",!0)}}function ee(ie,le){for(var me=0;me<le.length-1;++me)le[me].push("From previous event:"),le[me]=le[me].join(`
`);return me<le.length&&(le[me]=le[me].join(`
`)),ie+`
`+le.join(`
`)}function re(ie){for(var le=0;le<ie.length;++le)(ie[le].length===0||le+1<ie.length&&ie[le][0]===ie[le+1][0])&&(ie.splice(le,1),le--)}function se(ie){for(var le=ie[0],me=1;me<ie.length;++me){for(var ae=ie[me],ve=le.length-1,Ue=le[ve],Le=-1,Pe=ae.length-1;Pe>=0;--Pe)if(ae[Pe]===Ue){Le=Pe;break}for(var Pe=Le;Pe>=0;--Pe){var Ve=ae[Pe];if(le[ve]===Ve)le.pop(),ve--;else break}le=ae}}function ye(ie){for(var le=[],me=0;me<ie.length;++me){var ae=ie[me],ve=ae==="    (No stack trace)"||p.test(ae),Ue=ve&&ce(ae);ve&&!Ue&&(v&&ae.charAt(0)!==" "&&(ae="    "+ae),le.push(ae))}return le}function xe(ie){for(var le=ie.stack.replace(/\s+$/g,"").split(`
`),me=0;me<le.length;++me){var ae=le[me];if(ae==="    (No stack trace)"||p.test(ae))break}return me>0&&ie.name!="SyntaxError"&&(le=le.slice(me)),le}function Re(ie){var le=ie.stack,me=ie.toString();return le=typeof le=="string"&&le.length>0?xe(ie):["    (No stack trace)"],{message:me,stack:ie.name=="SyntaxError"?le:ye(le)}}function Fe(ie,le,me){if(typeof console<"u"){var ae;if(s.isObject(ie)){var ve=ie.stack;ae=le+g(ve,ie)}else ae=le+String(ie);typeof y=="function"?y(ae,me):(typeof console.log=="function"||typeof console.log=="object")&&console.log(ae)}}function qe(ie,le,me,ae){var ve=!1;try{typeof le=="function"&&(ve=!0,ie==="rejectionHandled"?le(ae):le(me,ae))}catch(Ue){r.throwLater(Ue)}ie==="unhandledRejection"?!R(ie,me,ae)&&!ve&&Fe(me,"Unhandled rejection "):R(ie,ae)}function We(ie){var le;if(typeof ie=="function")le="[function "+(ie.name||"anonymous")+"]";else{le=ie&&typeof ie.toString=="function"?ie.toString():s.toString(ie);var me=/\[object [a-zA-Z0-9$_]+\]/;if(me.test(le))try{var ae=JSON.stringify(ie);le=ae}catch{}le.length===0&&(le="(empty array)")}return"(<"+P(le)+">, no stack trace)"}function P(ie){var le=41;return ie.length<le?ie:ie.substr(0,le-3)+"..."}function oe(){return typeof Se=="function"}var ce=function(){return!1},Q=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function J(ie){var le=ie.match(Q);if(le)return{fileName:le[1],line:parseInt(le[2],10)}}function ue(ie,le){if(oe()){for(var me=ie.stack.split(`
`),ae=le.stack.split(`
`),ve=-1,Ue=-1,Le,Pe,Ve=0;Ve<me.length;++Ve){var tt=J(me[Ve]);if(tt){Le=tt.fileName,ve=tt.line;break}}for(var Ve=0;Ve<ae.length;++Ve){var tt=J(ae[Ve]);if(tt){Pe=tt.fileName,Ue=tt.line;break}}ve<0||Ue<0||!Le||!Pe||Le!==Pe||ve>=Ue||(ce=function(pe){if(c.test(pe))return!0;var Te=J(pe);return!!(Te&&Te.fileName===Le&&ve<=Te.line&&Te.line<=Ue)})}}function De(ie){this._parent=ie,this._promisesCreated=0;var le=this._length=1+(ie===void 0?0:ie._length);Se(this,De),le>32&&this.uncycle()}s.inherits(De,Error),e.CapturedTrace=De,De.prototype.uncycle=function(){var ie=this._length;if(!(ie<2)){for(var le=[],me={},ae=0,ve=this;ve!==void 0;++ae)le.push(ve),ve=ve._parent;ie=this._length=ae;for(var ae=ie-1;ae>=0;--ae){var Ue=le[ae].stack;me[Ue]===void 0&&(me[Ue]=ae)}for(var ae=0;ae<ie;++ae){var Le=le[ae].stack,Pe=me[Le];if(Pe!==void 0&&Pe!==ae){Pe>0&&(le[Pe-1]._parent=void 0,le[Pe-1]._length=1),le[ae]._parent=void 0,le[ae]._length=1;var Ve=ae>0?le[ae-1]:this;Pe<ie-1?(Ve._parent=le[Pe+1],Ve._parent.uncycle(),Ve._length=Ve._parent._length+1):(Ve._parent=void 0,Ve._length=1);for(var tt=Ve._length+1,pe=ae-2;pe>=0;--pe)le[pe]._length=tt,tt++;return}}}},De.prototype.attachExtraTrace=function(ie){if(!ie.__stackCleaned__){this.uncycle();for(var le=Re(ie),me=le.message,ae=[le.stack],ve=this;ve!==void 0;)ae.push(ye(ve.stack.split(`
`))),ve=ve._parent;se(ae),re(ae),s.notEnumerableProp(ie,"stack",ee(me,ae)),s.notEnumerableProp(ie,"__stackCleaned__",!0)}};var Se=(function(){var le=/^\s*at\s*/,me=function(Le,Pe){return typeof Le=="string"?Le:Pe.name!==void 0&&Pe.message!==void 0?Pe.toString():We(Pe)};if(typeof Error.stackTraceLimit=="number"&&typeof Error.captureStackTrace=="function"){Error.stackTraceLimit+=6,p=le,g=me;var ae=Error.captureStackTrace;return ce=function(Le){return c.test(Le)},function(Le,Pe){Error.stackTraceLimit+=6,ae(Le,Pe),Error.stackTraceLimit-=6}}var ve=new Error;if(typeof ve.stack=="string"&&ve.stack.split(`
`)[0].indexOf("stackDetection@")>=0)return p=/@/,g=me,v=!0,function(Pe){Pe.stack=new Error().stack};var Ue;try{throw new Error}catch(Le){Ue="stack"in Le}return!("stack"in ve)&&Ue&&typeof Error.stackTraceLimit=="number"?(p=le,g=me,function(Pe){Error.stackTraceLimit+=6;try{throw new Error}catch(Ve){Pe.stack=Ve.stack}Error.stackTraceLimit-=6}):(g=function(Le,Pe){return typeof Le=="string"?Le:(typeof Pe=="object"||typeof Pe=="function")&&Pe.name!==void 0&&Pe.message!==void 0?Pe.toString():We(Pe)},null)})();typeof console<"u"&&typeof console.warn<"u"&&(y=function(ie){console.warn(ie)},s.isNode&&process.stderr.isTTY?y=function(ie,le){var me=le?"\x1B[33m":"\x1B[31m";console.warn(me+ie+`\x1B[0m
`)}:!s.isNode&&typeof new Error().stack=="string"&&(y=function(ie,le){console.warn("%c"+ie,le?"color: darkorange":"color: red")}));var fe={warnings:x,longStackTraces:!1,cancellation:!1,monitoring:!1};return w&&t.longStackTraces(),{longStackTraces:function(){return fe.longStackTraces},warnings:function(){return fe.warnings},cancellation:function(){return fe.cancellation},monitoring:function(){return fe.monitoring},propagateFromFunction:function(){return G},boundValueFunction:function(){return $},checkForgottenReturns:K,setBounds:ue,warn:Y,deprecated:j,CapturedTrace:De,fireDomEvent:A,fireGlobalEvent:S}}),ZS}var JS,A9;function N3e(){return A9||(A9=1,JS=function(t,e){var n=nn(),r=t.CancellationError,i=n.errorObj;function s(h,p,g){this.promise=h,this.type=p,this.handler=g,this.called=!1,this.cancelPromise=null}s.prototype.isFinallyHandler=function(){return this.type===0};function a(h){this.finallyHandler=h}a.prototype._resultCancelled=function(){o(this.finallyHandler)};function o(h,p){return h.cancelPromise!=null?(arguments.length>1?h.cancelPromise._reject(p):h.cancelPromise._cancel(),h.cancelPromise=null,!0):!1}function l(){return d.call(this,this.promise._target()._settledValue())}function c(h){if(!o(this,h))return i.e=h,i}function d(h){var p=this.promise,g=this.handler;if(!this.called){this.called=!0;var v=this.isFinallyHandler()?g.call(p._boundValue()):g.call(p._boundValue(),h);if(v!==void 0){p._setReturnedNonUndefined();var y=e(v,p);if(y instanceof t){if(this.cancelPromise!=null)if(y._isCancelled()){var b=new r("late cancellation observer");return p._attachExtraTrace(b),i.e=b,i}else y.isPending()&&y._attachCancellationCallback(new a(this));return y._then(l,c,void 0,this,void 0)}}}return p.isRejected()?(o(this),i.e=h,i):(o(this),h)}return t.prototype._passThrough=function(h,p,g,v){return typeof h!="function"?this.then():this._then(g,v,void 0,new s(this,p,h),void 0)},t.prototype.lastly=t.prototype.finally=function(h){return this._passThrough(h,0,d,d)},t.prototype.tap=function(h){return this._passThrough(h,1,d)},s}),JS}var QS,T9;function F3e(){return T9||(T9=1,QS=function(t){var e=nn(),n=md().keys,r=e.tryCatch,i=e.errorObj;function s(a,o,l){return function(c){var d=l._boundValue();e:for(var h=0;h<a.length;++h){var p=a[h];if(p===Error||p!=null&&p.prototype instanceof Error){if(c instanceof p)return r(o).call(d,c)}else if(typeof p=="function"){var g=r(p).call(d,c);if(g===i)return g;if(g)return r(o).call(d,c)}else if(e.isObject(c)){for(var v=n(p),y=0;y<v.length;++y){var b=v[y];if(p[b]!=c[b])continue e}return r(o).call(d,c)}}return t}}return s}),QS}var eA,C9;function PZ(){if(C9)return eA;C9=1;var t=nn(),e=t.maybeWrapAsError,n=Uo(),r=n.OperationalError,i=md();function s(c){return c instanceof Error&&i.getPrototypeOf(c)===Error.prototype}var a=/^(?:name|message|stack|cause)$/;function o(c){var d;if(s(c)){d=new r(c),d.name=c.name,d.message=c.message,d.stack=c.stack;for(var h=i.keys(c),p=0;p<h.length;++p){var g=h[p];a.test(g)||(d[g]=c[g])}return d}return t.markAsOriginatingFromRejection(c),c}function l(c,d){return function(h,p){if(c!==null){if(h){var g=o(e(h));c._attachExtraTrace(g),c._reject(g)}else if(!d)c._fulfill(p);else{for(var v=arguments.length,y=new Array(Math.max(v-1,0)),b=1;b<v;++b)y[b-1]=arguments[b];c._fulfill(y)}c=null}}}return eA=l,eA}var tA,k9;function I3e(){return k9||(k9=1,tA=function(t,e,n,r,i){var s=nn(),a=s.tryCatch;t.method=function(o){if(typeof o!="function")throw new t.TypeError("expecting a function but got "+s.classString(o));return function(){var l=new t(e);l._captureStackTrace(),l._pushContext();var c=a(o).apply(this,arguments),d=l._popContext();return i.checkForgottenReturns(c,d,"Promise.method",l),l._resolveFromSyncValue(c),l}},t.attempt=t.try=function(o){if(typeof o!="function")return r("expecting a function but got "+s.classString(o));var l=new t(e);l._captureStackTrace(),l._pushContext();var c;if(arguments.length>1){i.deprecated("calling Promise.try with more than 1 argument");var d=arguments[1],h=arguments[2];c=s.isArray(d)?a(o).apply(h,d):a(o).call(h,d)}else c=a(o)();var p=l._popContext();return i.checkForgottenReturns(c,p,"Promise.try",l),l._resolveFromSyncValue(c),l},t.prototype._resolveFromSyncValue=function(o){o===s.errorObj?this._rejectCallback(o.e,!1):this._resolveCallback(o,!0)}}),tA}var nA,R9;function P3e(){return R9||(R9=1,nA=function(t,e,n,r){var i=!1,s=function(c,d){this._reject(d)},a=function(c,d){d.promiseRejectionQueued=!0,d.bindingPromise._then(s,s,null,this,c)},o=function(c,d){(this._bitField&50397184)===0&&this._resolveCallback(d.target)},l=function(c,d){d.promiseRejectionQueued||this._reject(c)};t.prototype.bind=function(c){i||(i=!0,t.prototype._propagateFrom=r.propagateFromFunction(),t.prototype._boundValue=r.boundValueFunction());var d=n(c),h=new t(e);h._propagateFrom(this,1);var p=this._target();if(h._setBoundTo(d),d instanceof t){var g={promiseRejectionQueued:!1,promise:h,target:p,bindingPromise:d};p._then(e,a,void 0,h,g),d._then(o,l,void 0,h,g),h._setOnCancel(d)}else h._resolveCallback(p);return h},t.prototype._setBoundTo=function(c){c!==void 0?(this._bitField=this._bitField|2097152,this._boundTo=c):this._bitField=this._bitField&-2097153},t.prototype._isBound=function(){return(this._bitField&2097152)===2097152},t.bind=function(c,d){return t.resolve(d).bind(c)}}),nA}var rA,U9;function L3e(){return U9||(U9=1,rA=function(t,e,n,r){var i=nn(),s=i.tryCatch,a=i.errorObj,o=t._async;t.prototype.break=t.prototype.cancel=function(){if(!r.cancellation())return this._warn("cancellation is disabled");for(var l=this,c=l;l._isCancellable();){if(!l._cancelBy(c)){c._isFollowing()?c._followee().cancel():c._cancelBranched();break}var d=l._cancellationParent;if(d==null||!d._isCancellable()){l._isFollowing()?l._followee().cancel():l._cancelBranched();break}else l._isFollowing()&&l._followee().cancel(),l._setWillBeCancelled(),c=l,l=d}},t.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},t.prototype._enoughBranchesHaveCancelled=function(){return this._branchesRemainingToCancel===void 0||this._branchesRemainingToCancel<=0},t.prototype._cancelBy=function(l){return l===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),this._enoughBranchesHaveCancelled()?(this._invokeOnCancel(),!0):!1)},t.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},t.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),o.invoke(this._cancelPromises,this,void 0))},t.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},t.prototype._unsetOnCancel=function(){this._onCancelField=void 0},t.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},t.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},t.prototype._doInvokeOnCancel=function(l,c){if(i.isArray(l))for(var d=0;d<l.length;++d)this._doInvokeOnCancel(l[d],c);else if(l!==void 0)if(typeof l=="function"){if(!c){var h=s(l).call(this._boundValue());h===a&&(this._attachExtraTrace(h.e),o.throwLater(h.e))}}else l._resultCancelled(this)},t.prototype._invokeOnCancel=function(){var l=this._onCancel();this._unsetOnCancel(),o.invoke(this._doInvokeOnCancel,this,l)},t.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},t.prototype._resultCancelled=function(){this.cancel()}}),rA}var iA,M9;function B3e(){return M9||(M9=1,iA=function(t){function e(){return this.value}function n(){throw this.reason}t.prototype.return=t.prototype.thenReturn=function(r){return r instanceof t&&r.suppressUnhandledRejections(),this._then(e,void 0,void 0,{value:r},void 0)},t.prototype.throw=t.prototype.thenThrow=function(r){return this._then(n,void 0,void 0,{reason:r},void 0)},t.prototype.catchThrow=function(r){if(arguments.length<=1)return this._then(void 0,n,void 0,{reason:r},void 0);var i=arguments[1],s=function(){throw i};return this.caught(r,s)},t.prototype.catchReturn=function(r){if(arguments.length<=1)return r instanceof t&&r.suppressUnhandledRejections(),this._then(void 0,e,void 0,{value:r},void 0);var i=arguments[1];i instanceof t&&i.suppressUnhandledRejections();var s=function(){return i};return this.caught(r,s)}}),iA}var sA,O9;function j3e(){return O9||(O9=1,sA=function(t){function e(l){l!==void 0?(l=l._target(),this._bitField=l._bitField,this._settledValueField=l._isFateSealed()?l._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}e.prototype._settledValue=function(){return this._settledValueField};var n=e.prototype.value=function(){if(!this.isFulfilled())throw new TypeError(`cannot get fulfillment value of a non-fulfilled promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},r=e.prototype.error=e.prototype.reason=function(){if(!this.isRejected())throw new TypeError(`cannot get rejection reason of a non-rejected promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},i=e.prototype.isFulfilled=function(){return(this._bitField&33554432)!==0},s=e.prototype.isRejected=function(){return(this._bitField&16777216)!==0},a=e.prototype.isPending=function(){return(this._bitField&50397184)===0},o=e.prototype.isResolved=function(){return(this._bitField&50331648)!==0};e.prototype.isCancelled=function(){return(this._bitField&8454144)!==0},t.prototype.__isCancelled=function(){return(this._bitField&65536)===65536},t.prototype._isCancelled=function(){return this._target().__isCancelled()},t.prototype.isCancelled=function(){return(this._target()._bitField&8454144)!==0},t.prototype.isPending=function(){return a.call(this._target())},t.prototype.isRejected=function(){return s.call(this._target())},t.prototype.isFulfilled=function(){return i.call(this._target())},t.prototype.isResolved=function(){return o.call(this._target())},t.prototype.value=function(){return n.call(this._target())},t.prototype.reason=function(){var l=this._target();return l._unsetRejectionIsUnhandled(),r.call(l)},t.prototype._value=function(){return this._settledValue()},t.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},t.PromiseInspection=e}),sA}var aA,N9;function z3e(){return N9||(N9=1,aA=function(t,e,n,r,i,s){var a=nn(),o=a.canEvaluate,l=a.tryCatch,c=a.errorObj,d;if(o){for(var h=function(w){return new Function("value","holder",`                             
	            'use strict';                                                    
	            holder.pIndex = value;                                           
	            holder.checkFulfillment(this);                                   
	            `.replace(/Index/g,w))},p=function(w){return new Function("promise","holder",`                           
	            'use strict';                                                    
	            holder.pIndex = promise;                                         
	            `.replace(/Index/g,w))},g=function(w){for(var D=new Array(w),E=0;E<D.length;++E)D[E]="this.p"+(E+1);var A=D.join(" = ")+" = null;",S=`var promise;
`+D.map(function(O){return`                                                         
	                promise = `+O+`;                                      
	                if (promise instanceof Promise) {                            
	                    promise.cancel();                                        
	                }                                                            
	            `}).join(`
`),T=D.join(", "),M="Holder$"+w,R=`return function(tryCatch, errorObj, Promise, async) {    
	            'use strict';                                                    
	            function [TheName](fn) {                                         
	                [TheProperties]                                              
	                this.fn = fn;                                                
	                this.asyncNeeded = true;                                     
	                this.now = 0;                                                
	            }                                                                
	                                                                             
	            [TheName].prototype._callFunction = function(promise) {          
	                promise._pushContext();                                      
	                var ret = tryCatch(this.fn)([ThePassedArguments]);           
	                promise._popContext();                                       
	                if (ret === errorObj) {                                      
	                    promise._rejectCallback(ret.e, false);                   
	                } else {                                                     
	                    promise._resolveCallback(ret);                           
	                }                                                            
	            };                                                               
	                                                                             
	            [TheName].prototype.checkFulfillment = function(promise) {       
	                var now = ++this.now;                                        
	                if (now === [TheTotal]) {                                    
	                    if (this.asyncNeeded) {                                  
	                        async.invoke(this._callFunction, this, promise);     
	                    } else {                                                 
	                        this._callFunction(promise);                         
	                    }                                                        
	                                                                             
	                }                                                            
	            };                                                               
	                                                                             
	            [TheName].prototype._resultCancelled = function() {              
	                [CancellationCode]                                           
	            };                                                               
	                                                                             
	            return [TheName];                                                
	        }(tryCatch, errorObj, Promise, async);                               
	        `;return R=R.replace(/\[TheName\]/g,M).replace(/\[TheTotal\]/g,w).replace(/\[ThePassedArguments\]/g,T).replace(/\[TheProperties\]/g,A).replace(/\[CancellationCode\]/g,S),new Function("tryCatch","errorObj","Promise","async",R)(l,c,t,i)},v=[],y=[],b=[],x=0;x<8;++x)v.push(g(x+1)),y.push(h(x+1)),b.push(p(x+1));d=function(w){this._reject(w)}}t.join=function(){var w=arguments.length-1,D;if(w>0&&typeof arguments[w]=="function"&&(D=arguments[w],w<=8&&o)){var k=new t(r);k._captureStackTrace();for(var E=v[w-1],A=new E(D),S=y,T=0;T<w;++T){var M=n(arguments[T],k);if(M instanceof t){M=M._target();var R=M._bitField;(R&50397184)===0?(M._then(S[T],d,void 0,k,A),b[T](M,A),A.asyncNeeded=!1):(R&33554432)!==0?S[T].call(k,M._value(),A):(R&16777216)!==0?k._reject(M._reason()):k._cancel()}else S[T].call(k,M,A)}if(!k._isFateSealed()){if(A.asyncNeeded){var O=s();O!==null&&(A.fn=a.domainBind(O,A.fn))}k._setAsyncGuaranteed(),k._setOnCancel(A)}return k}for(var z=arguments.length,F=new Array(z),q=0;q<z;++q)F[q]=arguments[q];D&&F.pop();var k=new e(F).promise();return D!==void 0?k.spread(D):k}}),aA}var oA,F9;function q3e(){return F9||(F9=1,oA=function(t,e,n,r,i,s){var a=t._getDomain,o=nn(),l=o.tryCatch,c=o.errorObj,d=t._async;function h(g,v,y,b){this.constructor$(g),this._promise._captureStackTrace();var x=a();this._callback=x===null?v:o.domainBind(x,v),this._preservedValues=b===i?new Array(this.length()):null,this._limit=y,this._inFlight=0,this._queue=[],d.invoke(this._asyncInit,this,void 0)}o.inherits(h,e),h.prototype._asyncInit=function(){this._init$(void 0,-2)},h.prototype._init=function(){},h.prototype._promiseFulfilled=function(g,v){var y=this._values,b=this.length(),x=this._preservedValues,w=this._limit;if(v<0){if(v=v*-1-1,y[v]=g,w>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(w>=1&&this._inFlight>=w)return y[v]=g,this._queue.push(v),!1;x!==null&&(x[v]=g);var D=this._promise,E=this._callback,A=D._boundValue();D._pushContext();var S=l(E).call(A,g,v,b),T=D._popContext();if(s.checkForgottenReturns(S,T,x!==null?"Promise.filter":"Promise.map",D),S===c)return this._reject(S.e),!0;var M=r(S,this._promise);if(M instanceof t){M=M._target();var R=M._bitField;if((R&50397184)===0)return w>=1&&this._inFlight++,y[v]=M,M._proxy(this,(v+1)*-1),!1;if((R&33554432)!==0)S=M._value();else return(R&16777216)!==0?(this._reject(M._reason()),!0):(this._cancel(),!0)}y[v]=S}var O=++this._totalResolved;return O>=b?(x!==null?this._filter(y,x):this._resolve(y),!0):!1},h.prototype._drainQueue=function(){for(var g=this._queue,v=this._limit,y=this._values;g.length>0&&this._inFlight<v;){if(this._isResolved())return;var b=g.pop();this._promiseFulfilled(y[b],b)}},h.prototype._filter=function(g,v){for(var y=v.length,b=new Array(y),x=0,w=0;w<y;++w)g[w]&&(b[x++]=v[w]);b.length=x,this._resolve(b)},h.prototype.preservedValues=function(){return this._preservedValues};function p(g,v,y,b){if(typeof v!="function")return n("expecting a function but got "+o.classString(v));var x=0;if(y!==void 0)if(typeof y=="object"&&y!==null){if(typeof y.concurrency!="number")return t.reject(new TypeError("'concurrency' must be a number but it is "+o.classString(y.concurrency)));x=y.concurrency}else return t.reject(new TypeError("options argument must be an object but it is "+o.classString(y)));return x=typeof x=="number"&&isFinite(x)&&x>=1?x:0,new h(g,v,x,b).promise()}t.prototype.map=function(g,v){return p(this,g,v,null)},t.map=function(g,v,y,b){return p(g,v,y,b)}}),oA}var lA,I9;function W3e(){if(I9)return lA;I9=1;var t=Object.create;if(t){var e=t(null),n=t(null);e[" size"]=n[" size"]=0}return lA=function(r){var i=nn(),s=i.canEvaluate,a=i.isIdentifier,o,l;{var c=function(b){return new Function("ensureMethod",`                                    
	        return function(obj) {                                               
	            'use strict'                                                     
	            var len = this.length;                                           
	            ensureMethod(obj, 'methodName');                                 
	            switch(len) {                                                    
	                case 1: return obj.methodName(this[0]);                      
	                case 2: return obj.methodName(this[0], this[1]);             
	                case 3: return obj.methodName(this[0], this[1], this[2]);    
	                case 0: return obj.methodName();                             
	                default:                                                     
	                    return obj.methodName.apply(obj, this);                  
	            }                                                                
	        };                                                                   
	        `.replace(/methodName/g,b))(p)},d=function(b){return new Function("obj",`                                             
	        'use strict';                                                        
	        return obj.propertyName;                                             
	        `.replace("propertyName",b))},h=function(b,x,w){var D=w[b];if(typeof D!="function"){if(!a(b))return null;if(D=x(b),w[b]=D,w[" size"]++,w[" size"]>512){for(var E=Object.keys(w),A=0;A<256;++A)delete w[E[A]];w[" size"]=E.length-256}}return D};o=function(b){return h(b,c,e)},l=function(b){return h(b,d,n)}}function p(b,x){var w;if(b!=null&&(w=b[x]),typeof w!="function"){var D="Object "+i.classString(b)+" has no method '"+i.toString(x)+"'";throw new r.TypeError(D)}return w}function g(b){var x=this.pop(),w=p(b,x);return w.apply(b,this)}r.prototype.call=function(b){for(var x=arguments.length,w=new Array(Math.max(x-1,0)),D=1;D<x;++D)w[D-1]=arguments[D];if(s){var E=o(b);if(E!==null)return this._then(E,void 0,void 0,w,void 0)}return w.push(b),this._then(g,void 0,void 0,w,void 0)};function v(b){return b[this]}function y(b){var x=+this;return x<0&&(x=Math.max(0,x+b.length)),b[x]}r.prototype.get=function(b){var x=typeof b=="number",w;if(x)w=y;else if(s){var D=l(b);w=D!==null?D:v}else w=v;return this._then(w,void 0,void 0,b,void 0)}},lA}var cA,P9;function V3e(){return P9||(P9=1,cA=function(t,e,n,r,i,s){var a=nn(),o=Uo().TypeError,l=nn().inherits,c=a.errorObj,d=a.tryCatch,h={};function p(D){setTimeout(function(){throw D},0)}function g(D){var E=n(D);return E!==D&&typeof D._isDisposable=="function"&&typeof D._getDisposer=="function"&&D._isDisposable()&&E._setDisposable(D._getDisposer()),E}function v(D,E){var A=0,S=D.length,T=new t(i);function M(){if(A>=S)return T._fulfill();var R=g(D[A++]);if(R instanceof t&&R._isDisposable()){try{R=n(R._getDisposer().tryDispose(E),D.promise)}catch(O){return p(O)}if(R instanceof t)return R._then(M,p,null,null,null)}M()}return M(),T}function y(D,E,A){this._data=D,this._promise=E,this._context=A}y.prototype.data=function(){return this._data},y.prototype.promise=function(){return this._promise},y.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():h},y.prototype.tryDispose=function(D){var E=this.resource(),A=this._context;A!==void 0&&A._pushContext();var S=E!==h?this.doDispose(E,D):null;return A!==void 0&&A._popContext(),this._promise._unsetDisposable(),this._data=null,S},y.isDisposer=function(D){return D!=null&&typeof D.resource=="function"&&typeof D.tryDispose=="function"};function b(D,E,A){this.constructor$(D,E,A)}l(b,y),b.prototype.doDispose=function(D,E){var A=this.data();return A.call(D,D,E)};function x(D){return y.isDisposer(D)?(this.resources[this.index]._setDisposable(D),D.promise()):D}function w(D){this.length=D,this.promise=null,this[D-1]=null}w.prototype._resultCancelled=function(){for(var D=this.length,E=0;E<D;++E){var A=this[E];A instanceof t&&A.cancel()}},t.using=function(){var D=arguments.length;if(D<2)return e("you must pass at least 2 arguments to Promise.using");var E=arguments[D-1];if(typeof E!="function")return e("expecting a function but got "+a.classString(E));var A,S=!0;D===2&&Array.isArray(arguments[0])?(A=arguments[0],D=A.length,S=!1):(A=arguments,D--);for(var T=new w(D),M=0;M<D;++M){var R=A[M];if(y.isDisposer(R)){var O=R;R=R.promise(),R._setDisposable(O)}else{var z=n(R);z instanceof t&&(R=z._then(x,null,null,{resources:T,index:M},void 0))}T[M]=R}for(var F=new Array(T.length),M=0;M<F.length;++M)F[M]=t.resolve(T[M]).reflect();var q=t.all(F).then(function(H){for(var N=0;N<H.length;++N){var B=H[N];if(B.isRejected())return c.e=B.error(),c;if(!B.isFulfilled()){q.cancel();return}H[N]=B.value()}k._pushContext(),E=d(E);var G=S?E.apply(void 0,H):E(H),$=k._popContext();return s.checkForgottenReturns(G,$,"Promise.using",k),G}),k=q.lastly(function(){var H=new t.PromiseInspection(q);return v(T,H)});return T.promise=k,k._setOnCancel(T),k},t.prototype._setDisposable=function(D){this._bitField=this._bitField|131072,this._disposer=D},t.prototype._isDisposable=function(){return(this._bitField&131072)>0},t.prototype._getDisposer=function(){return this._disposer},t.prototype._unsetDisposable=function(){this._bitField=this._bitField&-131073,this._disposer=void 0},t.prototype.disposer=function(D){if(typeof D=="function")return new b(D,this,r());throw new o}}),cA}var uA,L9;function H3e(){return L9||(L9=1,uA=function(t,e,n){var r=nn(),i=t.TimeoutError;function s(h){this.handle=h}s.prototype._resultCancelled=function(){clearTimeout(this.handle)};var a=function(h){return o(+this).thenReturn(h)},o=t.delay=function(h,p){var g,v;return p!==void 0?(g=t.resolve(p)._then(a,null,null,h,void 0),n.cancellation()&&p instanceof t&&g._setOnCancel(p)):(g=new t(e),v=setTimeout(function(){g._fulfill()},+h),n.cancellation()&&g._setOnCancel(new s(v)),g._captureStackTrace()),g._setAsyncGuaranteed(),g};t.prototype.delay=function(h){return o(h,this)};var l=function(h,p,g){var v;typeof p!="string"?p instanceof Error?v=p:v=new i("operation timed out"):v=new i(p),r.markAsOriginatingFromRejection(v),h._attachExtraTrace(v),h._reject(v),g?.cancel()};function c(h){return clearTimeout(this.handle),h}function d(h){throw clearTimeout(this.handle),h}t.prototype.timeout=function(h,p){h=+h;var g,v,y=new s(setTimeout(function(){g.isPending()&&l(g,p,v)},h));return n.cancellation()?(v=this.then(),g=v._then(c,d,void 0,y,void 0),g._setOnCancel(y)):g=this._then(c,d,void 0,y,void 0),g}}),uA}var dA,B9;function $3e(){return B9||(B9=1,dA=function(t,e,n,r,i,s){var a=Uo(),o=a.TypeError,l=nn(),c=l.errorObj,d=l.tryCatch,h=[];function p(v,y,b){for(var x=0;x<y.length;++x){b._pushContext();var w=d(y[x])(v);if(b._popContext(),w===c){b._pushContext();var D=t.reject(c.e);return b._popContext(),D}var E=r(w,b);if(E instanceof t)return E}return null}function g(v,y,b,x){if(s.cancellation()){var w=new t(n),D=this._finallyPromise=new t(n);this._promise=w.lastly(function(){return D}),w._captureStackTrace(),w._setOnCancel(this)}else{var E=this._promise=new t(n);E._captureStackTrace()}this._stack=x,this._generatorFunction=v,this._receiver=y,this._generator=void 0,this._yieldHandlers=typeof b=="function"?[b].concat(h):h,this._yieldedPromise=null,this._cancellationPhase=!1}l.inherits(g,i),g.prototype._isResolved=function(){return this._promise===null},g.prototype._cleanup=function(){this._promise=this._generator=null,s.cancellation()&&this._finallyPromise!==null&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},g.prototype._promiseCancelled=function(){if(!this._isResolved()){var v=typeof this._generator.return<"u",y;if(v)this._promise._pushContext(),y=d(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var b=new t.CancellationError("generator .return() sentinel");t.coroutine.returnSentinel=b,this._promise._attachExtraTrace(b),this._promise._pushContext(),y=d(this._generator.throw).call(this._generator,b),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(y)}},g.prototype._promiseFulfilled=function(v){this._yieldedPromise=null,this._promise._pushContext();var y=d(this._generator.next).call(this._generator,v);this._promise._popContext(),this._continue(y)},g.prototype._promiseRejected=function(v){this._yieldedPromise=null,this._promise._attachExtraTrace(v),this._promise._pushContext();var y=d(this._generator.throw).call(this._generator,v);this._promise._popContext(),this._continue(y)},g.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof t){var v=this._yieldedPromise;this._yieldedPromise=null,v.cancel()}},g.prototype.promise=function(){return this._promise},g.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},g.prototype._continue=function(v){var y=this._promise;if(v===c)return this._cleanup(),this._cancellationPhase?y.cancel():y._rejectCallback(v.e,!1);var b=v.value;if(v.done===!0)return this._cleanup(),this._cancellationPhase?y.cancel():y._resolveCallback(b);var x=r(b,this._promise);if(!(x instanceof t)&&(x=p(x,this._yieldHandlers,this._promise),x===null)){this._promiseRejected(new o(`A value %s was yielded that could not be treated as a promise

    See http://goo.gl/MqrFmX

`.replace("%s",b)+`From coroutine:
`+this._stack.split(`
`).slice(1,-7).join(`
`)));return}x=x._target();var w=x._bitField;(w&50397184)===0?(this._yieldedPromise=x,x._proxy(this,null)):(w&33554432)!==0?t._async.invoke(this._promiseFulfilled,this,x._value()):(w&16777216)!==0?t._async.invoke(this._promiseRejected,this,x._reason()):this._promiseCancelled()},t.coroutine=function(v,y){if(typeof v!="function")throw new o(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var b=Object(y).yieldHandler,x=g,w=new Error().stack;return function(){var D=v.apply(this,arguments),E=new x(void 0,void 0,b,w),A=E.promise();return E._generator=D,E._promiseFulfilled(void 0),A}},t.coroutine.addYieldHandler=function(v){if(typeof v!="function")throw new o("expecting a function but got "+l.classString(v));h.push(v)},t.spawn=function(v){if(s.deprecated("Promise.spawn()","Promise.coroutine()"),typeof v!="function")return e(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var y=new g(v,this),b=y.promise();return y._run(t.spawn),b}}),dA}var hA,j9;function G3e(){return j9||(j9=1,hA=function(t){var e=nn(),n=t._async,r=e.tryCatch,i=e.errorObj;function s(l,c){var d=this;if(!e.isArray(l))return a.call(d,l,c);var h=r(c).apply(d._boundValue(),[null].concat(l));h===i&&n.throwLater(h.e)}function a(l,c){var d=this,h=d._boundValue(),p=l===void 0?r(c).call(h,null):r(c).call(h,null,l);p===i&&n.throwLater(p.e)}function o(l,c){var d=this;if(!l){var h=new Error(l+"");h.cause=l,l=h}var p=r(c).call(d._boundValue(),l);p===i&&n.throwLater(p.e)}t.prototype.asCallback=t.prototype.nodeify=function(l,c){if(typeof l=="function"){var d=a;c!==void 0&&Object(c).spread&&(d=s),this._then(d,o,void 0,this,l)}return this}}),hA}var fA,z9;function X3e(){return z9||(z9=1,fA=function(t,e){var n={},r=nn(),i=PZ(),s=r.withAppended,a=r.maybeWrapAsError,o=r.canEvaluate,l=Uo().TypeError,c="Async",d={__isPromisified__:!0},h=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],p=new RegExp("^(?:"+h.join("|")+")$"),g=function(q){return r.isIdentifier(q)&&q.charAt(0)!=="_"&&q!=="constructor"};function v(q){return!p.test(q)}function y(q){try{return q.__isPromisified__===!0}catch{return!1}}function b(q,k,H){var N=r.getDataPropertyOrDefault(q,k+H,d);return N?y(N):!1}function x(q,k,H){for(var N=0;N<q.length;N+=2){var B=q[N];if(H.test(B)){for(var G=B.replace(H,""),$=0;$<q.length;$+=2)if(q[$]===G)throw new l(`Cannot promisify an API that has normal methods with '%s'-suffix

    See http://goo.gl/MqrFmX
`.replace("%s",k))}}}function w(q,k,H,N){for(var B=r.inheritedDataKeys(q),G=[],$=0;$<B.length;++$){var W=B[$],L=q[W],K=N===g?!0:g(W);typeof L=="function"&&!y(L)&&!b(q,W,k)&&N(W,L,q,K)&&G.push(W,L)}return x(G,k,H),G}var D=function(q){return q.replace(/([$])/,"\\$")},E;{var A=function(q){for(var k=[q],H=Math.max(0,q-1-3),N=q-1;N>=H;--N)k.push(N);for(var N=q+1;N<=3;++N)k.push(N);return k},S=function(q){return r.filledRange(q,"_arg","")},T=function(q){return r.filledRange(Math.max(q,3),"_arg","")},M=function(q){return typeof q.length=="number"?Math.max(Math.min(q.length,1024),0):0};E=function(q,k,H,N,B,G){var $=Math.max(0,M(N)-1),W=A($),L=typeof q=="string"||k===n;function K(re){var se=S(re).join(", "),ye=re>0?", ":"",xe;return L?xe=`ret = callback.call(this, {{args}}, nodeback); break;
`:xe=k===void 0?`ret = callback({{args}}, nodeback); break;
`:`ret = callback.call(receiver, {{args}}, nodeback); break;
`,xe.replace("{{args}}",se).replace(", ",ye)}function j(){for(var re="",se=0;se<W.length;++se)re+="case "+W[se]+":"+K(W[se]);return re+=`                                                             
	        default:                                                             
	            var args = new Array(len + 1);                                   
	            var i = 0;                                                       
	            for (var i = 0; i < len; ++i) {                                  
	               args[i] = arguments[i];                                       
	            }                                                                
	            args[i] = nodeback;                                              
	            [CodeForCall]                                                    
	            break;                                                           
	        `.replace("[CodeForCall]",L?`ret = callback.apply(this, args);
`:`ret = callback.apply(receiver, args);
`),re}var Y=typeof q=="string"?"this != null ? this['"+q+"'] : fn":"fn",ee=`'use strict';                                                
	        var ret = function (Parameters) {                                    
	            'use strict';                                                    
	            var len = arguments.length;                                      
	            var promise = new Promise(INTERNAL);                             
	            promise._captureStackTrace();                                    
	            var nodeback = nodebackForPromise(promise, `+G+`);   
	            var ret;                                                         
	            var callback = tryCatch([GetFunctionCode]);                      
	            switch(len) {                                                    
	                [CodeForSwitchCase]                                          
	            }                                                                
	            if (ret === errorObj) {                                          
	                promise._rejectCallback(maybeWrapAsError(ret.e), true, true);
	            }                                                                
	            if (!promise._isFateSealed()) promise._setAsyncGuaranteed();     
	            return promise;                                                  
	        };                                                                   
	        notEnumerableProp(ret, '__isPromisified__', true);                   
	        return ret;                                                          
	    `.replace("[CodeForSwitchCase]",j()).replace("[GetFunctionCode]",Y);return ee=ee.replace("Parameters",T($)),new Function("Promise","fn","receiver","withAppended","maybeWrapAsError","nodebackForPromise","tryCatch","errorObj","notEnumerableProp","INTERNAL",ee)(t,N,k,s,a,i,r.tryCatch,r.errorObj,r.notEnumerableProp,e)}}function R(q,k,H,N,B,G){var $=(function(){return this})(),W=q;typeof W=="string"&&(q=N);function L(){var K=k;k===n&&(K=this);var j=new t(e);j._captureStackTrace();var Y=typeof W=="string"&&this!==$?this[W]:q,ee=i(j,G);try{Y.apply(K,s(arguments,ee))}catch(re){j._rejectCallback(a(re),!0,!0)}return j._isFateSealed()||j._setAsyncGuaranteed(),j}return r.notEnumerableProp(L,"__isPromisified__",!0),L}var O=o?E:R;function z(q,k,H,N,B){for(var G=new RegExp(D(k)+"$"),$=w(q,k,G,H),W=0,L=$.length;W<L;W+=2){var K=$[W],j=$[W+1],Y=K+k;if(N===O)q[Y]=O(K,n,K,j,k,B);else{var ee=N(j,function(){return O(K,n,K,j,k,B)});r.notEnumerableProp(ee,"__isPromisified__",!0),q[Y]=ee}}return r.toFastProperties(q),q}function F(q,k,H){return O(q,k,void 0,q,null,H)}t.promisify=function(q,k){if(typeof q!="function")throw new l("expecting a function but got "+r.classString(q));if(y(q))return q;k=Object(k);var H=k.context===void 0?n:k.context,N=!!k.multiArgs,B=F(q,H,N);return r.copyDescriptors(q,B,v),B},t.promisifyAll=function(q,k){if(typeof q!="function"&&typeof q!="object")throw new l(`the target of promisifyAll must be an object or a function

    See http://goo.gl/MqrFmX
`);k=Object(k);var H=!!k.multiArgs,N=k.suffix;typeof N!="string"&&(N=c);var B=k.filter;typeof B!="function"&&(B=g);var G=k.promisifier;if(typeof G!="function"&&(G=O),!r.isIdentifier(N))throw new RangeError(`suffix must be a valid identifier

    See http://goo.gl/MqrFmX
`);for(var $=r.inheritedDataKeys(q),W=0;W<$.length;++W){var L=q[$[W]];$[W]!=="constructor"&&r.isClass(L)&&(z(L.prototype,N,B,G,H),z(L,N,B,G,H))}return z(q,N,B,G,H)}}),fA}var pA,q9;function K3e(){return q9||(q9=1,pA=function(t,e,n,r){var i=nn(),s=i.isObject,a=md(),o;typeof Map=="function"&&(o=Map);var l=(function(){var p=0,g=0;function v(y,b){this[p]=y,this[p+g]=b,p++}return function(b){g=b.size,p=0;var x=new Array(b.size*2);return b.forEach(v,x),x}})(),c=function(p){for(var g=new o,v=p.length/2|0,y=0;y<v;++y){var b=p[v+y],x=p[y];g.set(b,x)}return g};function d(p){var g=!1,v;if(o!==void 0&&p instanceof o)v=l(p),g=!0;else{var y=a.keys(p),b=y.length;v=new Array(b*2);for(var x=0;x<b;++x){var w=y[x];v[x]=p[w],v[x+b]=w}}this.constructor$(v),this._isMap=g,this._init$(void 0,-3)}i.inherits(d,e),d.prototype._init=function(){},d.prototype._promiseFulfilled=function(p,g){this._values[g]=p;var v=++this._totalResolved;if(v>=this._length){var y;if(this._isMap)y=c(this._values);else{y={};for(var b=this.length(),x=0,w=this.length();x<w;++x)y[this._values[x+b]]=this._values[x]}return this._resolve(y),!0}return!1},d.prototype.shouldCopyValues=function(){return!1},d.prototype.getActualLength=function(p){return p>>1};function h(p){var g,v=n(p);if(s(v))v instanceof t?g=v._then(t.props,void 0,void 0,void 0,void 0):g=new d(v).promise();else return r(`cannot await properties of a non-object

    See http://goo.gl/MqrFmX
`);return v instanceof t&&g._propagateFrom(v,2),g}t.prototype.props=function(){return h(this)},t.props=function(p){return h(p)}}),pA}var gA,W9;function Y3e(){return W9||(W9=1,gA=function(t,e,n,r){var i=nn(),s=function(o){return o.then(function(l){return a(l,o)})};function a(o,l){var c=n(o);if(c instanceof t)return s(c);if(o=i.asArray(o),o===null)return r("expecting an array or an iterable object but got "+i.classString(o));var d=new t(e);l!==void 0&&d._propagateFrom(l,3);for(var h=d._fulfill,p=d._reject,g=0,v=o.length;g<v;++g){var y=o[g];y===void 0&&!(g in o)||t.cast(y)._then(h,p,void 0,d,null)}return d}t.race=function(o){return a(o,void 0)},t.prototype.race=function(){return a(this,void 0)}}),gA}var mA,V9;function Z3e(){return V9||(V9=1,mA=function(t,e,n,r,i,s){var a=t._getDomain,o=nn(),l=o.tryCatch;function c(v,y,b,x){this.constructor$(v);var w=a();this._fn=w===null?y:o.domainBind(w,y),b!==void 0&&(b=t.resolve(b),b._attachCancellationCallback(this)),this._initialValue=b,this._currentCancellable=null,x===i?this._eachValues=Array(this._length):x===0?this._eachValues=null:this._eachValues=void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}o.inherits(c,e),c.prototype._gotAccum=function(v){this._eachValues!==void 0&&this._eachValues!==null&&v!==i&&this._eachValues.push(v)},c.prototype._eachComplete=function(v){return this._eachValues!==null&&this._eachValues.push(v),this._eachValues},c.prototype._init=function(){},c.prototype._resolveEmptyArray=function(){this._resolve(this._eachValues!==void 0?this._eachValues:this._initialValue)},c.prototype.shouldCopyValues=function(){return!1},c.prototype._resolve=function(v){this._promise._resolveCallback(v),this._values=null},c.prototype._resultCancelled=function(v){if(v===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof t&&this._currentCancellable.cancel(),this._initialValue instanceof t&&this._initialValue.cancel())},c.prototype._iterate=function(v){this._values=v;var y,b,x=v.length;if(this._initialValue!==void 0?(y=this._initialValue,b=0):(y=t.resolve(v[0]),b=1),this._currentCancellable=y,!y.isRejected())for(;b<x;++b){var w={accum:null,value:v[b],index:b,length:x,array:this};y=y._then(p,void 0,void 0,w,void 0)}this._eachValues!==void 0&&(y=y._then(this._eachComplete,void 0,void 0,this,void 0)),y._then(d,d,void 0,y,this)},t.prototype.reduce=function(v,y){return h(this,v,y,null)},t.reduce=function(v,y,b,x){return h(v,y,b,x)};function d(v,y){this.isFulfilled()?y._resolve(v):y._reject(v)}function h(v,y,b,x){if(typeof y!="function")return n("expecting a function but got "+o.classString(y));var w=new c(v,y,b,x);return w.promise()}function p(v){this.accum=v,this.array._gotAccum(v);var y=r(this.value,this.array._promise);return y instanceof t?(this.array._currentCancellable=y,y._then(g,void 0,void 0,this,void 0)):g.call(this,y)}function g(v){var y=this.array,b=y._promise,x=l(y._fn);b._pushContext();var w;y._eachValues!==void 0?w=x.call(b._boundValue(),v,this.index,this.length):w=x.call(b._boundValue(),this.accum,v,this.index,this.length),w instanceof t&&(y._currentCancellable=w);var D=b._popContext();return s.checkForgottenReturns(w,D,y._eachValues!==void 0?"Promise.each":"Promise.reduce",b),w}}),mA}var yA,H9;function J3e(){return H9||(H9=1,yA=function(t,e,n){var r=t.PromiseInspection,i=nn();function s(a){this.constructor$(a)}i.inherits(s,e),s.prototype._promiseResolved=function(a,o){this._values[a]=o;var l=++this._totalResolved;return l>=this._length?(this._resolve(this._values),!0):!1},s.prototype._promiseFulfilled=function(a,o){var l=new r;return l._bitField=33554432,l._settledValueField=a,this._promiseResolved(o,l)},s.prototype._promiseRejected=function(a,o){var l=new r;return l._bitField=16777216,l._settledValueField=a,this._promiseResolved(o,l)},t.settle=function(a){return n.deprecated(".settle()",".reflect()"),new s(a).promise()},t.prototype.settle=function(){return t.settle(this)}}),yA}var bA,$9;function Q3e(){return $9||($9=1,bA=function(t,e,n){var r=nn(),i=Uo().RangeError,s=Uo().AggregateError,a=r.isArray,o={};function l(d){this.constructor$(d),this._howMany=0,this._unwrap=!1,this._initialized=!1}r.inherits(l,e),l.prototype._init=function(){if(this._initialized){if(this._howMany===0){this._resolve([]);return}this._init$(void 0,-5);var d=a(this._values);!this._isResolved()&&d&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},l.prototype.init=function(){this._initialized=!0,this._init()},l.prototype.setUnwrap=function(){this._unwrap=!0},l.prototype.howMany=function(){return this._howMany},l.prototype.setHowMany=function(d){this._howMany=d},l.prototype._promiseFulfilled=function(d){return this._addFulfilled(d),this._fulfilled()===this.howMany()?(this._values.length=this.howMany(),this.howMany()===1&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0):!1},l.prototype._promiseRejected=function(d){return this._addRejected(d),this._checkOutcome()},l.prototype._promiseCancelled=function(){return this._values instanceof t||this._values==null?this._cancel():(this._addRejected(o),this._checkOutcome())},l.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var d=new s,h=this.length();h<this._values.length;++h)this._values[h]!==o&&d.push(this._values[h]);return d.length>0?this._reject(d):this._cancel(),!0}return!1},l.prototype._fulfilled=function(){return this._totalResolved},l.prototype._rejected=function(){return this._values.length-this.length()},l.prototype._addRejected=function(d){this._values.push(d)},l.prototype._addFulfilled=function(d){this._values[this._totalResolved++]=d},l.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},l.prototype._getRangeError=function(d){var h="Input array must contain at least "+this._howMany+" items but contains only "+d+" items";return new i(h)},l.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))};function c(d,h){if((h|0)!==h||h<0)return n(`expecting a positive integer

    See http://goo.gl/MqrFmX
`);var p=new l(d),g=p.promise();return p.setHowMany(h),p.init(),g}t.some=function(d,h){return c(d,h)},t.prototype.some=function(d){return c(this,d)},t._SomePromiseArray=l}),bA}var vA,G9;function eUe(){return G9||(G9=1,vA=function(t,e){var n=t.map;t.prototype.filter=function(r,i){return n(this,r,i,e)},t.filter=function(r,i,s){return n(r,i,s,e)}}),vA}var xA,X9;function tUe(){return X9||(X9=1,xA=function(t,e){var n=t.reduce,r=t.all;function i(){return r(this)}function s(a,o){return n(a,o,e,e)}t.prototype.each=function(a){return n(this,a,e,0)._then(i,void 0,void 0,this,void 0)},t.prototype.mapSeries=function(a){return n(this,a,e,e)},t.each=function(a,o){return n(a,o,e,0)._then(i,void 0,void 0,a,void 0)},t.mapSeries=s}),xA}var wA,K9;function nUe(){return K9||(K9=1,wA=function(t){var e=t._SomePromiseArray;function n(r){var i=new e(r),s=i.promise();return i.setHowMany(1),i.setUnwrap(),i.init(),s}t.any=function(r){return n(r)},t.prototype.any=function(){return n(this)}}),wA}var Y9;function rUe(){return Y9||(Y9=1,(function(t){t.exports=function(){var e=function(){return new p(`circular promise resolution chain

    See http://goo.gl/MqrFmX
`)},n=function(){return new F.PromiseInspection(this._target())},r=function(N){return F.reject(new p(N))};function i(){}var s={},a=nn(),o;a.isNode?o=function(){var N=process.domain;return N===void 0&&(N=null),N}:o=function(){return null},a.notEnumerableProp(F,"_getDomain",o);var l=md(),c=k3e(),d=new c;l.defineProperty(F,"_async",{value:d});var h=Uo(),p=F.TypeError=h.TypeError;F.RangeError=h.RangeError;var g=F.CancellationError=h.CancellationError;F.TimeoutError=h.TimeoutError,F.OperationalError=h.OperationalError,F.RejectionError=h.OperationalError,F.AggregateError=h.AggregateError;var v=function(){},y={},b={},x=R3e()(F,v),w=U3e()(F,v,x,r,i),D=M3e()(F),E=D.create,A=O3e()(F,D);A.CapturedTrace;var S=N3e()(F,x),T=F3e()(b),M=PZ(),R=a.errorObj,O=a.tryCatch;function z(N,B){if(typeof B!="function")throw new p("expecting a function but got "+a.classString(B));if(N.constructor!==F)throw new p(`the promise constructor cannot be invoked directly

    See http://goo.gl/MqrFmX
`)}function F(N){this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,N!==v&&(z(this,N),this._resolveFromExecutor(N)),this._promiseCreated(),this._fireEvent("promiseCreated",this)}F.prototype.toString=function(){return"[object Promise]"},F.prototype.caught=F.prototype.catch=function(N){var B=arguments.length;if(B>1){var G=new Array(B-1),$=0,W;for(W=0;W<B-1;++W){var L=arguments[W];if(a.isObject(L))G[$++]=L;else return r("expecting an object but got A catch statement predicate "+a.classString(L))}return G.length=$,N=arguments[W],this.then(void 0,T(G,N,this))}return this.then(void 0,N)},F.prototype.reflect=function(){return this._then(n,n,void 0,this,void 0)},F.prototype.then=function(N,B){if(A.warnings()&&arguments.length>0&&typeof N!="function"&&typeof B!="function"){var G=".then() only accepts functions but was passed: "+a.classString(N);arguments.length>1&&(G+=", "+a.classString(B)),this._warn(G)}return this._then(N,B,void 0,void 0,void 0)},F.prototype.done=function(N,B){var G=this._then(N,B,void 0,void 0,void 0);G._setIsFinal()},F.prototype.spread=function(N){return typeof N!="function"?r("expecting a function but got "+a.classString(N)):this.all()._then(N,void 0,void 0,y,void 0)},F.prototype.toJSON=function(){var N={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(N.fulfillmentValue=this.value(),N.isFulfilled=!0):this.isRejected()&&(N.rejectionReason=this.reason(),N.isRejected=!0),N},F.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new w(this).promise()},F.prototype.error=function(N){return this.caught(a.originatesFromRejection,N)},F.getNewLibraryCopy=t.exports,F.is=function(N){return N instanceof F},F.fromNode=F.fromCallback=function(N){var B=new F(v);B._captureStackTrace();var G=arguments.length>1?!!Object(arguments[1]).multiArgs:!1,$=O(N)(M(B,G));return $===R&&B._rejectCallback($.e,!0),B._isFateSealed()||B._setAsyncGuaranteed(),B},F.all=function(N){return new w(N).promise()},F.cast=function(N){var B=x(N);return B instanceof F||(B=new F(v),B._captureStackTrace(),B._setFulfilled(),B._rejectionHandler0=N),B},F.resolve=F.fulfilled=F.cast,F.reject=F.rejected=function(N){var B=new F(v);return B._captureStackTrace(),B._rejectCallback(N,!0),B},F.setScheduler=function(N){if(typeof N!="function")throw new p("expecting a function but got "+a.classString(N));return d.setScheduler(N)},F.prototype._then=function(N,B,G,$,W){var L=W!==void 0,K=L?W:new F(v),j=this._target(),Y=j._bitField;L||(K._propagateFrom(this,3),K._captureStackTrace(),$===void 0&&(this._bitField&2097152)!==0&&((Y&50397184)!==0?$=this._boundValue():$=j===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,K));var ee=o();if((Y&50397184)!==0){var re,se,ye=j._settlePromiseCtx;(Y&33554432)!==0?(se=j._rejectionHandler0,re=N):(Y&16777216)!==0?(se=j._fulfillmentHandler0,re=B,j._unsetRejectionIsUnhandled()):(ye=j._settlePromiseLateCancellationObserver,se=new g("late cancellation observer"),j._attachExtraTrace(se),re=B),d.invoke(ye,j,{handler:ee===null?re:typeof re=="function"&&a.domainBind(ee,re),promise:K,receiver:$,value:se})}else j._addCallbacks(N,B,K,$,ee);return K},F.prototype._length=function(){return this._bitField&65535},F.prototype._isFateSealed=function(){return(this._bitField&117506048)!==0},F.prototype._isFollowing=function(){return(this._bitField&67108864)===67108864},F.prototype._setLength=function(N){this._bitField=this._bitField&-65536|N&65535},F.prototype._setFulfilled=function(){this._bitField=this._bitField|33554432,this._fireEvent("promiseFulfilled",this)},F.prototype._setRejected=function(){this._bitField=this._bitField|16777216,this._fireEvent("promiseRejected",this)},F.prototype._setFollowing=function(){this._bitField=this._bitField|67108864,this._fireEvent("promiseResolved",this)},F.prototype._setIsFinal=function(){this._bitField=this._bitField|4194304},F.prototype._isFinal=function(){return(this._bitField&4194304)>0},F.prototype._unsetCancelled=function(){this._bitField=this._bitField&-65537},F.prototype._setCancelled=function(){this._bitField=this._bitField|65536,this._fireEvent("promiseCancelled",this)},F.prototype._setWillBeCancelled=function(){this._bitField=this._bitField|8388608},F.prototype._setAsyncGuaranteed=function(){d.hasCustomScheduler()||(this._bitField=this._bitField|134217728)},F.prototype._receiverAt=function(N){var B=N===0?this._receiver0:this[N*4-4+3];if(B!==s)return B===void 0&&this._isBound()?this._boundValue():B},F.prototype._promiseAt=function(N){return this[N*4-4+2]},F.prototype._fulfillmentHandlerAt=function(N){return this[N*4-4+0]},F.prototype._rejectionHandlerAt=function(N){return this[N*4-4+1]},F.prototype._boundValue=function(){},F.prototype._migrateCallback0=function(N){N._bitField;var B=N._fulfillmentHandler0,G=N._rejectionHandler0,$=N._promise0,W=N._receiverAt(0);W===void 0&&(W=s),this._addCallbacks(B,G,$,W,null)},F.prototype._migrateCallbackAt=function(N,B){var G=N._fulfillmentHandlerAt(B),$=N._rejectionHandlerAt(B),W=N._promiseAt(B),L=N._receiverAt(B);L===void 0&&(L=s),this._addCallbacks(G,$,W,L,null)},F.prototype._addCallbacks=function(N,B,G,$,W){var L=this._length();if(L>=65531&&(L=0,this._setLength(0)),L===0)this._promise0=G,this._receiver0=$,typeof N=="function"&&(this._fulfillmentHandler0=W===null?N:a.domainBind(W,N)),typeof B=="function"&&(this._rejectionHandler0=W===null?B:a.domainBind(W,B));else{var K=L*4-4;this[K+2]=G,this[K+3]=$,typeof N=="function"&&(this[K+0]=W===null?N:a.domainBind(W,N)),typeof B=="function"&&(this[K+1]=W===null?B:a.domainBind(W,B))}return this._setLength(L+1),L},F.prototype._proxy=function(N,B){this._addCallbacks(void 0,void 0,B,N,null)},F.prototype._resolveCallback=function(N,B){if((this._bitField&117506048)===0){if(N===this)return this._rejectCallback(e(),!1);var G=x(N,this);if(!(G instanceof F))return this._fulfill(N);B&&this._propagateFrom(G,2);var $=G._target();if($===this){this._reject(e());return}var W=$._bitField;if((W&50397184)===0){var L=this._length();L>0&&$._migrateCallback0(this);for(var K=1;K<L;++K)$._migrateCallbackAt(this,K);this._setFollowing(),this._setLength(0),this._setFollowee($)}else if((W&33554432)!==0)this._fulfill($._value());else if((W&16777216)!==0)this._reject($._reason());else{var j=new g("late cancellation observer");$._attachExtraTrace(j),this._reject(j)}}},F.prototype._rejectCallback=function(N,B,G){var $=a.ensureErrorObject(N),W=$===N;if(!W&&!G&&A.warnings()){var L="a promise was rejected with a non-error: "+a.classString(N);this._warn(L,!0)}this._attachExtraTrace($,B?W:!1),this._reject(N)},F.prototype._resolveFromExecutor=function(N){var B=this;this._captureStackTrace(),this._pushContext();var G=!0,$=this._execute(N,function(W){B._resolveCallback(W)},function(W){B._rejectCallback(W,G)});G=!1,this._popContext(),$!==void 0&&B._rejectCallback($,!0)},F.prototype._settlePromiseFromHandler=function(N,B,G,$){var W=$._bitField;if((W&65536)===0){$._pushContext();var L;B===y?!G||typeof G.length!="number"?(L=R,L.e=new p("cannot .spread() a non-array: "+a.classString(G))):L=O(N).apply(this._boundValue(),G):L=O(N).call(B,G);var K=$._popContext();W=$._bitField,(W&65536)===0&&(L===b?$._reject(G):L===R?$._rejectCallback(L.e,!1):(A.checkForgottenReturns(L,K,"",$,this),$._resolveCallback(L)))}},F.prototype._target=function(){for(var N=this;N._isFollowing();)N=N._followee();return N},F.prototype._followee=function(){return this._rejectionHandler0},F.prototype._setFollowee=function(N){this._rejectionHandler0=N},F.prototype._settlePromise=function(N,B,G,$){var W=N instanceof F,L=this._bitField,K=(L&134217728)!==0;(L&65536)!==0?(W&&N._invokeInternalOnCancel(),G instanceof S&&G.isFinallyHandler()?(G.cancelPromise=N,O(B).call(G,$)===R&&N._reject(R.e)):B===n?N._fulfill(n.call(G)):G instanceof i?G._promiseCancelled(N):W||N instanceof w?N._cancel():G.cancel()):typeof B=="function"?W?(K&&N._setAsyncGuaranteed(),this._settlePromiseFromHandler(B,G,$,N)):B.call(G,$,N):G instanceof i?G._isResolved()||((L&33554432)!==0?G._promiseFulfilled($,N):G._promiseRejected($,N)):W&&(K&&N._setAsyncGuaranteed(),(L&33554432)!==0?N._fulfill($):N._reject($))},F.prototype._settlePromiseLateCancellationObserver=function(N){var B=N.handler,G=N.promise,$=N.receiver,W=N.value;typeof B=="function"?G instanceof F?this._settlePromiseFromHandler(B,$,W,G):B.call($,W,G):G instanceof F&&G._reject(W)},F.prototype._settlePromiseCtx=function(N){this._settlePromise(N.promise,N.handler,N.receiver,N.value)},F.prototype._settlePromise0=function(N,B,G){var $=this._promise0,W=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise($,N,W,B)},F.prototype._clearCallbackDataAtIndex=function(N){var B=N*4-4;this[B+2]=this[B+3]=this[B+0]=this[B+1]=void 0},F.prototype._fulfill=function(N){var B=this._bitField;if(!((B&117506048)>>>16)){if(N===this){var G=e();return this._attachExtraTrace(G),this._reject(G)}this._setFulfilled(),this._rejectionHandler0=N,(B&65535)>0&&((B&134217728)!==0?this._settlePromises():d.settlePromises(this))}},F.prototype._reject=function(N){var B=this._bitField;if(!((B&117506048)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=N,this._isFinal())return d.fatalError(N,a.isNode);(B&65535)>0?d.settlePromises(this):this._ensurePossibleRejectionHandled()}},F.prototype._fulfillPromises=function(N,B){for(var G=1;G<N;G++){var $=this._fulfillmentHandlerAt(G),W=this._promiseAt(G),L=this._receiverAt(G);this._clearCallbackDataAtIndex(G),this._settlePromise(W,$,L,B)}},F.prototype._rejectPromises=function(N,B){for(var G=1;G<N;G++){var $=this._rejectionHandlerAt(G),W=this._promiseAt(G),L=this._receiverAt(G);this._clearCallbackDataAtIndex(G),this._settlePromise(W,$,L,B)}},F.prototype._settlePromises=function(){var N=this._bitField,B=N&65535;if(B>0){if((N&16842752)!==0){var G=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,G,N),this._rejectPromises(B,G)}else{var $=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,$,N),this._fulfillPromises(B,$)}this._setLength(0)}this._clearCancellationData()},F.prototype._settledValue=function(){var N=this._bitField;if((N&33554432)!==0)return this._rejectionHandler0;if((N&16777216)!==0)return this._fulfillmentHandler0};function q(N){this.promise._resolveCallback(N)}function k(N){this.promise._rejectCallback(N,!1)}F.defer=F.pending=function(){A.deprecated("Promise.defer","new Promise");var N=new F(v);return{promise:N,resolve:q,reject:k}},a.notEnumerableProp(F,"_makeSelfResolutionError",e),I3e()(F,v,x,r,A),P3e()(F,v,x,A),L3e()(F,w,r,A),B3e()(F),j3e()(F),z3e()(F,w,x,v,d,o),F.Promise=F,F.version="3.4.7",q3e()(F,w,r,x,v,A),W3e()(F),V3e()(F,r,x,E,v,A),H3e()(F,v,A),$3e()(F,r,v,x,i,A),G3e()(F),X3e()(F,v),K3e()(F,w,x,r),Y3e()(F,v,x,r),Z3e()(F,w,r,x,v,A),J3e()(F,w,A),Q3e()(F,w,r),eUe()(F,v),tUe()(F,v),nUe()(F),a.toFastProperties(F),a.toFastProperties(F.prototype);function H(N){var B=new F(v);B._fulfillmentHandler0=N,B._rejectionHandler0=N,B._promise0=N,B._receiver0=N}return H({a:1}),H({b:2}),H({c:3}),H(1),H(function(){}),H(void 0),H(!1),H(new F(v)),A.setBounds(c.firstLineError,a.lastLineError),F}})(VS)),VS.exports}var Z9;function Lo(){if(Z9)return Mi;Z9=1;var t=En,e=rUe()();Mi.defer=n,Mi.when=e.resolve,Mi.resolve=e.resolve,Mi.all=e.all,Mi.props=e.props,Mi.reject=e.reject,Mi.promisify=e.promisify,Mi.mapSeries=e.mapSeries,Mi.attempt=e.attempt,Mi.nfcall=function(r){var i=Array.prototype.slice.call(arguments,1),s=e.promisify(r);return s.apply(null,i)},e.prototype.fail=e.prototype.caught,e.prototype.also=function(r){return this.then(function(i){var s=t.extend({},i,r(i));return e.props(s)})};function n(){var r,i,s=new e.Promise(function(a,o){r=a,i=o});return{resolve:r,reject:i,promise:s}}return Mi}var Lt={},J9;function ac(){if(J9)return Lt;J9=1;var t=En,e=Lt.types={document:"document",paragraph:"paragraph",run:"run",text:"text",tab:"tab",checkbox:"checkbox",hyperlink:"hyperlink",noteReference:"noteReference",image:"image",note:"note",commentReference:"commentReference",comment:"comment",table:"table",tableRow:"tableRow",tableCell:"tableCell",break:"break",bookmarkStart:"bookmarkStart"};function n(S,T){return T=T||{},{type:e.document,children:S,notes:T.notes||new h({}),comments:T.comments||[]}}function r(S,T){T=T||{};var M=T.indent||{};return{type:e.paragraph,children:S,styleId:T.styleId||null,styleName:T.styleName||null,numbering:T.numbering||null,alignment:T.alignment||null,indent:{start:M.start||null,end:M.end||null,firstLine:M.firstLine||null,hanging:M.hanging||null}}}function i(S,T){return T=T||{},{type:e.run,children:S,styleId:T.styleId||null,styleName:T.styleName||null,isBold:!!T.isBold,isUnderline:!!T.isUnderline,isItalic:!!T.isItalic,isStrikethrough:!!T.isStrikethrough,isAllCaps:!!T.isAllCaps,isSmallCaps:!!T.isSmallCaps,verticalAlignment:T.verticalAlignment||s.baseline,font:T.font||null,fontSize:T.fontSize||null,highlight:T.highlight||null}}var s={baseline:"baseline",superscript:"superscript",subscript:"subscript"};function a(S){return{type:e.text,value:S}}function o(){return{type:e.tab}}function l(S){return{type:e.checkbox,checked:S.checked}}function c(S,T){return{type:e.hyperlink,children:S,href:T.href,anchor:T.anchor,targetFrame:T.targetFrame}}function d(S){return{type:e.noteReference,noteType:S.noteType,noteId:S.noteId}}function h(S){this._notes=t.indexBy(S,function(T){return y(T.noteType,T.noteId)})}h.prototype.resolve=function(S){return this.findNoteByKey(y(S.noteType,S.noteId))},h.prototype.findNoteByKey=function(S){return this._notes[S]||null};function p(S){return{type:e.note,noteType:S.noteType,noteId:S.noteId,body:S.body}}function g(S){return{type:e.commentReference,commentId:S.commentId}}function v(S){return{type:e.comment,commentId:S.commentId,body:S.body,authorName:S.authorName,authorInitials:S.authorInitials}}function y(S,T){return S+"-"+T}function b(S){return{type:e.image,read:function(T){return T?S.readImage(T):S.readImage().then(function(M){return Buffer.from(M)})},readAsArrayBuffer:function(){return S.readImage()},readAsBase64String:function(){return S.readImage("base64")},readAsBuffer:function(){return S.readImage().then(function(T){return Buffer.from(T)})},altText:S.altText,contentType:S.contentType}}function x(S,T){return T=T||{},{type:e.table,children:S,styleId:T.styleId||null,styleName:T.styleName||null}}function w(S,T){return T=T||{},{type:e.tableRow,children:S,isHeader:T.isHeader||!1}}function D(S,T){return T=T||{},{type:e.tableCell,children:S,colSpan:T.colSpan==null?1:T.colSpan,rowSpan:T.rowSpan==null?1:T.rowSpan}}function E(S){return{type:e.break,breakType:S}}function A(S){return{type:e.bookmarkStart,name:S.name}}return Lt.document=Lt.Document=n,Lt.paragraph=Lt.Paragraph=r,Lt.run=Lt.Run=i,Lt.text=Lt.Text=a,Lt.tab=Lt.Tab=o,Lt.checkbox=Lt.Checkbox=l,Lt.Hyperlink=c,Lt.noteReference=Lt.NoteReference=d,Lt.Notes=h,Lt.Note=p,Lt.commentReference=g,Lt.comment=v,Lt.Image=b,Lt.Table=x,Lt.TableRow=w,Lt.TableCell=D,Lt.lineBreak=E("line"),Lt.pageBreak=E("page"),Lt.columnBreak=E("column"),Lt.BookmarkStart=A,Lt.verticalAlignment=s,Lt}var su={},Q9;function Ea(){if(Q9)return su;Q9=1;var t=En;su.Result=e,su.success=n,su.warning=r,su.error=i;function e(l,c){this.value=l,this.messages=c||[]}e.prototype.map=function(l){return new e(l(this.value),this.messages)},e.prototype.flatMap=function(l){var c=l(this.value);return new e(c.value,s([this,c]))},e.prototype.flatMapThen=function(l){var c=this;return l(this.value).then(function(d){return new e(d.value,s([c,d]))})},e.combine=function(l){var c=t.flatten(t.pluck(l,"value")),d=s(l);return new e(c,d)};function n(l){return new e(l,[])}function r(l){return{type:"warning",message:l}}function i(l){return{type:"error",message:l.message,error:l}}function s(l){var c=[];return t.flatten(t.pluck(l,"messages"),!0).forEach(function(d){a(c,d)||c.push(d)}),c}function a(l,c){return t.find(l,o.bind(null,c))!==void 0}function o(l,c){return l.type===c.type&&l.message===c.message}return su}var Ah={},Th={},ez;function iUe(){if(ez)return Th;ez=1,Th.byteLength=o,Th.toByteArray=c,Th.fromByteArray=p;for(var t=[],e=[],n=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,s=r.length;i<s;++i)t[i]=r[i],e[r.charCodeAt(i)]=i;e[45]=62,e[95]=63;function a(g){var v=g.length;if(v%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var y=g.indexOf("=");y===-1&&(y=v);var b=y===v?0:4-y%4;return[y,b]}function o(g){var v=a(g),y=v[0],b=v[1];return(y+b)*3/4-b}function l(g,v,y){return(v+y)*3/4-y}function c(g){var v,y=a(g),b=y[0],x=y[1],w=new n(l(g,b,x)),D=0,E=x>0?b-4:b,A;for(A=0;A<E;A+=4)v=e[g.charCodeAt(A)]<<18|e[g.charCodeAt(A+1)]<<12|e[g.charCodeAt(A+2)]<<6|e[g.charCodeAt(A+3)],w[D++]=v>>16&255,w[D++]=v>>8&255,w[D++]=v&255;return x===2&&(v=e[g.charCodeAt(A)]<<2|e[g.charCodeAt(A+1)]>>4,w[D++]=v&255),x===1&&(v=e[g.charCodeAt(A)]<<10|e[g.charCodeAt(A+1)]<<4|e[g.charCodeAt(A+2)]>>2,w[D++]=v>>8&255,w[D++]=v&255),w}function d(g){return t[g>>18&63]+t[g>>12&63]+t[g>>6&63]+t[g&63]}function h(g,v,y){for(var b,x=[],w=v;w<y;w+=3)b=(g[w]<<16&16711680)+(g[w+1]<<8&65280)+(g[w+2]&255),x.push(d(b));return x.join("")}function p(g){for(var v,y=g.length,b=y%3,x=[],w=16383,D=0,E=y-b;D<E;D+=w)x.push(h(g,D,D+w>E?E:D+w));return b===1?(v=g[y-1],x.push(t[v>>2]+t[v<<4&63]+"==")):b===2&&(v=(g[y-2]<<8)+g[y-1],x.push(t[v>>10]+t[v>>4&63]+t[v<<2&63]+"=")),x.join("")}return Th}var _A={exports:{}};var tz;function sUe(){return tz||(tz=1,(function(t,e){(function(n){t.exports=n()})(function(){return(function n(r,i,s){function a(c,d){if(!i[c]){if(!r[c]){var h=typeof El=="function"&&El;if(!d&&h)return h(c,!0);if(o)return o(c,!0);var p=new Error("Cannot find module '"+c+"'");throw p.code="MODULE_NOT_FOUND",p}var g=i[c]={exports:{}};r[c][0].call(g.exports,function(v){var y=r[c][1][v];return a(y||v)},g,g.exports,n,r,i,s)}return i[c].exports}for(var o=typeof El=="function"&&El,l=0;l<s.length;l++)a(s[l]);return a})({1:[function(n,r,i){var s=n("./utils"),a=n("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(l){for(var c,d,h,p,g,v,y,b=[],x=0,w=l.length,D=w,E=s.getTypeOf(l)!=="string";x<l.length;)D=w-x,h=E?(c=l[x++],d=x<w?l[x++]:0,x<w?l[x++]:0):(c=l.charCodeAt(x++),d=x<w?l.charCodeAt(x++):0,x<w?l.charCodeAt(x++):0),p=c>>2,g=(3&c)<<4|d>>4,v=1<D?(15&d)<<2|h>>6:64,y=2<D?63&h:64,b.push(o.charAt(p)+o.charAt(g)+o.charAt(v)+o.charAt(y));return b.join("")},i.decode=function(l){var c,d,h,p,g,v,y=0,b=0,x="data:";if(l.substr(0,x.length)===x)throw new Error("Invalid base64 input, it looks like a data url.");var w,D=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===o.charAt(64)&&D--,l.charAt(l.length-2)===o.charAt(64)&&D--,D%1!=0)throw new Error("Invalid base64 input, bad content length.");for(w=a.uint8array?new Uint8Array(0|D):new Array(0|D);y<l.length;)c=o.indexOf(l.charAt(y++))<<2|(p=o.indexOf(l.charAt(y++)))>>4,d=(15&p)<<4|(g=o.indexOf(l.charAt(y++)))>>2,h=(3&g)<<6|(v=o.indexOf(l.charAt(y++))),w[b++]=c,g!==64&&(w[b++]=d),v!==64&&(w[b++]=h);return w}},{"./support":30,"./utils":32}],2:[function(n,r,i){var s=n("./external"),a=n("./stream/DataWorker"),o=n("./stream/Crc32Probe"),l=n("./stream/DataLengthProbe");function c(d,h,p,g,v){this.compressedSize=d,this.uncompressedSize=h,this.crc32=p,this.compression=g,this.compressedContent=v}c.prototype={getContentWorker:function(){var d=new a(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),h=this;return d.on("end",function(){if(this.streamInfo.data_length!==h.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),d},getCompressedWorker:function(){return new a(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},c.createWorkerFrom=function(d,h,p){return d.pipe(new o).pipe(new l("uncompressedSize")).pipe(h.compressWorker(p)).pipe(new l("compressedSize")).withStreamInfo("compression",h)},r.exports=c},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,i){var s=n("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},i.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,i){var s=n("./utils"),a=(function(){for(var o,l=[],c=0;c<256;c++){o=c;for(var d=0;d<8;d++)o=1&o?3988292384^o>>>1:o>>>1;l[c]=o}return l})();r.exports=function(o,l){return o!==void 0&&o.length?s.getTypeOf(o)!=="string"?(function(c,d,h,p){var g=a,v=p+h;c^=-1;for(var y=p;y<v;y++)c=c>>>8^g[255&(c^d[y])];return-1^c})(0|l,o,o.length,0):(function(c,d,h,p){var g=a,v=p+h;c^=-1;for(var y=p;y<v;y++)c=c>>>8^g[255&(c^d.charCodeAt(y))];return-1^c})(0|l,o,o.length,0):0}},{"./utils":32}],5:[function(n,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(n,r,i){var s=null;s=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:s}},{lie:37}],7:[function(n,r,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",a=n("pako"),o=n("./utils"),l=n("./stream/GenericWorker"),c=s?"uint8array":"array";function d(h,p){l.call(this,"FlateWorker/"+h),this._pako=null,this._pakoAction=h,this._pakoOptions=p,this.meta={}}i.magic="\b\0",o.inherits(d,l),d.prototype.processChunk=function(h){this.meta=h.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(c,h.data),!1)},d.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},d.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},d.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var h=this;this._pako.onData=function(p){h.push({data:p,meta:h.meta})}},i.compressWorker=function(h){return new d("Deflate",h)},i.uncompressWorker=function(){return new d("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,i){function s(g,v){var y,b="";for(y=0;y<v;y++)b+=String.fromCharCode(255&g),g>>>=8;return b}function a(g,v,y,b,x,w){var D,E,A=g.file,S=g.compression,T=w!==c.utf8encode,M=o.transformTo("string",w(A.name)),R=o.transformTo("string",c.utf8encode(A.name)),O=A.comment,z=o.transformTo("string",w(O)),F=o.transformTo("string",c.utf8encode(O)),q=R.length!==A.name.length,k=F.length!==O.length,H="",N="",B="",G=A.dir,$=A.date,W={crc32:0,compressedSize:0,uncompressedSize:0};v&&!y||(W.crc32=g.crc32,W.compressedSize=g.compressedSize,W.uncompressedSize=g.uncompressedSize);var L=0;v&&(L|=8),T||!q&&!k||(L|=2048);var K=0,j=0;G&&(K|=16),x==="UNIX"?(j=798,K|=(function(ee,re){var se=ee;return ee||(se=re?16893:33204),(65535&se)<<16})(A.unixPermissions,G)):(j=20,K|=(function(ee){return 63&(ee||0)})(A.dosPermissions)),D=$.getUTCHours(),D<<=6,D|=$.getUTCMinutes(),D<<=5,D|=$.getUTCSeconds()/2,E=$.getUTCFullYear()-1980,E<<=4,E|=$.getUTCMonth()+1,E<<=5,E|=$.getUTCDate(),q&&(N=s(1,1)+s(d(M),4)+R,H+="up"+s(N.length,2)+N),k&&(B=s(1,1)+s(d(z),4)+F,H+="uc"+s(B.length,2)+B);var Y="";return Y+=`
\0`,Y+=s(L,2),Y+=S.magic,Y+=s(D,2),Y+=s(E,2),Y+=s(W.crc32,4),Y+=s(W.compressedSize,4),Y+=s(W.uncompressedSize,4),Y+=s(M.length,2),Y+=s(H.length,2),{fileRecord:h.LOCAL_FILE_HEADER+Y+M+H,dirRecord:h.CENTRAL_FILE_HEADER+s(j,2)+Y+s(z.length,2)+"\0\0\0\0"+s(K,4)+s(b,4)+M+H+z}}var o=n("../utils"),l=n("../stream/GenericWorker"),c=n("../utf8"),d=n("../crc32"),h=n("../signature");function p(g,v,y,b){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=v,this.zipPlatform=y,this.encodeFileName=b,this.streamFiles=g,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(p,l),p.prototype.push=function(g){var v=g.meta.percent||0,y=this.entriesCount,b=this._sources.length;this.accumulate?this.contentBuffer.push(g):(this.bytesWritten+=g.data.length,l.prototype.push.call(this,{data:g.data,meta:{currentFile:this.currentFile,percent:y?(v+100*(y-b-1))/y:100}}))},p.prototype.openedSource=function(g){this.currentSourceOffset=this.bytesWritten,this.currentFile=g.file.name;var v=this.streamFiles&&!g.file.dir;if(v){var y=a(g,v,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:y.fileRecord,meta:{percent:0}})}else this.accumulate=!0},p.prototype.closedSource=function(g){this.accumulate=!1;var v=this.streamFiles&&!g.file.dir,y=a(g,v,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(y.dirRecord),v)this.push({data:(function(b){return h.DATA_DESCRIPTOR+s(b.crc32,4)+s(b.compressedSize,4)+s(b.uncompressedSize,4)})(g),meta:{percent:100}});else for(this.push({data:y.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},p.prototype.flush=function(){for(var g=this.bytesWritten,v=0;v<this.dirRecords.length;v++)this.push({data:this.dirRecords[v],meta:{percent:100}});var y=this.bytesWritten-g,b=(function(x,w,D,E,A){var S=o.transformTo("string",A(E));return h.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(x,2)+s(x,2)+s(w,4)+s(D,4)+s(S.length,2)+S})(this.dirRecords.length,y,g,this.zipComment,this.encodeFileName);this.push({data:b,meta:{percent:100}})},p.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},p.prototype.registerPrevious=function(g){this._sources.push(g);var v=this;return g.on("data",function(y){v.processChunk(y)}),g.on("end",function(){v.closedSource(v.previous.streamInfo),v._sources.length?v.prepareNextSource():v.end()}),g.on("error",function(y){v.error(y)}),this},p.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},p.prototype.error=function(g){var v=this._sources;if(!l.prototype.error.call(this,g))return!1;for(var y=0;y<v.length;y++)try{v[y].error(g)}catch{}return!0},p.prototype.lock=function(){l.prototype.lock.call(this);for(var g=this._sources,v=0;v<g.length;v++)g[v].lock()},r.exports=p},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,i){var s=n("../compressions"),a=n("./ZipFileWorker");i.generateWorker=function(o,l,c){var d=new a(l.streamFiles,c,l.platform,l.encodeFileName),h=0;try{o.forEach(function(p,g){h++;var v=(function(w,D){var E=w||D,A=s[E];if(!A)throw new Error(E+" is not a valid compression method !");return A})(g.options.compression,l.compression),y=g.options.compressionOptions||l.compressionOptions||{},b=g.dir,x=g.date;g._compressWorker(v,y).withStreamInfo("file",{name:p,dir:b,date:x,comment:g.comment||"",unixPermissions:g.unixPermissions,dosPermissions:g.dosPermissions}).pipe(d)}),d.entriesCount=h}catch(p){d.error(p)}return d}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,i){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var a=new s;for(var o in this)typeof this[o]!="function"&&(a[o]=this[o]);return a}}(s.prototype=n("./object")).loadAsync=n("./load"),s.support=n("./support"),s.defaults=n("./defaults"),s.version="3.10.1",s.loadAsync=function(a,o){return new s().loadAsync(a,o)},s.external=n("./external"),r.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,i){var s=n("./utils"),a=n("./external"),o=n("./utf8"),l=n("./zipEntries"),c=n("./stream/Crc32Probe"),d=n("./nodejsUtils");function h(p){return new a.Promise(function(g,v){var y=p.decompressed.getContentWorker().pipe(new c);y.on("error",function(b){v(b)}).on("end",function(){y.streamInfo.crc32!==p.decompressed.crc32?v(new Error("Corrupted zip : CRC32 mismatch")):g()}).resume()})}r.exports=function(p,g){var v=this;return g=s.extend(g||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),d.isNode&&d.isStream(p)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",p,!0,g.optimizedBinaryString,g.base64).then(function(y){var b=new l(g);return b.load(y),b}).then(function(y){var b=[a.Promise.resolve(y)],x=y.files;if(g.checkCRC32)for(var w=0;w<x.length;w++)b.push(h(x[w]));return a.Promise.all(b)}).then(function(y){for(var b=y.shift(),x=b.files,w=0;w<x.length;w++){var D=x[w],E=D.fileNameStr,A=s.resolve(D.fileNameStr);v.file(A,D.decompressed,{binary:!0,optimizedBinaryString:!0,date:D.date,dir:D.dir,comment:D.fileCommentStr.length?D.fileCommentStr:null,unixPermissions:D.unixPermissions,dosPermissions:D.dosPermissions,createFolders:g.createFolders}),D.dir||(v.file(A).unsafeOriginalName=E)}return b.zipComment.length&&(v.comment=b.zipComment),v})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,i){var s=n("../utils"),a=n("../stream/GenericWorker");function o(l,c){a.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(c)}s.inherits(o,a),o.prototype._bindStream=function(l){var c=this;(this._stream=l).pause(),l.on("data",function(d){c.push({data:d,meta:{percent:0}})}).on("error",function(d){c.isPaused?this.generatedError=d:c.error(d)}).on("end",function(){c.isPaused?c._upstreamEnded=!0:c.end()})},o.prototype.pause=function(){return!!a.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,i){var s=n("readable-stream").Readable;function a(o,l,c){s.call(this,l),this._helper=o;var d=this;o.on("data",function(h,p){d.push(h)||d._helper.pause(),c&&c(p)}).on("error",function(h){d.emit("error",h)}).on("end",function(){d.push(null)})}n("../utils").inherits(a,s),a.prototype._read=function(){this._helper.resume()},r.exports=a},{"../utils":32,"readable-stream":16}],14:[function(n,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,a){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,a);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,a)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var a=new Buffer(s);return a.fill(0),a},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(n,r,i){function s(A,S,T){var M,R=o.getTypeOf(S),O=o.extend(T||{},d);O.date=O.date||new Date,O.compression!==null&&(O.compression=O.compression.toUpperCase()),typeof O.unixPermissions=="string"&&(O.unixPermissions=parseInt(O.unixPermissions,8)),O.unixPermissions&&16384&O.unixPermissions&&(O.dir=!0),O.dosPermissions&&16&O.dosPermissions&&(O.dir=!0),O.dir&&(A=x(A)),O.createFolders&&(M=b(A))&&w.call(this,M,!0);var z=R==="string"&&O.binary===!1&&O.base64===!1;T&&T.binary!==void 0||(O.binary=!z),(S instanceof h&&S.uncompressedSize===0||O.dir||!S||S.length===0)&&(O.base64=!1,O.binary=!0,S="",O.compression="STORE",R="string");var F=null;F=S instanceof h||S instanceof l?S:v.isNode&&v.isStream(S)?new y(A,S):o.prepareContent(A,S,O.binary,O.optimizedBinaryString,O.base64);var q=new p(A,F,O);this.files[A]=q}var a=n("./utf8"),o=n("./utils"),l=n("./stream/GenericWorker"),c=n("./stream/StreamHelper"),d=n("./defaults"),h=n("./compressedObject"),p=n("./zipObject"),g=n("./generate"),v=n("./nodejsUtils"),y=n("./nodejs/NodejsStreamInputAdapter"),b=function(A){A.slice(-1)==="/"&&(A=A.substring(0,A.length-1));var S=A.lastIndexOf("/");return 0<S?A.substring(0,S):""},x=function(A){return A.slice(-1)!=="/"&&(A+="/"),A},w=function(A,S){return S=S!==void 0?S:d.createFolders,A=x(A),this.files[A]||s.call(this,A,null,{dir:!0,createFolders:S}),this.files[A]};function D(A){return Object.prototype.toString.call(A)==="[object RegExp]"}var E={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(A){var S,T,M;for(S in this.files)M=this.files[S],(T=S.slice(this.root.length,S.length))&&S.slice(0,this.root.length)===this.root&&A(T,M)},filter:function(A){var S=[];return this.forEach(function(T,M){A(T,M)&&S.push(M)}),S},file:function(A,S,T){if(arguments.length!==1)return A=this.root+A,s.call(this,A,S,T),this;if(D(A)){var M=A;return this.filter(function(O,z){return!z.dir&&M.test(O)})}var R=this.files[this.root+A];return R&&!R.dir?R:null},folder:function(A){if(!A)return this;if(D(A))return this.filter(function(R,O){return O.dir&&A.test(R)});var S=this.root+A,T=w.call(this,S),M=this.clone();return M.root=T.name,M},remove:function(A){A=this.root+A;var S=this.files[A];if(S||(A.slice(-1)!=="/"&&(A+="/"),S=this.files[A]),S&&!S.dir)delete this.files[A];else for(var T=this.filter(function(R,O){return O.name.slice(0,A.length)===A}),M=0;M<T.length;M++)delete this.files[T[M].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(A){var S,T={};try{if((T=o.extend(A||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode})).type=T.type.toLowerCase(),T.compression=T.compression.toUpperCase(),T.type==="binarystring"&&(T.type="string"),!T.type)throw new Error("No output type specified.");o.checkSupport(T.type),T.platform!=="darwin"&&T.platform!=="freebsd"&&T.platform!=="linux"&&T.platform!=="sunos"||(T.platform="UNIX"),T.platform==="win32"&&(T.platform="DOS");var M=T.comment||this.comment||"";S=g.generateWorker(this,T,M)}catch(R){(S=new l("error")).error(R)}return new c(S,T.type||"string",T.mimeType)},generateAsync:function(A,S){return this.generateInternalStream(A).accumulate(S)},generateNodeStream:function(A,S){return(A=A||{}).type||(A.type="nodebuffer"),this.generateInternalStream(A).toNodejsStream(S)}};r.exports=E},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,i){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,i){var s=n("./DataReader");function a(o){s.call(this,o);for(var l=0;l<this.data.length;l++)o[l]=255&o[l]}n("../utils").inherits(a,s),a.prototype.byteAt=function(o){return this.data[this.zero+o]},a.prototype.lastIndexOfSignature=function(o){for(var l=o.charCodeAt(0),c=o.charCodeAt(1),d=o.charCodeAt(2),h=o.charCodeAt(3),p=this.length-4;0<=p;--p)if(this.data[p]===l&&this.data[p+1]===c&&this.data[p+2]===d&&this.data[p+3]===h)return p-this.zero;return-1},a.prototype.readAndCheckSignature=function(o){var l=o.charCodeAt(0),c=o.charCodeAt(1),d=o.charCodeAt(2),h=o.charCodeAt(3),p=this.readData(4);return l===p[0]&&c===p[1]&&d===p[2]&&h===p[3]},a.prototype.readData=function(o){if(this.checkOffset(o),o===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=a},{"../utils":32,"./DataReader":18}],18:[function(n,r,i){var s=n("../utils");function a(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(){},readInt:function(o){var l,c=0;for(this.checkOffset(o),l=this.index+o-1;l>=this.index;l--)c=(c<<8)+this.byteAt(l);return this.index+=o,c},readString:function(o){return s.transformTo("string",this.readData(o))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC(1980+(o>>25&127),(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(31&o)<<1))}},r.exports=a},{"../utils":32}],19:[function(n,r,i){var s=n("./Uint8ArrayReader");function a(o){s.call(this,o)}n("../utils").inherits(a,s),a.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=a},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,i){var s=n("./DataReader");function a(o){s.call(this,o)}n("../utils").inherits(a,s),a.prototype.byteAt=function(o){return this.data.charCodeAt(this.zero+o)},a.prototype.lastIndexOfSignature=function(o){return this.data.lastIndexOf(o)-this.zero},a.prototype.readAndCheckSignature=function(o){return o===this.readData(4)},a.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=a},{"../utils":32,"./DataReader":18}],21:[function(n,r,i){var s=n("./ArrayReader");function a(o){s.call(this,o)}n("../utils").inherits(a,s),a.prototype.readData=function(o){if(this.checkOffset(o),o===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=a},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,i){var s=n("../utils"),a=n("../support"),o=n("./ArrayReader"),l=n("./StringReader"),c=n("./NodeBufferReader"),d=n("./Uint8ArrayReader");r.exports=function(h){var p=s.getTypeOf(h);return s.checkSupport(p),p!=="string"||a.uint8array?p==="nodebuffer"?new c(h):a.uint8array?new d(s.transformTo("uint8array",h)):new o(s.transformTo("array",h)):new l(h)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,i){var s=n("./GenericWorker"),a=n("../utils");function o(l){s.call(this,"ConvertWorker to "+l),this.destType=l}a.inherits(o,s),o.prototype.processChunk=function(l){this.push({data:a.transformTo(this.destType,l.data),meta:l.meta})},r.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,i){var s=n("./GenericWorker"),a=n("../crc32");function o(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(o,s),o.prototype.processChunk=function(l){this.streamInfo.crc32=a(l.data,this.streamInfo.crc32||0),this.push(l)},r.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,i){var s=n("../utils"),a=n("./GenericWorker");function o(l){a.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}s.inherits(o,a),o.prototype.processChunk=function(l){if(l){var c=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=c+l.data.length}a.prototype.processChunk.call(this,l)},r.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,i){var s=n("../utils"),a=n("./GenericWorker");function o(l){a.call(this,"DataWorker");var c=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(d){c.dataIsReady=!0,c.data=d,c.max=d&&d.length||0,c.type=s.getTypeOf(d),c.isPaused||c._tickAndRepeat()},function(d){c.error(d)})}s.inherits(o,a),o.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,c=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,c);break;case"uint8array":l=this.data.subarray(this.index,c);break;case"array":case"nodebuffer":l=this.data.slice(this.index,c)}return this.index=c,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,i){function s(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return!this.isFinished&&(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,o){return this._listeners[a].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,o){if(this._listeners[a])for(var l=0;l<this._listeners[a].length;l++)this._listeners[a][l].call(this,o)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var o=this;return a.on("data",function(l){o.processChunk(l)}),a.on("end",function(){o.end()}),a.on("error",function(l){o.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var a=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,o){return this.extraStreamInfo[a]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},r.exports=s},{}],29:[function(n,r,i){var s=n("../utils"),a=n("./ConvertWorker"),o=n("./GenericWorker"),l=n("../base64"),c=n("../support"),d=n("../external"),h=null;if(c.nodestream)try{h=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function p(v,y){return new d.Promise(function(b,x){var w=[],D=v._internalType,E=v._outputType,A=v._mimeType;v.on("data",function(S,T){w.push(S),y&&y(T)}).on("error",function(S){w=[],x(S)}).on("end",function(){try{var S=(function(T,M,R){switch(T){case"blob":return s.newBlob(s.transformTo("arraybuffer",M),R);case"base64":return l.encode(M);default:return s.transformTo(T,M)}})(E,(function(T,M){var R,O=0,z=null,F=0;for(R=0;R<M.length;R++)F+=M[R].length;switch(T){case"string":return M.join("");case"array":return Array.prototype.concat.apply([],M);case"uint8array":for(z=new Uint8Array(F),R=0;R<M.length;R++)z.set(M[R],O),O+=M[R].length;return z;case"nodebuffer":return Buffer.concat(M);default:throw new Error("concat : unsupported type '"+T+"'")}})(D,w),A);b(S)}catch(T){x(T)}w=[]}).resume()})}function g(v,y,b){var x=y;switch(y){case"blob":case"arraybuffer":x="uint8array";break;case"base64":x="string"}try{this._internalType=x,this._outputType=y,this._mimeType=b,s.checkSupport(x),this._worker=v.pipe(new a(x)),v.lock()}catch(w){this._worker=new o("error"),this._worker.error(w)}}g.prototype={accumulate:function(v){return p(this,v)},on:function(v,y){var b=this;return v==="data"?this._worker.on(v,function(x){y.call(b,x.data,x.meta)}):this._worker.on(v,function(){s.delay(y,arguments,b)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(v){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new h(this,{objectMode:this._outputType!=="nodebuffer"},v)}},r.exports=g},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var s=new ArrayBuffer(0);try{i.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(s),i.blob=a.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!n("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,i){for(var s=n("./utils"),a=n("./support"),o=n("./nodejsUtils"),l=n("./stream/GenericWorker"),c=new Array(256),d=0;d<256;d++)c[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;c[254]=c[254]=1;function h(){l.call(this,"utf-8 decode"),this.leftOver=null}function p(){l.call(this,"utf-8 encode")}i.utf8encode=function(g){return a.nodebuffer?o.newBufferFrom(g,"utf-8"):(function(v){var y,b,x,w,D,E=v.length,A=0;for(w=0;w<E;w++)(64512&(b=v.charCodeAt(w)))==55296&&w+1<E&&(64512&(x=v.charCodeAt(w+1)))==56320&&(b=65536+(b-55296<<10)+(x-56320),w++),A+=b<128?1:b<2048?2:b<65536?3:4;for(y=a.uint8array?new Uint8Array(A):new Array(A),w=D=0;D<A;w++)(64512&(b=v.charCodeAt(w)))==55296&&w+1<E&&(64512&(x=v.charCodeAt(w+1)))==56320&&(b=65536+(b-55296<<10)+(x-56320),w++),b<128?y[D++]=b:(b<2048?y[D++]=192|b>>>6:(b<65536?y[D++]=224|b>>>12:(y[D++]=240|b>>>18,y[D++]=128|b>>>12&63),y[D++]=128|b>>>6&63),y[D++]=128|63&b);return y})(g)},i.utf8decode=function(g){return a.nodebuffer?s.transformTo("nodebuffer",g).toString("utf-8"):(function(v){var y,b,x,w,D=v.length,E=new Array(2*D);for(y=b=0;y<D;)if((x=v[y++])<128)E[b++]=x;else if(4<(w=c[x]))E[b++]=65533,y+=w-1;else{for(x&=w===2?31:w===3?15:7;1<w&&y<D;)x=x<<6|63&v[y++],w--;1<w?E[b++]=65533:x<65536?E[b++]=x:(x-=65536,E[b++]=55296|x>>10&1023,E[b++]=56320|1023&x)}return E.length!==b&&(E.subarray?E=E.subarray(0,b):E.length=b),s.applyFromCharCode(E)})(g=s.transformTo(a.uint8array?"uint8array":"array",g))},s.inherits(h,l),h.prototype.processChunk=function(g){var v=s.transformTo(a.uint8array?"uint8array":"array",g.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var y=v;(v=new Uint8Array(y.length+this.leftOver.length)).set(this.leftOver,0),v.set(y,this.leftOver.length)}else v=this.leftOver.concat(v);this.leftOver=null}var b=(function(w,D){var E;for((D=D||w.length)>w.length&&(D=w.length),E=D-1;0<=E&&(192&w[E])==128;)E--;return E<0||E===0?D:E+c[w[E]]>D?E:D})(v),x=v;b!==v.length&&(a.uint8array?(x=v.subarray(0,b),this.leftOver=v.subarray(b,v.length)):(x=v.slice(0,b),this.leftOver=v.slice(b,v.length))),this.push({data:i.utf8decode(x),meta:g.meta})},h.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=h,s.inherits(p,l),p.prototype.processChunk=function(g){this.push({data:i.utf8encode(g.data),meta:g.meta})},i.Utf8EncodeWorker=p},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,i){var s=n("./support"),a=n("./base64"),o=n("./nodejsUtils"),l=n("./external");function c(y){return y}function d(y,b){for(var x=0;x<y.length;++x)b[x]=255&y.charCodeAt(x);return b}n("setimmediate"),i.newBlob=function(y,b){i.checkSupport("blob");try{return new Blob([y],{type:b})}catch{try{var x=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return x.append(y),x.getBlob(b)}catch{throw new Error("Bug : can't construct the Blob.")}}};var h={stringifyByChunk:function(y,b,x){var w=[],D=0,E=y.length;if(E<=x)return String.fromCharCode.apply(null,y);for(;D<E;)b==="array"||b==="nodebuffer"?w.push(String.fromCharCode.apply(null,y.slice(D,Math.min(D+x,E)))):w.push(String.fromCharCode.apply(null,y.subarray(D,Math.min(D+x,E)))),D+=x;return w.join("")},stringifyByChar:function(y){for(var b="",x=0;x<y.length;x++)b+=String.fromCharCode(y[x]);return b},applyCanBeUsed:{uint8array:(function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}})()}};function p(y){var b=65536,x=i.getTypeOf(y),w=!0;if(x==="uint8array"?w=h.applyCanBeUsed.uint8array:x==="nodebuffer"&&(w=h.applyCanBeUsed.nodebuffer),w)for(;1<b;)try{return h.stringifyByChunk(y,x,b)}catch{b=Math.floor(b/2)}return h.stringifyByChar(y)}function g(y,b){for(var x=0;x<y.length;x++)b[x]=y[x];return b}i.applyFromCharCode=p;var v={};v.string={string:c,array:function(y){return d(y,new Array(y.length))},arraybuffer:function(y){return v.string.uint8array(y).buffer},uint8array:function(y){return d(y,new Uint8Array(y.length))},nodebuffer:function(y){return d(y,o.allocBuffer(y.length))}},v.array={string:p,array:c,arraybuffer:function(y){return new Uint8Array(y).buffer},uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return o.newBufferFrom(y)}},v.arraybuffer={string:function(y){return p(new Uint8Array(y))},array:function(y){return g(new Uint8Array(y),new Array(y.byteLength))},arraybuffer:c,uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return o.newBufferFrom(new Uint8Array(y))}},v.uint8array={string:p,array:function(y){return g(y,new Array(y.length))},arraybuffer:function(y){return y.buffer},uint8array:c,nodebuffer:function(y){return o.newBufferFrom(y)}},v.nodebuffer={string:p,array:function(y){return g(y,new Array(y.length))},arraybuffer:function(y){return v.nodebuffer.uint8array(y).buffer},uint8array:function(y){return g(y,new Uint8Array(y.length))},nodebuffer:c},i.transformTo=function(y,b){if(b=b||"",!y)return b;i.checkSupport(y);var x=i.getTypeOf(b);return v[x][y](b)},i.resolve=function(y){for(var b=y.split("/"),x=[],w=0;w<b.length;w++){var D=b[w];D==="."||D===""&&w!==0&&w!==b.length-1||(D===".."?x.pop():x.push(D))}return x.join("/")},i.getTypeOf=function(y){return typeof y=="string"?"string":Object.prototype.toString.call(y)==="[object Array]"?"array":s.nodebuffer&&o.isBuffer(y)?"nodebuffer":s.uint8array&&y instanceof Uint8Array?"uint8array":s.arraybuffer&&y instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(y){if(!s[y.toLowerCase()])throw new Error(y+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(y){var b,x,w="";for(x=0;x<(y||"").length;x++)w+="\\x"+((b=y.charCodeAt(x))<16?"0":"")+b.toString(16).toUpperCase();return w},i.delay=function(y,b,x){setImmediate(function(){y.apply(x||null,b||[])})},i.inherits=function(y,b){function x(){}x.prototype=b.prototype,y.prototype=new x},i.extend=function(){var y,b,x={};for(y=0;y<arguments.length;y++)for(b in arguments[y])Object.prototype.hasOwnProperty.call(arguments[y],b)&&x[b]===void 0&&(x[b]=arguments[y][b]);return x},i.prepareContent=function(y,b,x,w,D){return l.Promise.resolve(b).then(function(E){return s.blob&&(E instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(E))!==-1)&&typeof FileReader<"u"?new l.Promise(function(A,S){var T=new FileReader;T.onload=function(M){A(M.target.result)},T.onerror=function(M){S(M.target.error)},T.readAsArrayBuffer(E)}):E}).then(function(E){var A=i.getTypeOf(E);return A?(A==="arraybuffer"?E=i.transformTo("uint8array",E):A==="string"&&(D?E=a.decode(E):x&&w!==!0&&(E=(function(S){return d(S,s.uint8array?new Uint8Array(S.length):new Array(S.length))})(E))),E):l.Promise.reject(new Error("Can't read the data of '"+y+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,i){var s=n("./reader/readerFor"),a=n("./utils"),o=n("./signature"),l=n("./zipEntry"),c=n("./support");function d(h){this.files=[],this.loadOptions=h}d.prototype={checkSignature:function(h){if(!this.reader.readAndCheckSignature(h)){this.reader.index-=4;var p=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(p)+", expected "+a.pretty(h)+")")}},isSignature:function(h,p){var g=this.reader.index;this.reader.setIndex(h);var v=this.reader.readString(4)===p;return this.reader.setIndex(g),v},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var h=this.reader.readData(this.zipCommentLength),p=c.uint8array?"uint8array":"array",g=a.transformTo(p,h);this.zipComment=this.loadOptions.decodeFileName(g)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var h,p,g,v=this.zip64EndOfCentralSize-44;0<v;)h=this.reader.readInt(2),p=this.reader.readInt(4),g=this.reader.readData(p),this.zip64ExtensibleData[h]={id:h,length:p,value:g}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var h,p;for(h=0;h<this.files.length;h++)p=this.files[h],this.reader.setIndex(p.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),p.readLocalPart(this.reader),p.handleUTF8(),p.processAttributes()},readCentralDir:function(){var h;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(h=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(h);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var h=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(h<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(h);var p=h;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,(h=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(h),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var g=this.centralDirOffset+this.centralDirSize;this.zip64&&(g+=20,g+=12+this.zip64EndOfCentralSize);var v=p-g;if(0<v)this.isSignature(p,o.CENTRAL_FILE_HEADER)||(this.reader.zero=v);else if(v<0)throw new Error("Corrupted zip: missing "+Math.abs(v)+" bytes.")},prepareReader:function(h){this.reader=s(h)},load:function(h){this.prepareReader(h),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=d},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,i){var s=n("./reader/readerFor"),a=n("./utils"),o=n("./compressedObject"),l=n("./crc32"),c=n("./utf8"),d=n("./compressions"),h=n("./support");function p(g,v){this.options=g,this.loadOptions=v}p.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(g){var v,y;if(g.skip(22),this.fileNameLength=g.readInt(2),y=g.readInt(2),this.fileName=g.readData(this.fileNameLength),g.skip(y),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((v=(function(b){for(var x in d)if(Object.prototype.hasOwnProperty.call(d,x)&&d[x].magic===b)return d[x];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,v,g.readData(this.compressedSize))},readCentralPart:function(g){this.versionMadeBy=g.readInt(2),g.skip(2),this.bitFlag=g.readInt(2),this.compressionMethod=g.readString(2),this.date=g.readDate(),this.crc32=g.readInt(4),this.compressedSize=g.readInt(4),this.uncompressedSize=g.readInt(4);var v=g.readInt(2);if(this.extraFieldsLength=g.readInt(2),this.fileCommentLength=g.readInt(2),this.diskNumberStart=g.readInt(2),this.internalFileAttributes=g.readInt(2),this.externalFileAttributes=g.readInt(4),this.localHeaderOffset=g.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");g.skip(v),this.readExtraFields(g),this.parseZIP64ExtraField(g),this.fileComment=g.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var g=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),g==0&&(this.dosPermissions=63&this.externalFileAttributes),g==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var g=s(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=g.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=g.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=g.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=g.readInt(4))}},readExtraFields:function(g){var v,y,b,x=g.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});g.index+4<x;)v=g.readInt(2),y=g.readInt(2),b=g.readData(y),this.extraFields[v]={id:v,length:y,value:b};g.setIndex(x)},handleUTF8:function(){var g=h.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=c.utf8decode(this.fileName),this.fileCommentStr=c.utf8decode(this.fileComment);else{var v=this.findExtraFieldUnicodePath();if(v!==null)this.fileNameStr=v;else{var y=a.transformTo(g,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(y)}var b=this.findExtraFieldUnicodeComment();if(b!==null)this.fileCommentStr=b;else{var x=a.transformTo(g,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(x)}}},findExtraFieldUnicodePath:function(){var g=this.extraFields[28789];if(g){var v=s(g.value);return v.readInt(1)!==1||l(this.fileName)!==v.readInt(4)?null:c.utf8decode(v.readData(g.length-5))}return null},findExtraFieldUnicodeComment:function(){var g=this.extraFields[25461];if(g){var v=s(g.value);return v.readInt(1)!==1||l(this.fileComment)!==v.readInt(4)?null:c.utf8decode(v.readData(g.length-5))}return null}},r.exports=p},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,i){function s(v,y,b){this.name=v,this.dir=b.dir,this.date=b.date,this.comment=b.comment,this.unixPermissions=b.unixPermissions,this.dosPermissions=b.dosPermissions,this._data=y,this._dataBinary=b.binary,this.options={compression:b.compression,compressionOptions:b.compressionOptions}}var a=n("./stream/StreamHelper"),o=n("./stream/DataWorker"),l=n("./utf8"),c=n("./compressedObject"),d=n("./stream/GenericWorker");s.prototype={internalStream:function(v){var y=null,b="string";try{if(!v)throw new Error("No output type specified.");var x=(b=v.toLowerCase())==="string"||b==="text";b!=="binarystring"&&b!=="text"||(b="string"),y=this._decompressWorker();var w=!this._dataBinary;w&&!x&&(y=y.pipe(new l.Utf8EncodeWorker)),!w&&x&&(y=y.pipe(new l.Utf8DecodeWorker))}catch(D){(y=new d("error")).error(D)}return new a(y,b,"")},async:function(v,y){return this.internalStream(v).accumulate(y)},nodeStream:function(v,y){return this.internalStream(v||"nodebuffer").toNodejsStream(y)},_compressWorker:function(v,y){if(this._data instanceof c&&this._data.compression.magic===v.magic)return this._data.getCompressedWorker();var b=this._decompressWorker();return this._dataBinary||(b=b.pipe(new l.Utf8EncodeWorker)),c.createWorkerFrom(b,v,y)},_decompressWorker:function(){return this._data instanceof c?this._data.getContentWorker():this._data instanceof d?this._data:new o(this._data)}};for(var h=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],p=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},g=0;g<h.length;g++)s.prototype[h[g]]=p;r.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,i){(function(s){var a,o,l=s.MutationObserver||s.WebKitMutationObserver;if(l){var c=0,d=new l(v),h=s.document.createTextNode("");d.observe(h,{characterData:!0}),a=function(){h.data=c=++c%2}}else if(s.setImmediate||s.MessageChannel===void 0)a="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var y=s.document.createElement("script");y.onreadystatechange=function(){v(),y.onreadystatechange=null,y.parentNode.removeChild(y),y=null},s.document.documentElement.appendChild(y)}:function(){setTimeout(v,0)};else{var p=new s.MessageChannel;p.port1.onmessage=v,a=function(){p.port2.postMessage(0)}}var g=[];function v(){var y,b;o=!0;for(var x=g.length;x;){for(b=g,g=[],y=-1;++y<x;)b[y]();x=g.length}o=!1}r.exports=function(y){g.push(y)!==1||o||a()}}).call(this,typeof Li<"u"?Li:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,i){var s=n("immediate");function a(){}var o={},l=["REJECTED"],c=["FULFILLED"],d=["PENDING"];function h(x){if(typeof x!="function")throw new TypeError("resolver must be a function");this.state=d,this.queue=[],this.outcome=void 0,x!==a&&y(this,x)}function p(x,w,D){this.promise=x,typeof w=="function"&&(this.onFulfilled=w,this.callFulfilled=this.otherCallFulfilled),typeof D=="function"&&(this.onRejected=D,this.callRejected=this.otherCallRejected)}function g(x,w,D){s(function(){var E;try{E=w(D)}catch(A){return o.reject(x,A)}E===x?o.reject(x,new TypeError("Cannot resolve promise with itself")):o.resolve(x,E)})}function v(x){var w=x&&x.then;if(x&&(typeof x=="object"||typeof x=="function")&&typeof w=="function")return function(){w.apply(x,arguments)}}function y(x,w){var D=!1;function E(T){D||(D=!0,o.reject(x,T))}function A(T){D||(D=!0,o.resolve(x,T))}var S=b(function(){w(A,E)});S.status==="error"&&E(S.value)}function b(x,w){var D={};try{D.value=x(w),D.status="success"}catch(E){D.status="error",D.value=E}return D}(r.exports=h).prototype.finally=function(x){if(typeof x!="function")return this;var w=this.constructor;return this.then(function(D){return w.resolve(x()).then(function(){return D})},function(D){return w.resolve(x()).then(function(){throw D})})},h.prototype.catch=function(x){return this.then(null,x)},h.prototype.then=function(x,w){if(typeof x!="function"&&this.state===c||typeof w!="function"&&this.state===l)return this;var D=new this.constructor(a);return this.state!==d?g(D,this.state===c?x:w,this.outcome):this.queue.push(new p(D,x,w)),D},p.prototype.callFulfilled=function(x){o.resolve(this.promise,x)},p.prototype.otherCallFulfilled=function(x){g(this.promise,this.onFulfilled,x)},p.prototype.callRejected=function(x){o.reject(this.promise,x)},p.prototype.otherCallRejected=function(x){g(this.promise,this.onRejected,x)},o.resolve=function(x,w){var D=b(v,w);if(D.status==="error")return o.reject(x,D.value);var E=D.value;if(E)y(x,E);else{x.state=c,x.outcome=w;for(var A=-1,S=x.queue.length;++A<S;)x.queue[A].callFulfilled(w)}return x},o.reject=function(x,w){x.state=l,x.outcome=w;for(var D=-1,E=x.queue.length;++D<E;)x.queue[D].callRejected(w);return x},h.resolve=function(x){return x instanceof this?x:o.resolve(new this(a),x)},h.reject=function(x){var w=new this(a);return o.reject(w,x)},h.all=function(x){var w=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var D=x.length,E=!1;if(!D)return this.resolve([]);for(var A=new Array(D),S=0,T=-1,M=new this(a);++T<D;)R(x[T],T);return M;function R(O,z){w.resolve(O).then(function(F){A[z]=F,++S!==D||E||(E=!0,o.resolve(M,A))},function(F){E||(E=!0,o.reject(M,F))})}},h.race=function(x){var w=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var D=x.length,E=!1;if(!D)return this.resolve([]);for(var A=-1,S=new this(a);++A<D;)T=x[A],w.resolve(T).then(function(M){E||(E=!0,o.resolve(S,M))},function(M){E||(E=!0,o.reject(S,M))});var T;return S}},{immediate:36}],38:[function(n,r,i){var s={};(0,n("./lib/utils/common").assign)(s,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,i){var s=n("./zlib/deflate"),a=n("./utils/common"),o=n("./utils/strings"),l=n("./zlib/messages"),c=n("./zlib/zstream"),d=Object.prototype.toString,h=0,p=-1,g=0,v=8;function y(x){if(!(this instanceof y))return new y(x);this.options=a.assign({level:p,method:v,chunkSize:16384,windowBits:15,memLevel:8,strategy:g,to:""},x||{});var w=this.options;w.raw&&0<w.windowBits?w.windowBits=-w.windowBits:w.gzip&&0<w.windowBits&&w.windowBits<16&&(w.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var D=s.deflateInit2(this.strm,w.level,w.method,w.windowBits,w.memLevel,w.strategy);if(D!==h)throw new Error(l[D]);if(w.header&&s.deflateSetHeader(this.strm,w.header),w.dictionary){var E;if(E=typeof w.dictionary=="string"?o.string2buf(w.dictionary):d.call(w.dictionary)==="[object ArrayBuffer]"?new Uint8Array(w.dictionary):w.dictionary,(D=s.deflateSetDictionary(this.strm,E))!==h)throw new Error(l[D]);this._dict_set=!0}}function b(x,w){var D=new y(w);if(D.push(x,!0),D.err)throw D.msg||l[D.err];return D.result}y.prototype.push=function(x,w){var D,E,A=this.strm,S=this.options.chunkSize;if(this.ended)return!1;E=w===~~w?w:w===!0?4:0,typeof x=="string"?A.input=o.string2buf(x):d.call(x)==="[object ArrayBuffer]"?A.input=new Uint8Array(x):A.input=x,A.next_in=0,A.avail_in=A.input.length;do{if(A.avail_out===0&&(A.output=new a.Buf8(S),A.next_out=0,A.avail_out=S),(D=s.deflate(A,E))!==1&&D!==h)return this.onEnd(D),!(this.ended=!0);A.avail_out!==0&&(A.avail_in!==0||E!==4&&E!==2)||(this.options.to==="string"?this.onData(o.buf2binstring(a.shrinkBuf(A.output,A.next_out))):this.onData(a.shrinkBuf(A.output,A.next_out)))}while((0<A.avail_in||A.avail_out===0)&&D!==1);return E===4?(D=s.deflateEnd(this.strm),this.onEnd(D),this.ended=!0,D===h):E!==2||(this.onEnd(h),!(A.avail_out=0))},y.prototype.onData=function(x){this.chunks.push(x)},y.prototype.onEnd=function(x){x===h&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=x,this.msg=this.strm.msg},i.Deflate=y,i.deflate=b,i.deflateRaw=function(x,w){return(w=w||{}).raw=!0,b(x,w)},i.gzip=function(x,w){return(w=w||{}).gzip=!0,b(x,w)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,i){var s=n("./zlib/inflate"),a=n("./utils/common"),o=n("./utils/strings"),l=n("./zlib/constants"),c=n("./zlib/messages"),d=n("./zlib/zstream"),h=n("./zlib/gzheader"),p=Object.prototype.toString;function g(y){if(!(this instanceof g))return new g(y);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},y||{});var b=this.options;b.raw&&0<=b.windowBits&&b.windowBits<16&&(b.windowBits=-b.windowBits,b.windowBits===0&&(b.windowBits=-15)),!(0<=b.windowBits&&b.windowBits<16)||y&&y.windowBits||(b.windowBits+=32),15<b.windowBits&&b.windowBits<48&&(15&b.windowBits)==0&&(b.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var x=s.inflateInit2(this.strm,b.windowBits);if(x!==l.Z_OK)throw new Error(c[x]);this.header=new h,s.inflateGetHeader(this.strm,this.header)}function v(y,b){var x=new g(b);if(x.push(y,!0),x.err)throw x.msg||c[x.err];return x.result}g.prototype.push=function(y,b){var x,w,D,E,A,S,T=this.strm,M=this.options.chunkSize,R=this.options.dictionary,O=!1;if(this.ended)return!1;w=b===~~b?b:b===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof y=="string"?T.input=o.binstring2buf(y):p.call(y)==="[object ArrayBuffer]"?T.input=new Uint8Array(y):T.input=y,T.next_in=0,T.avail_in=T.input.length;do{if(T.avail_out===0&&(T.output=new a.Buf8(M),T.next_out=0,T.avail_out=M),(x=s.inflate(T,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&R&&(S=typeof R=="string"?o.string2buf(R):p.call(R)==="[object ArrayBuffer]"?new Uint8Array(R):R,x=s.inflateSetDictionary(this.strm,S)),x===l.Z_BUF_ERROR&&O===!0&&(x=l.Z_OK,O=!1),x!==l.Z_STREAM_END&&x!==l.Z_OK)return this.onEnd(x),!(this.ended=!0);T.next_out&&(T.avail_out!==0&&x!==l.Z_STREAM_END&&(T.avail_in!==0||w!==l.Z_FINISH&&w!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(D=o.utf8border(T.output,T.next_out),E=T.next_out-D,A=o.buf2string(T.output,D),T.next_out=E,T.avail_out=M-E,E&&a.arraySet(T.output,T.output,D,E,0),this.onData(A)):this.onData(a.shrinkBuf(T.output,T.next_out)))),T.avail_in===0&&T.avail_out===0&&(O=!0)}while((0<T.avail_in||T.avail_out===0)&&x!==l.Z_STREAM_END);return x===l.Z_STREAM_END&&(w=l.Z_FINISH),w===l.Z_FINISH?(x=s.inflateEnd(this.strm),this.onEnd(x),this.ended=!0,x===l.Z_OK):w!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(T.avail_out=0))},g.prototype.onData=function(y){this.chunks.push(y)},g.prototype.onEnd=function(y){y===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},i.Inflate=g,i.inflate=v,i.inflateRaw=function(y,b){return(b=b||{}).raw=!0,v(y,b)},i.ungzip=v},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(l){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var d=c.shift();if(d){if(typeof d!="object")throw new TypeError(d+"must be non-object");for(var h in d)d.hasOwnProperty(h)&&(l[h]=d[h])}}return l},i.shrinkBuf=function(l,c){return l.length===c?l:l.subarray?l.subarray(0,c):(l.length=c,l)};var a={arraySet:function(l,c,d,h,p){if(c.subarray&&l.subarray)l.set(c.subarray(d,d+h),p);else for(var g=0;g<h;g++)l[p+g]=c[d+g]},flattenChunks:function(l){var c,d,h,p,g,v;for(c=h=0,d=l.length;c<d;c++)h+=l[c].length;for(v=new Uint8Array(h),c=p=0,d=l.length;c<d;c++)g=l[c],v.set(g,p),p+=g.length;return v}},o={arraySet:function(l,c,d,h,p){for(var g=0;g<h;g++)l[p+g]=c[d+g]},flattenChunks:function(l){return[].concat.apply([],l)}};i.setTyped=function(l){l?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,a)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,o))},i.setTyped(s)},{}],42:[function(n,r,i){var s=n("./common"),a=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var l=new s.Buf8(256),c=0;c<256;c++)l[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function d(h,p){if(p<65537&&(h.subarray&&o||!h.subarray&&a))return String.fromCharCode.apply(null,s.shrinkBuf(h,p));for(var g="",v=0;v<p;v++)g+=String.fromCharCode(h[v]);return g}l[254]=l[254]=1,i.string2buf=function(h){var p,g,v,y,b,x=h.length,w=0;for(y=0;y<x;y++)(64512&(g=h.charCodeAt(y)))==55296&&y+1<x&&(64512&(v=h.charCodeAt(y+1)))==56320&&(g=65536+(g-55296<<10)+(v-56320),y++),w+=g<128?1:g<2048?2:g<65536?3:4;for(p=new s.Buf8(w),y=b=0;b<w;y++)(64512&(g=h.charCodeAt(y)))==55296&&y+1<x&&(64512&(v=h.charCodeAt(y+1)))==56320&&(g=65536+(g-55296<<10)+(v-56320),y++),g<128?p[b++]=g:(g<2048?p[b++]=192|g>>>6:(g<65536?p[b++]=224|g>>>12:(p[b++]=240|g>>>18,p[b++]=128|g>>>12&63),p[b++]=128|g>>>6&63),p[b++]=128|63&g);return p},i.buf2binstring=function(h){return d(h,h.length)},i.binstring2buf=function(h){for(var p=new s.Buf8(h.length),g=0,v=p.length;g<v;g++)p[g]=h.charCodeAt(g);return p},i.buf2string=function(h,p){var g,v,y,b,x=p||h.length,w=new Array(2*x);for(g=v=0;g<x;)if((y=h[g++])<128)w[v++]=y;else if(4<(b=l[y]))w[v++]=65533,g+=b-1;else{for(y&=b===2?31:b===3?15:7;1<b&&g<x;)y=y<<6|63&h[g++],b--;1<b?w[v++]=65533:y<65536?w[v++]=y:(y-=65536,w[v++]=55296|y>>10&1023,w[v++]=56320|1023&y)}return d(w,v)},i.utf8border=function(h,p){var g;for((p=p||h.length)>h.length&&(p=h.length),g=p-1;0<=g&&(192&h[g])==128;)g--;return g<0||g===0?p:g+l[h[g]]>p?g:p}},{"./common":41}],43:[function(n,r,i){r.exports=function(s,a,o,l){for(var c=65535&s|0,d=s>>>16&65535|0,h=0;o!==0;){for(o-=h=2e3<o?2e3:o;d=d+(c=c+a[l++]|0)|0,--h;);c%=65521,d%=65521}return c|d<<16|0}},{}],44:[function(n,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,i){var s=(function(){for(var a,o=[],l=0;l<256;l++){a=l;for(var c=0;c<8;c++)a=1&a?3988292384^a>>>1:a>>>1;o[l]=a}return o})();r.exports=function(a,o,l,c){var d=s,h=c+l;a^=-1;for(var p=c;p<h;p++)a=a>>>8^d[255&(a^o[p])];return-1^a}},{}],46:[function(n,r,i){var s,a=n("../utils/common"),o=n("./trees"),l=n("./adler32"),c=n("./crc32"),d=n("./messages"),h=0,p=4,g=0,v=-2,y=-1,b=4,x=2,w=8,D=9,E=286,A=30,S=19,T=2*E+1,M=15,R=3,O=258,z=O+R+1,F=42,q=113,k=1,H=2,N=3,B=4;function G(P,oe){return P.msg=d[oe],oe}function $(P){return(P<<1)-(4<P?9:0)}function W(P){for(var oe=P.length;0<=--oe;)P[oe]=0}function L(P){var oe=P.state,ce=oe.pending;ce>P.avail_out&&(ce=P.avail_out),ce!==0&&(a.arraySet(P.output,oe.pending_buf,oe.pending_out,ce,P.next_out),P.next_out+=ce,oe.pending_out+=ce,P.total_out+=ce,P.avail_out-=ce,oe.pending-=ce,oe.pending===0&&(oe.pending_out=0))}function K(P,oe){o._tr_flush_block(P,0<=P.block_start?P.block_start:-1,P.strstart-P.block_start,oe),P.block_start=P.strstart,L(P.strm)}function j(P,oe){P.pending_buf[P.pending++]=oe}function Y(P,oe){P.pending_buf[P.pending++]=oe>>>8&255,P.pending_buf[P.pending++]=255&oe}function ee(P,oe){var ce,Q,J=P.max_chain_length,ue=P.strstart,De=P.prev_length,Se=P.nice_match,fe=P.strstart>P.w_size-z?P.strstart-(P.w_size-z):0,ie=P.window,le=P.w_mask,me=P.prev,ae=P.strstart+O,ve=ie[ue+De-1],Ue=ie[ue+De];P.prev_length>=P.good_match&&(J>>=2),Se>P.lookahead&&(Se=P.lookahead);do if(ie[(ce=oe)+De]===Ue&&ie[ce+De-1]===ve&&ie[ce]===ie[ue]&&ie[++ce]===ie[ue+1]){ue+=2,ce++;do;while(ie[++ue]===ie[++ce]&&ie[++ue]===ie[++ce]&&ie[++ue]===ie[++ce]&&ie[++ue]===ie[++ce]&&ie[++ue]===ie[++ce]&&ie[++ue]===ie[++ce]&&ie[++ue]===ie[++ce]&&ie[++ue]===ie[++ce]&&ue<ae);if(Q=O-(ae-ue),ue=ae-O,De<Q){if(P.match_start=oe,Se<=(De=Q))break;ve=ie[ue+De-1],Ue=ie[ue+De]}}while((oe=me[oe&le])>fe&&--J!=0);return De<=P.lookahead?De:P.lookahead}function re(P){var oe,ce,Q,J,ue,De,Se,fe,ie,le,me=P.w_size;do{if(J=P.window_size-P.lookahead-P.strstart,P.strstart>=me+(me-z)){for(a.arraySet(P.window,P.window,me,me,0),P.match_start-=me,P.strstart-=me,P.block_start-=me,oe=ce=P.hash_size;Q=P.head[--oe],P.head[oe]=me<=Q?Q-me:0,--ce;);for(oe=ce=me;Q=P.prev[--oe],P.prev[oe]=me<=Q?Q-me:0,--ce;);J+=me}if(P.strm.avail_in===0)break;if(De=P.strm,Se=P.window,fe=P.strstart+P.lookahead,ie=J,le=void 0,le=De.avail_in,ie<le&&(le=ie),ce=le===0?0:(De.avail_in-=le,a.arraySet(Se,De.input,De.next_in,le,fe),De.state.wrap===1?De.adler=l(De.adler,Se,le,fe):De.state.wrap===2&&(De.adler=c(De.adler,Se,le,fe)),De.next_in+=le,De.total_in+=le,le),P.lookahead+=ce,P.lookahead+P.insert>=R)for(ue=P.strstart-P.insert,P.ins_h=P.window[ue],P.ins_h=(P.ins_h<<P.hash_shift^P.window[ue+1])&P.hash_mask;P.insert&&(P.ins_h=(P.ins_h<<P.hash_shift^P.window[ue+R-1])&P.hash_mask,P.prev[ue&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=ue,ue++,P.insert--,!(P.lookahead+P.insert<R)););}while(P.lookahead<z&&P.strm.avail_in!==0)}function se(P,oe){for(var ce,Q;;){if(P.lookahead<z){if(re(P),P.lookahead<z&&oe===h)return k;if(P.lookahead===0)break}if(ce=0,P.lookahead>=R&&(P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+R-1])&P.hash_mask,ce=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart),ce!==0&&P.strstart-ce<=P.w_size-z&&(P.match_length=ee(P,ce)),P.match_length>=R)if(Q=o._tr_tally(P,P.strstart-P.match_start,P.match_length-R),P.lookahead-=P.match_length,P.match_length<=P.max_lazy_match&&P.lookahead>=R){for(P.match_length--;P.strstart++,P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+R-1])&P.hash_mask,ce=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart,--P.match_length!=0;);P.strstart++}else P.strstart+=P.match_length,P.match_length=0,P.ins_h=P.window[P.strstart],P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+1])&P.hash_mask;else Q=o._tr_tally(P,0,P.window[P.strstart]),P.lookahead--,P.strstart++;if(Q&&(K(P,!1),P.strm.avail_out===0))return k}return P.insert=P.strstart<R-1?P.strstart:R-1,oe===p?(K(P,!0),P.strm.avail_out===0?N:B):P.last_lit&&(K(P,!1),P.strm.avail_out===0)?k:H}function ye(P,oe){for(var ce,Q,J;;){if(P.lookahead<z){if(re(P),P.lookahead<z&&oe===h)return k;if(P.lookahead===0)break}if(ce=0,P.lookahead>=R&&(P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+R-1])&P.hash_mask,ce=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart),P.prev_length=P.match_length,P.prev_match=P.match_start,P.match_length=R-1,ce!==0&&P.prev_length<P.max_lazy_match&&P.strstart-ce<=P.w_size-z&&(P.match_length=ee(P,ce),P.match_length<=5&&(P.strategy===1||P.match_length===R&&4096<P.strstart-P.match_start)&&(P.match_length=R-1)),P.prev_length>=R&&P.match_length<=P.prev_length){for(J=P.strstart+P.lookahead-R,Q=o._tr_tally(P,P.strstart-1-P.prev_match,P.prev_length-R),P.lookahead-=P.prev_length-1,P.prev_length-=2;++P.strstart<=J&&(P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+R-1])&P.hash_mask,ce=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart),--P.prev_length!=0;);if(P.match_available=0,P.match_length=R-1,P.strstart++,Q&&(K(P,!1),P.strm.avail_out===0))return k}else if(P.match_available){if((Q=o._tr_tally(P,0,P.window[P.strstart-1]))&&K(P,!1),P.strstart++,P.lookahead--,P.strm.avail_out===0)return k}else P.match_available=1,P.strstart++,P.lookahead--}return P.match_available&&(Q=o._tr_tally(P,0,P.window[P.strstart-1]),P.match_available=0),P.insert=P.strstart<R-1?P.strstart:R-1,oe===p?(K(P,!0),P.strm.avail_out===0?N:B):P.last_lit&&(K(P,!1),P.strm.avail_out===0)?k:H}function xe(P,oe,ce,Q,J){this.good_length=P,this.max_lazy=oe,this.nice_length=ce,this.max_chain=Q,this.func=J}function Re(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=w,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*T),this.dyn_dtree=new a.Buf16(2*(2*A+1)),this.bl_tree=new a.Buf16(2*(2*S+1)),W(this.dyn_ltree),W(this.dyn_dtree),W(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(M+1),this.heap=new a.Buf16(2*E+1),W(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*E+1),W(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Fe(P){var oe;return P&&P.state?(P.total_in=P.total_out=0,P.data_type=x,(oe=P.state).pending=0,oe.pending_out=0,oe.wrap<0&&(oe.wrap=-oe.wrap),oe.status=oe.wrap?F:q,P.adler=oe.wrap===2?0:1,oe.last_flush=h,o._tr_init(oe),g):G(P,v)}function qe(P){var oe=Fe(P);return oe===g&&(function(ce){ce.window_size=2*ce.w_size,W(ce.head),ce.max_lazy_match=s[ce.level].max_lazy,ce.good_match=s[ce.level].good_length,ce.nice_match=s[ce.level].nice_length,ce.max_chain_length=s[ce.level].max_chain,ce.strstart=0,ce.block_start=0,ce.lookahead=0,ce.insert=0,ce.match_length=ce.prev_length=R-1,ce.match_available=0,ce.ins_h=0})(P.state),oe}function We(P,oe,ce,Q,J,ue){if(!P)return v;var De=1;if(oe===y&&(oe=6),Q<0?(De=0,Q=-Q):15<Q&&(De=2,Q-=16),J<1||D<J||ce!==w||Q<8||15<Q||oe<0||9<oe||ue<0||b<ue)return G(P,v);Q===8&&(Q=9);var Se=new Re;return(P.state=Se).strm=P,Se.wrap=De,Se.gzhead=null,Se.w_bits=Q,Se.w_size=1<<Se.w_bits,Se.w_mask=Se.w_size-1,Se.hash_bits=J+7,Se.hash_size=1<<Se.hash_bits,Se.hash_mask=Se.hash_size-1,Se.hash_shift=~~((Se.hash_bits+R-1)/R),Se.window=new a.Buf8(2*Se.w_size),Se.head=new a.Buf16(Se.hash_size),Se.prev=new a.Buf16(Se.w_size),Se.lit_bufsize=1<<J+6,Se.pending_buf_size=4*Se.lit_bufsize,Se.pending_buf=new a.Buf8(Se.pending_buf_size),Se.d_buf=1*Se.lit_bufsize,Se.l_buf=3*Se.lit_bufsize,Se.level=oe,Se.strategy=ue,Se.method=ce,qe(P)}s=[new xe(0,0,0,0,function(P,oe){var ce=65535;for(ce>P.pending_buf_size-5&&(ce=P.pending_buf_size-5);;){if(P.lookahead<=1){if(re(P),P.lookahead===0&&oe===h)return k;if(P.lookahead===0)break}P.strstart+=P.lookahead,P.lookahead=0;var Q=P.block_start+ce;if((P.strstart===0||P.strstart>=Q)&&(P.lookahead=P.strstart-Q,P.strstart=Q,K(P,!1),P.strm.avail_out===0)||P.strstart-P.block_start>=P.w_size-z&&(K(P,!1),P.strm.avail_out===0))return k}return P.insert=0,oe===p?(K(P,!0),P.strm.avail_out===0?N:B):(P.strstart>P.block_start&&(K(P,!1),P.strm.avail_out),k)}),new xe(4,4,8,4,se),new xe(4,5,16,8,se),new xe(4,6,32,32,se),new xe(4,4,16,16,ye),new xe(8,16,32,32,ye),new xe(8,16,128,128,ye),new xe(8,32,128,256,ye),new xe(32,128,258,1024,ye),new xe(32,258,258,4096,ye)],i.deflateInit=function(P,oe){return We(P,oe,w,15,8,0)},i.deflateInit2=We,i.deflateReset=qe,i.deflateResetKeep=Fe,i.deflateSetHeader=function(P,oe){return P&&P.state?P.state.wrap!==2?v:(P.state.gzhead=oe,g):v},i.deflate=function(P,oe){var ce,Q,J,ue;if(!P||!P.state||5<oe||oe<0)return P?G(P,v):v;if(Q=P.state,!P.output||!P.input&&P.avail_in!==0||Q.status===666&&oe!==p)return G(P,P.avail_out===0?-5:v);if(Q.strm=P,ce=Q.last_flush,Q.last_flush=oe,Q.status===F)if(Q.wrap===2)P.adler=0,j(Q,31),j(Q,139),j(Q,8),Q.gzhead?(j(Q,(Q.gzhead.text?1:0)+(Q.gzhead.hcrc?2:0)+(Q.gzhead.extra?4:0)+(Q.gzhead.name?8:0)+(Q.gzhead.comment?16:0)),j(Q,255&Q.gzhead.time),j(Q,Q.gzhead.time>>8&255),j(Q,Q.gzhead.time>>16&255),j(Q,Q.gzhead.time>>24&255),j(Q,Q.level===9?2:2<=Q.strategy||Q.level<2?4:0),j(Q,255&Q.gzhead.os),Q.gzhead.extra&&Q.gzhead.extra.length&&(j(Q,255&Q.gzhead.extra.length),j(Q,Q.gzhead.extra.length>>8&255)),Q.gzhead.hcrc&&(P.adler=c(P.adler,Q.pending_buf,Q.pending,0)),Q.gzindex=0,Q.status=69):(j(Q,0),j(Q,0),j(Q,0),j(Q,0),j(Q,0),j(Q,Q.level===9?2:2<=Q.strategy||Q.level<2?4:0),j(Q,3),Q.status=q);else{var De=w+(Q.w_bits-8<<4)<<8;De|=(2<=Q.strategy||Q.level<2?0:Q.level<6?1:Q.level===6?2:3)<<6,Q.strstart!==0&&(De|=32),De+=31-De%31,Q.status=q,Y(Q,De),Q.strstart!==0&&(Y(Q,P.adler>>>16),Y(Q,65535&P.adler)),P.adler=1}if(Q.status===69)if(Q.gzhead.extra){for(J=Q.pending;Q.gzindex<(65535&Q.gzhead.extra.length)&&(Q.pending!==Q.pending_buf_size||(Q.gzhead.hcrc&&Q.pending>J&&(P.adler=c(P.adler,Q.pending_buf,Q.pending-J,J)),L(P),J=Q.pending,Q.pending!==Q.pending_buf_size));)j(Q,255&Q.gzhead.extra[Q.gzindex]),Q.gzindex++;Q.gzhead.hcrc&&Q.pending>J&&(P.adler=c(P.adler,Q.pending_buf,Q.pending-J,J)),Q.gzindex===Q.gzhead.extra.length&&(Q.gzindex=0,Q.status=73)}else Q.status=73;if(Q.status===73)if(Q.gzhead.name){J=Q.pending;do{if(Q.pending===Q.pending_buf_size&&(Q.gzhead.hcrc&&Q.pending>J&&(P.adler=c(P.adler,Q.pending_buf,Q.pending-J,J)),L(P),J=Q.pending,Q.pending===Q.pending_buf_size)){ue=1;break}ue=Q.gzindex<Q.gzhead.name.length?255&Q.gzhead.name.charCodeAt(Q.gzindex++):0,j(Q,ue)}while(ue!==0);Q.gzhead.hcrc&&Q.pending>J&&(P.adler=c(P.adler,Q.pending_buf,Q.pending-J,J)),ue===0&&(Q.gzindex=0,Q.status=91)}else Q.status=91;if(Q.status===91)if(Q.gzhead.comment){J=Q.pending;do{if(Q.pending===Q.pending_buf_size&&(Q.gzhead.hcrc&&Q.pending>J&&(P.adler=c(P.adler,Q.pending_buf,Q.pending-J,J)),L(P),J=Q.pending,Q.pending===Q.pending_buf_size)){ue=1;break}ue=Q.gzindex<Q.gzhead.comment.length?255&Q.gzhead.comment.charCodeAt(Q.gzindex++):0,j(Q,ue)}while(ue!==0);Q.gzhead.hcrc&&Q.pending>J&&(P.adler=c(P.adler,Q.pending_buf,Q.pending-J,J)),ue===0&&(Q.status=103)}else Q.status=103;if(Q.status===103&&(Q.gzhead.hcrc?(Q.pending+2>Q.pending_buf_size&&L(P),Q.pending+2<=Q.pending_buf_size&&(j(Q,255&P.adler),j(Q,P.adler>>8&255),P.adler=0,Q.status=q)):Q.status=q),Q.pending!==0){if(L(P),P.avail_out===0)return Q.last_flush=-1,g}else if(P.avail_in===0&&$(oe)<=$(ce)&&oe!==p)return G(P,-5);if(Q.status===666&&P.avail_in!==0)return G(P,-5);if(P.avail_in!==0||Q.lookahead!==0||oe!==h&&Q.status!==666){var Se=Q.strategy===2?(function(fe,ie){for(var le;;){if(fe.lookahead===0&&(re(fe),fe.lookahead===0)){if(ie===h)return k;break}if(fe.match_length=0,le=o._tr_tally(fe,0,fe.window[fe.strstart]),fe.lookahead--,fe.strstart++,le&&(K(fe,!1),fe.strm.avail_out===0))return k}return fe.insert=0,ie===p?(K(fe,!0),fe.strm.avail_out===0?N:B):fe.last_lit&&(K(fe,!1),fe.strm.avail_out===0)?k:H})(Q,oe):Q.strategy===3?(function(fe,ie){for(var le,me,ae,ve,Ue=fe.window;;){if(fe.lookahead<=O){if(re(fe),fe.lookahead<=O&&ie===h)return k;if(fe.lookahead===0)break}if(fe.match_length=0,fe.lookahead>=R&&0<fe.strstart&&(me=Ue[ae=fe.strstart-1])===Ue[++ae]&&me===Ue[++ae]&&me===Ue[++ae]){ve=fe.strstart+O;do;while(me===Ue[++ae]&&me===Ue[++ae]&&me===Ue[++ae]&&me===Ue[++ae]&&me===Ue[++ae]&&me===Ue[++ae]&&me===Ue[++ae]&&me===Ue[++ae]&&ae<ve);fe.match_length=O-(ve-ae),fe.match_length>fe.lookahead&&(fe.match_length=fe.lookahead)}if(fe.match_length>=R?(le=o._tr_tally(fe,1,fe.match_length-R),fe.lookahead-=fe.match_length,fe.strstart+=fe.match_length,fe.match_length=0):(le=o._tr_tally(fe,0,fe.window[fe.strstart]),fe.lookahead--,fe.strstart++),le&&(K(fe,!1),fe.strm.avail_out===0))return k}return fe.insert=0,ie===p?(K(fe,!0),fe.strm.avail_out===0?N:B):fe.last_lit&&(K(fe,!1),fe.strm.avail_out===0)?k:H})(Q,oe):s[Q.level].func(Q,oe);if(Se!==N&&Se!==B||(Q.status=666),Se===k||Se===N)return P.avail_out===0&&(Q.last_flush=-1),g;if(Se===H&&(oe===1?o._tr_align(Q):oe!==5&&(o._tr_stored_block(Q,0,0,!1),oe===3&&(W(Q.head),Q.lookahead===0&&(Q.strstart=0,Q.block_start=0,Q.insert=0))),L(P),P.avail_out===0))return Q.last_flush=-1,g}return oe!==p?g:Q.wrap<=0?1:(Q.wrap===2?(j(Q,255&P.adler),j(Q,P.adler>>8&255),j(Q,P.adler>>16&255),j(Q,P.adler>>24&255),j(Q,255&P.total_in),j(Q,P.total_in>>8&255),j(Q,P.total_in>>16&255),j(Q,P.total_in>>24&255)):(Y(Q,P.adler>>>16),Y(Q,65535&P.adler)),L(P),0<Q.wrap&&(Q.wrap=-Q.wrap),Q.pending!==0?g:1)},i.deflateEnd=function(P){var oe;return P&&P.state?(oe=P.state.status)!==F&&oe!==69&&oe!==73&&oe!==91&&oe!==103&&oe!==q&&oe!==666?G(P,v):(P.state=null,oe===q?G(P,-3):g):v},i.deflateSetDictionary=function(P,oe){var ce,Q,J,ue,De,Se,fe,ie,le=oe.length;if(!P||!P.state||(ue=(ce=P.state).wrap)===2||ue===1&&ce.status!==F||ce.lookahead)return v;for(ue===1&&(P.adler=l(P.adler,oe,le,0)),ce.wrap=0,le>=ce.w_size&&(ue===0&&(W(ce.head),ce.strstart=0,ce.block_start=0,ce.insert=0),ie=new a.Buf8(ce.w_size),a.arraySet(ie,oe,le-ce.w_size,ce.w_size,0),oe=ie,le=ce.w_size),De=P.avail_in,Se=P.next_in,fe=P.input,P.avail_in=le,P.next_in=0,P.input=oe,re(ce);ce.lookahead>=R;){for(Q=ce.strstart,J=ce.lookahead-(R-1);ce.ins_h=(ce.ins_h<<ce.hash_shift^ce.window[Q+R-1])&ce.hash_mask,ce.prev[Q&ce.w_mask]=ce.head[ce.ins_h],ce.head[ce.ins_h]=Q,Q++,--J;);ce.strstart=Q,ce.lookahead=R-1,re(ce)}return ce.strstart+=ce.lookahead,ce.block_start=ce.strstart,ce.insert=ce.lookahead,ce.lookahead=0,ce.match_length=ce.prev_length=R-1,ce.match_available=0,P.next_in=Se,P.input=fe,P.avail_in=De,ce.wrap=ue,g},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,i){r.exports=function(s,a){var o,l,c,d,h,p,g,v,y,b,x,w,D,E,A,S,T,M,R,O,z,F,q,k,H;o=s.state,l=s.next_in,k=s.input,c=l+(s.avail_in-5),d=s.next_out,H=s.output,h=d-(a-s.avail_out),p=d+(s.avail_out-257),g=o.dmax,v=o.wsize,y=o.whave,b=o.wnext,x=o.window,w=o.hold,D=o.bits,E=o.lencode,A=o.distcode,S=(1<<o.lenbits)-1,T=(1<<o.distbits)-1;e:do{D<15&&(w+=k[l++]<<D,D+=8,w+=k[l++]<<D,D+=8),M=E[w&S];t:for(;;){if(w>>>=R=M>>>24,D-=R,(R=M>>>16&255)===0)H[d++]=65535&M;else{if(!(16&R)){if((64&R)==0){M=E[(65535&M)+(w&(1<<R)-1)];continue t}if(32&R){o.mode=12;break e}s.msg="invalid literal/length code",o.mode=30;break e}O=65535&M,(R&=15)&&(D<R&&(w+=k[l++]<<D,D+=8),O+=w&(1<<R)-1,w>>>=R,D-=R),D<15&&(w+=k[l++]<<D,D+=8,w+=k[l++]<<D,D+=8),M=A[w&T];n:for(;;){if(w>>>=R=M>>>24,D-=R,!(16&(R=M>>>16&255))){if((64&R)==0){M=A[(65535&M)+(w&(1<<R)-1)];continue n}s.msg="invalid distance code",o.mode=30;break e}if(z=65535&M,D<(R&=15)&&(w+=k[l++]<<D,(D+=8)<R&&(w+=k[l++]<<D,D+=8)),g<(z+=w&(1<<R)-1)){s.msg="invalid distance too far back",o.mode=30;break e}if(w>>>=R,D-=R,(R=d-h)<z){if(y<(R=z-R)&&o.sane){s.msg="invalid distance too far back",o.mode=30;break e}if(q=x,(F=0)===b){if(F+=v-R,R<O){for(O-=R;H[d++]=x[F++],--R;);F=d-z,q=H}}else if(b<R){if(F+=v+b-R,(R-=b)<O){for(O-=R;H[d++]=x[F++],--R;);if(F=0,b<O){for(O-=R=b;H[d++]=x[F++],--R;);F=d-z,q=H}}}else if(F+=b-R,R<O){for(O-=R;H[d++]=x[F++],--R;);F=d-z,q=H}for(;2<O;)H[d++]=q[F++],H[d++]=q[F++],H[d++]=q[F++],O-=3;O&&(H[d++]=q[F++],1<O&&(H[d++]=q[F++]))}else{for(F=d-z;H[d++]=H[F++],H[d++]=H[F++],H[d++]=H[F++],2<(O-=3););O&&(H[d++]=H[F++],1<O&&(H[d++]=H[F++]))}break}}break}}while(l<c&&d<p);l-=O=D>>3,w&=(1<<(D-=O<<3))-1,s.next_in=l,s.next_out=d,s.avail_in=l<c?c-l+5:5-(l-c),s.avail_out=d<p?p-d+257:257-(d-p),o.hold=w,o.bits=D}},{}],49:[function(n,r,i){var s=n("../utils/common"),a=n("./adler32"),o=n("./crc32"),l=n("./inffast"),c=n("./inftrees"),d=1,h=2,p=0,g=-2,v=1,y=852,b=592;function x(F){return(F>>>24&255)+(F>>>8&65280)+((65280&F)<<8)+((255&F)<<24)}function w(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function D(F){var q;return F&&F.state?(q=F.state,F.total_in=F.total_out=q.total=0,F.msg="",q.wrap&&(F.adler=1&q.wrap),q.mode=v,q.last=0,q.havedict=0,q.dmax=32768,q.head=null,q.hold=0,q.bits=0,q.lencode=q.lendyn=new s.Buf32(y),q.distcode=q.distdyn=new s.Buf32(b),q.sane=1,q.back=-1,p):g}function E(F){var q;return F&&F.state?((q=F.state).wsize=0,q.whave=0,q.wnext=0,D(F)):g}function A(F,q){var k,H;return F&&F.state?(H=F.state,q<0?(k=0,q=-q):(k=1+(q>>4),q<48&&(q&=15)),q&&(q<8||15<q)?g:(H.window!==null&&H.wbits!==q&&(H.window=null),H.wrap=k,H.wbits=q,E(F))):g}function S(F,q){var k,H;return F?(H=new w,(F.state=H).window=null,(k=A(F,q))!==p&&(F.state=null),k):g}var T,M,R=!0;function O(F){if(R){var q;for(T=new s.Buf32(512),M=new s.Buf32(32),q=0;q<144;)F.lens[q++]=8;for(;q<256;)F.lens[q++]=9;for(;q<280;)F.lens[q++]=7;for(;q<288;)F.lens[q++]=8;for(c(d,F.lens,0,288,T,0,F.work,{bits:9}),q=0;q<32;)F.lens[q++]=5;c(h,F.lens,0,32,M,0,F.work,{bits:5}),R=!1}F.lencode=T,F.lenbits=9,F.distcode=M,F.distbits=5}function z(F,q,k,H){var N,B=F.state;return B.window===null&&(B.wsize=1<<B.wbits,B.wnext=0,B.whave=0,B.window=new s.Buf8(B.wsize)),H>=B.wsize?(s.arraySet(B.window,q,k-B.wsize,B.wsize,0),B.wnext=0,B.whave=B.wsize):(H<(N=B.wsize-B.wnext)&&(N=H),s.arraySet(B.window,q,k-H,N,B.wnext),(H-=N)?(s.arraySet(B.window,q,k-H,H,0),B.wnext=H,B.whave=B.wsize):(B.wnext+=N,B.wnext===B.wsize&&(B.wnext=0),B.whave<B.wsize&&(B.whave+=N))),0}i.inflateReset=E,i.inflateReset2=A,i.inflateResetKeep=D,i.inflateInit=function(F){return S(F,15)},i.inflateInit2=S,i.inflate=function(F,q){var k,H,N,B,G,$,W,L,K,j,Y,ee,re,se,ye,xe,Re,Fe,qe,We,P,oe,ce,Q,J=0,ue=new s.Buf8(4),De=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!F||!F.state||!F.output||!F.input&&F.avail_in!==0)return g;(k=F.state).mode===12&&(k.mode=13),G=F.next_out,N=F.output,W=F.avail_out,B=F.next_in,H=F.input,$=F.avail_in,L=k.hold,K=k.bits,j=$,Y=W,oe=p;e:for(;;)switch(k.mode){case v:if(k.wrap===0){k.mode=13;break}for(;K<16;){if($===0)break e;$--,L+=H[B++]<<K,K+=8}if(2&k.wrap&&L===35615){ue[k.check=0]=255&L,ue[1]=L>>>8&255,k.check=o(k.check,ue,2,0),K=L=0,k.mode=2;break}if(k.flags=0,k.head&&(k.head.done=!1),!(1&k.wrap)||(((255&L)<<8)+(L>>8))%31){F.msg="incorrect header check",k.mode=30;break}if((15&L)!=8){F.msg="unknown compression method",k.mode=30;break}if(K-=4,P=8+(15&(L>>>=4)),k.wbits===0)k.wbits=P;else if(P>k.wbits){F.msg="invalid window size",k.mode=30;break}k.dmax=1<<P,F.adler=k.check=1,k.mode=512&L?10:12,K=L=0;break;case 2:for(;K<16;){if($===0)break e;$--,L+=H[B++]<<K,K+=8}if(k.flags=L,(255&k.flags)!=8){F.msg="unknown compression method",k.mode=30;break}if(57344&k.flags){F.msg="unknown header flags set",k.mode=30;break}k.head&&(k.head.text=L>>8&1),512&k.flags&&(ue[0]=255&L,ue[1]=L>>>8&255,k.check=o(k.check,ue,2,0)),K=L=0,k.mode=3;case 3:for(;K<32;){if($===0)break e;$--,L+=H[B++]<<K,K+=8}k.head&&(k.head.time=L),512&k.flags&&(ue[0]=255&L,ue[1]=L>>>8&255,ue[2]=L>>>16&255,ue[3]=L>>>24&255,k.check=o(k.check,ue,4,0)),K=L=0,k.mode=4;case 4:for(;K<16;){if($===0)break e;$--,L+=H[B++]<<K,K+=8}k.head&&(k.head.xflags=255&L,k.head.os=L>>8),512&k.flags&&(ue[0]=255&L,ue[1]=L>>>8&255,k.check=o(k.check,ue,2,0)),K=L=0,k.mode=5;case 5:if(1024&k.flags){for(;K<16;){if($===0)break e;$--,L+=H[B++]<<K,K+=8}k.length=L,k.head&&(k.head.extra_len=L),512&k.flags&&(ue[0]=255&L,ue[1]=L>>>8&255,k.check=o(k.check,ue,2,0)),K=L=0}else k.head&&(k.head.extra=null);k.mode=6;case 6:if(1024&k.flags&&($<(ee=k.length)&&(ee=$),ee&&(k.head&&(P=k.head.extra_len-k.length,k.head.extra||(k.head.extra=new Array(k.head.extra_len)),s.arraySet(k.head.extra,H,B,ee,P)),512&k.flags&&(k.check=o(k.check,H,ee,B)),$-=ee,B+=ee,k.length-=ee),k.length))break e;k.length=0,k.mode=7;case 7:if(2048&k.flags){if($===0)break e;for(ee=0;P=H[B+ee++],k.head&&P&&k.length<65536&&(k.head.name+=String.fromCharCode(P)),P&&ee<$;);if(512&k.flags&&(k.check=o(k.check,H,ee,B)),$-=ee,B+=ee,P)break e}else k.head&&(k.head.name=null);k.length=0,k.mode=8;case 8:if(4096&k.flags){if($===0)break e;for(ee=0;P=H[B+ee++],k.head&&P&&k.length<65536&&(k.head.comment+=String.fromCharCode(P)),P&&ee<$;);if(512&k.flags&&(k.check=o(k.check,H,ee,B)),$-=ee,B+=ee,P)break e}else k.head&&(k.head.comment=null);k.mode=9;case 9:if(512&k.flags){for(;K<16;){if($===0)break e;$--,L+=H[B++]<<K,K+=8}if(L!==(65535&k.check)){F.msg="header crc mismatch",k.mode=30;break}K=L=0}k.head&&(k.head.hcrc=k.flags>>9&1,k.head.done=!0),F.adler=k.check=0,k.mode=12;break;case 10:for(;K<32;){if($===0)break e;$--,L+=H[B++]<<K,K+=8}F.adler=k.check=x(L),K=L=0,k.mode=11;case 11:if(k.havedict===0)return F.next_out=G,F.avail_out=W,F.next_in=B,F.avail_in=$,k.hold=L,k.bits=K,2;F.adler=k.check=1,k.mode=12;case 12:if(q===5||q===6)break e;case 13:if(k.last){L>>>=7&K,K-=7&K,k.mode=27;break}for(;K<3;){if($===0)break e;$--,L+=H[B++]<<K,K+=8}switch(k.last=1&L,K-=1,3&(L>>>=1)){case 0:k.mode=14;break;case 1:if(O(k),k.mode=20,q!==6)break;L>>>=2,K-=2;break e;case 2:k.mode=17;break;case 3:F.msg="invalid block type",k.mode=30}L>>>=2,K-=2;break;case 14:for(L>>>=7&K,K-=7&K;K<32;){if($===0)break e;$--,L+=H[B++]<<K,K+=8}if((65535&L)!=(L>>>16^65535)){F.msg="invalid stored block lengths",k.mode=30;break}if(k.length=65535&L,K=L=0,k.mode=15,q===6)break e;case 15:k.mode=16;case 16:if(ee=k.length){if($<ee&&(ee=$),W<ee&&(ee=W),ee===0)break e;s.arraySet(N,H,B,ee,G),$-=ee,B+=ee,W-=ee,G+=ee,k.length-=ee;break}k.mode=12;break;case 17:for(;K<14;){if($===0)break e;$--,L+=H[B++]<<K,K+=8}if(k.nlen=257+(31&L),L>>>=5,K-=5,k.ndist=1+(31&L),L>>>=5,K-=5,k.ncode=4+(15&L),L>>>=4,K-=4,286<k.nlen||30<k.ndist){F.msg="too many length or distance symbols",k.mode=30;break}k.have=0,k.mode=18;case 18:for(;k.have<k.ncode;){for(;K<3;){if($===0)break e;$--,L+=H[B++]<<K,K+=8}k.lens[De[k.have++]]=7&L,L>>>=3,K-=3}for(;k.have<19;)k.lens[De[k.have++]]=0;if(k.lencode=k.lendyn,k.lenbits=7,ce={bits:k.lenbits},oe=c(0,k.lens,0,19,k.lencode,0,k.work,ce),k.lenbits=ce.bits,oe){F.msg="invalid code lengths set",k.mode=30;break}k.have=0,k.mode=19;case 19:for(;k.have<k.nlen+k.ndist;){for(;xe=(J=k.lencode[L&(1<<k.lenbits)-1])>>>16&255,Re=65535&J,!((ye=J>>>24)<=K);){if($===0)break e;$--,L+=H[B++]<<K,K+=8}if(Re<16)L>>>=ye,K-=ye,k.lens[k.have++]=Re;else{if(Re===16){for(Q=ye+2;K<Q;){if($===0)break e;$--,L+=H[B++]<<K,K+=8}if(L>>>=ye,K-=ye,k.have===0){F.msg="invalid bit length repeat",k.mode=30;break}P=k.lens[k.have-1],ee=3+(3&L),L>>>=2,K-=2}else if(Re===17){for(Q=ye+3;K<Q;){if($===0)break e;$--,L+=H[B++]<<K,K+=8}K-=ye,P=0,ee=3+(7&(L>>>=ye)),L>>>=3,K-=3}else{for(Q=ye+7;K<Q;){if($===0)break e;$--,L+=H[B++]<<K,K+=8}K-=ye,P=0,ee=11+(127&(L>>>=ye)),L>>>=7,K-=7}if(k.have+ee>k.nlen+k.ndist){F.msg="invalid bit length repeat",k.mode=30;break}for(;ee--;)k.lens[k.have++]=P}}if(k.mode===30)break;if(k.lens[256]===0){F.msg="invalid code -- missing end-of-block",k.mode=30;break}if(k.lenbits=9,ce={bits:k.lenbits},oe=c(d,k.lens,0,k.nlen,k.lencode,0,k.work,ce),k.lenbits=ce.bits,oe){F.msg="invalid literal/lengths set",k.mode=30;break}if(k.distbits=6,k.distcode=k.distdyn,ce={bits:k.distbits},oe=c(h,k.lens,k.nlen,k.ndist,k.distcode,0,k.work,ce),k.distbits=ce.bits,oe){F.msg="invalid distances set",k.mode=30;break}if(k.mode=20,q===6)break e;case 20:k.mode=21;case 21:if(6<=$&&258<=W){F.next_out=G,F.avail_out=W,F.next_in=B,F.avail_in=$,k.hold=L,k.bits=K,l(F,Y),G=F.next_out,N=F.output,W=F.avail_out,B=F.next_in,H=F.input,$=F.avail_in,L=k.hold,K=k.bits,k.mode===12&&(k.back=-1);break}for(k.back=0;xe=(J=k.lencode[L&(1<<k.lenbits)-1])>>>16&255,Re=65535&J,!((ye=J>>>24)<=K);){if($===0)break e;$--,L+=H[B++]<<K,K+=8}if(xe&&(240&xe)==0){for(Fe=ye,qe=xe,We=Re;xe=(J=k.lencode[We+((L&(1<<Fe+qe)-1)>>Fe)])>>>16&255,Re=65535&J,!(Fe+(ye=J>>>24)<=K);){if($===0)break e;$--,L+=H[B++]<<K,K+=8}L>>>=Fe,K-=Fe,k.back+=Fe}if(L>>>=ye,K-=ye,k.back+=ye,k.length=Re,xe===0){k.mode=26;break}if(32&xe){k.back=-1,k.mode=12;break}if(64&xe){F.msg="invalid literal/length code",k.mode=30;break}k.extra=15&xe,k.mode=22;case 22:if(k.extra){for(Q=k.extra;K<Q;){if($===0)break e;$--,L+=H[B++]<<K,K+=8}k.length+=L&(1<<k.extra)-1,L>>>=k.extra,K-=k.extra,k.back+=k.extra}k.was=k.length,k.mode=23;case 23:for(;xe=(J=k.distcode[L&(1<<k.distbits)-1])>>>16&255,Re=65535&J,!((ye=J>>>24)<=K);){if($===0)break e;$--,L+=H[B++]<<K,K+=8}if((240&xe)==0){for(Fe=ye,qe=xe,We=Re;xe=(J=k.distcode[We+((L&(1<<Fe+qe)-1)>>Fe)])>>>16&255,Re=65535&J,!(Fe+(ye=J>>>24)<=K);){if($===0)break e;$--,L+=H[B++]<<K,K+=8}L>>>=Fe,K-=Fe,k.back+=Fe}if(L>>>=ye,K-=ye,k.back+=ye,64&xe){F.msg="invalid distance code",k.mode=30;break}k.offset=Re,k.extra=15&xe,k.mode=24;case 24:if(k.extra){for(Q=k.extra;K<Q;){if($===0)break e;$--,L+=H[B++]<<K,K+=8}k.offset+=L&(1<<k.extra)-1,L>>>=k.extra,K-=k.extra,k.back+=k.extra}if(k.offset>k.dmax){F.msg="invalid distance too far back",k.mode=30;break}k.mode=25;case 25:if(W===0)break e;if(ee=Y-W,k.offset>ee){if((ee=k.offset-ee)>k.whave&&k.sane){F.msg="invalid distance too far back",k.mode=30;break}re=ee>k.wnext?(ee-=k.wnext,k.wsize-ee):k.wnext-ee,ee>k.length&&(ee=k.length),se=k.window}else se=N,re=G-k.offset,ee=k.length;for(W<ee&&(ee=W),W-=ee,k.length-=ee;N[G++]=se[re++],--ee;);k.length===0&&(k.mode=21);break;case 26:if(W===0)break e;N[G++]=k.length,W--,k.mode=21;break;case 27:if(k.wrap){for(;K<32;){if($===0)break e;$--,L|=H[B++]<<K,K+=8}if(Y-=W,F.total_out+=Y,k.total+=Y,Y&&(F.adler=k.check=k.flags?o(k.check,N,Y,G-Y):a(k.check,N,Y,G-Y)),Y=W,(k.flags?L:x(L))!==k.check){F.msg="incorrect data check",k.mode=30;break}K=L=0}k.mode=28;case 28:if(k.wrap&&k.flags){for(;K<32;){if($===0)break e;$--,L+=H[B++]<<K,K+=8}if(L!==(4294967295&k.total)){F.msg="incorrect length check",k.mode=30;break}K=L=0}k.mode=29;case 29:oe=1;break e;case 30:oe=-3;break e;case 31:return-4;default:return g}return F.next_out=G,F.avail_out=W,F.next_in=B,F.avail_in=$,k.hold=L,k.bits=K,(k.wsize||Y!==F.avail_out&&k.mode<30&&(k.mode<27||q!==4))&&z(F,F.output,F.next_out,Y-F.avail_out)?(k.mode=31,-4):(j-=F.avail_in,Y-=F.avail_out,F.total_in+=j,F.total_out+=Y,k.total+=Y,k.wrap&&Y&&(F.adler=k.check=k.flags?o(k.check,N,Y,F.next_out-Y):a(k.check,N,Y,F.next_out-Y)),F.data_type=k.bits+(k.last?64:0)+(k.mode===12?128:0)+(k.mode===20||k.mode===15?256:0),(j==0&&Y===0||q===4)&&oe===p&&(oe=-5),oe)},i.inflateEnd=function(F){if(!F||!F.state)return g;var q=F.state;return q.window&&(q.window=null),F.state=null,p},i.inflateGetHeader=function(F,q){var k;return F&&F.state?(2&(k=F.state).wrap)==0?g:((k.head=q).done=!1,p):g},i.inflateSetDictionary=function(F,q){var k,H=q.length;return F&&F.state?(k=F.state).wrap!==0&&k.mode!==11?g:k.mode===11&&a(1,q,H,0)!==k.check?-3:z(F,q,H,H)?(k.mode=31,-4):(k.havedict=1,p):g},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,i){var s=n("../utils/common"),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(d,h,p,g,v,y,b,x){var w,D,E,A,S,T,M,R,O,z=x.bits,F=0,q=0,k=0,H=0,N=0,B=0,G=0,$=0,W=0,L=0,K=null,j=0,Y=new s.Buf16(16),ee=new s.Buf16(16),re=null,se=0;for(F=0;F<=15;F++)Y[F]=0;for(q=0;q<g;q++)Y[h[p+q]]++;for(N=z,H=15;1<=H&&Y[H]===0;H--);if(H<N&&(N=H),H===0)return v[y++]=20971520,v[y++]=20971520,x.bits=1,0;for(k=1;k<H&&Y[k]===0;k++);for(N<k&&(N=k),F=$=1;F<=15;F++)if($<<=1,($-=Y[F])<0)return-1;if(0<$&&(d===0||H!==1))return-1;for(ee[1]=0,F=1;F<15;F++)ee[F+1]=ee[F]+Y[F];for(q=0;q<g;q++)h[p+q]!==0&&(b[ee[h[p+q]]++]=q);if(T=d===0?(K=re=b,19):d===1?(K=a,j-=257,re=o,se-=257,256):(K=l,re=c,-1),F=k,S=y,G=q=L=0,E=-1,A=(W=1<<(B=N))-1,d===1&&852<W||d===2&&592<W)return 1;for(;;){for(M=F-G,O=b[q]<T?(R=0,b[q]):b[q]>T?(R=re[se+b[q]],K[j+b[q]]):(R=96,0),w=1<<F-G,k=D=1<<B;v[S+(L>>G)+(D-=w)]=M<<24|R<<16|O|0,D!==0;);for(w=1<<F-1;L&w;)w>>=1;if(w!==0?(L&=w-1,L+=w):L=0,q++,--Y[F]==0){if(F===H)break;F=h[p+b[q]]}if(N<F&&(L&A)!==E){for(G===0&&(G=N),S+=k,$=1<<(B=F-G);B+G<H&&!(($-=Y[B+G])<=0);)B++,$<<=1;if(W+=1<<B,d===1&&852<W||d===2&&592<W)return 1;v[E=L&A]=N<<24|B<<16|S-y|0}}return L!==0&&(v[S+L]=F-G<<24|64<<16|0),x.bits=N,0}},{"../utils/common":41}],51:[function(n,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,i){var s=n("../utils/common"),a=0,o=1;function l(J){for(var ue=J.length;0<=--ue;)J[ue]=0}var c=0,d=29,h=256,p=h+1+d,g=30,v=19,y=2*p+1,b=15,x=16,w=7,D=256,E=16,A=17,S=18,T=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],M=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],R=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],O=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],z=new Array(2*(p+2));l(z);var F=new Array(2*g);l(F);var q=new Array(512);l(q);var k=new Array(256);l(k);var H=new Array(d);l(H);var N,B,G,$=new Array(g);function W(J,ue,De,Se,fe){this.static_tree=J,this.extra_bits=ue,this.extra_base=De,this.elems=Se,this.max_length=fe,this.has_stree=J&&J.length}function L(J,ue){this.dyn_tree=J,this.max_code=0,this.stat_desc=ue}function K(J){return J<256?q[J]:q[256+(J>>>7)]}function j(J,ue){J.pending_buf[J.pending++]=255&ue,J.pending_buf[J.pending++]=ue>>>8&255}function Y(J,ue,De){J.bi_valid>x-De?(J.bi_buf|=ue<<J.bi_valid&65535,j(J,J.bi_buf),J.bi_buf=ue>>x-J.bi_valid,J.bi_valid+=De-x):(J.bi_buf|=ue<<J.bi_valid&65535,J.bi_valid+=De)}function ee(J,ue,De){Y(J,De[2*ue],De[2*ue+1])}function re(J,ue){for(var De=0;De|=1&J,J>>>=1,De<<=1,0<--ue;);return De>>>1}function se(J,ue,De){var Se,fe,ie=new Array(b+1),le=0;for(Se=1;Se<=b;Se++)ie[Se]=le=le+De[Se-1]<<1;for(fe=0;fe<=ue;fe++){var me=J[2*fe+1];me!==0&&(J[2*fe]=re(ie[me]++,me))}}function ye(J){var ue;for(ue=0;ue<p;ue++)J.dyn_ltree[2*ue]=0;for(ue=0;ue<g;ue++)J.dyn_dtree[2*ue]=0;for(ue=0;ue<v;ue++)J.bl_tree[2*ue]=0;J.dyn_ltree[2*D]=1,J.opt_len=J.static_len=0,J.last_lit=J.matches=0}function xe(J){8<J.bi_valid?j(J,J.bi_buf):0<J.bi_valid&&(J.pending_buf[J.pending++]=J.bi_buf),J.bi_buf=0,J.bi_valid=0}function Re(J,ue,De,Se){var fe=2*ue,ie=2*De;return J[fe]<J[ie]||J[fe]===J[ie]&&Se[ue]<=Se[De]}function Fe(J,ue,De){for(var Se=J.heap[De],fe=De<<1;fe<=J.heap_len&&(fe<J.heap_len&&Re(ue,J.heap[fe+1],J.heap[fe],J.depth)&&fe++,!Re(ue,Se,J.heap[fe],J.depth));)J.heap[De]=J.heap[fe],De=fe,fe<<=1;J.heap[De]=Se}function qe(J,ue,De){var Se,fe,ie,le,me=0;if(J.last_lit!==0)for(;Se=J.pending_buf[J.d_buf+2*me]<<8|J.pending_buf[J.d_buf+2*me+1],fe=J.pending_buf[J.l_buf+me],me++,Se===0?ee(J,fe,ue):(ee(J,(ie=k[fe])+h+1,ue),(le=T[ie])!==0&&Y(J,fe-=H[ie],le),ee(J,ie=K(--Se),De),(le=M[ie])!==0&&Y(J,Se-=$[ie],le)),me<J.last_lit;);ee(J,D,ue)}function We(J,ue){var De,Se,fe,ie=ue.dyn_tree,le=ue.stat_desc.static_tree,me=ue.stat_desc.has_stree,ae=ue.stat_desc.elems,ve=-1;for(J.heap_len=0,J.heap_max=y,De=0;De<ae;De++)ie[2*De]!==0?(J.heap[++J.heap_len]=ve=De,J.depth[De]=0):ie[2*De+1]=0;for(;J.heap_len<2;)ie[2*(fe=J.heap[++J.heap_len]=ve<2?++ve:0)]=1,J.depth[fe]=0,J.opt_len--,me&&(J.static_len-=le[2*fe+1]);for(ue.max_code=ve,De=J.heap_len>>1;1<=De;De--)Fe(J,ie,De);for(fe=ae;De=J.heap[1],J.heap[1]=J.heap[J.heap_len--],Fe(J,ie,1),Se=J.heap[1],J.heap[--J.heap_max]=De,J.heap[--J.heap_max]=Se,ie[2*fe]=ie[2*De]+ie[2*Se],J.depth[fe]=(J.depth[De]>=J.depth[Se]?J.depth[De]:J.depth[Se])+1,ie[2*De+1]=ie[2*Se+1]=fe,J.heap[1]=fe++,Fe(J,ie,1),2<=J.heap_len;);J.heap[--J.heap_max]=J.heap[1],(function(Ue,Le){var Pe,Ve,tt,pe,Te,Be,Ie=Le.dyn_tree,Qe=Le.max_code,st=Le.stat_desc.static_tree,qt=Le.stat_desc.has_stree,Kt=Le.stat_desc.extra_bits,Pn=Le.stat_desc.extra_base,Z=Le.stat_desc.max_length,te=0;for(pe=0;pe<=b;pe++)Ue.bl_count[pe]=0;for(Ie[2*Ue.heap[Ue.heap_max]+1]=0,Pe=Ue.heap_max+1;Pe<y;Pe++)Z<(pe=Ie[2*Ie[2*(Ve=Ue.heap[Pe])+1]+1]+1)&&(pe=Z,te++),Ie[2*Ve+1]=pe,Qe<Ve||(Ue.bl_count[pe]++,Te=0,Pn<=Ve&&(Te=Kt[Ve-Pn]),Be=Ie[2*Ve],Ue.opt_len+=Be*(pe+Te),qt&&(Ue.static_len+=Be*(st[2*Ve+1]+Te)));if(te!==0){do{for(pe=Z-1;Ue.bl_count[pe]===0;)pe--;Ue.bl_count[pe]--,Ue.bl_count[pe+1]+=2,Ue.bl_count[Z]--,te-=2}while(0<te);for(pe=Z;pe!==0;pe--)for(Ve=Ue.bl_count[pe];Ve!==0;)Qe<(tt=Ue.heap[--Pe])||(Ie[2*tt+1]!==pe&&(Ue.opt_len+=(pe-Ie[2*tt+1])*Ie[2*tt],Ie[2*tt+1]=pe),Ve--)}})(J,ue),se(ie,ve,J.bl_count)}function P(J,ue,De){var Se,fe,ie=-1,le=ue[1],me=0,ae=7,ve=4;for(le===0&&(ae=138,ve=3),ue[2*(De+1)+1]=65535,Se=0;Se<=De;Se++)fe=le,le=ue[2*(Se+1)+1],++me<ae&&fe===le||(me<ve?J.bl_tree[2*fe]+=me:fe!==0?(fe!==ie&&J.bl_tree[2*fe]++,J.bl_tree[2*E]++):me<=10?J.bl_tree[2*A]++:J.bl_tree[2*S]++,ie=fe,ve=(me=0)===le?(ae=138,3):fe===le?(ae=6,3):(ae=7,4))}function oe(J,ue,De){var Se,fe,ie=-1,le=ue[1],me=0,ae=7,ve=4;for(le===0&&(ae=138,ve=3),Se=0;Se<=De;Se++)if(fe=le,le=ue[2*(Se+1)+1],!(++me<ae&&fe===le)){if(me<ve)for(;ee(J,fe,J.bl_tree),--me!=0;);else fe!==0?(fe!==ie&&(ee(J,fe,J.bl_tree),me--),ee(J,E,J.bl_tree),Y(J,me-3,2)):me<=10?(ee(J,A,J.bl_tree),Y(J,me-3,3)):(ee(J,S,J.bl_tree),Y(J,me-11,7));ie=fe,ve=(me=0)===le?(ae=138,3):fe===le?(ae=6,3):(ae=7,4)}}l($);var ce=!1;function Q(J,ue,De,Se){Y(J,(c<<1)+(Se?1:0),3),(function(fe,ie,le,me){xe(fe),j(fe,le),j(fe,~le),s.arraySet(fe.pending_buf,fe.window,ie,le,fe.pending),fe.pending+=le})(J,ue,De)}i._tr_init=function(J){ce||((function(){var ue,De,Se,fe,ie,le=new Array(b+1);for(fe=Se=0;fe<d-1;fe++)for(H[fe]=Se,ue=0;ue<1<<T[fe];ue++)k[Se++]=fe;for(k[Se-1]=fe,fe=ie=0;fe<16;fe++)for($[fe]=ie,ue=0;ue<1<<M[fe];ue++)q[ie++]=fe;for(ie>>=7;fe<g;fe++)for($[fe]=ie<<7,ue=0;ue<1<<M[fe]-7;ue++)q[256+ie++]=fe;for(De=0;De<=b;De++)le[De]=0;for(ue=0;ue<=143;)z[2*ue+1]=8,ue++,le[8]++;for(;ue<=255;)z[2*ue+1]=9,ue++,le[9]++;for(;ue<=279;)z[2*ue+1]=7,ue++,le[7]++;for(;ue<=287;)z[2*ue+1]=8,ue++,le[8]++;for(se(z,p+1,le),ue=0;ue<g;ue++)F[2*ue+1]=5,F[2*ue]=re(ue,5);N=new W(z,T,h+1,p,b),B=new W(F,M,0,g,b),G=new W(new Array(0),R,0,v,w)})(),ce=!0),J.l_desc=new L(J.dyn_ltree,N),J.d_desc=new L(J.dyn_dtree,B),J.bl_desc=new L(J.bl_tree,G),J.bi_buf=0,J.bi_valid=0,ye(J)},i._tr_stored_block=Q,i._tr_flush_block=function(J,ue,De,Se){var fe,ie,le=0;0<J.level?(J.strm.data_type===2&&(J.strm.data_type=(function(me){var ae,ve=4093624447;for(ae=0;ae<=31;ae++,ve>>>=1)if(1&ve&&me.dyn_ltree[2*ae]!==0)return a;if(me.dyn_ltree[18]!==0||me.dyn_ltree[20]!==0||me.dyn_ltree[26]!==0)return o;for(ae=32;ae<h;ae++)if(me.dyn_ltree[2*ae]!==0)return o;return a})(J)),We(J,J.l_desc),We(J,J.d_desc),le=(function(me){var ae;for(P(me,me.dyn_ltree,me.l_desc.max_code),P(me,me.dyn_dtree,me.d_desc.max_code),We(me,me.bl_desc),ae=v-1;3<=ae&&me.bl_tree[2*O[ae]+1]===0;ae--);return me.opt_len+=3*(ae+1)+5+5+4,ae})(J),fe=J.opt_len+3+7>>>3,(ie=J.static_len+3+7>>>3)<=fe&&(fe=ie)):fe=ie=De+5,De+4<=fe&&ue!==-1?Q(J,ue,De,Se):J.strategy===4||ie===fe?(Y(J,2+(Se?1:0),3),qe(J,z,F)):(Y(J,4+(Se?1:0),3),(function(me,ae,ve,Ue){var Le;for(Y(me,ae-257,5),Y(me,ve-1,5),Y(me,Ue-4,4),Le=0;Le<Ue;Le++)Y(me,me.bl_tree[2*O[Le]+1],3);oe(me,me.dyn_ltree,ae-1),oe(me,me.dyn_dtree,ve-1)})(J,J.l_desc.max_code+1,J.d_desc.max_code+1,le+1),qe(J,J.dyn_ltree,J.dyn_dtree)),ye(J),Se&&xe(J)},i._tr_tally=function(J,ue,De){return J.pending_buf[J.d_buf+2*J.last_lit]=ue>>>8&255,J.pending_buf[J.d_buf+2*J.last_lit+1]=255&ue,J.pending_buf[J.l_buf+J.last_lit]=255&De,J.last_lit++,ue===0?J.dyn_ltree[2*De]++:(J.matches++,ue--,J.dyn_ltree[2*(k[De]+h+1)]++,J.dyn_dtree[2*K(ue)]++),J.last_lit===J.lit_bufsize-1},i._tr_align=function(J){Y(J,2,3),ee(J,D,z),(function(ue){ue.bi_valid===16?(j(ue,ue.bi_buf),ue.bi_buf=0,ue.bi_valid=0):8<=ue.bi_valid&&(ue.pending_buf[ue.pending++]=255&ue.bi_buf,ue.bi_buf>>=8,ue.bi_valid-=8)})(J)}},{"../utils/common":41}],53:[function(n,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,i){(function(s){(function(a,o){if(!a.setImmediate){var l,c,d,h,p=1,g={},v=!1,y=a.document,b=Object.getPrototypeOf&&Object.getPrototypeOf(a);b=b&&b.setTimeout?b:a,l={}.toString.call(a.process)==="[object process]"?function(E){process.nextTick(function(){w(E)})}:(function(){if(a.postMessage&&!a.importScripts){var E=!0,A=a.onmessage;return a.onmessage=function(){E=!1},a.postMessage("","*"),a.onmessage=A,E}})()?(h="setImmediate$"+Math.random()+"$",a.addEventListener?a.addEventListener("message",D,!1):a.attachEvent("onmessage",D),function(E){a.postMessage(h+E,"*")}):a.MessageChannel?((d=new MessageChannel).port1.onmessage=function(E){w(E.data)},function(E){d.port2.postMessage(E)}):y&&"onreadystatechange"in y.createElement("script")?(c=y.documentElement,function(E){var A=y.createElement("script");A.onreadystatechange=function(){w(E),A.onreadystatechange=null,c.removeChild(A),A=null},c.appendChild(A)}):function(E){setTimeout(w,0,E)},b.setImmediate=function(E){typeof E!="function"&&(E=new Function(""+E));for(var A=new Array(arguments.length-1),S=0;S<A.length;S++)A[S]=arguments[S+1];var T={callback:E,args:A};return g[p]=T,l(p),p++},b.clearImmediate=x}function x(E){delete g[E]}function w(E){if(v)setTimeout(w,0,E);else{var A=g[E];if(A){v=!0;try{(function(S){var T=S.callback,M=S.args;switch(M.length){case 0:T();break;case 1:T(M[0]);break;case 2:T(M[0],M[1]);break;case 3:T(M[0],M[1],M[2]);break;default:T.apply(o,M)}})(A)}finally{x(E),v=!1}}}}function D(E){E.source===a&&typeof E.data=="string"&&E.data.indexOf(h)===0&&w(+E.data.slice(h.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof Li<"u"?Li:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(_A)),_A.exports}var nz;function LZ(){if(nz)return Ah;nz=1;var t=iUe(),e=sUe();Ah.openArrayBuffer=n,Ah.splitPath=r,Ah.joinPath=i;function n(s){return e.loadAsync(s).then(function(a){function o(h){return a.file(h)!==null}function l(h,p){return a.file(h).async("uint8array").then(function(g){if(p==="base64")return t.fromByteArray(g);if(p){var v=new TextDecoder(p);return v.decode(g)}else return g})}function c(h,p){a.file(h,p)}function d(){return a.generateAsync({type:"arraybuffer"})}return{exists:o,read:l,write:c,toArrayBuffer:d}})}function r(s){var a=s.lastIndexOf("/");return a===-1?{dirname:"",basename:s}:{dirname:s.substring(0,a),basename:s.substring(a+1)}}function i(){var s=Array.prototype.filter.call(arguments,function(o){return o}),a=[];return s.forEach(function(o){/^\//.test(o)?a=[o]:a.push(o)}),a.join("/")}return Ah}var Um={},io={},au={},rz;function BZ(){if(rz)return au;rz=1;var t=En;au.Element=n,au.element=function(s,a,o){return new n(s,a,o)},au.text=function(s){return{type:"text",value:s}};var e=au.emptyElement={first:function(){return null},firstOrEmpty:function(){return e},attributes:{},children:[]};function n(s,a,o){this.type="element",this.name=s,this.attributes=a||{},this.children=o||[]}n.prototype.first=function(s){return t.find(this.children,function(a){return a.name===s})},n.prototype.firstOrEmpty=function(s){return this.first(s)||e},n.prototype.getElementsByTagName=function(s){var a=t.filter(this.children,function(o){return o.name===s});return i(a)},n.prototype.text=function(){if(this.children.length===0)return"";if(this.children.length!==1||this.children[0].type!=="text")throw new Error("Not implemented");return this.children[0].value};var r={getElementsByTagName:function(s){return i(t.flatten(this.map(function(a){return a.getElementsByTagName(s)},!0)))}};function i(s){return t.extend(s,r)}return au}var DA={},Mm={},Ch={},la={},cl={},iz;function Av(){if(iz)return cl;iz=1;function t(s,a,o){if(o===void 0&&(o=Array.prototype),s&&typeof o.find=="function")return o.find.call(s,a);for(var l=0;l<s.length;l++)if(Object.prototype.hasOwnProperty.call(s,l)){var c=s[l];if(a.call(void 0,c,l,s))return c}}function e(s,a){return a===void 0&&(a=Object),a&&typeof a.freeze=="function"?a.freeze(s):s}function n(s,a){if(s===null||typeof s!="object")throw new TypeError("target is not an object");for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(s[o]=a[o]);return s}var r=e({HTML:"text/html",isHTML:function(s){return s===r.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),i=e({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(s){return s===i.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});return cl.assign=n,cl.find=t,cl.freeze=e,cl.MIME_TYPE=r,cl.NAMESPACE=i,cl}var sz;function H3(){if(sz)return la;sz=1;var t=Av(),e=t.find,n=t.NAMESPACE;function r(Z){return Z!==""}function i(Z){return Z?Z.split(/[\t\n\f\r ]+/).filter(r):[]}function s(Z,te){return Z.hasOwnProperty(te)||(Z[te]=!0),Z}function a(Z){if(!Z)return[];var te=i(Z);return Object.keys(te.reduce(s,{}))}function o(Z){return function(te){return Z&&Z.indexOf(te)!==-1}}function l(Z,te){for(var de in Z)Object.prototype.hasOwnProperty.call(Z,de)&&(te[de]=Z[de])}function c(Z,te){var de=Z.prototype;if(!(de instanceof te)){let Ee=function(){};Ee.prototype=te.prototype,Ee=new Ee,l(de,Ee),Z.prototype=de=Ee}de.constructor!=Z&&(typeof Z!="function"&&console.error("unknown Class:"+Z),de.constructor=Z)}var d={},h=d.ELEMENT_NODE=1,p=d.ATTRIBUTE_NODE=2,g=d.TEXT_NODE=3,v=d.CDATA_SECTION_NODE=4,y=d.ENTITY_REFERENCE_NODE=5,b=d.ENTITY_NODE=6,x=d.PROCESSING_INSTRUCTION_NODE=7,w=d.COMMENT_NODE=8,D=d.DOCUMENT_NODE=9,E=d.DOCUMENT_TYPE_NODE=10,A=d.DOCUMENT_FRAGMENT_NODE=11,S=d.NOTATION_NODE=12,T={},M={};T.INDEX_SIZE_ERR=(M[1]="Index size error",1),T.DOMSTRING_SIZE_ERR=(M[2]="DOMString size error",2);var R=T.HIERARCHY_REQUEST_ERR=(M[3]="Hierarchy request error",3);T.WRONG_DOCUMENT_ERR=(M[4]="Wrong document",4),T.INVALID_CHARACTER_ERR=(M[5]="Invalid character",5),T.NO_DATA_ALLOWED_ERR=(M[6]="No data allowed",6),T.NO_MODIFICATION_ALLOWED_ERR=(M[7]="No modification allowed",7);var O=T.NOT_FOUND_ERR=(M[8]="Not found",8);T.NOT_SUPPORTED_ERR=(M[9]="Not supported",9);var z=T.INUSE_ATTRIBUTE_ERR=(M[10]="Attribute in use",10);T.INVALID_STATE_ERR=(M[11]="Invalid state",11),T.SYNTAX_ERR=(M[12]="Syntax error",12),T.INVALID_MODIFICATION_ERR=(M[13]="Invalid modification",13),T.NAMESPACE_ERR=(M[14]="Invalid namespace",14),T.INVALID_ACCESS_ERR=(M[15]="Invalid access",15);function F(Z,te){if(te instanceof Error)var de=te;else de=this,Error.call(this,M[Z]),this.message=M[Z],Error.captureStackTrace&&Error.captureStackTrace(this,F);return de.code=Z,te&&(this.message=this.message+": "+te),de}F.prototype=Error.prototype,l(T,F);function q(){}q.prototype={length:0,item:function(Z){return Z>=0&&Z<this.length?this[Z]:null},toString:function(Z,te){for(var de=[],Ee=0;Ee<this.length;Ee++)st(this[Ee],de,Z,te);return de.join("")},filter:function(Z){return Array.prototype.filter.call(this,Z)},indexOf:function(Z){return Array.prototype.indexOf.call(this,Z)}};function k(Z,te){this._node=Z,this._refresh=te,H(this)}function H(Z){var te=Z._node._inc||Z._node.ownerDocument._inc;if(Z._inc!==te){var de=Z._refresh(Z._node);if(Pn(Z,"length",de.length),!Z.$$length||de.length<Z.$$length)for(var Ee=de.length;Ee in Z;Ee++)Object.prototype.hasOwnProperty.call(Z,Ee)&&delete Z[Ee];l(de,Z),Z._inc=te}}k.prototype.item=function(Z){return H(this),this[Z]||null},c(k,q);function N(){}function B(Z,te){for(var de=Z.length;de--;)if(Z[de]===te)return de}function G(Z,te,de,Ee){if(Ee?te[B(te,Ee)]=de:te[te.length++]=de,Z){de.ownerElement=Z;var ze=Z.ownerDocument;ze&&(Ee&&re(ze,Z,Ee),ee(ze,Z,de))}}function $(Z,te,de){var Ee=B(te,de);if(Ee>=0){for(var ze=te.length-1;Ee<ze;)te[Ee]=te[++Ee];if(te.length=ze,Z){var at=Z.ownerDocument;at&&(re(at,Z,de),de.ownerElement=null)}}else throw new F(O,new Error(Z.tagName+"@"+de))}N.prototype={length:0,item:q.prototype.item,getNamedItem:function(Z){for(var te=this.length;te--;){var de=this[te];if(de.nodeName==Z)return de}},setNamedItem:function(Z){var te=Z.ownerElement;if(te&&te!=this._ownerElement)throw new F(z);var de=this.getNamedItem(Z.nodeName);return G(this._ownerElement,this,Z,de),de},setNamedItemNS:function(Z){var te=Z.ownerElement,de;if(te&&te!=this._ownerElement)throw new F(z);return de=this.getNamedItemNS(Z.namespaceURI,Z.localName),G(this._ownerElement,this,Z,de),de},removeNamedItem:function(Z){var te=this.getNamedItem(Z);return $(this._ownerElement,this,te),te},removeNamedItemNS:function(Z,te){var de=this.getNamedItemNS(Z,te);return $(this._ownerElement,this,de),de},getNamedItemNS:function(Z,te){for(var de=this.length;de--;){var Ee=this[de];if(Ee.localName==te&&Ee.namespaceURI==Z)return Ee}return null}};function W(){}W.prototype={hasFeature:function(Z,te){return!0},createDocument:function(Z,te,de){var Ee=new Y;if(Ee.implementation=this,Ee.childNodes=new q,Ee.doctype=de||null,de&&Ee.appendChild(de),te){var ze=Ee.createElementNS(Z,te);Ee.appendChild(ze)}return Ee},createDocumentType:function(Z,te,de){var Ee=new Ue;return Ee.name=Z,Ee.nodeName=Z,Ee.publicId=te||"",Ee.systemId=de||"",Ee}};function L(){}L.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(Z,te){return ue(this,Z,te)},replaceChild:function(Z,te){ue(this,Z,te,J),te&&this.removeChild(te)},removeChild:function(Z){return ye(this,Z)},appendChild:function(Z){return this.insertBefore(Z,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(Z){return Kt(this.ownerDocument||this,this,Z)},normalize:function(){for(var Z=this.firstChild;Z;){var te=Z.nextSibling;te&&te.nodeType==g&&Z.nodeType==g?(this.removeChild(te),Z.appendData(te.data)):(Z.normalize(),Z=te)}},isSupported:function(Z,te){return this.ownerDocument.implementation.hasFeature(Z,te)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(Z){for(var te=this;te;){var de=te._nsMap;if(de){for(var Ee in de)if(Object.prototype.hasOwnProperty.call(de,Ee)&&de[Ee]===Z)return Ee}te=te.nodeType==p?te.ownerDocument:te.parentNode}return null},lookupNamespaceURI:function(Z){for(var te=this;te;){var de=te._nsMap;if(de&&Object.prototype.hasOwnProperty.call(de,Z))return de[Z];te=te.nodeType==p?te.ownerDocument:te.parentNode}return null},isDefaultNamespace:function(Z){var te=this.lookupPrefix(Z);return te==null}};function K(Z){return Z=="<"&&"&lt;"||Z==">"&&"&gt;"||Z=="&"&&"&amp;"||Z=='"'&&"&quot;"||"&#"+Z.charCodeAt()+";"}l(d,L),l(d,L.prototype);function j(Z,te){if(te(Z))return!0;if(Z=Z.firstChild)do if(j(Z,te))return!0;while(Z=Z.nextSibling)}function Y(){this.ownerDocument=this}function ee(Z,te,de){Z&&Z._inc++;var Ee=de.namespaceURI;Ee===n.XMLNS&&(te._nsMap[de.prefix?de.localName:""]=de.value)}function re(Z,te,de,Ee){Z&&Z._inc++;var ze=de.namespaceURI;ze===n.XMLNS&&delete te._nsMap[de.prefix?de.localName:""]}function se(Z,te,de){if(Z&&Z._inc){Z._inc++;var Ee=te.childNodes;if(de)Ee[Ee.length++]=de;else{for(var ze=te.firstChild,at=0;ze;)Ee[at++]=ze,ze=ze.nextSibling;Ee.length=at,delete Ee[Ee.length]}}}function ye(Z,te){var de=te.previousSibling,Ee=te.nextSibling;return de?de.nextSibling=Ee:Z.firstChild=Ee,Ee?Ee.previousSibling=de:Z.lastChild=de,te.parentNode=null,te.previousSibling=null,te.nextSibling=null,se(Z.ownerDocument,Z),te}function xe(Z){return Z&&(Z.nodeType===L.DOCUMENT_NODE||Z.nodeType===L.DOCUMENT_FRAGMENT_NODE||Z.nodeType===L.ELEMENT_NODE)}function Re(Z){return Z&&(qe(Z)||We(Z)||Fe(Z)||Z.nodeType===L.DOCUMENT_FRAGMENT_NODE||Z.nodeType===L.COMMENT_NODE||Z.nodeType===L.PROCESSING_INSTRUCTION_NODE)}function Fe(Z){return Z&&Z.nodeType===L.DOCUMENT_TYPE_NODE}function qe(Z){return Z&&Z.nodeType===L.ELEMENT_NODE}function We(Z){return Z&&Z.nodeType===L.TEXT_NODE}function P(Z,te){var de=Z.childNodes||[];if(e(de,qe)||Fe(te))return!1;var Ee=e(de,Fe);return!(te&&Ee&&de.indexOf(Ee)>de.indexOf(te))}function oe(Z,te){var de=Z.childNodes||[];function Ee(at){return qe(at)&&at!==te}if(e(de,Ee))return!1;var ze=e(de,Fe);return!(te&&ze&&de.indexOf(ze)>de.indexOf(te))}function ce(Z,te,de){if(!xe(Z))throw new F(R,"Unexpected parent node type "+Z.nodeType);if(de&&de.parentNode!==Z)throw new F(O,"child not in parent");if(!Re(te)||Fe(te)&&Z.nodeType!==L.DOCUMENT_NODE)throw new F(R,"Unexpected node type "+te.nodeType+" for parent node type "+Z.nodeType)}function Q(Z,te,de){var Ee=Z.childNodes||[],ze=te.childNodes||[];if(te.nodeType===L.DOCUMENT_FRAGMENT_NODE){var at=ze.filter(qe);if(at.length>1||e(ze,We))throw new F(R,"More than one element or text in fragment");if(at.length===1&&!P(Z,de))throw new F(R,"Element in fragment can not be inserted before doctype")}if(qe(te)&&!P(Z,de))throw new F(R,"Only one element can be added and only after doctype");if(Fe(te)){if(e(Ee,Fe))throw new F(R,"Only one doctype is allowed");var It=e(Ee,qe);if(de&&Ee.indexOf(It)<Ee.indexOf(de))throw new F(R,"Doctype can only be inserted before an element");if(!de&&It)throw new F(R,"Doctype can not be appended since element is present")}}function J(Z,te,de){var Ee=Z.childNodes||[],ze=te.childNodes||[];if(te.nodeType===L.DOCUMENT_FRAGMENT_NODE){var at=ze.filter(qe);if(at.length>1||e(ze,We))throw new F(R,"More than one element or text in fragment");if(at.length===1&&!oe(Z,de))throw new F(R,"Element in fragment can not be inserted before doctype")}if(qe(te)&&!oe(Z,de))throw new F(R,"Only one element can be added and only after doctype");if(Fe(te)){if(e(Ee,function(gr){return Fe(gr)&&gr!==de}))throw new F(R,"Only one doctype is allowed");var It=e(Ee,qe);if(de&&Ee.indexOf(It)<Ee.indexOf(de))throw new F(R,"Doctype can only be inserted before an element")}}function ue(Z,te,de,Ee){ce(Z,te,de),Z.nodeType===L.DOCUMENT_NODE&&(Ee||Q)(Z,te,de);var ze=te.parentNode;if(ze&&ze.removeChild(te),te.nodeType===A){var at=te.firstChild;if(at==null)return te;var It=te.lastChild}else at=It=te;var pn=de?de.previousSibling:Z.lastChild;at.previousSibling=pn,It.nextSibling=de,pn?pn.nextSibling=at:Z.firstChild=at,de==null?Z.lastChild=It:de.previousSibling=It;do{at.parentNode=Z;var gr=Z.ownerDocument||Z;De(at,gr)}while(at!==It&&(at=at.nextSibling));return se(Z.ownerDocument||Z,Z),te.nodeType==A&&(te.firstChild=te.lastChild=null),te}function De(Z,te){if(Z.ownerDocument!==te){if(Z.ownerDocument=te,Z.nodeType===h&&Z.attributes)for(var de=0;de<Z.attributes.length;de++){var Ee=Z.attributes.item(de);Ee&&(Ee.ownerDocument=te)}for(var ze=Z.firstChild;ze;)De(ze,te),ze=ze.nextSibling}}function Se(Z,te){te.parentNode&&te.parentNode.removeChild(te),te.parentNode=Z,te.previousSibling=Z.lastChild,te.nextSibling=null,te.previousSibling?te.previousSibling.nextSibling=te:Z.firstChild=te,Z.lastChild=te,se(Z.ownerDocument,Z,te);var de=Z.ownerDocument||Z;return De(te,de),te}Y.prototype={nodeName:"#document",nodeType:D,doctype:null,documentElement:null,_inc:1,insertBefore:function(Z,te){if(Z.nodeType==A){for(var de=Z.firstChild;de;){var Ee=de.nextSibling;this.insertBefore(de,te),de=Ee}return Z}return ue(this,Z,te),De(Z,this),this.documentElement===null&&Z.nodeType===h&&(this.documentElement=Z),Z},removeChild:function(Z){return this.documentElement==Z&&(this.documentElement=null),ye(this,Z)},replaceChild:function(Z,te){ue(this,Z,te,J),De(Z,this),te&&this.removeChild(te),qe(Z)&&(this.documentElement=Z)},importNode:function(Z,te){return qt(this,Z,te)},getElementById:function(Z){var te=null;return j(this.documentElement,function(de){if(de.nodeType==h&&de.getAttribute("id")==Z)return te=de,!0}),te},getElementsByClassName:function(Z){var te=a(Z);return new k(this,function(de){var Ee=[];return te.length>0&&j(de.documentElement,function(ze){if(ze!==de&&ze.nodeType===h){var at=ze.getAttribute("class");if(at){var It=Z===at;if(!It){var pn=a(at);It=te.every(o(pn))}It&&Ee.push(ze)}}}),Ee})},createElement:function(Z){var te=new fe;te.ownerDocument=this,te.nodeName=Z,te.tagName=Z,te.localName=Z,te.childNodes=new q;var de=te.attributes=new N;return de._ownerElement=te,te},createDocumentFragment:function(){var Z=new tt;return Z.ownerDocument=this,Z.childNodes=new q,Z},createTextNode:function(Z){var te=new me;return te.ownerDocument=this,te.appendData(Z),te},createComment:function(Z){var te=new ae;return te.ownerDocument=this,te.appendData(Z),te},createCDATASection:function(Z){var te=new ve;return te.ownerDocument=this,te.appendData(Z),te},createProcessingInstruction:function(Z,te){var de=new pe;return de.ownerDocument=this,de.tagName=de.nodeName=de.target=Z,de.nodeValue=de.data=te,de},createAttribute:function(Z){var te=new ie;return te.ownerDocument=this,te.name=Z,te.nodeName=Z,te.localName=Z,te.specified=!0,te},createEntityReference:function(Z){var te=new Ve;return te.ownerDocument=this,te.nodeName=Z,te},createElementNS:function(Z,te){var de=new fe,Ee=te.split(":"),ze=de.attributes=new N;return de.childNodes=new q,de.ownerDocument=this,de.nodeName=te,de.tagName=te,de.namespaceURI=Z,Ee.length==2?(de.prefix=Ee[0],de.localName=Ee[1]):de.localName=te,ze._ownerElement=de,de},createAttributeNS:function(Z,te){var de=new ie,Ee=te.split(":");return de.ownerDocument=this,de.nodeName=te,de.name=te,de.namespaceURI=Z,de.specified=!0,Ee.length==2?(de.prefix=Ee[0],de.localName=Ee[1]):de.localName=te,de}},c(Y,L);function fe(){this._nsMap={}}fe.prototype={nodeType:h,hasAttribute:function(Z){return this.getAttributeNode(Z)!=null},getAttribute:function(Z){var te=this.getAttributeNode(Z);return te&&te.value||""},getAttributeNode:function(Z){return this.attributes.getNamedItem(Z)},setAttribute:function(Z,te){var de=this.ownerDocument.createAttribute(Z);de.value=de.nodeValue=""+te,this.setAttributeNode(de)},removeAttribute:function(Z){var te=this.getAttributeNode(Z);te&&this.removeAttributeNode(te)},appendChild:function(Z){return Z.nodeType===A?this.insertBefore(Z,null):Se(this,Z)},setAttributeNode:function(Z){return this.attributes.setNamedItem(Z)},setAttributeNodeNS:function(Z){return this.attributes.setNamedItemNS(Z)},removeAttributeNode:function(Z){return this.attributes.removeNamedItem(Z.nodeName)},removeAttributeNS:function(Z,te){var de=this.getAttributeNodeNS(Z,te);de&&this.removeAttributeNode(de)},hasAttributeNS:function(Z,te){return this.getAttributeNodeNS(Z,te)!=null},getAttributeNS:function(Z,te){var de=this.getAttributeNodeNS(Z,te);return de&&de.value||""},setAttributeNS:function(Z,te,de){var Ee=this.ownerDocument.createAttributeNS(Z,te);Ee.value=Ee.nodeValue=""+de,this.setAttributeNode(Ee)},getAttributeNodeNS:function(Z,te){return this.attributes.getNamedItemNS(Z,te)},getElementsByTagName:function(Z){return new k(this,function(te){var de=[];return j(te,function(Ee){Ee!==te&&Ee.nodeType==h&&(Z==="*"||Ee.tagName==Z)&&de.push(Ee)}),de})},getElementsByTagNameNS:function(Z,te){return new k(this,function(de){var Ee=[];return j(de,function(ze){ze!==de&&ze.nodeType===h&&(Z==="*"||ze.namespaceURI===Z)&&(te==="*"||ze.localName==te)&&Ee.push(ze)}),Ee})}},Y.prototype.getElementsByTagName=fe.prototype.getElementsByTagName,Y.prototype.getElementsByTagNameNS=fe.prototype.getElementsByTagNameNS,c(fe,L);function ie(){}ie.prototype.nodeType=p,c(ie,L);function le(){}le.prototype={data:"",substringData:function(Z,te){return this.data.substring(Z,Z+te)},appendData:function(Z){Z=this.data+Z,this.nodeValue=this.data=Z,this.length=Z.length},insertData:function(Z,te){this.replaceData(Z,0,te)},appendChild:function(Z){throw new Error(M[R])},deleteData:function(Z,te){this.replaceData(Z,te,"")},replaceData:function(Z,te,de){var Ee=this.data.substring(0,Z),ze=this.data.substring(Z+te);de=Ee+de+ze,this.nodeValue=this.data=de,this.length=de.length}},c(le,L);function me(){}me.prototype={nodeName:"#text",nodeType:g,splitText:function(Z){var te=this.data,de=te.substring(Z);te=te.substring(0,Z),this.data=this.nodeValue=te,this.length=te.length;var Ee=this.ownerDocument.createTextNode(de);return this.parentNode&&this.parentNode.insertBefore(Ee,this.nextSibling),Ee}},c(me,le);function ae(){}ae.prototype={nodeName:"#comment",nodeType:w},c(ae,le);function ve(){}ve.prototype={nodeName:"#cdata-section",nodeType:v},c(ve,le);function Ue(){}Ue.prototype.nodeType=E,c(Ue,L);function Le(){}Le.prototype.nodeType=S,c(Le,L);function Pe(){}Pe.prototype.nodeType=b,c(Pe,L);function Ve(){}Ve.prototype.nodeType=y,c(Ve,L);function tt(){}tt.prototype.nodeName="#document-fragment",tt.prototype.nodeType=A,c(tt,L);function pe(){}pe.prototype.nodeType=x,c(pe,L);function Te(){}Te.prototype.serializeToString=function(Z,te,de){return Be.call(Z,te,de)},L.prototype.toString=Be;function Be(Z,te){var de=[],Ee=this.nodeType==9&&this.documentElement||this,ze=Ee.prefix,at=Ee.namespaceURI;if(at&&ze==null){var ze=Ee.lookupPrefix(at);if(ze==null)var It=[{namespace:at,prefix:null}]}return st(this,de,Z,te,It),de.join("")}function Ie(Z,te,de){var Ee=Z.prefix||"",ze=Z.namespaceURI;if(!ze||Ee==="xml"&&ze===n.XML||ze===n.XMLNS)return!1;for(var at=de.length;at--;){var It=de[at];if(It.prefix===Ee)return It.namespace!==ze}return!0}function Qe(Z,te,de){Z.push(" ",te,'="',de.replace(/[<>&"\t\n\r]/g,K),'"')}function st(Z,te,de,Ee,ze){if(ze||(ze=[]),Ee)if(Z=Ee(Z),Z){if(typeof Z=="string"){te.push(Z);return}}else return;switch(Z.nodeType){case h:var at=Z.attributes,It=at.length,At=Z.firstChild,pn=Z.tagName;de=n.isHTML(Z.namespaceURI)||de;var gr=pn;if(!de&&!Z.prefix&&Z.namespaceURI){for(var Kr,kr=0;kr<at.length;kr++)if(at.item(kr).name==="xmlns"){Kr=at.item(kr).value;break}if(!Kr)for(var yi=ze.length-1;yi>=0;yi--){var Yr=ze[yi];if(Yr.prefix===""&&Yr.namespace===Z.namespaceURI){Kr=Yr.namespace;break}}if(Kr!==Z.namespaceURI)for(var yi=ze.length-1;yi>=0;yi--){var Yr=ze[yi];if(Yr.namespace===Z.namespaceURI){Yr.prefix&&(gr=Yr.prefix+":"+pn);break}}}te.push("<",gr);for(var Zr=0;Zr<It;Zr++){var mr=at.item(Zr);mr.prefix=="xmlns"?ze.push({prefix:mr.localName,namespace:mr.value}):mr.nodeName=="xmlns"&&ze.push({prefix:"",namespace:mr.value})}for(var Zr=0;Zr<It;Zr++){var mr=at.item(Zr);if(Ie(mr,de,ze)){var bi=mr.prefix||"",lr=mr.namespaceURI;Qe(te,bi?"xmlns:"+bi:"xmlns",lr),ze.push({prefix:bi,namespace:lr})}st(mr,te,de,Ee,ze)}if(pn===gr&&Ie(Z,de,ze)){var bi=Z.prefix||"",lr=Z.namespaceURI;Qe(te,bi?"xmlns:"+bi:"xmlns",lr),ze.push({prefix:bi,namespace:lr})}if(At||de&&!/^(?:meta|link|img|br|hr|input)$/i.test(pn)){if(te.push(">"),de&&/^script$/i.test(pn))for(;At;)At.data?te.push(At.data):st(At,te,de,Ee,ze.slice()),At=At.nextSibling;else for(;At;)st(At,te,de,Ee,ze.slice()),At=At.nextSibling;te.push("</",gr,">")}else te.push("/>");return;case D:case A:for(var At=Z.firstChild;At;)st(At,te,de,Ee,ze.slice()),At=At.nextSibling;return;case p:return Qe(te,Z.name,Z.value);case g:return te.push(Z.data.replace(/[<&>]/g,K));case v:return te.push("<![CDATA[",Z.data,"]]>");case w:return te.push("<!--",Z.data,"-->");case E:var Sn=Z.publicId,yr=Z.systemId;if(te.push("<!DOCTYPE ",Z.name),Sn)te.push(" PUBLIC ",Sn),yr&&yr!="."&&te.push(" ",yr),te.push(">");else if(yr&&yr!=".")te.push(" SYSTEM ",yr,">");else{var ka=Z.internalSubset;ka&&te.push(" [",ka,"]"),te.push(">")}return;case x:return te.push("<?",Z.target," ",Z.data,"?>");case y:return te.push("&",Z.nodeName,";");default:te.push("??",Z.nodeName)}}function qt(Z,te,de){var Ee;switch(te.nodeType){case h:Ee=te.cloneNode(!1),Ee.ownerDocument=Z;case A:break;case p:de=!0;break}if(Ee||(Ee=te.cloneNode(!1)),Ee.ownerDocument=Z,Ee.parentNode=null,de)for(var ze=te.firstChild;ze;)Ee.appendChild(qt(Z,ze,de)),ze=ze.nextSibling;return Ee}function Kt(Z,te,de){var Ee=new te.constructor;for(var ze in te)if(Object.prototype.hasOwnProperty.call(te,ze)){var at=te[ze];typeof at!="object"&&at!=Ee[ze]&&(Ee[ze]=at)}switch(te.childNodes&&(Ee.childNodes=new q),Ee.ownerDocument=Z,Ee.nodeType){case h:var It=te.attributes,pn=Ee.attributes=new N,gr=It.length;pn._ownerElement=Ee;for(var Kr=0;Kr<gr;Kr++)Ee.setAttributeNode(Kt(Z,It.item(Kr),!0));break;case p:de=!0}if(de)for(var kr=te.firstChild;kr;)Ee.appendChild(Kt(Z,kr,de)),kr=kr.nextSibling;return Ee}function Pn(Z,te,de){Z[te]=de}try{if(Object.defineProperty){let Z=function(te){switch(te.nodeType){case h:case A:var de=[];for(te=te.firstChild;te;)te.nodeType!==7&&te.nodeType!==8&&de.push(Z(te)),te=te.nextSibling;return de.join("");default:return te.nodeValue}};Object.defineProperty(k.prototype,"length",{get:function(){return H(this),this.$$length}}),Object.defineProperty(L.prototype,"textContent",{get:function(){return Z(this)},set:function(te){switch(this.nodeType){case h:case A:for(;this.firstChild;)this.removeChild(this.firstChild);(te||String(te))&&this.appendChild(this.ownerDocument.createTextNode(te));break;default:this.data=te,this.value=te,this.nodeValue=te}}}),Pn=function(te,de,Ee){te["$$"+de]=Ee}}}catch{}return la.DocumentType=Ue,la.DOMException=F,la.DOMImplementation=W,la.Element=fe,la.Node=L,la.NodeList=q,la.XMLSerializer=Te,la}var kh={},EA={},az;function aUe(){return az||(az=1,(function(t){var e=Av().freeze;t.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=e({Aacute:"",aacute:"",Abreve:"",abreve:"",ac:"",acd:"",acE:"",Acirc:"",acirc:"",acute:"",Acy:"",acy:"",AElig:"",aelig:"",af:"",Afr:"",afr:"",Agrave:"",agrave:"",alefsym:"",aleph:"",Alpha:"",alpha:"",Amacr:"",amacr:"",amalg:"",AMP:"&",amp:"&",And:"",and:"",andand:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsd:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",Aogon:"",aogon:"",Aopf:"",aopf:"",ap:"",apacir:"",apE:"",ape:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",Aring:"",aring:"",Ascr:"",ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",Atilde:"",atilde:"",Auml:"",auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",Barwed:"",barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",Bcy:"",bcy:"",bdquo:"",becaus:"",Because:"",because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",Beta:"",beta:"",beth:"",between:"",Bfr:"",bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bNot:"",bnot:"",Bopf:"",bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxDL:"",boxDl:"",boxdL:"",boxdl:"",boxDR:"",boxDr:"",boxdR:"",boxdr:"",boxH:"",boxh:"",boxHD:"",boxHd:"",boxhD:"",boxhd:"",boxHU:"",boxHu:"",boxhU:"",boxhu:"",boxminus:"",boxplus:"",boxtimes:"",boxUL:"",boxUl:"",boxuL:"",boxul:"",boxUR:"",boxUr:"",boxuR:"",boxur:"",boxV:"",boxv:"",boxVH:"",boxVh:"",boxvH:"",boxvh:"",boxVL:"",boxVl:"",boxvL:"",boxvl:"",boxVR:"",boxVr:"",boxvR:"",boxvr:"",bprime:"",Breve:"",breve:"",brvbar:"",Bscr:"",bscr:"",bsemi:"",bsim:"",bsime:"",bsol:"\\",bsolb:"",bsolhsub:"",bull:"",bullet:"",bump:"",bumpE:"",bumpe:"",Bumpeq:"",bumpeq:"",Cacute:"",cacute:"",Cap:"",cap:"",capand:"",capbrcup:"",capcap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",Ccaron:"",ccaron:"",Ccedil:"",ccedil:"",Ccirc:"",ccirc:"",Cconint:"",ccups:"",ccupssm:"",Cdot:"",cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",CenterDot:"",centerdot:"",Cfr:"",cfr:"",CHcy:"",chcy:"",check:"",checkmark:"",Chi:"",chi:"",cir:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cirE:"",cire:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",Colon:"",colon:":",Colone:"",colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",Conint:"",conint:"",ContourIntegral:"",Copf:"",copf:"",coprod:"",Coproduct:"",COPY:"",copy:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",Cross:"",cross:"",Cscr:"",cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",Cup:"",cup:"",cupbrcap:"",CupCap:"",cupcap:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",Dagger:"",dagger:"",daleth:"",Darr:"",dArr:"",darr:"",dash:"",Dashv:"",dashv:"",dbkarow:"",dblac:"",Dcaron:"",dcaron:"",Dcy:"",dcy:"",DD:"",dd:"",ddagger:"",ddarr:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",Delta:"",delta:"",demptyv:"",dfisht:"",Dfr:"",dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",Diamond:"",diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",DJcy:"",djcy:"",dlcorn:"",dlcrop:"",dollar:"$",Dopf:"",dopf:"",Dot:"",dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",DownArrow:"",Downarrow:"",downarrow:"",DownArrowBar:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVector:"",DownLeftVectorBar:"",DownRightTeeVector:"",DownRightVector:"",DownRightVectorBar:"",DownTee:"",DownTeeArrow:"",drbkarow:"",drcorn:"",drcrop:"",Dscr:"",dscr:"",DScy:"",dscy:"",dsol:"",Dstrok:"",dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",DZcy:"",dzcy:"",dzigrarr:"",Eacute:"",eacute:"",easter:"",Ecaron:"",ecaron:"",ecir:"",Ecirc:"",ecirc:"",ecolon:"",Ecy:"",ecy:"",eDDot:"",Edot:"",eDot:"",edot:"",ee:"",efDot:"",Efr:"",efr:"",eg:"",Egrave:"",egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",Emacr:"",emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp:"",emsp13:"",emsp14:"",ENG:"",eng:"",ensp:"",Eogon:"",eogon:"",Eopf:"",eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",Epsilon:"",epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",Escr:"",escr:"",esdot:"",Esim:"",esim:"",Eta:"",eta:"",ETH:"",eth:"",Euml:"",euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",ExponentialE:"",exponentiale:"",fallingdotseq:"",Fcy:"",fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",Ffr:"",ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",Fopf:"",fopf:"",ForAll:"",forall:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",Fscr:"",fscr:"",gacute:"",Gamma:"",gamma:"",Gammad:"",gammad:"",gap:"",Gbreve:"",gbreve:"",Gcedil:"",Gcirc:"",gcirc:"",Gcy:"",gcy:"",Gdot:"",gdot:"",gE:"",ge:"",gEl:"",gel:"",geq:"",geqq:"",geqslant:"",ges:"",gescc:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",Gfr:"",gfr:"",Gg:"",gg:"",ggg:"",gimel:"",GJcy:"",gjcy:"",gl:"",gla:"",glE:"",glj:"",gnap:"",gnapprox:"",gnE:"",gne:"",gneq:"",gneqq:"",gnsim:"",Gopf:"",gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",Gscr:"",gscr:"",gsim:"",gsime:"",gsiml:"",Gt:"",GT:">",gt:">",gtcc:"",gtcir:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",HARDcy:"",hardcy:"",hArr:"",harr:"",harrcir:"",harrw:"",Hat:"^",hbar:"",Hcirc:"",hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",Hfr:"",hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",Hopf:"",hopf:"",horbar:"",HorizontalLine:"",Hscr:"",hscr:"",hslash:"",Hstrok:"",hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",Iacute:"",iacute:"",ic:"",Icirc:"",icirc:"",Icy:"",icy:"",Idot:"",IEcy:"",iecy:"",iexcl:"",iff:"",Ifr:"",ifr:"",Igrave:"",igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",IJlig:"",ijlig:"",Im:"",Imacr:"",imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",imof:"",imped:"",Implies:"",in:"",incare:"",infin:"",infintie:"",inodot:"",Int:"",int:"",intcal:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",IOcy:"",iocy:"",Iogon:"",iogon:"",Iopf:"",iopf:"",Iota:"",iota:"",iprod:"",iquest:"",Iscr:"",iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",Itilde:"",itilde:"",Iukcy:"",iukcy:"",Iuml:"",iuml:"",Jcirc:"",jcirc:"",Jcy:"",jcy:"",Jfr:"",jfr:"",jmath:"",Jopf:"",jopf:"",Jscr:"",jscr:"",Jsercy:"",jsercy:"",Jukcy:"",jukcy:"",Kappa:"",kappa:"",kappav:"",Kcedil:"",kcedil:"",Kcy:"",kcy:"",Kfr:"",kfr:"",kgreen:"",KHcy:"",khcy:"",KJcy:"",kjcy:"",Kopf:"",kopf:"",Kscr:"",kscr:"",lAarr:"",Lacute:"",lacute:"",laemptyv:"",lagran:"",Lambda:"",lambda:"",Lang:"",lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",Larr:"",lArr:"",larr:"",larrb:"",larrbfs:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",lat:"",lAtail:"",latail:"",late:"",lates:"",lBarr:"",lbarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",Lcaron:"",lcaron:"",Lcedil:"",lcedil:"",lceil:"",lcub:"{",Lcy:"",lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",lE:"",le:"",LeftAngleBracket:"",LeftArrow:"",Leftarrow:"",leftarrow:"",LeftArrowBar:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVector:"",LeftDownVectorBar:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",LeftRightArrow:"",Leftrightarrow:"",leftrightarrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTee:"",LeftTeeArrow:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangle:"",LeftTriangleBar:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVector:"",LeftUpVectorBar:"",LeftVector:"",LeftVectorBar:"",lEg:"",leg:"",leq:"",leqq:"",leqslant:"",les:"",lescc:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",Lfr:"",lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",LJcy:"",ljcy:"",Ll:"",ll:"",llarr:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",Lmidot:"",lmidot:"",lmoust:"",lmoustache:"",lnap:"",lnapprox:"",lnE:"",lne:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",LongLeftArrow:"",Longleftarrow:"",longleftarrow:"",LongLeftRightArrow:"",Longleftrightarrow:"",longleftrightarrow:"",longmapsto:"",LongRightArrow:"",Longrightarrow:"",longrightarrow:"",looparrowleft:"",looparrowright:"",lopar:"",Lopf:"",lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",Lscr:"",lscr:"",Lsh:"",lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",Lstrok:"",lstrok:"",Lt:"",LT:"<",lt:"<",ltcc:"",ltcir:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",Map:"",map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",Mcy:"",mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",Mfr:"",mfr:"",mho:"",micro:"",mid:"",midast:"*",midcir:"",middot:"",minus:"",minusb:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",Mopf:"",mopf:"",mp:"",Mscr:"",mscr:"",mstpos:"",Mu:"",mu:"",multimap:"",mumap:"",nabla:"",Nacute:"",nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natur:"",natural:"",naturals:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",Ncaron:"",ncaron:"",Ncedil:"",ncedil:"",ncong:"",ncongdot:"",ncup:"",Ncy:"",ncy:"",ndash:"",ne:"",nearhk:"",neArr:"",nearr:"",nearrow:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:`
`,nexist:"",nexists:"",Nfr:"",nfr:"",ngE:"",nge:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",nGt:"",ngt:"",ngtr:"",nGtv:"",nhArr:"",nharr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",NJcy:"",njcy:"",nlArr:"",nlarr:"",nldr:"",nlE:"",nle:"",nLeftarrow:"",nleftarrow:"",nLeftrightarrow:"",nleftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nLt:"",nlt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",Nopf:"",nopf:"",Not:"",not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangle:"",NotLeftTriangleBar:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangle:"",NotRightTriangleBar:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",npar:"",nparallel:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",npre:"",nprec:"",npreceq:"",nrArr:"",nrarr:"",nrarrc:"",nrarrw:"",nRightarrow:"",nrightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",Nscr:"",nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsubE:"",nsube:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupE:"",nsupe:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",Ntilde:"",ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",Nu:"",nu:"",num:"#",numero:"",numsp:"",nvap:"",nVDash:"",nVdash:"",nvDash:"",nvdash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwArr:"",nwarr:"",nwarrow:"",nwnear:"",Oacute:"",oacute:"",oast:"",ocir:"",Ocirc:"",ocirc:"",Ocy:"",ocy:"",odash:"",Odblac:"",odblac:"",odiv:"",odot:"",odsold:"",OElig:"",oelig:"",ofcir:"",Ofr:"",ofr:"",ogon:"",Ograve:"",ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",Omacr:"",omacr:"",Omega:"",omega:"",Omicron:"",omicron:"",omid:"",ominus:"",Oopf:"",oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",Or:"",or:"",orarr:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",Oscr:"",oscr:"",Oslash:"",oslash:"",osol:"",Otilde:"",otilde:"",Otimes:"",otimes:"",otimesas:"",Ouml:"",ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",par:"",para:"",parallel:"",parsim:"",parsl:"",part:"",PartialD:"",Pcy:"",pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",Pfr:"",pfr:"",Phi:"",phi:"",phiv:"",phmmat:"",phone:"",Pi:"",pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plus:"+",plusacir:"",plusb:"",pluscir:"",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",Popf:"",popf:"",pound:"",Pr:"",pr:"",prap:"",prcue:"",prE:"",pre:"",prec:"",precapprox:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",precsim:"",Prime:"",prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportion:"",Proportional:"",propto:"",prsim:"",prurel:"",Pscr:"",pscr:"",Psi:"",psi:"",puncsp:"",Qfr:"",qfr:"",qint:"",Qopf:"",qopf:"",qprime:"",Qscr:"",qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",QUOT:'"',quot:'"',rAarr:"",race:"",Racute:"",racute:"",radic:"",raemptyv:"",Rang:"",rang:"",rangd:"",range:"",rangle:"",raquo:"",Rarr:"",rArr:"",rarr:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",Rarrtl:"",rarrtl:"",rarrw:"",rAtail:"",ratail:"",ratio:"",rationals:"",RBarr:"",rBarr:"",rbarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",Rcaron:"",rcaron:"",Rcedil:"",rcedil:"",rceil:"",rcub:"}",Rcy:"",rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",Re:"",real:"",realine:"",realpart:"",reals:"",rect:"",REG:"",reg:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",Rfr:"",rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",Rho:"",rho:"",rhov:"",RightAngleBracket:"",RightArrow:"",Rightarrow:"",rightarrow:"",RightArrowBar:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVector:"",RightDownVectorBar:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTee:"",RightTeeArrow:"",RightTeeVector:"",rightthreetimes:"",RightTriangle:"",RightTriangleBar:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVector:"",RightUpVectorBar:"",RightVector:"",RightVectorBar:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoust:"",rmoustache:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",Ropf:"",ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",Rscr:"",rscr:"",Rsh:"",rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",Sacute:"",sacute:"",sbquo:"",Sc:"",sc:"",scap:"",Scaron:"",scaron:"",sccue:"",scE:"",sce:"",Scedil:"",scedil:"",Scirc:"",scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",Scy:"",scy:"",sdot:"",sdotb:"",sdote:"",searhk:"",seArr:"",searr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",Sfr:"",sfr:"",sfrown:"",sharp:"",SHCHcy:"",shchcy:"",SHcy:"",shcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",Sigma:"",sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",SOFTcy:"",softcy:"",sol:"/",solb:"",solbar:"",Sopf:"",sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",squ:"",Square:"",square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squf:"",srarr:"",Sscr:"",sscr:"",ssetmn:"",ssmile:"",sstarf:"",Star:"",star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",Sub:"",sub:"",subdot:"",subE:"",sube:"",subedot:"",submult:"",subnE:"",subne:"",subplus:"",subrarr:"",Subset:"",subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succ:"",succapprox:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",Sum:"",sum:"",sung:"",Sup:"",sup:"",sup1:"",sup2:"",sup3:"",supdot:"",supdsub:"",supE:"",supe:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supnE:"",supne:"",supplus:"",Supset:"",supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swArr:"",swarr:"",swarrow:"",swnwar:"",szlig:"",Tab:"	",target:"",Tau:"",tau:"",tbrk:"",Tcaron:"",tcaron:"",Tcedil:"",tcedil:"",Tcy:"",tcy:"",tdot:"",telrec:"",Tfr:"",tfr:"",there4:"",Therefore:"",therefore:"",Theta:"",theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",thinsp:"",ThinSpace:"",thkap:"",thksim:"",THORN:"",thorn:"",Tilde:"",tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",times:"",timesb:"",timesbar:"",timesd:"",tint:"",toea:"",top:"",topbot:"",topcir:"",Topf:"",topf:"",topfork:"",tosa:"",tprime:"",TRADE:"",trade:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",Tscr:"",tscr:"",TScy:"",tscy:"",TSHcy:"",tshcy:"",Tstrok:"",tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",Uacute:"",uacute:"",Uarr:"",uArr:"",uarr:"",Uarrocir:"",Ubrcy:"",ubrcy:"",Ubreve:"",ubreve:"",Ucirc:"",ucirc:"",Ucy:"",ucy:"",udarr:"",Udblac:"",udblac:"",udhar:"",ufisht:"",Ufr:"",ufr:"",Ugrave:"",ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",Umacr:"",umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",Uogon:"",uogon:"",Uopf:"",uopf:"",UpArrow:"",Uparrow:"",uparrow:"",UpArrowBar:"",UpArrowDownArrow:"",UpDownArrow:"",Updownarrow:"",updownarrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",Upsi:"",upsi:"",upsih:"",Upsilon:"",upsilon:"",UpTee:"",UpTeeArrow:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",Uring:"",uring:"",urtri:"",Uscr:"",uscr:"",utdot:"",Utilde:"",utilde:"",utri:"",utrif:"",uuarr:"",Uuml:"",uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",vArr:"",varr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",Vbar:"",vBar:"",vBarv:"",Vcy:"",vcy:"",VDash:"",Vdash:"",vDash:"",vdash:"",Vdashl:"",Vee:"",vee:"",veebar:"",veeeq:"",vellip:"",Verbar:"",verbar:"|",Vert:"",vert:"|",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",Vfr:"",vfr:"",vltri:"",vnsub:"",vnsup:"",Vopf:"",vopf:"",vprop:"",vrtri:"",Vscr:"",vscr:"",vsubnE:"",vsubne:"",vsupnE:"",vsupne:"",Vvdash:"",vzigzag:"",Wcirc:"",wcirc:"",wedbar:"",Wedge:"",wedge:"",wedgeq:"",weierp:"",Wfr:"",wfr:"",Wopf:"",wopf:"",wp:"",wr:"",wreath:"",Wscr:"",wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",Xfr:"",xfr:"",xhArr:"",xharr:"",Xi:"",xi:"",xlArr:"",xlarr:"",xmap:"",xnis:"",xodot:"",Xopf:"",xopf:"",xoplus:"",xotime:"",xrArr:"",xrarr:"",Xscr:"",xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",Yacute:"",yacute:"",YAcy:"",yacy:"",Ycirc:"",ycirc:"",Ycy:"",ycy:"",yen:"",Yfr:"",yfr:"",YIcy:"",yicy:"",Yopf:"",yopf:"",Yscr:"",yscr:"",YUcy:"",yucy:"",Yuml:"",yuml:"",Zacute:"",zacute:"",Zcaron:"",zcaron:"",Zcy:"",zcy:"",Zdot:"",zdot:"",zeetrf:"",ZeroWidthSpace:"",Zeta:"",zeta:"",Zfr:"",zfr:"",ZHcy:"",zhcy:"",zigrarr:"",Zopf:"",zopf:"",Zscr:"",zscr:"",zwj:"",zwnj:""}),t.entityMap=t.HTML_ENTITIES})(EA)),EA}var Om={},oz;function oUe(){if(oz)return Om;oz=1;var t=Av().NAMESPACE,e=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,n=new RegExp("[\\-\\.0-9"+e.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),r=new RegExp("^"+e.source+n.source+"*(?::"+e.source+n.source+"*)?$"),i=0,s=1,a=2,o=3,l=4,c=5,d=6,h=7;function p(R,O){this.message=R,this.locator=O,Error.captureStackTrace&&Error.captureStackTrace(this,p)}p.prototype=new Error,p.prototype.name=p.name;function g(){}g.prototype={parse:function(R,O,z){var F=this.domBuilder;F.startDocument(),E(O,O={}),v(R,O,z,F,this.errorHandler),F.endDocument()}};function v(R,O,z,F,q){function k(Se){if(Se>65535){Se-=65536;var fe=55296+(Se>>10),ie=56320+(Se&1023);return String.fromCharCode(fe,ie)}else return String.fromCharCode(Se)}function H(Se){var fe=Se.slice(1,-1);return Object.hasOwnProperty.call(z,fe)?z[fe]:fe.charAt(0)==="#"?k(parseInt(fe.substr(1).replace("x","0x"))):(q.error("entity not found:"+Se),Se)}function N(Se){if(Se>Y){var fe=R.substring(Y,Se).replace(/&#?\w+;/g,H);L&&B(Y),F.characters(fe,0,Se-Y),Y=Se}}function B(Se,fe){for(;Se>=$&&(fe=W.exec(R));)G=fe.index,$=G+fe[0].length,L.lineNumber++;L.columnNumber=Se-G+1}for(var G=0,$=0,W=/.*(?:\r\n?|\n)|.*$/g,L=F.locator,K=[{currentNSMap:O}],j={},Y=0;;){try{var ee=R.indexOf("<",Y);if(ee<0){if(!R.substr(Y).match(/^\s*$/)){var re=F.doc,se=re.createTextNode(R.substr(Y));re.appendChild(se),F.currentElement=se}return}switch(ee>Y&&N(ee),R.charAt(ee+1)){case"/":var ce=R.indexOf(">",ee+3),ye=R.substring(ee+2,ce).replace(/[ \t\n\r]+$/g,""),xe=K.pop();ce<0?(ye=R.substring(ee+2).replace(/[\s<].*/,""),q.error("end tag name: "+ye+" is not complete:"+xe.tagName),ce=ee+1+ye.length):ye.match(/\s</)&&(ye=ye.replace(/[\s<].*/,""),q.error("end tag name: "+ye+" maybe not complete"),ce=ee+1+ye.length);var Re=xe.localNSMap,Fe=xe.tagName==ye,qe=Fe||xe.tagName&&xe.tagName.toLowerCase()==ye.toLowerCase();if(qe){if(F.endElement(xe.uri,xe.localName,ye),Re)for(var We in Re)Object.prototype.hasOwnProperty.call(Re,We)&&F.endPrefixMapping(We);Fe||q.fatalError("end tag name: "+ye+" is not match the current start tagName:"+xe.tagName)}else K.push(xe);ce++;break;case"?":L&&B(ee),ce=S(R,ee,F);break;case"!":L&&B(ee),ce=A(R,ee,F,q);break;default:L&&B(ee);var P=new T,oe=K[K.length-1].currentNSMap,ce=b(R,ee,P,oe,H,q),Q=P.length;if(!P.closed&&D(R,ce,P.tagName,j)&&(P.closed=!0,z.nbsp||q.warning("unclosed xml attribute")),L&&Q){for(var J=y(L,{}),ue=0;ue<Q;ue++){var De=P[ue];B(De.offset),De.locator=y(L,{})}F.locator=J,x(P,F,oe)&&K.push(P),F.locator=L}else x(P,F,oe)&&K.push(P);t.isHTML(P.uri)&&!P.closed?ce=w(R,ce,P.tagName,H,F):ce++}}catch(Se){if(Se instanceof p)throw Se;q.error("element parse error: "+Se),ce=-1}ce>Y?Y=ce:N(Math.max(ee,Y)+1)}}function y(R,O){return O.lineNumber=R.lineNumber,O.columnNumber=R.columnNumber,O}function b(R,O,z,F,q,k){function H(L,K,j){z.attributeNames.hasOwnProperty(L)&&k.fatalError("Attribute "+L+" redefined"),z.addValue(L,K.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,q),j)}for(var N,B,G=++O,$=i;;){var W=R.charAt(G);switch(W){case"=":if($===s)N=R.slice(O,G),$=o;else if($===a)$=o;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if($===o||$===s)if($===s&&(k.warning('attribute value must after "="'),N=R.slice(O,G)),O=G+1,G=R.indexOf(W,O),G>0)B=R.slice(O,G),H(N,B,O-1),$=c;else throw new Error("attribute value no end '"+W+"' match");else if($==l)B=R.slice(O,G),H(N,B,O),k.warning('attribute "'+N+'" missed start quot('+W+")!!"),O=G+1,$=c;else throw new Error('attribute value must after "="');break;case"/":switch($){case i:z.setTagName(R.slice(O,G));case c:case d:case h:$=h,z.closed=!0;case l:case s:break;case a:z.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return k.error("unexpected end of input"),$==i&&z.setTagName(R.slice(O,G)),G;case">":switch($){case i:z.setTagName(R.slice(O,G));case c:case d:case h:break;case l:case s:B=R.slice(O,G),B.slice(-1)==="/"&&(z.closed=!0,B=B.slice(0,-1));case a:$===a&&(B=N),$==l?(k.warning('attribute "'+B+'" missed quot(")!'),H(N,B,O)):((!t.isHTML(F[""])||!B.match(/^(?:disabled|checked|selected)$/i))&&k.warning('attribute "'+B+'" missed value!! "'+B+'" instead!!'),H(B,B,O));break;case o:throw new Error("attribute value missed!!")}return G;case"":W=" ";default:if(W<=" ")switch($){case i:z.setTagName(R.slice(O,G)),$=d;break;case s:N=R.slice(O,G),$=a;break;case l:var B=R.slice(O,G);k.warning('attribute "'+B+'" missed quot(")!!'),H(N,B,O);case c:$=d;break}else switch($){case a:z.tagName,(!t.isHTML(F[""])||!N.match(/^(?:disabled|checked|selected)$/i))&&k.warning('attribute "'+N+'" missed value!! "'+N+'" instead2!!'),H(N,N,O),O=G,$=s;break;case c:k.warning('attribute space is required"'+N+'"!!');case d:$=s,O=G;break;case o:$=l,O=G;break;case h:throw new Error("elements closed character '/' and '>' must be connected to")}}G++}}function x(R,O,z){for(var F=R.tagName,q=null,W=R.length;W--;){var k=R[W],H=k.qName,N=k.value,L=H.indexOf(":");if(L>0)var B=k.prefix=H.slice(0,L),G=H.slice(L+1),$=B==="xmlns"&&G;else G=H,B=null,$=H==="xmlns"&&"";k.localName=G,$!==!1&&(q==null&&(q={},E(z,z={})),z[$]=q[$]=N,k.uri=t.XMLNS,O.startPrefixMapping($,N))}for(var W=R.length;W--;){k=R[W];var B=k.prefix;B&&(B==="xml"&&(k.uri=t.XML),B!=="xmlns"&&(k.uri=z[B||""]))}var L=F.indexOf(":");L>0?(B=R.prefix=F.slice(0,L),G=R.localName=F.slice(L+1)):(B=null,G=R.localName=F);var K=R.uri=z[B||""];if(O.startElement(K,G,F,R),R.closed){if(O.endElement(K,G,F),q)for(B in q)Object.prototype.hasOwnProperty.call(q,B)&&O.endPrefixMapping(B)}else return R.currentNSMap=z,R.localNSMap=q,!0}function w(R,O,z,F,q){if(/^(?:script|textarea)$/i.test(z)){var k=R.indexOf("</"+z+">",O),H=R.substring(O+1,k);if(/[&<]/.test(H))return/^script$/i.test(z)?(q.characters(H,0,H.length),k):(H=H.replace(/&#?\w+;/g,F),q.characters(H,0,H.length),k)}return O+1}function D(R,O,z,F){var q=F[z];return q==null&&(q=R.lastIndexOf("</"+z+">"),q<O&&(q=R.lastIndexOf("</"+z)),F[z]=q),q<O}function E(R,O){for(var z in R)Object.prototype.hasOwnProperty.call(R,z)&&(O[z]=R[z])}function A(R,O,z,F){var q=R.charAt(O+2);switch(q){case"-":if(R.charAt(O+3)==="-"){var k=R.indexOf("-->",O+4);return k>O?(z.comment(R,O+4,k-O-4),k+3):(F.error("Unclosed comment"),-1)}else return-1;default:if(R.substr(O+3,6)=="CDATA["){var k=R.indexOf("]]>",O+9);return z.startCDATA(),z.characters(R,O+9,k-O-9),z.endCDATA(),k+3}var H=M(R,O),N=H.length;if(N>1&&/!doctype/i.test(H[0][0])){var B=H[1][0],G=!1,$=!1;N>3&&(/^public$/i.test(H[2][0])?(G=H[3][0],$=N>4&&H[4][0]):/^system$/i.test(H[2][0])&&($=H[3][0]));var W=H[N-1];return z.startDTD(B,G,$),z.endDTD(),W.index+W[0].length}}return-1}function S(R,O,z){var F=R.indexOf("?>",O);if(F){var q=R.substring(O,F).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return q?(q[0].length,z.processingInstruction(q[1],q[2]),F+2):-1}return-1}function T(){this.attributeNames={}}T.prototype={setTagName:function(R){if(!r.test(R))throw new Error("invalid tagName:"+R);this.tagName=R},addValue:function(R,O,z){if(!r.test(R))throw new Error("invalid attribute:"+R);this.attributeNames[R]=this.length,this[this.length++]={qName:R,value:O,offset:z}},length:0,getLocalName:function(R){return this[R].localName},getLocator:function(R){return this[R].locator},getQName:function(R){return this[R].qName},getURI:function(R){return this[R].uri},getValue:function(R){return this[R].value}};function M(R,O){var z,F=[],q=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(q.lastIndex=O,q.exec(R);z=q.exec(R);)if(F.push(z),z[1])return F}return Om.XMLReader=g,Om.ParseError=p,Om}var lz;function lUe(){if(lz)return kh;lz=1;var t=Av(),e=H3(),n=aUe(),r=oUe(),i=e.DOMImplementation,s=t.NAMESPACE,a=r.ParseError,o=r.XMLReader;function l(b){return b.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function c(b){this.options=b||{locator:{}}}c.prototype.parseFromString=function(b,x){var w=this.options,D=new o,E=w.domBuilder||new h,A=w.errorHandler,S=w.locator,T=w.xmlns||{},M=/\/x?html?$/.test(x),R=M?n.HTML_ENTITIES:n.XML_ENTITIES;S&&E.setDocumentLocator(S),D.errorHandler=d(A,E,S),D.domBuilder=w.domBuilder||E,M&&(T[""]=s.HTML),T.xml=T.xml||s.XML;var O=w.normalizeLineEndings||l;return b&&typeof b=="string"?D.parse(O(b),T,R):D.errorHandler.error("invalid doc source"),E.doc};function d(b,x,w){if(!b){if(x instanceof h)return x;b=x}var D={},E=b instanceof Function;w=w||{};function A(S){var T=b[S];!T&&E&&(T=b.length==2?function(M){b(S,M)}:b),D[S]=T&&function(M){T("[xmldom "+S+"]	"+M+g(w))}||function(){}}return A("warning"),A("error"),A("fatalError"),D}function h(){this.cdata=!1}function p(b,x){x.lineNumber=b.lineNumber,x.columnNumber=b.columnNumber}h.prototype={startDocument:function(){this.doc=new i().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(b,x,w,D){var E=this.doc,A=E.createElementNS(b,w||x),S=D.length;y(this,A),this.currentElement=A,this.locator&&p(this.locator,A);for(var T=0;T<S;T++){var b=D.getURI(T),M=D.getValue(T),w=D.getQName(T),R=E.createAttributeNS(b,w);this.locator&&p(D.getLocator(T),R),R.value=R.nodeValue=M,A.setAttributeNode(R)}},endElement:function(b,x,w){var D=this.currentElement;D.tagName,this.currentElement=D.parentNode},startPrefixMapping:function(b,x){},endPrefixMapping:function(b){},processingInstruction:function(b,x){var w=this.doc.createProcessingInstruction(b,x);this.locator&&p(this.locator,w),y(this,w)},ignorableWhitespace:function(b,x,w){},characters:function(b,x,w){if(b=v.apply(this,arguments),b){if(this.cdata)var D=this.doc.createCDATASection(b);else var D=this.doc.createTextNode(b);this.currentElement?this.currentElement.appendChild(D):/^\s*$/.test(b)&&this.doc.appendChild(D),this.locator&&p(this.locator,D)}},skippedEntity:function(b){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(b){(this.locator=b)&&(b.lineNumber=0)},comment:function(b,x,w){b=v.apply(this,arguments);var D=this.doc.createComment(b);this.locator&&p(this.locator,D),y(this,D)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(b,x,w){var D=this.doc.implementation;if(D&&D.createDocumentType){var E=D.createDocumentType(b,x,w);this.locator&&p(this.locator,E),y(this,E),this.doc.doctype=E}},warning:function(b){console.warn("[xmldom warning]	"+b,g(this.locator))},error:function(b){console.error("[xmldom error]	"+b,g(this.locator))},fatalError:function(b){throw new a(b,this.locator)}};function g(b){if(b)return`
@`+(b.systemId||"")+"#[line:"+b.lineNumber+",col:"+b.columnNumber+"]"}function v(b,x,w){return typeof b=="string"?b.substr(x,w):b.length>=x+w||x?new java.lang.String(b,x,w)+"":b}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(b){h.prototype[b]=function(){return null}});function y(b,x){b.currentElement?b.currentElement.appendChild(x):b.doc.appendChild(x)}return kh.__DOMHandler=h,kh.normalizeLineEndings=l,kh.DOMParser=c,kh}var cz;function cUe(){if(cz)return Ch;cz=1;var t=H3();return Ch.DOMImplementation=t.DOMImplementation,Ch.XMLSerializer=t.XMLSerializer,Ch.DOMParser=lUe().DOMParser,Ch}var uz;function uUe(){if(uz)return Mm;uz=1;var t=cUe(),e=H3();function n(r){var i=null,s=new t.DOMParser({errorHandler:function(o,l){i={level:o,message:l}}}),a=s.parseFromString(r);if(i===null)return a;throw new Error(i.level+": "+i.message)}return Mm.parseFromString=n,Mm.Node=e.Node,Mm}var dz;function dUe(){if(dz)return DA;dz=1;var t=Lo(),e=En,n=uUe(),r=BZ(),i=r.Element;DA.readString=a;var s=n.Node;function a(o,l){l=l||{};try{var c=n.parseFromString(o,"text/xml")}catch(g){return t.reject(g)}if(c.documentElement.tagName==="parsererror")return t.resolve(new Error(c.documentElement.textContent));function d(g){switch(g.nodeType){case s.ELEMENT_NODE:return h(g);case s.TEXT_NODE:return r.text(g.nodeValue)}}function h(g){var v=p(g),y=[];e.forEach(g.childNodes,function(x){var w=d(x);w&&y.push(w)});var b={};return e.forEach(g.attributes,function(x){b[p(x)]=x.value}),new i(v,b,y)}function p(g){if(g.namespaceURI){var v=l[g.namespaceURI],y;return v?y=v+":":y="{"+g.namespaceURI+"}",y+g.localName}else return g.localName}return t.resolve(d(c.documentElement))}return DA}var SA={},ul={},_s={},hz;function Bo(){return hz||(hz=1,(function(){var t,e,n,r,i,s,a,o=[].slice,l={}.hasOwnProperty;t=function(){var c,d,h,p,g,v;if(v=arguments[0],g=2<=arguments.length?o.call(arguments,1):[],i(Object.assign))Object.assign.apply(null,arguments);else for(c=0,h=g.length;c<h;c++)if(p=g[c],p!=null)for(d in p)l.call(p,d)&&(v[d]=p[d]);return v},i=function(c){return!!c&&Object.prototype.toString.call(c)==="[object Function]"},s=function(c){var d;return!!c&&((d=typeof c)=="function"||d==="object")},n=function(c){return i(Array.isArray)?Array.isArray(c):Object.prototype.toString.call(c)==="[object Array]"},r=function(c){var d;if(n(c))return!c.length;for(d in c)if(l.call(c,d))return!1;return!0},a=function(c){var d,h;return s(c)&&(h=Object.getPrototypeOf(c))&&(d=h.constructor)&&typeof d=="function"&&d instanceof d&&Function.prototype.toString.call(d)===Function.prototype.toString.call(Object)},e=function(c){return i(c.valueOf)?c.valueOf():c},_s.assign=t,_s.isFunction=i,_s.isObject=s,_s.isArray=n,_s.isEmpty=r,_s.isPlainObject=a,_s.getValue=e}).call(_s)),_s}var ny={exports:{}},ry={exports:{}},iy={exports:{}},sy={exports:{}},hUe=sy.exports,fz;function jZ(){return fz||(fz=1,(function(){sy.exports=(function(){function t(e,n,r){if(this.options=e.options,this.stringify=e.stringify,this.parent=e,n==null)throw new Error("Missing attribute name. "+this.debugInfo(n));if(r==null)throw new Error("Missing attribute value. "+this.debugInfo(n));this.name=this.stringify.attName(n),this.value=this.stringify.attValue(r)}return t.prototype.clone=function(){return Object.create(this)},t.prototype.toString=function(e){return this.options.writer.set(e).attribute(this)},t.prototype.debugInfo=function(e){return e=e||this.name,e==null?"parent: <"+this.parent.name+">":"attribute: {"+e+"}, parent: <"+this.parent.name+">"},t})()}).call(hUe)),sy.exports}var fUe=iy.exports,pz;function Tv(){return pz||(pz=1,(function(){var t,e,n,r,i,s,a=function(l,c){for(var d in c)o.call(c,d)&&(l[d]=c[d]);function h(){this.constructor=l}return h.prototype=c.prototype,l.prototype=new h,l.__super__=c.prototype,l},o={}.hasOwnProperty;s=Bo(),i=s.isObject,r=s.isFunction,n=s.getValue,e=Xr(),t=jZ(),iy.exports=(function(l){a(c,l);function c(d,h,p){if(c.__super__.constructor.call(this,d),h==null)throw new Error("Missing element name. "+this.debugInfo());this.name=this.stringify.eleName(h),this.attributes={},p!=null&&this.attribute(p),d.isDocument&&(this.isRoot=!0,this.documentObject=d,d.rootObject=this)}return c.prototype.clone=function(){var d,h,p,g;p=Object.create(this),p.isRoot&&(p.documentObject=null),p.attributes={},g=this.attributes;for(h in g)o.call(g,h)&&(d=g[h],p.attributes[h]=d.clone());return p.children=[],this.children.forEach(function(v){var y;return y=v.clone(),y.parent=p,p.children.push(y)}),p},c.prototype.attribute=function(d,h){var p,g;if(d!=null&&(d=n(d)),i(d))for(p in d)o.call(d,p)&&(g=d[p],this.attribute(p,g));else r(h)&&(h=h.apply()),(!this.options.skipNullAttributes||h!=null)&&(this.attributes[d]=new t(this,d,h));return this},c.prototype.removeAttribute=function(d){var h,p,g;if(d==null)throw new Error("Missing attribute name. "+this.debugInfo());if(d=n(d),Array.isArray(d))for(p=0,g=d.length;p<g;p++)h=d[p],delete this.attributes[h];else delete this.attributes[d];return this},c.prototype.toString=function(d){return this.options.writer.set(d).element(this)},c.prototype.att=function(d,h){return this.attribute(d,h)},c.prototype.a=function(d,h){return this.attribute(d,h)},c})(e)}).call(fUe)),iy.exports}var ay={exports:{}},pUe=ay.exports,gz;function Cv(){return gz||(gz=1,(function(){var t,e=function(r,i){for(var s in i)n.call(i,s)&&(r[s]=i[s]);function a(){this.constructor=r}return a.prototype=i.prototype,r.prototype=new a,r.__super__=i.prototype,r},n={}.hasOwnProperty;t=Xr(),ay.exports=(function(r){e(i,r);function i(s,a){if(i.__super__.constructor.call(this,s),a==null)throw new Error("Missing CDATA text. "+this.debugInfo());this.text=this.stringify.cdata(a)}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(s){return this.options.writer.set(s).cdata(this)},i})(t)}).call(pUe)),ay.exports}var oy={exports:{}},gUe=oy.exports,mz;function kv(){return mz||(mz=1,(function(){var t,e=function(r,i){for(var s in i)n.call(i,s)&&(r[s]=i[s]);function a(){this.constructor=r}return a.prototype=i.prototype,r.prototype=new a,r.__super__=i.prototype,r},n={}.hasOwnProperty;t=Xr(),oy.exports=(function(r){e(i,r);function i(s,a){if(i.__super__.constructor.call(this,s),a==null)throw new Error("Missing comment text. "+this.debugInfo());this.text=this.stringify.comment(a)}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(s){return this.options.writer.set(s).comment(this)},i})(t)}).call(gUe)),oy.exports}var ly={exports:{}},mUe=ly.exports,yz;function Rv(){return yz||(yz=1,(function(){var t,e,n=function(i,s){for(var a in s)r.call(s,a)&&(i[a]=s[a]);function o(){this.constructor=i}return o.prototype=s.prototype,i.prototype=new o,i.__super__=s.prototype,i},r={}.hasOwnProperty;e=Bo().isObject,t=Xr(),ly.exports=(function(i){n(s,i);function s(a,o,l,c){var d;s.__super__.constructor.call(this,a),e(o)&&(d=o,o=d.version,l=d.encoding,c=d.standalone),o||(o="1.0"),this.version=this.stringify.xmlVersion(o),l!=null&&(this.encoding=this.stringify.xmlEncoding(l)),c!=null&&(this.standalone=this.stringify.xmlStandalone(c))}return s.prototype.toString=function(a){return this.options.writer.set(a).declaration(this)},s})(t)}).call(mUe)),ly.exports}var cy={exports:{}},uy={exports:{}},yUe=uy.exports,bz;function Uv(){return bz||(bz=1,(function(){var t,e=function(r,i){for(var s in i)n.call(i,s)&&(r[s]=i[s]);function a(){this.constructor=r}return a.prototype=i.prototype,r.prototype=new a,r.__super__=i.prototype,r},n={}.hasOwnProperty;t=Xr(),uy.exports=(function(r){e(i,r);function i(s,a,o,l,c,d){if(i.__super__.constructor.call(this,s),a==null)throw new Error("Missing DTD element name. "+this.debugInfo());if(o==null)throw new Error("Missing DTD attribute name. "+this.debugInfo(a));if(!l)throw new Error("Missing DTD attribute type. "+this.debugInfo(a));if(!c)throw new Error("Missing DTD attribute default. "+this.debugInfo(a));if(c.indexOf("#")!==0&&(c="#"+c),!c.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT. "+this.debugInfo(a));if(d&&!c.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT. "+this.debugInfo(a));this.elementName=this.stringify.eleName(a),this.attributeName=this.stringify.attName(o),this.attributeType=this.stringify.dtdAttType(l),this.defaultValue=this.stringify.dtdAttDefault(d),this.defaultValueType=c}return i.prototype.toString=function(s){return this.options.writer.set(s).dtdAttList(this)},i})(t)}).call(yUe)),uy.exports}var dy={exports:{}},bUe=dy.exports,vz;function Mv(){return vz||(vz=1,(function(){var t,e,n=function(i,s){for(var a in s)r.call(s,a)&&(i[a]=s[a]);function o(){this.constructor=i}return o.prototype=s.prototype,i.prototype=new o,i.__super__=s.prototype,i},r={}.hasOwnProperty;e=Bo().isObject,t=Xr(),dy.exports=(function(i){n(s,i);function s(a,o,l,c){if(s.__super__.constructor.call(this,a),l==null)throw new Error("Missing DTD entity name. "+this.debugInfo(l));if(c==null)throw new Error("Missing DTD entity value. "+this.debugInfo(l));if(this.pe=!!o,this.name=this.stringify.eleName(l),!e(c))this.value=this.stringify.dtdEntityValue(c);else{if(!c.pubID&&!c.sysID)throw new Error("Public and/or system identifiers are required for an external entity. "+this.debugInfo(l));if(c.pubID&&!c.sysID)throw new Error("System identifier is required for a public external entity. "+this.debugInfo(l));if(c.pubID!=null&&(this.pubID=this.stringify.dtdPubID(c.pubID)),c.sysID!=null&&(this.sysID=this.stringify.dtdSysID(c.sysID)),c.nData!=null&&(this.nData=this.stringify.dtdNData(c.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity. "+this.debugInfo(l))}}return s.prototype.toString=function(a){return this.options.writer.set(a).dtdEntity(this)},s})(t)}).call(bUe)),dy.exports}var hy={exports:{}},vUe=hy.exports,xz;function Ov(){return xz||(xz=1,(function(){var t,e=function(r,i){for(var s in i)n.call(i,s)&&(r[s]=i[s]);function a(){this.constructor=r}return a.prototype=i.prototype,r.prototype=new a,r.__super__=i.prototype,r},n={}.hasOwnProperty;t=Xr(),hy.exports=(function(r){e(i,r);function i(s,a,o){if(i.__super__.constructor.call(this,s),a==null)throw new Error("Missing DTD element name. "+this.debugInfo());o||(o="(#PCDATA)"),Array.isArray(o)&&(o="("+o.join(",")+")"),this.name=this.stringify.eleName(a),this.value=this.stringify.dtdElementValue(o)}return i.prototype.toString=function(s){return this.options.writer.set(s).dtdElement(this)},i})(t)}).call(vUe)),hy.exports}var fy={exports:{}},xUe=fy.exports,wz;function Nv(){return wz||(wz=1,(function(){var t,e=function(r,i){for(var s in i)n.call(i,s)&&(r[s]=i[s]);function a(){this.constructor=r}return a.prototype=i.prototype,r.prototype=new a,r.__super__=i.prototype,r},n={}.hasOwnProperty;t=Xr(),fy.exports=(function(r){e(i,r);function i(s,a,o){if(i.__super__.constructor.call(this,s),a==null)throw new Error("Missing DTD notation name. "+this.debugInfo(a));if(!o.pubID&&!o.sysID)throw new Error("Public or system identifiers are required for an external entity. "+this.debugInfo(a));this.name=this.stringify.eleName(a),o.pubID!=null&&(this.pubID=this.stringify.dtdPubID(o.pubID)),o.sysID!=null&&(this.sysID=this.stringify.dtdSysID(o.sysID))}return i.prototype.toString=function(s){return this.options.writer.set(s).dtdNotation(this)},i})(t)}).call(xUe)),fy.exports}var wUe=cy.exports,_z;function Fv(){return _z||(_z=1,(function(){var t,e,n,r,i,s,a=function(l,c){for(var d in c)o.call(c,d)&&(l[d]=c[d]);function h(){this.constructor=l}return h.prototype=c.prototype,l.prototype=new h,l.__super__=c.prototype,l},o={}.hasOwnProperty;s=Bo().isObject,i=Xr(),t=Uv(),n=Mv(),e=Ov(),r=Nv(),cy.exports=(function(l){a(c,l);function c(d,h,p){var g,v;c.__super__.constructor.call(this,d),this.name="!DOCTYPE",this.documentObject=d,s(h)&&(g=h,h=g.pubID,p=g.sysID),p==null&&(v=[h,p],p=v[0],h=v[1]),h!=null&&(this.pubID=this.stringify.dtdPubID(h)),p!=null&&(this.sysID=this.stringify.dtdSysID(p))}return c.prototype.element=function(d,h){var p;return p=new e(this,d,h),this.children.push(p),this},c.prototype.attList=function(d,h,p,g,v){var y;return y=new t(this,d,h,p,g,v),this.children.push(y),this},c.prototype.entity=function(d,h){var p;return p=new n(this,!1,d,h),this.children.push(p),this},c.prototype.pEntity=function(d,h){var p;return p=new n(this,!0,d,h),this.children.push(p),this},c.prototype.notation=function(d,h){var p;return p=new r(this,d,h),this.children.push(p),this},c.prototype.toString=function(d){return this.options.writer.set(d).docType(this)},c.prototype.ele=function(d,h){return this.element(d,h)},c.prototype.att=function(d,h,p,g,v){return this.attList(d,h,p,g,v)},c.prototype.ent=function(d,h){return this.entity(d,h)},c.prototype.pent=function(d,h){return this.pEntity(d,h)},c.prototype.not=function(d,h){return this.notation(d,h)},c.prototype.up=function(){return this.root()||this.documentObject},c})(i)}).call(wUe)),cy.exports}var py={exports:{}},_Ue=py.exports,Dz;function Iv(){return Dz||(Dz=1,(function(){var t,e=function(r,i){for(var s in i)n.call(i,s)&&(r[s]=i[s]);function a(){this.constructor=r}return a.prototype=i.prototype,r.prototype=new a,r.__super__=i.prototype,r},n={}.hasOwnProperty;t=Xr(),py.exports=(function(r){e(i,r);function i(s,a){if(i.__super__.constructor.call(this,s),a==null)throw new Error("Missing raw text. "+this.debugInfo());this.value=this.stringify.raw(a)}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(s){return this.options.writer.set(s).raw(this)},i})(t)}).call(_Ue)),py.exports}var gy={exports:{}},DUe=gy.exports,Ez;function Pv(){return Ez||(Ez=1,(function(){var t,e=function(r,i){for(var s in i)n.call(i,s)&&(r[s]=i[s]);function a(){this.constructor=r}return a.prototype=i.prototype,r.prototype=new a,r.__super__=i.prototype,r},n={}.hasOwnProperty;t=Xr(),gy.exports=(function(r){e(i,r);function i(s,a){if(i.__super__.constructor.call(this,s),a==null)throw new Error("Missing element text. "+this.debugInfo());this.value=this.stringify.eleText(a)}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(s){return this.options.writer.set(s).text(this)},i})(t)}).call(DUe)),gy.exports}var my={exports:{}},EUe=my.exports,Sz;function Lv(){return Sz||(Sz=1,(function(){var t,e=function(r,i){for(var s in i)n.call(i,s)&&(r[s]=i[s]);function a(){this.constructor=r}return a.prototype=i.prototype,r.prototype=new a,r.__super__=i.prototype,r},n={}.hasOwnProperty;t=Xr(),my.exports=(function(r){e(i,r);function i(s,a,o){if(i.__super__.constructor.call(this,s),a==null)throw new Error("Missing instruction target. "+this.debugInfo());this.target=this.stringify.insTarget(a),o&&(this.value=this.stringify.insValue(o))}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(s){return this.options.writer.set(s).processingInstruction(this)},i})(t)}).call(EUe)),my.exports}var yy={exports:{}},SUe=yy.exports,Az;function $3(){return Az||(Az=1,(function(){var t,e=function(r,i){for(var s in i)n.call(i,s)&&(r[s]=i[s]);function a(){this.constructor=r}return a.prototype=i.prototype,r.prototype=new a,r.__super__=i.prototype,r},n={}.hasOwnProperty;t=Xr(),yy.exports=(function(r){e(i,r);function i(s){i.__super__.constructor.call(this,s),this.isDummy=!0}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(s){return""},i})(t)}).call(SUe)),yy.exports}var AUe=ry.exports,Tz;function Xr(){return Tz||(Tz=1,(function(){var t,e,n,r,i,s,a,o,l,c,d,h,p,g,v={}.hasOwnProperty;g=Bo(),p=g.isObject,h=g.isFunction,d=g.isEmpty,c=g.getValue,s=null,t=null,e=null,n=null,r=null,o=null,l=null,a=null,i=null,ry.exports=(function(){function y(b){this.parent=b,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.children=[],s||(s=Tv(),t=Cv(),e=kv(),n=Rv(),r=Fv(),o=Iv(),l=Pv(),a=Lv(),i=$3())}return y.prototype.element=function(b,x,w){var D,E,A,S,T,M,R,O,z,F,q;if(M=null,x===null&&w==null&&(z=[{},null],x=z[0],w=z[1]),x==null&&(x={}),x=c(x),p(x)||(F=[x,w],w=F[0],x=F[1]),b!=null&&(b=c(b)),Array.isArray(b))for(A=0,R=b.length;A<R;A++)E=b[A],M=this.element(E);else if(h(b))M=this.element(b.apply());else if(p(b)){for(T in b)if(v.call(b,T))if(q=b[T],h(q)&&(q=q.apply()),p(q)&&d(q)&&(q=null),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&T.indexOf(this.stringify.convertAttKey)===0)M=this.attribute(T.substr(this.stringify.convertAttKey.length),q);else if(!this.options.separateArrayItems&&Array.isArray(q))for(S=0,O=q.length;S<O;S++)E=q[S],D={},D[T]=E,M=this.element(D);else p(q)?(M=this.element(T),M.element(q)):M=this.element(T,q)}else this.options.skipNullNodes&&w===null?M=this.dummy():!this.options.ignoreDecorators&&this.stringify.convertTextKey&&b.indexOf(this.stringify.convertTextKey)===0?M=this.text(w):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&b.indexOf(this.stringify.convertCDataKey)===0?M=this.cdata(w):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&b.indexOf(this.stringify.convertCommentKey)===0?M=this.comment(w):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&b.indexOf(this.stringify.convertRawKey)===0?M=this.raw(w):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&b.indexOf(this.stringify.convertPIKey)===0?M=this.instruction(b.substr(this.stringify.convertPIKey.length),w):M=this.node(b,x,w);if(M==null)throw new Error("Could not create any elements with: "+b+". "+this.debugInfo());return M},y.prototype.insertBefore=function(b,x,w){var D,E,A;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(b));return E=this.parent.children.indexOf(this),A=this.parent.children.splice(E),D=this.parent.element(b,x,w),Array.prototype.push.apply(this.parent.children,A),D},y.prototype.insertAfter=function(b,x,w){var D,E,A;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(b));return E=this.parent.children.indexOf(this),A=this.parent.children.splice(E+1),D=this.parent.element(b,x,w),Array.prototype.push.apply(this.parent.children,A),D},y.prototype.remove=function(){var b;if(this.isRoot)throw new Error("Cannot remove the root element. "+this.debugInfo());return b=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[b,b-b+1].concat([])),this.parent},y.prototype.node=function(b,x,w){var D,E;return b!=null&&(b=c(b)),x||(x={}),x=c(x),p(x)||(E=[x,w],w=E[0],x=E[1]),D=new s(this,b,x),w!=null&&D.text(w),this.children.push(D),D},y.prototype.text=function(b){var x;return x=new l(this,b),this.children.push(x),this},y.prototype.cdata=function(b){var x;return x=new t(this,b),this.children.push(x),this},y.prototype.comment=function(b){var x;return x=new e(this,b),this.children.push(x),this},y.prototype.commentBefore=function(b){var x,w;return x=this.parent.children.indexOf(this),w=this.parent.children.splice(x),this.parent.comment(b),Array.prototype.push.apply(this.parent.children,w),this},y.prototype.commentAfter=function(b){var x,w;return x=this.parent.children.indexOf(this),w=this.parent.children.splice(x+1),this.parent.comment(b),Array.prototype.push.apply(this.parent.children,w),this},y.prototype.raw=function(b){var x;return x=new o(this,b),this.children.push(x),this},y.prototype.dummy=function(){var b;return b=new i(this),this.children.push(b),b},y.prototype.instruction=function(b,x){var w,D,E,A,S;if(b!=null&&(b=c(b)),x!=null&&(x=c(x)),Array.isArray(b))for(A=0,S=b.length;A<S;A++)w=b[A],this.instruction(w);else if(p(b))for(w in b)v.call(b,w)&&(D=b[w],this.instruction(w,D));else h(x)&&(x=x.apply()),E=new a(this,b,x),this.children.push(E);return this},y.prototype.instructionBefore=function(b,x){var w,D;return w=this.parent.children.indexOf(this),D=this.parent.children.splice(w),this.parent.instruction(b,x),Array.prototype.push.apply(this.parent.children,D),this},y.prototype.instructionAfter=function(b,x){var w,D;return w=this.parent.children.indexOf(this),D=this.parent.children.splice(w+1),this.parent.instruction(b,x),Array.prototype.push.apply(this.parent.children,D),this},y.prototype.declaration=function(b,x,w){var D,E;return D=this.document(),E=new n(D,b,x,w),D.children[0]instanceof n?D.children[0]=E:D.children.unshift(E),D.root()||D},y.prototype.doctype=function(b,x){var w,D,E,A,S,T,M,R,O,z;for(D=this.document(),E=new r(D,b,x),O=D.children,A=S=0,M=O.length;S<M;A=++S)if(w=O[A],w instanceof r)return D.children[A]=E,E;for(z=D.children,A=T=0,R=z.length;T<R;A=++T)if(w=z[A],w.isRoot)return D.children.splice(A,0,E),E;return D.children.push(E),E},y.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},y.prototype.root=function(){var b;for(b=this;b;){if(b.isDocument)return b.rootObject;if(b.isRoot)return b;b=b.parent}},y.prototype.document=function(){var b;for(b=this;b;){if(b.isDocument)return b;b=b.parent}},y.prototype.end=function(b){return this.document().end(b)},y.prototype.prev=function(){var b;for(b=this.parent.children.indexOf(this);b>0&&this.parent.children[b-1].isDummy;)b=b-1;if(b<1)throw new Error("Already at the first node. "+this.debugInfo());return this.parent.children[b-1]},y.prototype.next=function(){var b;for(b=this.parent.children.indexOf(this);b<this.parent.children.length-1&&this.parent.children[b+1].isDummy;)b=b+1;if(b===-1||b===this.parent.children.length-1)throw new Error("Already at the last node. "+this.debugInfo());return this.parent.children[b+1]},y.prototype.importDocument=function(b){var x;return x=b.root().clone(),x.parent=this,x.isRoot=!1,this.children.push(x),this},y.prototype.debugInfo=function(b){var x,w;return b=b||this.name,b==null&&!((x=this.parent)!=null&&x.name)?"":b==null?"parent: <"+this.parent.name+">":(w=this.parent)!=null&&w.name?"node: <"+b+">, parent: <"+this.parent.name+">":"node: <"+b+">"},y.prototype.ele=function(b,x,w){return this.element(b,x,w)},y.prototype.nod=function(b,x,w){return this.node(b,x,w)},y.prototype.txt=function(b){return this.text(b)},y.prototype.dat=function(b){return this.cdata(b)},y.prototype.com=function(b){return this.comment(b)},y.prototype.ins=function(b,x){return this.instruction(b,x)},y.prototype.doc=function(){return this.document()},y.prototype.dec=function(b,x,w){return this.declaration(b,x,w)},y.prototype.dtd=function(b,x){return this.doctype(b,x)},y.prototype.e=function(b,x,w){return this.element(b,x,w)},y.prototype.n=function(b,x,w){return this.node(b,x,w)},y.prototype.t=function(b){return this.text(b)},y.prototype.d=function(b){return this.cdata(b)},y.prototype.c=function(b){return this.comment(b)},y.prototype.r=function(b){return this.raw(b)},y.prototype.i=function(b,x){return this.instruction(b,x)},y.prototype.u=function(){return this.up()},y.prototype.importXMLBuilder=function(b){return this.importDocument(b)},y})()}).call(AUe)),ry.exports}var by={exports:{}},TUe=by.exports,Cz;function zZ(){return Cz||(Cz=1,(function(){var t=function(n,r){return function(){return n.apply(r,arguments)}},e={}.hasOwnProperty;by.exports=(function(){function n(r){this.assertLegalChar=t(this.assertLegalChar,this);var i,s,a;r||(r={}),this.noDoubleEncoding=r.noDoubleEncoding,s=r.stringify||{};for(i in s)e.call(s,i)&&(a=s[i],this[i]=a)}return n.prototype.eleName=function(r){return r=""+r||"",this.assertLegalChar(r)},n.prototype.eleText=function(r){return r=""+r||"",this.assertLegalChar(this.elEscape(r))},n.prototype.cdata=function(r){return r=""+r||"",r=r.replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(r)},n.prototype.comment=function(r){if(r=""+r||"",r.match(/--/))throw new Error("Comment text cannot contain double-hypen: "+r);return this.assertLegalChar(r)},n.prototype.raw=function(r){return""+r||""},n.prototype.attName=function(r){return r=""+r||""},n.prototype.attValue=function(r){return r=""+r||"",this.attEscape(r)},n.prototype.insTarget=function(r){return""+r||""},n.prototype.insValue=function(r){if(r=""+r||"",r.match(/\?>/))throw new Error("Invalid processing instruction value: "+r);return r},n.prototype.xmlVersion=function(r){if(r=""+r||"",!r.match(/1\.[0-9]+/))throw new Error("Invalid version number: "+r);return r},n.prototype.xmlEncoding=function(r){if(r=""+r||"",!r.match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/))throw new Error("Invalid encoding: "+r);return r},n.prototype.xmlStandalone=function(r){return r?"yes":"no"},n.prototype.dtdPubID=function(r){return""+r||""},n.prototype.dtdSysID=function(r){return""+r||""},n.prototype.dtdElementValue=function(r){return""+r||""},n.prototype.dtdAttType=function(r){return""+r||""},n.prototype.dtdAttDefault=function(r){return r!=null?""+r||"":r},n.prototype.dtdEntityValue=function(r){return""+r||""},n.prototype.dtdNData=function(r){return""+r||""},n.prototype.convertAttKey="@",n.prototype.convertPIKey="?",n.prototype.convertTextKey="#text",n.prototype.convertCDataKey="#cdata",n.prototype.convertCommentKey="#comment",n.prototype.convertRawKey="#raw",n.prototype.assertLegalChar=function(r){var i;if(i=r.match(/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/),i)throw new Error("Invalid character in string: "+r+" at index "+i.index);return r},n.prototype.elEscape=function(r){var i;return i=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,r.replace(i,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;")},n.prototype.attEscape=function(r){var i;return i=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,r.replace(i,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;")},n})()}).call(TUe)),by.exports}var vy={exports:{}},xy={exports:{}},CUe=xy.exports,kz;function qZ(){return kz||(kz=1,(function(){var t={}.hasOwnProperty;xy.exports=(function(){function e(n){var r,i,s,a,o,l,c,d,h;n||(n={}),this.pretty=n.pretty||!1,this.allowEmpty=(i=n.allowEmpty)!=null?i:!1,this.pretty?(this.indent=(s=n.indent)!=null?s:"  ",this.newline=(a=n.newline)!=null?a:`
`,this.offset=(o=n.offset)!=null?o:0,this.dontprettytextnodes=(l=n.dontprettytextnodes)!=null?l:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash=(c=n.spacebeforeslash)!=null?c:"",this.spacebeforeslash===!0&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,d=n.writer||{};for(r in d)t.call(d,r)&&(h=d[r],this[r]=h)}return e.prototype.set=function(n){var r,i,s;n||(n={}),"pretty"in n&&(this.pretty=n.pretty),"allowEmpty"in n&&(this.allowEmpty=n.allowEmpty),this.pretty?(this.indent="indent"in n?n.indent:"  ",this.newline="newline"in n?n.newline:`
`,this.offset="offset"in n?n.offset:0,this.dontprettytextnodes="dontprettytextnodes"in n?n.dontprettytextnodes:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash="spacebeforeslash"in n?n.spacebeforeslash:"",this.spacebeforeslash===!0&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,i=n.writer||{};for(r in i)t.call(i,r)&&(s=i[r],this[r]=s);return this},e.prototype.space=function(n){var r;return this.pretty?(r=(n||0)+this.offset+1,r>0?new Array(r).join(this.indent):""):""},e})()}).call(CUe)),xy.exports}var kUe=vy.exports,Rz;function G3(){return Rz||(Rz=1,(function(){var t,e,n,r,i,s,a,o,l,c,d,h,p,g,v=function(b,x){for(var w in x)y.call(x,w)&&(b[w]=x[w]);function D(){this.constructor=b}return D.prototype=x.prototype,b.prototype=new D,b.__super__=x.prototype,b},y={}.hasOwnProperty;a=Rv(),o=Fv(),t=Cv(),e=kv(),c=Tv(),h=Iv(),p=Pv(),d=Lv(),l=$3(),n=Uv(),r=Ov(),i=Mv(),s=Nv(),g=qZ(),vy.exports=(function(b){v(x,b);function x(w){x.__super__.constructor.call(this,w)}return x.prototype.document=function(w){var D,E,A,S,T;for(this.textispresent=!1,S="",T=w.children,E=0,A=T.length;E<A;E++)D=T[E],!(D instanceof l)&&(S+=(function(){switch(!1){case!(D instanceof a):return this.declaration(D);case!(D instanceof o):return this.docType(D);case!(D instanceof e):return this.comment(D);case!(D instanceof d):return this.processingInstruction(D);default:return this.element(D,0)}}).call(this));return this.pretty&&S.slice(-this.newline.length)===this.newline&&(S=S.slice(0,-this.newline.length)),S},x.prototype.attribute=function(w){return" "+w.name+'="'+w.value+'"'},x.prototype.cdata=function(w,D){return this.space(D)+"<![CDATA["+w.text+"]]>"+this.newline},x.prototype.comment=function(w,D){return this.space(D)+"<!-- "+w.text+" -->"+this.newline},x.prototype.declaration=function(w,D){var E;return E=this.space(D),E+='<?xml version="'+w.version+'"',w.encoding!=null&&(E+=' encoding="'+w.encoding+'"'),w.standalone!=null&&(E+=' standalone="'+w.standalone+'"'),E+=this.spacebeforeslash+"?>",E+=this.newline,E},x.prototype.docType=function(w,D){var E,A,S,T,M;if(D||(D=0),T=this.space(D),T+="<!DOCTYPE "+w.root().name,w.pubID&&w.sysID?T+=' PUBLIC "'+w.pubID+'" "'+w.sysID+'"':w.sysID&&(T+=' SYSTEM "'+w.sysID+'"'),w.children.length>0){for(T+=" [",T+=this.newline,M=w.children,A=0,S=M.length;A<S;A++)E=M[A],T+=(function(){switch(!1){case!(E instanceof n):return this.dtdAttList(E,D+1);case!(E instanceof r):return this.dtdElement(E,D+1);case!(E instanceof i):return this.dtdEntity(E,D+1);case!(E instanceof s):return this.dtdNotation(E,D+1);case!(E instanceof t):return this.cdata(E,D+1);case!(E instanceof e):return this.comment(E,D+1);case!(E instanceof d):return this.processingInstruction(E,D+1);default:throw new Error("Unknown DTD node type: "+E.constructor.name)}}).call(this);T+="]"}return T+=this.spacebeforeslash+">",T+=this.newline,T},x.prototype.element=function(w,D){var E,A,S,T,M,R,O,z,F,q,k,H,N;D||(D=0),N=!1,this.textispresent?(this.newline="",this.pretty=!1):(this.newline=this.newlinedefault,this.pretty=this.prettydefault),H=this.space(D),z="",z+=H+"<"+w.name,F=w.attributes;for(O in F)y.call(F,O)&&(E=F[O],z+=this.attribute(E));if(w.children.length===0||w.children.every(function(B){return B.value===""}))this.allowEmpty?z+="></"+w.name+">"+this.newline:z+=this.spacebeforeslash+"/>"+this.newline;else if(this.pretty&&w.children.length===1&&w.children[0].value!=null)z+=">",z+=w.children[0].value,z+="</"+w.name+">"+this.newline;else{if(this.dontprettytextnodes){for(q=w.children,S=0,M=q.length;S<M;S++)if(A=q[S],A.value!=null){this.textispresent++,N=!0;break}}for(this.textispresent&&(this.newline="",this.pretty=!1,H=this.space(D)),z+=">"+this.newline,k=w.children,T=0,R=k.length;T<R;T++)A=k[T],z+=(function(){switch(!1){case!(A instanceof t):return this.cdata(A,D+1);case!(A instanceof e):return this.comment(A,D+1);case!(A instanceof c):return this.element(A,D+1);case!(A instanceof h):return this.raw(A,D+1);case!(A instanceof p):return this.text(A,D+1);case!(A instanceof d):return this.processingInstruction(A,D+1);case!(A instanceof l):return"";default:throw new Error("Unknown XML node type: "+A.constructor.name)}}).call(this);N&&this.textispresent--,this.textispresent||(this.newline=this.newlinedefault,this.pretty=this.prettydefault),z+=H+"</"+w.name+">"+this.newline}return z},x.prototype.processingInstruction=function(w,D){var E;return E=this.space(D)+"<?"+w.target,w.value&&(E+=" "+w.value),E+=this.spacebeforeslash+"?>"+this.newline,E},x.prototype.raw=function(w,D){return this.space(D)+w.value+this.newline},x.prototype.text=function(w,D){return this.space(D)+w.value+this.newline},x.prototype.dtdAttList=function(w,D){var E;return E=this.space(D)+"<!ATTLIST "+w.elementName+" "+w.attributeName+" "+w.attributeType,w.defaultValueType!=="#DEFAULT"&&(E+=" "+w.defaultValueType),w.defaultValue&&(E+=' "'+w.defaultValue+'"'),E+=this.spacebeforeslash+">"+this.newline,E},x.prototype.dtdElement=function(w,D){return this.space(D)+"<!ELEMENT "+w.name+" "+w.value+this.spacebeforeslash+">"+this.newline},x.prototype.dtdEntity=function(w,D){var E;return E=this.space(D)+"<!ENTITY",w.pe&&(E+=" %"),E+=" "+w.name,w.value?E+=' "'+w.value+'"':(w.pubID&&w.sysID?E+=' PUBLIC "'+w.pubID+'" "'+w.sysID+'"':w.sysID&&(E+=' SYSTEM "'+w.sysID+'"'),w.nData&&(E+=" NDATA "+w.nData)),E+=this.spacebeforeslash+">"+this.newline,E},x.prototype.dtdNotation=function(w,D){var E;return E=this.space(D)+"<!NOTATION "+w.name,w.pubID&&w.sysID?E+=' PUBLIC "'+w.pubID+'" "'+w.sysID+'"':w.pubID?E+=' PUBLIC "'+w.pubID+'"':w.sysID&&(E+=' SYSTEM "'+w.sysID+'"'),E+=this.spacebeforeslash+">"+this.newline,E},x.prototype.openNode=function(w,D){var E,A,S,T;if(D||(D=0),w instanceof c){S=this.space(D)+"<"+w.name,T=w.attributes;for(A in T)y.call(T,A)&&(E=T[A],S+=this.attribute(E));return S+=(w.children?">":"/>")+this.newline,S}else return S=this.space(D)+"<!DOCTYPE "+w.rootNodeName,w.pubID&&w.sysID?S+=' PUBLIC "'+w.pubID+'" "'+w.sysID+'"':w.sysID&&(S+=' SYSTEM "'+w.sysID+'"'),S+=(w.children?" [":">")+this.newline,S},x.prototype.closeNode=function(w,D){switch(D||(D=0),!1){case!(w instanceof c):return this.space(D)+"</"+w.name+">"+this.newline;case!(w instanceof o):return this.space(D)+"]>"+this.newline}},x})(g)}).call(kUe)),vy.exports}var RUe=ny.exports,Uz;function UUe(){return Uz||(Uz=1,(function(){var t,e,n,r,i=function(a,o){for(var l in o)s.call(o,l)&&(a[l]=o[l]);function c(){this.constructor=a}return c.prototype=o.prototype,a.prototype=new c,a.__super__=o.prototype,a},s={}.hasOwnProperty;r=Bo().isPlainObject,t=Xr(),n=zZ(),e=G3(),ny.exports=(function(a){i(o,a);function o(l){o.__super__.constructor.call(this,null),this.name="?xml",l||(l={}),l.writer||(l.writer=new e),this.options=l,this.stringify=new n(l),this.isDocument=!0}return o.prototype.end=function(l){var c;return l?r(l)&&(c=l,l=this.options.writer.set(c)):l=this.options.writer,l.document(this)},o.prototype.toString=function(l){return this.options.writer.set(l).document(this)},o})(t)}).call(RUe)),ny.exports}var wy={exports:{}},MUe=wy.exports,Mz;function OUe(){return Mz||(Mz=1,(function(){var t,e,n,r,i,s,a,o,l,c,d,h,p,g,v,y,b,x,w,D,E={}.hasOwnProperty;D=Bo(),x=D.isObject,b=D.isFunction,w=D.isPlainObject,y=D.getValue,c=Tv(),e=Cv(),n=kv(),h=Iv(),v=Pv(),d=Lv(),o=Rv(),l=Fv(),r=Uv(),s=Mv(),i=Ov(),a=Nv(),t=jZ(),g=zZ(),p=G3(),wy.exports=(function(){function A(S,T,M){var R;this.name="?xml",S||(S={}),S.writer?w(S.writer)&&(R=S.writer,S.writer=new p(R)):S.writer=new p(S),this.options=S,this.writer=S.writer,this.stringify=new g(S),this.onDataCallback=T||function(){},this.onEndCallback=M||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}return A.prototype.node=function(S,T,M){var R,O;if(S==null)throw new Error("Missing node name.");if(this.root&&this.currentLevel===-1)throw new Error("Document can only have one root node. "+this.debugInfo(S));return this.openCurrent(),S=y(S),T===null&&M==null&&(R=[{},null],T=R[0],M=R[1]),T==null&&(T={}),T=y(T),x(T)||(O=[T,M],M=O[0],T=O[1]),this.currentNode=new c(this,S,T),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,M!=null&&this.text(M),this},A.prototype.element=function(S,T,M){return this.currentNode&&this.currentNode instanceof l?this.dtdElement.apply(this,arguments):this.node(S,T,M)},A.prototype.attribute=function(S,T){var M,R;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode. "+this.debugInfo(S));if(S!=null&&(S=y(S)),x(S))for(M in S)E.call(S,M)&&(R=S[M],this.attribute(M,R));else b(T)&&(T=T.apply()),(!this.options.skipNullAttributes||T!=null)&&(this.currentNode.attributes[S]=new t(this,S,T));return this},A.prototype.text=function(S){var T;return this.openCurrent(),T=new v(this,S),this.onData(this.writer.text(T,this.currentLevel+1),this.currentLevel+1),this},A.prototype.cdata=function(S){var T;return this.openCurrent(),T=new e(this,S),this.onData(this.writer.cdata(T,this.currentLevel+1),this.currentLevel+1),this},A.prototype.comment=function(S){var T;return this.openCurrent(),T=new n(this,S),this.onData(this.writer.comment(T,this.currentLevel+1),this.currentLevel+1),this},A.prototype.raw=function(S){var T;return this.openCurrent(),T=new h(this,S),this.onData(this.writer.raw(T,this.currentLevel+1),this.currentLevel+1),this},A.prototype.instruction=function(S,T){var M,R,O,z,F;if(this.openCurrent(),S!=null&&(S=y(S)),T!=null&&(T=y(T)),Array.isArray(S))for(M=0,z=S.length;M<z;M++)R=S[M],this.instruction(R);else if(x(S))for(R in S)E.call(S,R)&&(O=S[R],this.instruction(R,O));else b(T)&&(T=T.apply()),F=new d(this,S,T),this.onData(this.writer.processingInstruction(F,this.currentLevel+1),this.currentLevel+1);return this},A.prototype.declaration=function(S,T,M){var R;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node.");return R=new o(this,S,T,M),this.onData(this.writer.declaration(R,this.currentLevel+1),this.currentLevel+1),this},A.prototype.doctype=function(S,T,M){if(this.openCurrent(),S==null)throw new Error("Missing root node name.");if(this.root)throw new Error("dtd() must come before the root node.");return this.currentNode=new l(this,T,M),this.currentNode.rootNodeName=S,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},A.prototype.dtdElement=function(S,T){var M;return this.openCurrent(),M=new i(this,S,T),this.onData(this.writer.dtdElement(M,this.currentLevel+1),this.currentLevel+1),this},A.prototype.attList=function(S,T,M,R,O){var z;return this.openCurrent(),z=new r(this,S,T,M,R,O),this.onData(this.writer.dtdAttList(z,this.currentLevel+1),this.currentLevel+1),this},A.prototype.entity=function(S,T){var M;return this.openCurrent(),M=new s(this,!1,S,T),this.onData(this.writer.dtdEntity(M,this.currentLevel+1),this.currentLevel+1),this},A.prototype.pEntity=function(S,T){var M;return this.openCurrent(),M=new s(this,!0,S,T),this.onData(this.writer.dtdEntity(M,this.currentLevel+1),this.currentLevel+1),this},A.prototype.notation=function(S,T){var M;return this.openCurrent(),M=new a(this,S,T),this.onData(this.writer.dtdNotation(M,this.currentLevel+1),this.currentLevel+1),this},A.prototype.up=function(){if(this.currentLevel<0)throw new Error("The document node has no parent.");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},A.prototype.end=function(){for(;this.currentLevel>=0;)this.up();return this.onEnd()},A.prototype.openCurrent=function(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)},A.prototype.openNode=function(S){if(!S.isOpen)return!this.root&&this.currentLevel===0&&S instanceof c&&(this.root=S),this.onData(this.writer.openNode(S,this.currentLevel),this.currentLevel),S.isOpen=!0},A.prototype.closeNode=function(S){if(!S.isClosed)return this.onData(this.writer.closeNode(S,this.currentLevel),this.currentLevel),S.isClosed=!0},A.prototype.onData=function(S,T){return this.documentStarted=!0,this.onDataCallback(S,T+1)},A.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},A.prototype.debugInfo=function(S){return S==null?"":"node: <"+S+">"},A.prototype.ele=function(){return this.element.apply(this,arguments)},A.prototype.nod=function(S,T,M){return this.node(S,T,M)},A.prototype.txt=function(S){return this.text(S)},A.prototype.dat=function(S){return this.cdata(S)},A.prototype.com=function(S){return this.comment(S)},A.prototype.ins=function(S,T){return this.instruction(S,T)},A.prototype.dec=function(S,T,M){return this.declaration(S,T,M)},A.prototype.dtd=function(S,T,M){return this.doctype(S,T,M)},A.prototype.e=function(S,T,M){return this.element(S,T,M)},A.prototype.n=function(S,T,M){return this.node(S,T,M)},A.prototype.t=function(S){return this.text(S)},A.prototype.d=function(S){return this.cdata(S)},A.prototype.c=function(S){return this.comment(S)},A.prototype.r=function(S){return this.raw(S)},A.prototype.i=function(S,T){return this.instruction(S,T)},A.prototype.att=function(){return this.currentNode&&this.currentNode instanceof l?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},A.prototype.a=function(){return this.currentNode&&this.currentNode instanceof l?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},A.prototype.ent=function(S,T){return this.entity(S,T)},A.prototype.pent=function(S,T){return this.pEntity(S,T)},A.prototype.not=function(S,T){return this.notation(S,T)},A})()}).call(MUe)),wy.exports}var _y={exports:{}},NUe=_y.exports,Oz;function FUe(){return Oz||(Oz=1,(function(){var t,e,n,r,i,s,a,o,l,c,d,h,p,g,v=function(b,x){for(var w in x)y.call(x,w)&&(b[w]=x[w]);function D(){this.constructor=b}return D.prototype=x.prototype,b.prototype=new D,b.__super__=x.prototype,b},y={}.hasOwnProperty;a=Rv(),o=Fv(),t=Cv(),e=kv(),c=Tv(),h=Iv(),p=Pv(),d=Lv(),l=$3(),n=Uv(),r=Ov(),i=Mv(),s=Nv(),g=qZ(),_y.exports=(function(b){v(x,b);function x(w,D){x.__super__.constructor.call(this,D),this.stream=w}return x.prototype.document=function(w){var D,E,A,S,T,M,R,O;for(M=w.children,E=0,S=M.length;E<S;E++)D=M[E],D.isLastRootNode=!1;for(w.children[w.children.length-1].isLastRootNode=!0,R=w.children,O=[],A=0,T=R.length;A<T;A++)if(D=R[A],!(D instanceof l))switch(!1){case!(D instanceof a):O.push(this.declaration(D));break;case!(D instanceof o):O.push(this.docType(D));break;case!(D instanceof e):O.push(this.comment(D));break;case!(D instanceof d):O.push(this.processingInstruction(D));break;default:O.push(this.element(D))}return O},x.prototype.attribute=function(w){return this.stream.write(" "+w.name+'="'+w.value+'"')},x.prototype.cdata=function(w,D){return this.stream.write(this.space(D)+"<![CDATA["+w.text+"]]>"+this.endline(w))},x.prototype.comment=function(w,D){return this.stream.write(this.space(D)+"<!-- "+w.text+" -->"+this.endline(w))},x.prototype.declaration=function(w,D){return this.stream.write(this.space(D)),this.stream.write('<?xml version="'+w.version+'"'),w.encoding!=null&&this.stream.write(' encoding="'+w.encoding+'"'),w.standalone!=null&&this.stream.write(' standalone="'+w.standalone+'"'),this.stream.write(this.spacebeforeslash+"?>"),this.stream.write(this.endline(w))},x.prototype.docType=function(w,D){var E,A,S,T;if(D||(D=0),this.stream.write(this.space(D)),this.stream.write("<!DOCTYPE "+w.root().name),w.pubID&&w.sysID?this.stream.write(' PUBLIC "'+w.pubID+'" "'+w.sysID+'"'):w.sysID&&this.stream.write(' SYSTEM "'+w.sysID+'"'),w.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline(w)),T=w.children,A=0,S=T.length;A<S;A++)switch(E=T[A],!1){case!(E instanceof n):this.dtdAttList(E,D+1);break;case!(E instanceof r):this.dtdElement(E,D+1);break;case!(E instanceof i):this.dtdEntity(E,D+1);break;case!(E instanceof s):this.dtdNotation(E,D+1);break;case!(E instanceof t):this.cdata(E,D+1);break;case!(E instanceof e):this.comment(E,D+1);break;case!(E instanceof d):this.processingInstruction(E,D+1);break;default:throw new Error("Unknown DTD node type: "+E.constructor.name)}this.stream.write("]")}return this.stream.write(this.spacebeforeslash+">"),this.stream.write(this.endline(w))},x.prototype.element=function(w,D){var E,A,S,T,M,R,O,z;D||(D=0),z=this.space(D),this.stream.write(z+"<"+w.name),R=w.attributes;for(M in R)y.call(R,M)&&(E=R[M],this.attribute(E));if(w.children.length===0||w.children.every(function(F){return F.value===""}))this.allowEmpty?this.stream.write("></"+w.name+">"):this.stream.write(this.spacebeforeslash+"/>");else if(this.pretty&&w.children.length===1&&w.children[0].value!=null)this.stream.write(">"),this.stream.write(w.children[0].value),this.stream.write("</"+w.name+">");else{for(this.stream.write(">"+this.newline),O=w.children,S=0,T=O.length;S<T;S++)switch(A=O[S],!1){case!(A instanceof t):this.cdata(A,D+1);break;case!(A instanceof e):this.comment(A,D+1);break;case!(A instanceof c):this.element(A,D+1);break;case!(A instanceof h):this.raw(A,D+1);break;case!(A instanceof p):this.text(A,D+1);break;case!(A instanceof d):this.processingInstruction(A,D+1);break;case!(A instanceof l):break;default:throw new Error("Unknown XML node type: "+A.constructor.name)}this.stream.write(z+"</"+w.name+">")}return this.stream.write(this.endline(w))},x.prototype.processingInstruction=function(w,D){return this.stream.write(this.space(D)+"<?"+w.target),w.value&&this.stream.write(" "+w.value),this.stream.write(this.spacebeforeslash+"?>"+this.endline(w))},x.prototype.raw=function(w,D){return this.stream.write(this.space(D)+w.value+this.endline(w))},x.prototype.text=function(w,D){return this.stream.write(this.space(D)+w.value+this.endline(w))},x.prototype.dtdAttList=function(w,D){return this.stream.write(this.space(D)+"<!ATTLIST "+w.elementName+" "+w.attributeName+" "+w.attributeType),w.defaultValueType!=="#DEFAULT"&&this.stream.write(" "+w.defaultValueType),w.defaultValue&&this.stream.write(' "'+w.defaultValue+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(w))},x.prototype.dtdElement=function(w,D){return this.stream.write(this.space(D)+"<!ELEMENT "+w.name+" "+w.value),this.stream.write(this.spacebeforeslash+">"+this.endline(w))},x.prototype.dtdEntity=function(w,D){return this.stream.write(this.space(D)+"<!ENTITY"),w.pe&&this.stream.write(" %"),this.stream.write(" "+w.name),w.value?this.stream.write(' "'+w.value+'"'):(w.pubID&&w.sysID?this.stream.write(' PUBLIC "'+w.pubID+'" "'+w.sysID+'"'):w.sysID&&this.stream.write(' SYSTEM "'+w.sysID+'"'),w.nData&&this.stream.write(" NDATA "+w.nData)),this.stream.write(this.spacebeforeslash+">"+this.endline(w))},x.prototype.dtdNotation=function(w,D){return this.stream.write(this.space(D)+"<!NOTATION "+w.name),w.pubID&&w.sysID?this.stream.write(' PUBLIC "'+w.pubID+'" "'+w.sysID+'"'):w.pubID?this.stream.write(' PUBLIC "'+w.pubID+'"'):w.sysID&&this.stream.write(' SYSTEM "'+w.sysID+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(w))},x.prototype.endline=function(w){return w.isLastRootNode?"":this.newline},x})(g)}).call(NUe)),_y.exports}var Nz;function IUe(){return Nz||(Nz=1,(function(){var t,e,n,r,i,s,a;a=Bo(),i=a.assign,s=a.isFunction,t=UUe(),e=OUe(),r=G3(),n=FUe(),ul.create=function(o,l,c,d){var h,p;if(o==null)throw new Error("Root element needs a name.");return d=i({},l,c,d),h=new t(d),p=h.element(o),d.headless||(h.declaration(d),(d.pubID!=null||d.sysID!=null)&&h.doctype(d)),p},ul.begin=function(o,l,c){var d;return s(o)&&(d=[o,l],l=d[0],c=d[1],o={}),l?new e(o,l,c):new t(o)},ul.stringWriter=function(o){return new r(o)},ul.streamWriter=function(o,l){return new n(o,l)}}).call(ul)),ul}var Fz;function PUe(){if(Fz)return SA;Fz=1;var t=En,e=IUe();SA.writeString=n;function n(i,s){var a=t.invert(s),o={element:c,text:r};function l(p,g){return o[g.type](p,g)}function c(p,g){var v=p.element(d(g.name),g.attributes);g.children.forEach(function(y){l(v,y)})}function d(p){var g=/^\{(.*)\}(.*)$/.exec(p);if(g){var v=a[g[1]];return v+(v===""?"":":")+g[2]}else return p}function h(p){var g=e.create(d(p.name),{version:"1.0",encoding:"UTF-8",standalone:!0});return t.forEach(s,function(v,y){var b="xmlns"+(y===""?"":":"+y);g.attribute(b,v)}),p.children.forEach(function(v){l(g,v)}),g.end()}return h(i)}function r(i,s){i.text(s.value)}return SA}var Iz;function X3(){if(Iz)return io;Iz=1;var t=BZ();return io.Element=t.Element,io.element=t.element,io.emptyElement=t.emptyElement,io.text=t.text,io.readString=dUe().readString,io.writeString=PUe().writeString,io}var Pz;function LUe(){if(Pz)return Um;Pz=1;var t=En,e=Lo(),n=X3();Um.read=i,Um.readXmlFromZipFile=s;var r={"http://schemas.openxmlformats.org/wordprocessingml/2006/main":"w","http://schemas.openxmlformats.org/officeDocument/2006/relationships":"r","http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing":"wp","http://schemas.openxmlformats.org/drawingml/2006/main":"a","http://schemas.openxmlformats.org/drawingml/2006/picture":"pic","http://purl.oclc.org/ooxml/wordprocessingml/main":"w","http://purl.oclc.org/ooxml/officeDocument/relationships":"r","http://purl.oclc.org/ooxml/drawingml/wordprocessingDrawing":"wp","http://purl.oclc.org/ooxml/drawingml/main":"a","http://purl.oclc.org/ooxml/drawingml/picture":"pic","http://schemas.openxmlformats.org/package/2006/content-types":"content-types","http://schemas.openxmlformats.org/package/2006/relationships":"relationships","http://schemas.openxmlformats.org/markup-compatibility/2006":"mc","urn:schemas-microsoft-com:vml":"v","urn:schemas-microsoft-com:office:word":"office-word","http://schemas.microsoft.com/office/word/2010/wordml":"wordml"};function i(l){return n.readString(l,r).then(function(c){return o(c)[0]})}function s(l,c){return l.exists(c)?l.read(c,"utf-8").then(a).then(i):e.resolve(null)}function a(l){return l.replace(/^\uFEFF/g,"")}function o(l){return l.type==="element"?l.name==="mc:AlternateContent"?l.firstOrEmpty("mc:Fallback").children:(l.children=t.flatten(l.children.map(o,!0)),[l]):[l]}return Um}var Nm={},Zi={},Fm={},Lz;function BUe(){if(Lz)return Fm;Lz=1,Object.defineProperty(Fm,"__esModule",{value:!0});var t=[{"Typeface name":"Symbol","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Symbol","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"33","Unicode hex":"21"},{"Typeface name":"Symbol","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"8704","Unicode hex":"2200"},{"Typeface name":"Symbol","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"35","Unicode hex":"23"},{"Typeface name":"Symbol","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"8707","Unicode hex":"2203"},{"Typeface name":"Symbol","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"37","Unicode hex":"25"},{"Typeface name":"Symbol","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"38","Unicode hex":"26"},{"Typeface name":"Symbol","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"8717","Unicode hex":"220D"},{"Typeface name":"Symbol","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"40","Unicode hex":"28"},{"Typeface name":"Symbol","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"41","Unicode hex":"29"},{"Typeface name":"Symbol","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"42","Unicode hex":"2A"},{"Typeface name":"Symbol","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"43","Unicode hex":"2B"},{"Typeface name":"Symbol","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"44","Unicode hex":"2C"},{"Typeface name":"Symbol","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"8722","Unicode hex":"2212"},{"Typeface name":"Symbol","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"46","Unicode hex":"2E"},{"Typeface name":"Symbol","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"47","Unicode hex":"2F"},{"Typeface name":"Symbol","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"48","Unicode hex":"30"},{"Typeface name":"Symbol","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"49","Unicode hex":"31"},{"Typeface name":"Symbol","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"50","Unicode hex":"32"},{"Typeface name":"Symbol","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"51","Unicode hex":"33"},{"Typeface name":"Symbol","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"52","Unicode hex":"34"},{"Typeface name":"Symbol","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"53","Unicode hex":"35"},{"Typeface name":"Symbol","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"54","Unicode hex":"36"},{"Typeface name":"Symbol","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"55","Unicode hex":"37"},{"Typeface name":"Symbol","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"56","Unicode hex":"38"},{"Typeface name":"Symbol","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"57","Unicode hex":"39"},{"Typeface name":"Symbol","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"58","Unicode hex":"3A"},{"Typeface name":"Symbol","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"59","Unicode hex":"3B"},{"Typeface name":"Symbol","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"60","Unicode hex":"3C"},{"Typeface name":"Symbol","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"61","Unicode hex":"3D"},{"Typeface name":"Symbol","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"62","Unicode hex":"3E"},{"Typeface name":"Symbol","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"63","Unicode hex":"3F"},{"Typeface name":"Symbol","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"8773","Unicode hex":"2245"},{"Typeface name":"Symbol","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"913","Unicode hex":"391"},{"Typeface name":"Symbol","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"914","Unicode hex":"392"},{"Typeface name":"Symbol","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"935","Unicode hex":"3A7"},{"Typeface name":"Symbol","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"916","Unicode hex":"394"},{"Typeface name":"Symbol","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"917","Unicode hex":"395"},{"Typeface name":"Symbol","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"934","Unicode hex":"3A6"},{"Typeface name":"Symbol","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"915","Unicode hex":"393"},{"Typeface name":"Symbol","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"919","Unicode hex":"397"},{"Typeface name":"Symbol","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"921","Unicode hex":"399"},{"Typeface name":"Symbol","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"977","Unicode hex":"3D1"},{"Typeface name":"Symbol","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"922","Unicode hex":"39A"},{"Typeface name":"Symbol","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"923","Unicode hex":"39B"},{"Typeface name":"Symbol","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"924","Unicode hex":"39C"},{"Typeface name":"Symbol","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"925","Unicode hex":"39D"},{"Typeface name":"Symbol","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"927","Unicode hex":"39F"},{"Typeface name":"Symbol","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"928","Unicode hex":"3A0"},{"Typeface name":"Symbol","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"920","Unicode hex":"398"},{"Typeface name":"Symbol","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"929","Unicode hex":"3A1"},{"Typeface name":"Symbol","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"931","Unicode hex":"3A3"},{"Typeface name":"Symbol","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"932","Unicode hex":"3A4"},{"Typeface name":"Symbol","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"933","Unicode hex":"3A5"},{"Typeface name":"Symbol","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"962","Unicode hex":"3C2"},{"Typeface name":"Symbol","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"937","Unicode hex":"3A9"},{"Typeface name":"Symbol","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"926","Unicode hex":"39E"},{"Typeface name":"Symbol","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"936","Unicode hex":"3A8"},{"Typeface name":"Symbol","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"918","Unicode hex":"396"},{"Typeface name":"Symbol","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"91","Unicode hex":"5B"},{"Typeface name":"Symbol","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"8756","Unicode hex":"2234"},{"Typeface name":"Symbol","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"93","Unicode hex":"5D"},{"Typeface name":"Symbol","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"8869","Unicode hex":"22A5"},{"Typeface name":"Symbol","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"95","Unicode hex":"5F"},{"Typeface name":"Symbol","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"8254","Unicode hex":"203E"},{"Typeface name":"Symbol","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"945","Unicode hex":"3B1"},{"Typeface name":"Symbol","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"946","Unicode hex":"3B2"},{"Typeface name":"Symbol","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"967","Unicode hex":"3C7"},{"Typeface name":"Symbol","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"948","Unicode hex":"3B4"},{"Typeface name":"Symbol","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"949","Unicode hex":"3B5"},{"Typeface name":"Symbol","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"966","Unicode hex":"3C6"},{"Typeface name":"Symbol","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"947","Unicode hex":"3B3"},{"Typeface name":"Symbol","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"951","Unicode hex":"3B7"},{"Typeface name":"Symbol","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"953","Unicode hex":"3B9"},{"Typeface name":"Symbol","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"981","Unicode hex":"3D5"},{"Typeface name":"Symbol","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"954","Unicode hex":"3BA"},{"Typeface name":"Symbol","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"955","Unicode hex":"3BB"},{"Typeface name":"Symbol","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"956","Unicode hex":"3BC"},{"Typeface name":"Symbol","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"957","Unicode hex":"3BD"},{"Typeface name":"Symbol","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"959","Unicode hex":"3BF"},{"Typeface name":"Symbol","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"960","Unicode hex":"3C0"},{"Typeface name":"Symbol","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"952","Unicode hex":"3B8"},{"Typeface name":"Symbol","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"961","Unicode hex":"3C1"},{"Typeface name":"Symbol","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"963","Unicode hex":"3C3"},{"Typeface name":"Symbol","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"964","Unicode hex":"3C4"},{"Typeface name":"Symbol","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"965","Unicode hex":"3C5"},{"Typeface name":"Symbol","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"982","Unicode hex":"3D6"},{"Typeface name":"Symbol","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"969","Unicode hex":"3C9"},{"Typeface name":"Symbol","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"958","Unicode hex":"3BE"},{"Typeface name":"Symbol","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"968","Unicode hex":"3C8"},{"Typeface name":"Symbol","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"950","Unicode hex":"3B6"},{"Typeface name":"Symbol","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"123","Unicode hex":"7B"},{"Typeface name":"Symbol","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"124","Unicode hex":"7C"},{"Typeface name":"Symbol","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"125","Unicode hex":"7D"},{"Typeface name":"Symbol","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"126","Unicode hex":"7E"},{"Typeface name":"Symbol","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"8364","Unicode hex":"20AC"},{"Typeface name":"Symbol","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"978","Unicode hex":"3D2"},{"Typeface name":"Symbol","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"8242","Unicode hex":"2032"},{"Typeface name":"Symbol","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"8804","Unicode hex":"2264"},{"Typeface name":"Symbol","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"8260","Unicode hex":"2044"},{"Typeface name":"Symbol","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"8734","Unicode hex":"221E"},{"Typeface name":"Symbol","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"402","Unicode hex":"192"},{"Typeface name":"Symbol","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"9827","Unicode hex":"2663"},{"Typeface name":"Symbol","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"9830","Unicode hex":"2666"},{"Typeface name":"Symbol","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"9829","Unicode hex":"2665"},{"Typeface name":"Symbol","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"9824","Unicode hex":"2660"},{"Typeface name":"Symbol","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"8596","Unicode hex":"2194"},{"Typeface name":"Symbol","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"8592","Unicode hex":"2190"},{"Typeface name":"Symbol","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"8593","Unicode hex":"2191"},{"Typeface name":"Symbol","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"8594","Unicode hex":"2192"},{"Typeface name":"Symbol","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"8595","Unicode hex":"2193"},{"Typeface name":"Symbol","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"176","Unicode hex":"B0"},{"Typeface name":"Symbol","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"177","Unicode hex":"B1"},{"Typeface name":"Symbol","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"8243","Unicode hex":"2033"},{"Typeface name":"Symbol","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"8805","Unicode hex":"2265"},{"Typeface name":"Symbol","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"215","Unicode hex":"D7"},{"Typeface name":"Symbol","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"8733","Unicode hex":"221D"},{"Typeface name":"Symbol","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"8706","Unicode hex":"2202"},{"Typeface name":"Symbol","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"8226","Unicode hex":"2022"},{"Typeface name":"Symbol","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"247","Unicode hex":"F7"},{"Typeface name":"Symbol","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"8800","Unicode hex":"2260"},{"Typeface name":"Symbol","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"8801","Unicode hex":"2261"},{"Typeface name":"Symbol","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"8776","Unicode hex":"2248"},{"Typeface name":"Symbol","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"8230","Unicode hex":"2026"},{"Typeface name":"Symbol","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"9168","Unicode hex":"23D0"},{"Typeface name":"Symbol","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"9135","Unicode hex":"23AF"},{"Typeface name":"Symbol","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"8629","Unicode hex":"21B5"},{"Typeface name":"Symbol","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"8501","Unicode hex":"2135"},{"Typeface name":"Symbol","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"8465","Unicode hex":"2111"},{"Typeface name":"Symbol","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"8476","Unicode hex":"211C"},{"Typeface name":"Symbol","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"8472","Unicode hex":"2118"},{"Typeface name":"Symbol","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"8855","Unicode hex":"2297"},{"Typeface name":"Symbol","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"8853","Unicode hex":"2295"},{"Typeface name":"Symbol","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"8709","Unicode hex":"2205"},{"Typeface name":"Symbol","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"8745","Unicode hex":"2229"},{"Typeface name":"Symbol","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"8746","Unicode hex":"222A"},{"Typeface name":"Symbol","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"8835","Unicode hex":"2283"},{"Typeface name":"Symbol","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"8839","Unicode hex":"2287"},{"Typeface name":"Symbol","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"8836","Unicode hex":"2284"},{"Typeface name":"Symbol","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"8834","Unicode hex":"2282"},{"Typeface name":"Symbol","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"8838","Unicode hex":"2286"},{"Typeface name":"Symbol","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"8712","Unicode hex":"2208"},{"Typeface name":"Symbol","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"8713","Unicode hex":"2209"},{"Typeface name":"Symbol","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"8736","Unicode hex":"2220"},{"Typeface name":"Symbol","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"8711","Unicode hex":"2207"},{"Typeface name":"Symbol","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"174","Unicode hex":"AE"},{"Typeface name":"Symbol","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"169","Unicode hex":"A9"},{"Typeface name":"Symbol","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"8482","Unicode hex":"2122"},{"Typeface name":"Symbol","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"8719","Unicode hex":"220F"},{"Typeface name":"Symbol","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"8730","Unicode hex":"221A"},{"Typeface name":"Symbol","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"8901","Unicode hex":"22C5"},{"Typeface name":"Symbol","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"172","Unicode hex":"AC"},{"Typeface name":"Symbol","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"8743","Unicode hex":"2227"},{"Typeface name":"Symbol","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"8744","Unicode hex":"2228"},{"Typeface name":"Symbol","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"8660","Unicode hex":"21D4"},{"Typeface name":"Symbol","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"8656","Unicode hex":"21D0"},{"Typeface name":"Symbol","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"8657","Unicode hex":"21D1"},{"Typeface name":"Symbol","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"8658","Unicode hex":"21D2"},{"Typeface name":"Symbol","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"8659","Unicode hex":"21D3"},{"Typeface name":"Symbol","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"9674","Unicode hex":"25CA"},{"Typeface name":"Symbol","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"12296","Unicode hex":"3008"},{"Typeface name":"Symbol","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"174","Unicode hex":"AE"},{"Typeface name":"Symbol","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"169","Unicode hex":"A9"},{"Typeface name":"Symbol","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"8482","Unicode hex":"2122"},{"Typeface name":"Symbol","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"8721","Unicode hex":"2211"},{"Typeface name":"Symbol","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"9115","Unicode hex":"239B"},{"Typeface name":"Symbol","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"9116","Unicode hex":"239C"},{"Typeface name":"Symbol","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"9117","Unicode hex":"239D"},{"Typeface name":"Symbol","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"9121","Unicode hex":"23A1"},{"Typeface name":"Symbol","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"9122","Unicode hex":"23A2"},{"Typeface name":"Symbol","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"9123","Unicode hex":"23A3"},{"Typeface name":"Symbol","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"9127","Unicode hex":"23A7"},{"Typeface name":"Symbol","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"9128","Unicode hex":"23A8"},{"Typeface name":"Symbol","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"9129","Unicode hex":"23A9"},{"Typeface name":"Symbol","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"9130","Unicode hex":"23AA"},{"Typeface name":"Symbol","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"63743","Unicode hex":"F8FF"},{"Typeface name":"Symbol","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"12297","Unicode hex":"3009"},{"Typeface name":"Symbol","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"8747","Unicode hex":"222B"},{"Typeface name":"Symbol","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"8992","Unicode hex":"2320"},{"Typeface name":"Symbol","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"9134","Unicode hex":"23AE"},{"Typeface name":"Symbol","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"8993","Unicode hex":"2321"},{"Typeface name":"Symbol","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"9118","Unicode hex":"239E"},{"Typeface name":"Symbol","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"9119","Unicode hex":"239F"},{"Typeface name":"Symbol","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"9120","Unicode hex":"23A0"},{"Typeface name":"Symbol","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"9124","Unicode hex":"23A4"},{"Typeface name":"Symbol","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"9125","Unicode hex":"23A5"},{"Typeface name":"Symbol","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"9126","Unicode hex":"23A6"},{"Typeface name":"Symbol","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"9131","Unicode hex":"23AB"},{"Typeface name":"Symbol","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"9132","Unicode hex":"23AC"},{"Typeface name":"Symbol","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"9133","Unicode hex":"23AD"},{"Typeface name":"Webdings","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Webdings","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128375","Unicode hex":"1F577"},{"Typeface name":"Webdings","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"128376","Unicode hex":"1F578"},{"Typeface name":"Webdings","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"128370","Unicode hex":"1F572"},{"Typeface name":"Webdings","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128374","Unicode hex":"1F576"},{"Typeface name":"Webdings","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"127942","Unicode hex":"1F3C6"},{"Typeface name":"Webdings","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"127894","Unicode hex":"1F396"},{"Typeface name":"Webdings","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128391","Unicode hex":"1F587"},{"Typeface name":"Webdings","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128488","Unicode hex":"1F5E8"},{"Typeface name":"Webdings","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"128489","Unicode hex":"1F5E9"},{"Typeface name":"Webdings","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128496","Unicode hex":"1F5F0"},{"Typeface name":"Webdings","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128497","Unicode hex":"1F5F1"},{"Typeface name":"Webdings","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"127798","Unicode hex":"1F336"},{"Typeface name":"Webdings","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"127895","Unicode hex":"1F397"},{"Typeface name":"Webdings","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128638","Unicode hex":"1F67E"},{"Typeface name":"Webdings","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128636","Unicode hex":"1F67C"},{"Typeface name":"Webdings","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128469","Unicode hex":"1F5D5"},{"Typeface name":"Webdings","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128470","Unicode hex":"1F5D6"},{"Typeface name":"Webdings","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128471","Unicode hex":"1F5D7"},{"Typeface name":"Webdings","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"9204","Unicode hex":"23F4"},{"Typeface name":"Webdings","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"9205","Unicode hex":"23F5"},{"Typeface name":"Webdings","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"9206","Unicode hex":"23F6"},{"Typeface name":"Webdings","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"9207","Unicode hex":"23F7"},{"Typeface name":"Webdings","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"9194","Unicode hex":"23EA"},{"Typeface name":"Webdings","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"9193","Unicode hex":"23E9"},{"Typeface name":"Webdings","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"9198","Unicode hex":"23EE"},{"Typeface name":"Webdings","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"9197","Unicode hex":"23ED"},{"Typeface name":"Webdings","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"9208","Unicode hex":"23F8"},{"Typeface name":"Webdings","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"9209","Unicode hex":"23F9"},{"Typeface name":"Webdings","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"9210","Unicode hex":"23FA"},{"Typeface name":"Webdings","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"128474","Unicode hex":"1F5DA"},{"Typeface name":"Webdings","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"128499","Unicode hex":"1F5F3"},{"Typeface name":"Webdings","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128736","Unicode hex":"1F6E0"},{"Typeface name":"Webdings","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"127959","Unicode hex":"1F3D7"},{"Typeface name":"Webdings","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"127960","Unicode hex":"1F3D8"},{"Typeface name":"Webdings","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"127961","Unicode hex":"1F3D9"},{"Typeface name":"Webdings","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"127962","Unicode hex":"1F3DA"},{"Typeface name":"Webdings","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"127964","Unicode hex":"1F3DC"},{"Typeface name":"Webdings","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"127981","Unicode hex":"1F3ED"},{"Typeface name":"Webdings","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"127963","Unicode hex":"1F3DB"},{"Typeface name":"Webdings","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"127968","Unicode hex":"1F3E0"},{"Typeface name":"Webdings","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"127958","Unicode hex":"1F3D6"},{"Typeface name":"Webdings","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"127965","Unicode hex":"1F3DD"},{"Typeface name":"Webdings","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128739","Unicode hex":"1F6E3"},{"Typeface name":"Webdings","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"128269","Unicode hex":"1F50D"},{"Typeface name":"Webdings","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"127956","Unicode hex":"1F3D4"},{"Typeface name":"Webdings","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128065","Unicode hex":"1F441"},{"Typeface name":"Webdings","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"128066","Unicode hex":"1F442"},{"Typeface name":"Webdings","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"127966","Unicode hex":"1F3DE"},{"Typeface name":"Webdings","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"127957","Unicode hex":"1F3D5"},{"Typeface name":"Webdings","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"128740","Unicode hex":"1F6E4"},{"Typeface name":"Webdings","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"127967","Unicode hex":"1F3DF"},{"Typeface name":"Webdings","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"128755","Unicode hex":"1F6F3"},{"Typeface name":"Webdings","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"128364","Unicode hex":"1F56C"},{"Typeface name":"Webdings","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"128363","Unicode hex":"1F56B"},{"Typeface name":"Webdings","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128360","Unicode hex":"1F568"},{"Typeface name":"Webdings","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"128264","Unicode hex":"1F508"},{"Typeface name":"Webdings","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"127892","Unicode hex":"1F394"},{"Typeface name":"Webdings","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"127893","Unicode hex":"1F395"},{"Typeface name":"Webdings","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"128492","Unicode hex":"1F5EC"},{"Typeface name":"Webdings","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128637","Unicode hex":"1F67D"},{"Typeface name":"Webdings","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"128493","Unicode hex":"1F5ED"},{"Typeface name":"Webdings","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"128490","Unicode hex":"1F5EA"},{"Typeface name":"Webdings","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"128491","Unicode hex":"1F5EB"},{"Typeface name":"Webdings","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"11156","Unicode hex":"2B94"},{"Typeface name":"Webdings","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"10004","Unicode hex":"2714"},{"Typeface name":"Webdings","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"128690","Unicode hex":"1F6B2"},{"Typeface name":"Webdings","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"11036","Unicode hex":"2B1C"},{"Typeface name":"Webdings","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"128737","Unicode hex":"1F6E1"},{"Typeface name":"Webdings","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"128230","Unicode hex":"1F4E6"},{"Typeface name":"Webdings","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"128753","Unicode hex":"1F6F1"},{"Typeface name":"Webdings","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"11035","Unicode hex":"2B1B"},{"Typeface name":"Webdings","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"128657","Unicode hex":"1F691"},{"Typeface name":"Webdings","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"128712","Unicode hex":"1F6C8"},{"Typeface name":"Webdings","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"128745","Unicode hex":"1F6E9"},{"Typeface name":"Webdings","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"128752","Unicode hex":"1F6F0"},{"Typeface name":"Webdings","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"128968","Unicode hex":"1F7C8"},{"Typeface name":"Webdings","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"128372","Unicode hex":"1F574"},{"Typeface name":"Webdings","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"11044","Unicode hex":"2B24"},{"Typeface name":"Webdings","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"128741","Unicode hex":"1F6E5"},{"Typeface name":"Webdings","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"128660","Unicode hex":"1F694"},{"Typeface name":"Webdings","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"128472","Unicode hex":"1F5D8"},{"Typeface name":"Webdings","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"128473","Unicode hex":"1F5D9"},{"Typeface name":"Webdings","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"10067","Unicode hex":"2753"},{"Typeface name":"Webdings","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"128754","Unicode hex":"1F6F2"},{"Typeface name":"Webdings","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"128647","Unicode hex":"1F687"},{"Typeface name":"Webdings","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"128653","Unicode hex":"1F68D"},{"Typeface name":"Webdings","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"9971","Unicode hex":"26F3"},{"Typeface name":"Webdings","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"10680","Unicode hex":"29B8"},{"Typeface name":"Webdings","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"8854","Unicode hex":"2296"},{"Typeface name":"Webdings","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"128685","Unicode hex":"1F6AD"},{"Typeface name":"Webdings","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"128494","Unicode hex":"1F5EE"},{"Typeface name":"Webdings","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"9168","Unicode hex":"23D0"},{"Typeface name":"Webdings","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128495","Unicode hex":"1F5EF"},{"Typeface name":"Webdings","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128498","Unicode hex":"1F5F2"},{"Typeface name":"Webdings","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"128697","Unicode hex":"1F6B9"},{"Typeface name":"Webdings","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"128698","Unicode hex":"1F6BA"},{"Typeface name":"Webdings","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"128713","Unicode hex":"1F6C9"},{"Typeface name":"Webdings","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"128714","Unicode hex":"1F6CA"},{"Typeface name":"Webdings","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"128700","Unicode hex":"1F6BC"},{"Typeface name":"Webdings","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"128125","Unicode hex":"1F47D"},{"Typeface name":"Webdings","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"127947","Unicode hex":"1F3CB"},{"Typeface name":"Webdings","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"9975","Unicode hex":"26F7"},{"Typeface name":"Webdings","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"127938","Unicode hex":"1F3C2"},{"Typeface name":"Webdings","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"127948","Unicode hex":"1F3CC"},{"Typeface name":"Webdings","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"127946","Unicode hex":"1F3CA"},{"Typeface name":"Webdings","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"127940","Unicode hex":"1F3C4"},{"Typeface name":"Webdings","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"127949","Unicode hex":"1F3CD"},{"Typeface name":"Webdings","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"127950","Unicode hex":"1F3CE"},{"Typeface name":"Webdings","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"128664","Unicode hex":"1F698"},{"Typeface name":"Webdings","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"128480","Unicode hex":"1F5E0"},{"Typeface name":"Webdings","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"128738","Unicode hex":"1F6E2"},{"Typeface name":"Webdings","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"128176","Unicode hex":"1F4B0"},{"Typeface name":"Webdings","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"127991","Unicode hex":"1F3F7"},{"Typeface name":"Webdings","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"128179","Unicode hex":"1F4B3"},{"Typeface name":"Webdings","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"128106","Unicode hex":"1F46A"},{"Typeface name":"Webdings","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"128481","Unicode hex":"1F5E1"},{"Typeface name":"Webdings","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128482","Unicode hex":"1F5E2"},{"Typeface name":"Webdings","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"128483","Unicode hex":"1F5E3"},{"Typeface name":"Webdings","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"10031","Unicode hex":"272F"},{"Typeface name":"Webdings","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"128388","Unicode hex":"1F584"},{"Typeface name":"Webdings","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128389","Unicode hex":"1F585"},{"Typeface name":"Webdings","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128387","Unicode hex":"1F583"},{"Typeface name":"Webdings","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128390","Unicode hex":"1F586"},{"Typeface name":"Webdings","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"128441","Unicode hex":"1F5B9"},{"Typeface name":"Webdings","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"128442","Unicode hex":"1F5BA"},{"Typeface name":"Webdings","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"128443","Unicode hex":"1F5BB"},{"Typeface name":"Webdings","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"128373","Unicode hex":"1F575"},{"Typeface name":"Webdings","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"128368","Unicode hex":"1F570"},{"Typeface name":"Webdings","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"128445","Unicode hex":"1F5BD"},{"Typeface name":"Webdings","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"128446","Unicode hex":"1F5BE"},{"Typeface name":"Webdings","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128203","Unicode hex":"1F4CB"},{"Typeface name":"Webdings","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128466","Unicode hex":"1F5D2"},{"Typeface name":"Webdings","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128467","Unicode hex":"1F5D3"},{"Typeface name":"Webdings","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"128366","Unicode hex":"1F56E"},{"Typeface name":"Webdings","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"128218","Unicode hex":"1F4DA"},{"Typeface name":"Webdings","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128478","Unicode hex":"1F5DE"},{"Typeface name":"Webdings","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128479","Unicode hex":"1F5DF"},{"Typeface name":"Webdings","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"128451","Unicode hex":"1F5C3"},{"Typeface name":"Webdings","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128450","Unicode hex":"1F5C2"},{"Typeface name":"Webdings","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"128444","Unicode hex":"1F5BC"},{"Typeface name":"Webdings","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"127917","Unicode hex":"1F3AD"},{"Typeface name":"Webdings","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"127900","Unicode hex":"1F39C"},{"Typeface name":"Webdings","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"127896","Unicode hex":"1F398"},{"Typeface name":"Webdings","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"127897","Unicode hex":"1F399"},{"Typeface name":"Webdings","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"127911","Unicode hex":"1F3A7"},{"Typeface name":"Webdings","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"128191","Unicode hex":"1F4BF"},{"Typeface name":"Webdings","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"127902","Unicode hex":"1F39E"},{"Typeface name":"Webdings","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"128247","Unicode hex":"1F4F7"},{"Typeface name":"Webdings","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"127903","Unicode hex":"1F39F"},{"Typeface name":"Webdings","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"127916","Unicode hex":"1F3AC"},{"Typeface name":"Webdings","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"128253","Unicode hex":"1F4FD"},{"Typeface name":"Webdings","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128249","Unicode hex":"1F4F9"},{"Typeface name":"Webdings","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"128254","Unicode hex":"1F4FE"},{"Typeface name":"Webdings","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"128251","Unicode hex":"1F4FB"},{"Typeface name":"Webdings","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"127898","Unicode hex":"1F39A"},{"Typeface name":"Webdings","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"127899","Unicode hex":"1F39B"},{"Typeface name":"Webdings","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"128250","Unicode hex":"1F4FA"},{"Typeface name":"Webdings","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"128187","Unicode hex":"1F4BB"},{"Typeface name":"Webdings","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"128421","Unicode hex":"1F5A5"},{"Typeface name":"Webdings","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"128422","Unicode hex":"1F5A6"},{"Typeface name":"Webdings","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"128423","Unicode hex":"1F5A7"},{"Typeface name":"Webdings","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"128377","Unicode hex":"1F579"},{"Typeface name":"Webdings","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"127918","Unicode hex":"1F3AE"},{"Typeface name":"Webdings","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"128379","Unicode hex":"1F57B"},{"Typeface name":"Webdings","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"128380","Unicode hex":"1F57C"},{"Typeface name":"Webdings","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"128223","Unicode hex":"1F4DF"},{"Typeface name":"Webdings","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"128385","Unicode hex":"1F581"},{"Typeface name":"Webdings","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"128384","Unicode hex":"1F580"},{"Typeface name":"Webdings","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"128424","Unicode hex":"1F5A8"},{"Typeface name":"Webdings","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128425","Unicode hex":"1F5A9"},{"Typeface name":"Webdings","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128447","Unicode hex":"1F5BF"},{"Typeface name":"Webdings","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128426","Unicode hex":"1F5AA"},{"Typeface name":"Webdings","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128476","Unicode hex":"1F5DC"},{"Typeface name":"Webdings","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128274","Unicode hex":"1F512"},{"Typeface name":"Webdings","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128275","Unicode hex":"1F513"},{"Typeface name":"Webdings","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128477","Unicode hex":"1F5DD"},{"Typeface name":"Webdings","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128229","Unicode hex":"1F4E5"},{"Typeface name":"Webdings","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128228","Unicode hex":"1F4E4"},{"Typeface name":"Webdings","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128371","Unicode hex":"1F573"},{"Typeface name":"Webdings","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"127779","Unicode hex":"1F323"},{"Typeface name":"Webdings","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"127780","Unicode hex":"1F324"},{"Typeface name":"Webdings","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"127781","Unicode hex":"1F325"},{"Typeface name":"Webdings","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"127782","Unicode hex":"1F326"},{"Typeface name":"Webdings","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"9729","Unicode hex":"2601"},{"Typeface name":"Webdings","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"127784","Unicode hex":"1F328"},{"Typeface name":"Webdings","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"127783","Unicode hex":"1F327"},{"Typeface name":"Webdings","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"127785","Unicode hex":"1F329"},{"Typeface name":"Webdings","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"127786","Unicode hex":"1F32A"},{"Typeface name":"Webdings","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"127788","Unicode hex":"1F32C"},{"Typeface name":"Webdings","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"127787","Unicode hex":"1F32B"},{"Typeface name":"Webdings","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"127772","Unicode hex":"1F31C"},{"Typeface name":"Webdings","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"127777","Unicode hex":"1F321"},{"Typeface name":"Webdings","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"128715","Unicode hex":"1F6CB"},{"Typeface name":"Webdings","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"128719","Unicode hex":"1F6CF"},{"Typeface name":"Webdings","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"127869","Unicode hex":"1F37D"},{"Typeface name":"Webdings","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"127864","Unicode hex":"1F378"},{"Typeface name":"Webdings","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"128718","Unicode hex":"1F6CE"},{"Typeface name":"Webdings","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"128717","Unicode hex":"1F6CD"},{"Typeface name":"Webdings","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"9413","Unicode hex":"24C5"},{"Typeface name":"Webdings","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"9855","Unicode hex":"267F"},{"Typeface name":"Webdings","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"128710","Unicode hex":"1F6C6"},{"Typeface name":"Webdings","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"128392","Unicode hex":"1F588"},{"Typeface name":"Webdings","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"127891","Unicode hex":"1F393"},{"Typeface name":"Webdings","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"128484","Unicode hex":"1F5E4"},{"Typeface name":"Webdings","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"128485","Unicode hex":"1F5E5"},{"Typeface name":"Webdings","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"128486","Unicode hex":"1F5E6"},{"Typeface name":"Webdings","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"128487","Unicode hex":"1F5E7"},{"Typeface name":"Webdings","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"128746","Unicode hex":"1F6EA"},{"Typeface name":"Webdings","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"128063","Unicode hex":"1F43F"},{"Typeface name":"Webdings","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"128038","Unicode hex":"1F426"},{"Typeface name":"Webdings","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"128031","Unicode hex":"1F41F"},{"Typeface name":"Webdings","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"128021","Unicode hex":"1F415"},{"Typeface name":"Webdings","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"128008","Unicode hex":"1F408"},{"Typeface name":"Webdings","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"128620","Unicode hex":"1F66C"},{"Typeface name":"Webdings","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"128622","Unicode hex":"1F66E"},{"Typeface name":"Webdings","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"128621","Unicode hex":"1F66D"},{"Typeface name":"Webdings","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"128623","Unicode hex":"1F66F"},{"Typeface name":"Webdings","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"128506","Unicode hex":"1F5FA"},{"Typeface name":"Webdings","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"127757","Unicode hex":"1F30D"},{"Typeface name":"Webdings","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"127759","Unicode hex":"1F30F"},{"Typeface name":"Webdings","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"127758","Unicode hex":"1F30E"},{"Typeface name":"Webdings","Dingbat dec":"255","Dingbat hex":"FF","Unicode dec":"128330","Unicode hex":"1F54A"},{"Typeface name":"Wingdings","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128393","Unicode hex":"1F589"},{"Typeface name":"Wingdings","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"9986","Unicode hex":"2702"},{"Typeface name":"Wingdings","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"9985","Unicode hex":"2701"},{"Typeface name":"Wingdings","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128083","Unicode hex":"1F453"},{"Typeface name":"Wingdings","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"128365","Unicode hex":"1F56D"},{"Typeface name":"Wingdings","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"128366","Unicode hex":"1F56E"},{"Typeface name":"Wingdings","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128367","Unicode hex":"1F56F"},{"Typeface name":"Wingdings","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128383","Unicode hex":"1F57F"},{"Typeface name":"Wingdings","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"9990","Unicode hex":"2706"},{"Typeface name":"Wingdings","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128386","Unicode hex":"1F582"},{"Typeface name":"Wingdings","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128387","Unicode hex":"1F583"},{"Typeface name":"Wingdings","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"128234","Unicode hex":"1F4EA"},{"Typeface name":"Wingdings","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"128235","Unicode hex":"1F4EB"},{"Typeface name":"Wingdings","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128236","Unicode hex":"1F4EC"},{"Typeface name":"Wingdings","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128237","Unicode hex":"1F4ED"},{"Typeface name":"Wingdings","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128448","Unicode hex":"1F5C0"},{"Typeface name":"Wingdings","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128449","Unicode hex":"1F5C1"},{"Typeface name":"Wingdings","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128462","Unicode hex":"1F5CE"},{"Typeface name":"Wingdings","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"128463","Unicode hex":"1F5CF"},{"Typeface name":"Wingdings","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"128464","Unicode hex":"1F5D0"},{"Typeface name":"Wingdings","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"128452","Unicode hex":"1F5C4"},{"Typeface name":"Wingdings","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"8987","Unicode hex":"231B"},{"Typeface name":"Wingdings","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"128430","Unicode hex":"1F5AE"},{"Typeface name":"Wingdings","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"128432","Unicode hex":"1F5B0"},{"Typeface name":"Wingdings","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"128434","Unicode hex":"1F5B2"},{"Typeface name":"Wingdings","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"128435","Unicode hex":"1F5B3"},{"Typeface name":"Wingdings","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"128436","Unicode hex":"1F5B4"},{"Typeface name":"Wingdings","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"128427","Unicode hex":"1F5AB"},{"Typeface name":"Wingdings","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"128428","Unicode hex":"1F5AC"},{"Typeface name":"Wingdings","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"9991","Unicode hex":"2707"},{"Typeface name":"Wingdings","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"9997","Unicode hex":"270D"},{"Typeface name":"Wingdings","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128398","Unicode hex":"1F58E"},{"Typeface name":"Wingdings","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"9996","Unicode hex":"270C"},{"Typeface name":"Wingdings","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"128399","Unicode hex":"1F58F"},{"Typeface name":"Wingdings","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"128077","Unicode hex":"1F44D"},{"Typeface name":"Wingdings","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"128078","Unicode hex":"1F44E"},{"Typeface name":"Wingdings","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"9756","Unicode hex":"261C"},{"Typeface name":"Wingdings","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"9758","Unicode hex":"261E"},{"Typeface name":"Wingdings","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"9757","Unicode hex":"261D"},{"Typeface name":"Wingdings","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"9759","Unicode hex":"261F"},{"Typeface name":"Wingdings","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"128400","Unicode hex":"1F590"},{"Typeface name":"Wingdings","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"9786","Unicode hex":"263A"},{"Typeface name":"Wingdings","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128528","Unicode hex":"1F610"},{"Typeface name":"Wingdings","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"9785","Unicode hex":"2639"},{"Typeface name":"Wingdings","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"128163","Unicode hex":"1F4A3"},{"Typeface name":"Wingdings","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128369","Unicode hex":"1F571"},{"Typeface name":"Wingdings","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"127987","Unicode hex":"1F3F3"},{"Typeface name":"Wingdings","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"127985","Unicode hex":"1F3F1"},{"Typeface name":"Wingdings","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"9992","Unicode hex":"2708"},{"Typeface name":"Wingdings","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9788","Unicode hex":"263C"},{"Typeface name":"Wingdings","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"127778","Unicode hex":"1F322"},{"Typeface name":"Wingdings","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"10052","Unicode hex":"2744"},{"Typeface name":"Wingdings","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"128326","Unicode hex":"1F546"},{"Typeface name":"Wingdings","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"10014","Unicode hex":"271E"},{"Typeface name":"Wingdings","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128328","Unicode hex":"1F548"},{"Typeface name":"Wingdings","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"10016","Unicode hex":"2720"},{"Typeface name":"Wingdings","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"10017","Unicode hex":"2721"},{"Typeface name":"Wingdings","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"9770","Unicode hex":"262A"},{"Typeface name":"Wingdings","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"9775","Unicode hex":"262F"},{"Typeface name":"Wingdings","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128329","Unicode hex":"1F549"},{"Typeface name":"Wingdings","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"9784","Unicode hex":"2638"},{"Typeface name":"Wingdings","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"9800","Unicode hex":"2648"},{"Typeface name":"Wingdings","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"9801","Unicode hex":"2649"},{"Typeface name":"Wingdings","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"9802","Unicode hex":"264A"},{"Typeface name":"Wingdings","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"9803","Unicode hex":"264B"},{"Typeface name":"Wingdings","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"9804","Unicode hex":"264C"},{"Typeface name":"Wingdings","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"9805","Unicode hex":"264D"},{"Typeface name":"Wingdings","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"9806","Unicode hex":"264E"},{"Typeface name":"Wingdings","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"9807","Unicode hex":"264F"},{"Typeface name":"Wingdings","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"9808","Unicode hex":"2650"},{"Typeface name":"Wingdings","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"9809","Unicode hex":"2651"},{"Typeface name":"Wingdings","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"9810","Unicode hex":"2652"},{"Typeface name":"Wingdings","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"9811","Unicode hex":"2653"},{"Typeface name":"Wingdings","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"128624","Unicode hex":"1F670"},{"Typeface name":"Wingdings","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"128629","Unicode hex":"1F675"},{"Typeface name":"Wingdings","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"9899","Unicode hex":"26AB"},{"Typeface name":"Wingdings","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"128318","Unicode hex":"1F53E"},{"Typeface name":"Wingdings","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"9724","Unicode hex":"25FC"},{"Typeface name":"Wingdings","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"128911","Unicode hex":"1F78F"},{"Typeface name":"Wingdings","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"128912","Unicode hex":"1F790"},{"Typeface name":"Wingdings","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"10065","Unicode hex":"2751"},{"Typeface name":"Wingdings","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"10066","Unicode hex":"2752"},{"Typeface name":"Wingdings","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"128927","Unicode hex":"1F79F"},{"Typeface name":"Wingdings","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"10731","Unicode hex":"29EB"},{"Typeface name":"Wingdings","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"9670","Unicode hex":"25C6"},{"Typeface name":"Wingdings","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"10070","Unicode hex":"2756"},{"Typeface name":"Wingdings","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"11049","Unicode hex":"2B29"},{"Typeface name":"Wingdings","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"8999","Unicode hex":"2327"},{"Typeface name":"Wingdings","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"11193","Unicode hex":"2BB9"},{"Typeface name":"Wingdings","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"8984","Unicode hex":"2318"},{"Typeface name":"Wingdings","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"127989","Unicode hex":"1F3F5"},{"Typeface name":"Wingdings","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"127990","Unicode hex":"1F3F6"},{"Typeface name":"Wingdings","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128630","Unicode hex":"1F676"},{"Typeface name":"Wingdings","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128631","Unicode hex":"1F677"},{"Typeface name":"Wingdings","Dingbat dec":"127","Dingbat hex":"7F","Unicode dec":"9647","Unicode hex":"25AF"},{"Typeface name":"Wingdings","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"127243","Unicode hex":"1F10B"},{"Typeface name":"Wingdings","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"10112","Unicode hex":"2780"},{"Typeface name":"Wingdings","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"10113","Unicode hex":"2781"},{"Typeface name":"Wingdings","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"10114","Unicode hex":"2782"},{"Typeface name":"Wingdings","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"10115","Unicode hex":"2783"},{"Typeface name":"Wingdings","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"10116","Unicode hex":"2784"},{"Typeface name":"Wingdings","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"10117","Unicode hex":"2785"},{"Typeface name":"Wingdings","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"10118","Unicode hex":"2786"},{"Typeface name":"Wingdings","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"10119","Unicode hex":"2787"},{"Typeface name":"Wingdings","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"10120","Unicode hex":"2788"},{"Typeface name":"Wingdings","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"10121","Unicode hex":"2789"},{"Typeface name":"Wingdings","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"127244","Unicode hex":"1F10C"},{"Typeface name":"Wingdings","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"10122","Unicode hex":"278A"},{"Typeface name":"Wingdings","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"10123","Unicode hex":"278B"},{"Typeface name":"Wingdings","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"10124","Unicode hex":"278C"},{"Typeface name":"Wingdings","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"10125","Unicode hex":"278D"},{"Typeface name":"Wingdings","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"10126","Unicode hex":"278E"},{"Typeface name":"Wingdings","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"10127","Unicode hex":"278F"},{"Typeface name":"Wingdings","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"10128","Unicode hex":"2790"},{"Typeface name":"Wingdings","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"10129","Unicode hex":"2791"},{"Typeface name":"Wingdings","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"10130","Unicode hex":"2792"},{"Typeface name":"Wingdings","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"10131","Unicode hex":"2793"},{"Typeface name":"Wingdings","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128610","Unicode hex":"1F662"},{"Typeface name":"Wingdings","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"128608","Unicode hex":"1F660"},{"Typeface name":"Wingdings","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"128609","Unicode hex":"1F661"},{"Typeface name":"Wingdings","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"128611","Unicode hex":"1F663"},{"Typeface name":"Wingdings","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128606","Unicode hex":"1F65E"},{"Typeface name":"Wingdings","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128604","Unicode hex":"1F65C"},{"Typeface name":"Wingdings","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128605","Unicode hex":"1F65D"},{"Typeface name":"Wingdings","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"128607","Unicode hex":"1F65F"},{"Typeface name":"Wingdings","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"8729","Unicode hex":"2219"},{"Typeface name":"Wingdings","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"8226","Unicode hex":"2022"},{"Typeface name":"Wingdings","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"11037","Unicode hex":"2B1D"},{"Typeface name":"Wingdings","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"11096","Unicode hex":"2B58"},{"Typeface name":"Wingdings","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"128902","Unicode hex":"1F786"},{"Typeface name":"Wingdings","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"128904","Unicode hex":"1F788"},{"Typeface name":"Wingdings","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128906","Unicode hex":"1F78A"},{"Typeface name":"Wingdings","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128907","Unicode hex":"1F78B"},{"Typeface name":"Wingdings","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128319","Unicode hex":"1F53F"},{"Typeface name":"Wingdings","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"9642","Unicode hex":"25AA"},{"Typeface name":"Wingdings","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"128910","Unicode hex":"1F78E"},{"Typeface name":"Wingdings","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128961","Unicode hex":"1F7C1"},{"Typeface name":"Wingdings","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128965","Unicode hex":"1F7C5"},{"Typeface name":"Wingdings","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"9733","Unicode hex":"2605"},{"Typeface name":"Wingdings","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128971","Unicode hex":"1F7CB"},{"Typeface name":"Wingdings","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"128975","Unicode hex":"1F7CF"},{"Typeface name":"Wingdings","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"128979","Unicode hex":"1F7D3"},{"Typeface name":"Wingdings","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"128977","Unicode hex":"1F7D1"},{"Typeface name":"Wingdings","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"11216","Unicode hex":"2BD0"},{"Typeface name":"Wingdings","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"8982","Unicode hex":"2316"},{"Typeface name":"Wingdings","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"11214","Unicode hex":"2BCE"},{"Typeface name":"Wingdings","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"11215","Unicode hex":"2BCF"},{"Typeface name":"Wingdings","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"11217","Unicode hex":"2BD1"},{"Typeface name":"Wingdings","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"10026","Unicode hex":"272A"},{"Typeface name":"Wingdings","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"10032","Unicode hex":"2730"},{"Typeface name":"Wingdings","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"128336","Unicode hex":"1F550"},{"Typeface name":"Wingdings","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"128337","Unicode hex":"1F551"},{"Typeface name":"Wingdings","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128338","Unicode hex":"1F552"},{"Typeface name":"Wingdings","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"128339","Unicode hex":"1F553"},{"Typeface name":"Wingdings","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"128340","Unicode hex":"1F554"},{"Typeface name":"Wingdings","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"128341","Unicode hex":"1F555"},{"Typeface name":"Wingdings","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"128342","Unicode hex":"1F556"},{"Typeface name":"Wingdings","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"128343","Unicode hex":"1F557"},{"Typeface name":"Wingdings","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"128344","Unicode hex":"1F558"},{"Typeface name":"Wingdings","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"128345","Unicode hex":"1F559"},{"Typeface name":"Wingdings","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"128346","Unicode hex":"1F55A"},{"Typeface name":"Wingdings","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"128347","Unicode hex":"1F55B"},{"Typeface name":"Wingdings","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"11184","Unicode hex":"2BB0"},{"Typeface name":"Wingdings","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"11185","Unicode hex":"2BB1"},{"Typeface name":"Wingdings","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"11186","Unicode hex":"2BB2"},{"Typeface name":"Wingdings","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"11187","Unicode hex":"2BB3"},{"Typeface name":"Wingdings","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"11188","Unicode hex":"2BB4"},{"Typeface name":"Wingdings","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"11189","Unicode hex":"2BB5"},{"Typeface name":"Wingdings","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"11190","Unicode hex":"2BB6"},{"Typeface name":"Wingdings","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"11191","Unicode hex":"2BB7"},{"Typeface name":"Wingdings","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128618","Unicode hex":"1F66A"},{"Typeface name":"Wingdings","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128619","Unicode hex":"1F66B"},{"Typeface name":"Wingdings","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128597","Unicode hex":"1F655"},{"Typeface name":"Wingdings","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128596","Unicode hex":"1F654"},{"Typeface name":"Wingdings","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128599","Unicode hex":"1F657"},{"Typeface name":"Wingdings","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128598","Unicode hex":"1F656"},{"Typeface name":"Wingdings","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128592","Unicode hex":"1F650"},{"Typeface name":"Wingdings","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128593","Unicode hex":"1F651"},{"Typeface name":"Wingdings","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128594","Unicode hex":"1F652"},{"Typeface name":"Wingdings","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128595","Unicode hex":"1F653"},{"Typeface name":"Wingdings","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"9003","Unicode hex":"232B"},{"Typeface name":"Wingdings","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"8998","Unicode hex":"2326"},{"Typeface name":"Wingdings","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"11160","Unicode hex":"2B98"},{"Typeface name":"Wingdings","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"11162","Unicode hex":"2B9A"},{"Typeface name":"Wingdings","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"11161","Unicode hex":"2B99"},{"Typeface name":"Wingdings","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"11163","Unicode hex":"2B9B"},{"Typeface name":"Wingdings","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"11144","Unicode hex":"2B88"},{"Typeface name":"Wingdings","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"11146","Unicode hex":"2B8A"},{"Typeface name":"Wingdings","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"11145","Unicode hex":"2B89"},{"Typeface name":"Wingdings","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"11147","Unicode hex":"2B8B"},{"Typeface name":"Wingdings","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"129128","Unicode hex":"1F868"},{"Typeface name":"Wingdings","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"129130","Unicode hex":"1F86A"},{"Typeface name":"Wingdings","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"129129","Unicode hex":"1F869"},{"Typeface name":"Wingdings","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"129131","Unicode hex":"1F86B"},{"Typeface name":"Wingdings","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"129132","Unicode hex":"1F86C"},{"Typeface name":"Wingdings","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"129133","Unicode hex":"1F86D"},{"Typeface name":"Wingdings","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"129135","Unicode hex":"1F86F"},{"Typeface name":"Wingdings","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"129134","Unicode hex":"1F86E"},{"Typeface name":"Wingdings","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"129144","Unicode hex":"1F878"},{"Typeface name":"Wingdings","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"129146","Unicode hex":"1F87A"},{"Typeface name":"Wingdings","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"129145","Unicode hex":"1F879"},{"Typeface name":"Wingdings","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"129147","Unicode hex":"1F87B"},{"Typeface name":"Wingdings","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"129148","Unicode hex":"1F87C"},{"Typeface name":"Wingdings","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"129149","Unicode hex":"1F87D"},{"Typeface name":"Wingdings","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"129151","Unicode hex":"1F87F"},{"Typeface name":"Wingdings","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"129150","Unicode hex":"1F87E"},{"Typeface name":"Wingdings","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"8678","Unicode hex":"21E6"},{"Typeface name":"Wingdings","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"8680","Unicode hex":"21E8"},{"Typeface name":"Wingdings","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"8679","Unicode hex":"21E7"},{"Typeface name":"Wingdings","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"8681","Unicode hex":"21E9"},{"Typeface name":"Wingdings","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"11012","Unicode hex":"2B04"},{"Typeface name":"Wingdings","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"8691","Unicode hex":"21F3"},{"Typeface name":"Wingdings","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"11009","Unicode hex":"2B01"},{"Typeface name":"Wingdings","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"11008","Unicode hex":"2B00"},{"Typeface name":"Wingdings","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"11011","Unicode hex":"2B03"},{"Typeface name":"Wingdings","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"11010","Unicode hex":"2B02"},{"Typeface name":"Wingdings","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"129196","Unicode hex":"1F8AC"},{"Typeface name":"Wingdings","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"129197","Unicode hex":"1F8AD"},{"Typeface name":"Wingdings","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"128502","Unicode hex":"1F5F6"},{"Typeface name":"Wingdings","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"10003","Unicode hex":"2713"},{"Typeface name":"Wingdings","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"128503","Unicode hex":"1F5F7"},{"Typeface name":"Wingdings","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"128505","Unicode hex":"1F5F9"},{"Typeface name":"Wingdings 2","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings 2","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128394","Unicode hex":"1F58A"},{"Typeface name":"Wingdings 2","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"128395","Unicode hex":"1F58B"},{"Typeface name":"Wingdings 2","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"128396","Unicode hex":"1F58C"},{"Typeface name":"Wingdings 2","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128397","Unicode hex":"1F58D"},{"Typeface name":"Wingdings 2","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"9988","Unicode hex":"2704"},{"Typeface name":"Wingdings 2","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"9984","Unicode hex":"2700"},{"Typeface name":"Wingdings 2","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128382","Unicode hex":"1F57E"},{"Typeface name":"Wingdings 2","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128381","Unicode hex":"1F57D"},{"Typeface name":"Wingdings 2","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"128453","Unicode hex":"1F5C5"},{"Typeface name":"Wingdings 2","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128454","Unicode hex":"1F5C6"},{"Typeface name":"Wingdings 2","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128455","Unicode hex":"1F5C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"128456","Unicode hex":"1F5C8"},{"Typeface name":"Wingdings 2","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"128457","Unicode hex":"1F5C9"},{"Typeface name":"Wingdings 2","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128458","Unicode hex":"1F5CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128459","Unicode hex":"1F5CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128460","Unicode hex":"1F5CC"},{"Typeface name":"Wingdings 2","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128461","Unicode hex":"1F5CD"},{"Typeface name":"Wingdings 2","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128203","Unicode hex":"1F4CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"128465","Unicode hex":"1F5D1"},{"Typeface name":"Wingdings 2","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"128468","Unicode hex":"1F5D4"},{"Typeface name":"Wingdings 2","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"128437","Unicode hex":"1F5B5"},{"Typeface name":"Wingdings 2","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"128438","Unicode hex":"1F5B6"},{"Typeface name":"Wingdings 2","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"128439","Unicode hex":"1F5B7"},{"Typeface name":"Wingdings 2","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"128440","Unicode hex":"1F5B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"128429","Unicode hex":"1F5AD"},{"Typeface name":"Wingdings 2","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"128431","Unicode hex":"1F5AF"},{"Typeface name":"Wingdings 2","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"128433","Unicode hex":"1F5B1"},{"Typeface name":"Wingdings 2","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"128402","Unicode hex":"1F592"},{"Typeface name":"Wingdings 2","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"128403","Unicode hex":"1F593"},{"Typeface name":"Wingdings 2","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"128408","Unicode hex":"1F598"},{"Typeface name":"Wingdings 2","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"128409","Unicode hex":"1F599"},{"Typeface name":"Wingdings 2","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128410","Unicode hex":"1F59A"},{"Typeface name":"Wingdings 2","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"128411","Unicode hex":"1F59B"},{"Typeface name":"Wingdings 2","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"128072","Unicode hex":"1F448"},{"Typeface name":"Wingdings 2","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"128073","Unicode hex":"1F449"},{"Typeface name":"Wingdings 2","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"128412","Unicode hex":"1F59C"},{"Typeface name":"Wingdings 2","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"128413","Unicode hex":"1F59D"},{"Typeface name":"Wingdings 2","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"128414","Unicode hex":"1F59E"},{"Typeface name":"Wingdings 2","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"128415","Unicode hex":"1F59F"},{"Typeface name":"Wingdings 2","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"128416","Unicode hex":"1F5A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"128417","Unicode hex":"1F5A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"128070","Unicode hex":"1F446"},{"Typeface name":"Wingdings 2","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128071","Unicode hex":"1F447"},{"Typeface name":"Wingdings 2","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"128418","Unicode hex":"1F5A2"},{"Typeface name":"Wingdings 2","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"128419","Unicode hex":"1F5A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128401","Unicode hex":"1F591"},{"Typeface name":"Wingdings 2","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"128500","Unicode hex":"1F5F4"},{"Typeface name":"Wingdings 2","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"128504","Unicode hex":"1F5F8"},{"Typeface name":"Wingdings 2","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"128501","Unicode hex":"1F5F5"},{"Typeface name":"Wingdings 2","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9745","Unicode hex":"2611"},{"Typeface name":"Wingdings 2","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"11197","Unicode hex":"2BBD"},{"Typeface name":"Wingdings 2","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"9746","Unicode hex":"2612"},{"Typeface name":"Wingdings 2","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"11198","Unicode hex":"2BBE"},{"Typeface name":"Wingdings 2","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"11199","Unicode hex":"2BBF"},{"Typeface name":"Wingdings 2","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128711","Unicode hex":"1F6C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"10680","Unicode hex":"29B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"128625","Unicode hex":"1F671"},{"Typeface name":"Wingdings 2","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"128628","Unicode hex":"1F674"},{"Typeface name":"Wingdings 2","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"128626","Unicode hex":"1F672"},{"Typeface name":"Wingdings 2","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128627","Unicode hex":"1F673"},{"Typeface name":"Wingdings 2","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"8253","Unicode hex":"203D"},{"Typeface name":"Wingdings 2","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"128633","Unicode hex":"1F679"},{"Typeface name":"Wingdings 2","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"128634","Unicode hex":"1F67A"},{"Typeface name":"Wingdings 2","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"128635","Unicode hex":"1F67B"},{"Typeface name":"Wingdings 2","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"128614","Unicode hex":"1F666"},{"Typeface name":"Wingdings 2","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"128612","Unicode hex":"1F664"},{"Typeface name":"Wingdings 2","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"128613","Unicode hex":"1F665"},{"Typeface name":"Wingdings 2","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"128615","Unicode hex":"1F667"},{"Typeface name":"Wingdings 2","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"128602","Unicode hex":"1F65A"},{"Typeface name":"Wingdings 2","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"128600","Unicode hex":"1F658"},{"Typeface name":"Wingdings 2","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"128601","Unicode hex":"1F659"},{"Typeface name":"Wingdings 2","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"128603","Unicode hex":"1F65B"},{"Typeface name":"Wingdings 2","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"9450","Unicode hex":"24EA"},{"Typeface name":"Wingdings 2","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"9312","Unicode hex":"2460"},{"Typeface name":"Wingdings 2","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"9313","Unicode hex":"2461"},{"Typeface name":"Wingdings 2","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"9314","Unicode hex":"2462"},{"Typeface name":"Wingdings 2","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"9315","Unicode hex":"2463"},{"Typeface name":"Wingdings 2","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"9316","Unicode hex":"2464"},{"Typeface name":"Wingdings 2","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"9317","Unicode hex":"2465"},{"Typeface name":"Wingdings 2","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"9318","Unicode hex":"2466"},{"Typeface name":"Wingdings 2","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"9319","Unicode hex":"2467"},{"Typeface name":"Wingdings 2","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"9320","Unicode hex":"2468"},{"Typeface name":"Wingdings 2","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"9321","Unicode hex":"2469"},{"Typeface name":"Wingdings 2","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"9471","Unicode hex":"24FF"},{"Typeface name":"Wingdings 2","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"10102","Unicode hex":"2776"},{"Typeface name":"Wingdings 2","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"10103","Unicode hex":"2777"},{"Typeface name":"Wingdings 2","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"10104","Unicode hex":"2778"},{"Typeface name":"Wingdings 2","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"10105","Unicode hex":"2779"},{"Typeface name":"Wingdings 2","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"10106","Unicode hex":"277A"},{"Typeface name":"Wingdings 2","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"10107","Unicode hex":"277B"},{"Typeface name":"Wingdings 2","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"10108","Unicode hex":"277C"},{"Typeface name":"Wingdings 2","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"10109","Unicode hex":"277D"},{"Typeface name":"Wingdings 2","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"10110","Unicode hex":"277E"},{"Typeface name":"Wingdings 2","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"10111","Unicode hex":"277F"},{"Typeface name":"Wingdings 2","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"9737","Unicode hex":"2609"},{"Typeface name":"Wingdings 2","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"127765","Unicode hex":"1F315"},{"Typeface name":"Wingdings 2","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"9789","Unicode hex":"263D"},{"Typeface name":"Wingdings 2","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"9790","Unicode hex":"263E"},{"Typeface name":"Wingdings 2","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"11839","Unicode hex":"2E3F"},{"Typeface name":"Wingdings 2","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"10013","Unicode hex":"271D"},{"Typeface name":"Wingdings 2","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"128327","Unicode hex":"1F547"},{"Typeface name":"Wingdings 2","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"128348","Unicode hex":"1F55C"},{"Typeface name":"Wingdings 2","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"128349","Unicode hex":"1F55D"},{"Typeface name":"Wingdings 2","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"128350","Unicode hex":"1F55E"},{"Typeface name":"Wingdings 2","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"128351","Unicode hex":"1F55F"},{"Typeface name":"Wingdings 2","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"128352","Unicode hex":"1F560"},{"Typeface name":"Wingdings 2","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"128353","Unicode hex":"1F561"},{"Typeface name":"Wingdings 2","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"128354","Unicode hex":"1F562"},{"Typeface name":"Wingdings 2","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"128355","Unicode hex":"1F563"},{"Typeface name":"Wingdings 2","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"128356","Unicode hex":"1F564"},{"Typeface name":"Wingdings 2","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"128357","Unicode hex":"1F565"},{"Typeface name":"Wingdings 2","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"128358","Unicode hex":"1F566"},{"Typeface name":"Wingdings 2","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"128359","Unicode hex":"1F567"},{"Typeface name":"Wingdings 2","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"128616","Unicode hex":"1F668"},{"Typeface name":"Wingdings 2","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"128617","Unicode hex":"1F669"},{"Typeface name":"Wingdings 2","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"8901","Unicode hex":"22C5"},{"Typeface name":"Wingdings 2","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128900","Unicode hex":"1F784"},{"Typeface name":"Wingdings 2","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"10625","Unicode hex":"2981"},{"Typeface name":"Wingdings 2","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"9679","Unicode hex":"25CF"},{"Typeface name":"Wingdings 2","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"9675","Unicode hex":"25CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128901","Unicode hex":"1F785"},{"Typeface name":"Wingdings 2","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128903","Unicode hex":"1F787"},{"Typeface name":"Wingdings 2","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128905","Unicode hex":"1F789"},{"Typeface name":"Wingdings 2","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"8857","Unicode hex":"2299"},{"Typeface name":"Wingdings 2","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"10687","Unicode hex":"29BF"},{"Typeface name":"Wingdings 2","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"128908","Unicode hex":"1F78C"},{"Typeface name":"Wingdings 2","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"128909","Unicode hex":"1F78D"},{"Typeface name":"Wingdings 2","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"9726","Unicode hex":"25FE"},{"Typeface name":"Wingdings 2","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"9632","Unicode hex":"25A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"9633","Unicode hex":"25A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128913","Unicode hex":"1F791"},{"Typeface name":"Wingdings 2","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128914","Unicode hex":"1F792"},{"Typeface name":"Wingdings 2","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128915","Unicode hex":"1F793"},{"Typeface name":"Wingdings 2","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"128916","Unicode hex":"1F794"},{"Typeface name":"Wingdings 2","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"9635","Unicode hex":"25A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128917","Unicode hex":"1F795"},{"Typeface name":"Wingdings 2","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128918","Unicode hex":"1F796"},{"Typeface name":"Wingdings 2","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"128919","Unicode hex":"1F797"},{"Typeface name":"Wingdings 2","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128920","Unicode hex":"1F798"},{"Typeface name":"Wingdings 2","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"11049","Unicode hex":"2B29"},{"Typeface name":"Wingdings 2","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"11045","Unicode hex":"2B25"},{"Typeface name":"Wingdings 2","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"9671","Unicode hex":"25C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"128922","Unicode hex":"1F79A"},{"Typeface name":"Wingdings 2","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"9672","Unicode hex":"25C8"},{"Typeface name":"Wingdings 2","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"128923","Unicode hex":"1F79B"},{"Typeface name":"Wingdings 2","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"128924","Unicode hex":"1F79C"},{"Typeface name":"Wingdings 2","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"128925","Unicode hex":"1F79D"},{"Typeface name":"Wingdings 2","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"128926","Unicode hex":"1F79E"},{"Typeface name":"Wingdings 2","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"11050","Unicode hex":"2B2A"},{"Typeface name":"Wingdings 2","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"11047","Unicode hex":"2B27"},{"Typeface name":"Wingdings 2","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"9674","Unicode hex":"25CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128928","Unicode hex":"1F7A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"9686","Unicode hex":"25D6"},{"Typeface name":"Wingdings 2","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"9687","Unicode hex":"25D7"},{"Typeface name":"Wingdings 2","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"11210","Unicode hex":"2BCA"},{"Typeface name":"Wingdings 2","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"11211","Unicode hex":"2BCB"},{"Typeface name":"Wingdings 2","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"11200","Unicode hex":"2BC0"},{"Typeface name":"Wingdings 2","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"11201","Unicode hex":"2BC1"},{"Typeface name":"Wingdings 2","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"11039","Unicode hex":"2B1F"},{"Typeface name":"Wingdings 2","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"11202","Unicode hex":"2BC2"},{"Typeface name":"Wingdings 2","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"11043","Unicode hex":"2B23"},{"Typeface name":"Wingdings 2","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"11042","Unicode hex":"2B22"},{"Typeface name":"Wingdings 2","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"11203","Unicode hex":"2BC3"},{"Typeface name":"Wingdings 2","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"11204","Unicode hex":"2BC4"},{"Typeface name":"Wingdings 2","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"128929","Unicode hex":"1F7A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"128930","Unicode hex":"1F7A2"},{"Typeface name":"Wingdings 2","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"128931","Unicode hex":"1F7A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"128932","Unicode hex":"1F7A4"},{"Typeface name":"Wingdings 2","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"128933","Unicode hex":"1F7A5"},{"Typeface name":"Wingdings 2","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128934","Unicode hex":"1F7A6"},{"Typeface name":"Wingdings 2","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128935","Unicode hex":"1F7A7"},{"Typeface name":"Wingdings 2","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128936","Unicode hex":"1F7A8"},{"Typeface name":"Wingdings 2","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128937","Unicode hex":"1F7A9"},{"Typeface name":"Wingdings 2","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128938","Unicode hex":"1F7AA"},{"Typeface name":"Wingdings 2","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128939","Unicode hex":"1F7AB"},{"Typeface name":"Wingdings 2","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128940","Unicode hex":"1F7AC"},{"Typeface name":"Wingdings 2","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128941","Unicode hex":"1F7AD"},{"Typeface name":"Wingdings 2","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128942","Unicode hex":"1F7AE"},{"Typeface name":"Wingdings 2","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128943","Unicode hex":"1F7AF"},{"Typeface name":"Wingdings 2","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"128944","Unicode hex":"1F7B0"},{"Typeface name":"Wingdings 2","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"128945","Unicode hex":"1F7B1"},{"Typeface name":"Wingdings 2","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"128946","Unicode hex":"1F7B2"},{"Typeface name":"Wingdings 2","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"128947","Unicode hex":"1F7B3"},{"Typeface name":"Wingdings 2","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"128948","Unicode hex":"1F7B4"},{"Typeface name":"Wingdings 2","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"128949","Unicode hex":"1F7B5"},{"Typeface name":"Wingdings 2","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"128950","Unicode hex":"1F7B6"},{"Typeface name":"Wingdings 2","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"128951","Unicode hex":"1F7B7"},{"Typeface name":"Wingdings 2","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"128952","Unicode hex":"1F7B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"128953","Unicode hex":"1F7B9"},{"Typeface name":"Wingdings 2","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"128954","Unicode hex":"1F7BA"},{"Typeface name":"Wingdings 2","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"128955","Unicode hex":"1F7BB"},{"Typeface name":"Wingdings 2","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"128956","Unicode hex":"1F7BC"},{"Typeface name":"Wingdings 2","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"128957","Unicode hex":"1F7BD"},{"Typeface name":"Wingdings 2","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"128958","Unicode hex":"1F7BE"},{"Typeface name":"Wingdings 2","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"128959","Unicode hex":"1F7BF"},{"Typeface name":"Wingdings 2","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"128960","Unicode hex":"1F7C0"},{"Typeface name":"Wingdings 2","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"128962","Unicode hex":"1F7C2"},{"Typeface name":"Wingdings 2","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"128964","Unicode hex":"1F7C4"},{"Typeface name":"Wingdings 2","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"128966","Unicode hex":"1F7C6"},{"Typeface name":"Wingdings 2","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"128969","Unicode hex":"1F7C9"},{"Typeface name":"Wingdings 2","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"128970","Unicode hex":"1F7CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"10038","Unicode hex":"2736"},{"Typeface name":"Wingdings 2","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"128972","Unicode hex":"1F7CC"},{"Typeface name":"Wingdings 2","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"128974","Unicode hex":"1F7CE"},{"Typeface name":"Wingdings 2","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"128976","Unicode hex":"1F7D0"},{"Typeface name":"Wingdings 2","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"128978","Unicode hex":"1F7D2"},{"Typeface name":"Wingdings 2","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"10041","Unicode hex":"2739"},{"Typeface name":"Wingdings 2","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"128963","Unicode hex":"1F7C3"},{"Typeface name":"Wingdings 2","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"128967","Unicode hex":"1F7C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"10031","Unicode hex":"272F"},{"Typeface name":"Wingdings 2","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"128973","Unicode hex":"1F7CD"},{"Typeface name":"Wingdings 2","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"128980","Unicode hex":"1F7D4"},{"Typeface name":"Wingdings 2","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"11212","Unicode hex":"2BCC"},{"Typeface name":"Wingdings 2","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"11213","Unicode hex":"2BCD"},{"Typeface name":"Wingdings 2","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"8251","Unicode hex":"203B"},{"Typeface name":"Wingdings 2","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"8258","Unicode hex":"2042"},{"Typeface name":"Wingdings 3","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings 3","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"11104","Unicode hex":"2B60"},{"Typeface name":"Wingdings 3","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"11106","Unicode hex":"2B62"},{"Typeface name":"Wingdings 3","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"11105","Unicode hex":"2B61"},{"Typeface name":"Wingdings 3","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"11107","Unicode hex":"2B63"},{"Typeface name":"Wingdings 3","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"11110","Unicode hex":"2B66"},{"Typeface name":"Wingdings 3","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"11111","Unicode hex":"2B67"},{"Typeface name":"Wingdings 3","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"11113","Unicode hex":"2B69"},{"Typeface name":"Wingdings 3","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"11112","Unicode hex":"2B68"},{"Typeface name":"Wingdings 3","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"11120","Unicode hex":"2B70"},{"Typeface name":"Wingdings 3","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"11122","Unicode hex":"2B72"},{"Typeface name":"Wingdings 3","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"11121","Unicode hex":"2B71"},{"Typeface name":"Wingdings 3","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"11123","Unicode hex":"2B73"},{"Typeface name":"Wingdings 3","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"11126","Unicode hex":"2B76"},{"Typeface name":"Wingdings 3","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"11128","Unicode hex":"2B78"},{"Typeface name":"Wingdings 3","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"11131","Unicode hex":"2B7B"},{"Typeface name":"Wingdings 3","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"11133","Unicode hex":"2B7D"},{"Typeface name":"Wingdings 3","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"11108","Unicode hex":"2B64"},{"Typeface name":"Wingdings 3","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"11109","Unicode hex":"2B65"},{"Typeface name":"Wingdings 3","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"11114","Unicode hex":"2B6A"},{"Typeface name":"Wingdings 3","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"11116","Unicode hex":"2B6C"},{"Typeface name":"Wingdings 3","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"11115","Unicode hex":"2B6B"},{"Typeface name":"Wingdings 3","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"11117","Unicode hex":"2B6D"},{"Typeface name":"Wingdings 3","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"11085","Unicode hex":"2B4D"},{"Typeface name":"Wingdings 3","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"11168","Unicode hex":"2BA0"},{"Typeface name":"Wingdings 3","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"11169","Unicode hex":"2BA1"},{"Typeface name":"Wingdings 3","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"11170","Unicode hex":"2BA2"},{"Typeface name":"Wingdings 3","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"11171","Unicode hex":"2BA3"},{"Typeface name":"Wingdings 3","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"11172","Unicode hex":"2BA4"},{"Typeface name":"Wingdings 3","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"11173","Unicode hex":"2BA5"},{"Typeface name":"Wingdings 3","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"11174","Unicode hex":"2BA6"},{"Typeface name":"Wingdings 3","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"11175","Unicode hex":"2BA7"},{"Typeface name":"Wingdings 3","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"11152","Unicode hex":"2B90"},{"Typeface name":"Wingdings 3","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"11153","Unicode hex":"2B91"},{"Typeface name":"Wingdings 3","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"11154","Unicode hex":"2B92"},{"Typeface name":"Wingdings 3","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"11155","Unicode hex":"2B93"},{"Typeface name":"Wingdings 3","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"11136","Unicode hex":"2B80"},{"Typeface name":"Wingdings 3","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"11139","Unicode hex":"2B83"},{"Typeface name":"Wingdings 3","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"11134","Unicode hex":"2B7E"},{"Typeface name":"Wingdings 3","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"11135","Unicode hex":"2B7F"},{"Typeface name":"Wingdings 3","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"11140","Unicode hex":"2B84"},{"Typeface name":"Wingdings 3","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"11142","Unicode hex":"2B86"},{"Typeface name":"Wingdings 3","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"11141","Unicode hex":"2B85"},{"Typeface name":"Wingdings 3","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"11143","Unicode hex":"2B87"},{"Typeface name":"Wingdings 3","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"11151","Unicode hex":"2B8F"},{"Typeface name":"Wingdings 3","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"11149","Unicode hex":"2B8D"},{"Typeface name":"Wingdings 3","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"11150","Unicode hex":"2B8E"},{"Typeface name":"Wingdings 3","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"11148","Unicode hex":"2B8C"},{"Typeface name":"Wingdings 3","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"11118","Unicode hex":"2B6E"},{"Typeface name":"Wingdings 3","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"11119","Unicode hex":"2B6F"},{"Typeface name":"Wingdings 3","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9099","Unicode hex":"238B"},{"Typeface name":"Wingdings 3","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"8996","Unicode hex":"2324"},{"Typeface name":"Wingdings 3","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"8963","Unicode hex":"2303"},{"Typeface name":"Wingdings 3","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"8997","Unicode hex":"2325"},{"Typeface name":"Wingdings 3","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"9251","Unicode hex":"2423"},{"Typeface name":"Wingdings 3","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"9085","Unicode hex":"237D"},{"Typeface name":"Wingdings 3","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"8682","Unicode hex":"21EA"},{"Typeface name":"Wingdings 3","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"11192","Unicode hex":"2BB8"},{"Typeface name":"Wingdings 3","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"129184","Unicode hex":"1F8A0"},{"Typeface name":"Wingdings 3","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"129185","Unicode hex":"1F8A1"},{"Typeface name":"Wingdings 3","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"129186","Unicode hex":"1F8A2"},{"Typeface name":"Wingdings 3","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"129187","Unicode hex":"1F8A3"},{"Typeface name":"Wingdings 3","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"129188","Unicode hex":"1F8A4"},{"Typeface name":"Wingdings 3","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"129189","Unicode hex":"1F8A5"},{"Typeface name":"Wingdings 3","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"129190","Unicode hex":"1F8A6"},{"Typeface name":"Wingdings 3","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"129191","Unicode hex":"1F8A7"},{"Typeface name":"Wingdings 3","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"129192","Unicode hex":"1F8A8"},{"Typeface name":"Wingdings 3","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"129193","Unicode hex":"1F8A9"},{"Typeface name":"Wingdings 3","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"129194","Unicode hex":"1F8AA"},{"Typeface name":"Wingdings 3","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"129195","Unicode hex":"1F8AB"},{"Typeface name":"Wingdings 3","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"129104","Unicode hex":"1F850"},{"Typeface name":"Wingdings 3","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"129106","Unicode hex":"1F852"},{"Typeface name":"Wingdings 3","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"129105","Unicode hex":"1F851"},{"Typeface name":"Wingdings 3","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"129107","Unicode hex":"1F853"},{"Typeface name":"Wingdings 3","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"129108","Unicode hex":"1F854"},{"Typeface name":"Wingdings 3","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"129109","Unicode hex":"1F855"},{"Typeface name":"Wingdings 3","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"129111","Unicode hex":"1F857"},{"Typeface name":"Wingdings 3","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"129110","Unicode hex":"1F856"},{"Typeface name":"Wingdings 3","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"129112","Unicode hex":"1F858"},{"Typeface name":"Wingdings 3","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"129113","Unicode hex":"1F859"},{"Typeface name":"Wingdings 3","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"9650","Unicode hex":"25B2"},{"Typeface name":"Wingdings 3","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"9660","Unicode hex":"25BC"},{"Typeface name":"Wingdings 3","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"9651","Unicode hex":"25B3"},{"Typeface name":"Wingdings 3","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"9661","Unicode hex":"25BD"},{"Typeface name":"Wingdings 3","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"9664","Unicode hex":"25C0"},{"Typeface name":"Wingdings 3","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"9654","Unicode hex":"25B6"},{"Typeface name":"Wingdings 3","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"9665","Unicode hex":"25C1"},{"Typeface name":"Wingdings 3","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"9655","Unicode hex":"25B7"},{"Typeface name":"Wingdings 3","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"9699","Unicode hex":"25E3"},{"Typeface name":"Wingdings 3","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"9698","Unicode hex":"25E2"},{"Typeface name":"Wingdings 3","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"9700","Unicode hex":"25E4"},{"Typeface name":"Wingdings 3","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"9701","Unicode hex":"25E5"},{"Typeface name":"Wingdings 3","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"128896","Unicode hex":"1F780"},{"Typeface name":"Wingdings 3","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128898","Unicode hex":"1F782"},{"Typeface name":"Wingdings 3","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128897","Unicode hex":"1F781"},{"Typeface name":"Wingdings 3","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"128899","Unicode hex":"1F783"},{"Typeface name":"Wingdings 3","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"11205","Unicode hex":"2BC5"},{"Typeface name":"Wingdings 3","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"11206","Unicode hex":"2BC6"},{"Typeface name":"Wingdings 3","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"11207","Unicode hex":"2BC7"},{"Typeface name":"Wingdings 3","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"11208","Unicode hex":"2BC8"},{"Typeface name":"Wingdings 3","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"11164","Unicode hex":"2B9C"},{"Typeface name":"Wingdings 3","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"11166","Unicode hex":"2B9E"},{"Typeface name":"Wingdings 3","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"11165","Unicode hex":"2B9D"},{"Typeface name":"Wingdings 3","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"11167","Unicode hex":"2B9F"},{"Typeface name":"Wingdings 3","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"129040","Unicode hex":"1F810"},{"Typeface name":"Wingdings 3","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"129042","Unicode hex":"1F812"},{"Typeface name":"Wingdings 3","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"129041","Unicode hex":"1F811"},{"Typeface name":"Wingdings 3","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"129043","Unicode hex":"1F813"},{"Typeface name":"Wingdings 3","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"129044","Unicode hex":"1F814"},{"Typeface name":"Wingdings 3","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"129046","Unicode hex":"1F816"},{"Typeface name":"Wingdings 3","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"129045","Unicode hex":"1F815"},{"Typeface name":"Wingdings 3","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"129047","Unicode hex":"1F817"},{"Typeface name":"Wingdings 3","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"129048","Unicode hex":"1F818"},{"Typeface name":"Wingdings 3","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"129050","Unicode hex":"1F81A"},{"Typeface name":"Wingdings 3","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"129049","Unicode hex":"1F819"},{"Typeface name":"Wingdings 3","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"129051","Unicode hex":"1F81B"},{"Typeface name":"Wingdings 3","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"129052","Unicode hex":"1F81C"},{"Typeface name":"Wingdings 3","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"129054","Unicode hex":"1F81E"},{"Typeface name":"Wingdings 3","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"129053","Unicode hex":"1F81D"},{"Typeface name":"Wingdings 3","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"129055","Unicode hex":"1F81F"},{"Typeface name":"Wingdings 3","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"129024","Unicode hex":"1F800"},{"Typeface name":"Wingdings 3","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"129026","Unicode hex":"1F802"},{"Typeface name":"Wingdings 3","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"129025","Unicode hex":"1F801"},{"Typeface name":"Wingdings 3","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"129027","Unicode hex":"1F803"},{"Typeface name":"Wingdings 3","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"129028","Unicode hex":"1F804"},{"Typeface name":"Wingdings 3","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"129030","Unicode hex":"1F806"},{"Typeface name":"Wingdings 3","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"129029","Unicode hex":"1F805"},{"Typeface name":"Wingdings 3","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"129031","Unicode hex":"1F807"},{"Typeface name":"Wingdings 3","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"129032","Unicode hex":"1F808"},{"Typeface name":"Wingdings 3","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"129034","Unicode hex":"1F80A"},{"Typeface name":"Wingdings 3","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"129033","Unicode hex":"1F809"},{"Typeface name":"Wingdings 3","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"129035","Unicode hex":"1F80B"},{"Typeface name":"Wingdings 3","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"129056","Unicode hex":"1F820"},{"Typeface name":"Wingdings 3","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"129058","Unicode hex":"1F822"},{"Typeface name":"Wingdings 3","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"129060","Unicode hex":"1F824"},{"Typeface name":"Wingdings 3","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"129062","Unicode hex":"1F826"},{"Typeface name":"Wingdings 3","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"129064","Unicode hex":"1F828"},{"Typeface name":"Wingdings 3","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"129066","Unicode hex":"1F82A"},{"Typeface name":"Wingdings 3","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"129068","Unicode hex":"1F82C"},{"Typeface name":"Wingdings 3","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"129180","Unicode hex":"1F89C"},{"Typeface name":"Wingdings 3","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"129181","Unicode hex":"1F89D"},{"Typeface name":"Wingdings 3","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"129182","Unicode hex":"1F89E"},{"Typeface name":"Wingdings 3","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"129183","Unicode hex":"1F89F"},{"Typeface name":"Wingdings 3","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"129070","Unicode hex":"1F82E"},{"Typeface name":"Wingdings 3","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"129072","Unicode hex":"1F830"},{"Typeface name":"Wingdings 3","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"129074","Unicode hex":"1F832"},{"Typeface name":"Wingdings 3","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"129076","Unicode hex":"1F834"},{"Typeface name":"Wingdings 3","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"129078","Unicode hex":"1F836"},{"Typeface name":"Wingdings 3","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"129080","Unicode hex":"1F838"},{"Typeface name":"Wingdings 3","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"129082","Unicode hex":"1F83A"},{"Typeface name":"Wingdings 3","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"129081","Unicode hex":"1F839"},{"Typeface name":"Wingdings 3","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"129083","Unicode hex":"1F83B"},{"Typeface name":"Wingdings 3","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"129176","Unicode hex":"1F898"},{"Typeface name":"Wingdings 3","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"129178","Unicode hex":"1F89A"},{"Typeface name":"Wingdings 3","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"129177","Unicode hex":"1F899"},{"Typeface name":"Wingdings 3","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"129179","Unicode hex":"1F89B"},{"Typeface name":"Wingdings 3","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"129084","Unicode hex":"1F83C"},{"Typeface name":"Wingdings 3","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"129086","Unicode hex":"1F83E"},{"Typeface name":"Wingdings 3","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"129085","Unicode hex":"1F83D"},{"Typeface name":"Wingdings 3","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"129087","Unicode hex":"1F83F"},{"Typeface name":"Wingdings 3","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"129088","Unicode hex":"1F840"},{"Typeface name":"Wingdings 3","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"129090","Unicode hex":"1F842"},{"Typeface name":"Wingdings 3","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"129089","Unicode hex":"1F841"},{"Typeface name":"Wingdings 3","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"129091","Unicode hex":"1F843"},{"Typeface name":"Wingdings 3","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"129092","Unicode hex":"1F844"},{"Typeface name":"Wingdings 3","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"129094","Unicode hex":"1F846"},{"Typeface name":"Wingdings 3","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"129093","Unicode hex":"1F845"},{"Typeface name":"Wingdings 3","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"129095","Unicode hex":"1F847"},{"Typeface name":"Wingdings 3","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"11176","Unicode hex":"2BA8"},{"Typeface name":"Wingdings 3","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"11177","Unicode hex":"2BA9"},{"Typeface name":"Wingdings 3","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"11178","Unicode hex":"2BAA"},{"Typeface name":"Wingdings 3","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"11179","Unicode hex":"2BAB"},{"Typeface name":"Wingdings 3","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"11180","Unicode hex":"2BAC"},{"Typeface name":"Wingdings 3","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"11181","Unicode hex":"2BAD"},{"Typeface name":"Wingdings 3","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"11182","Unicode hex":"2BAE"},{"Typeface name":"Wingdings 3","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"11183","Unicode hex":"2BAF"},{"Typeface name":"Wingdings 3","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"129120","Unicode hex":"1F860"},{"Typeface name":"Wingdings 3","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"129122","Unicode hex":"1F862"},{"Typeface name":"Wingdings 3","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"129121","Unicode hex":"1F861"},{"Typeface name":"Wingdings 3","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"129123","Unicode hex":"1F863"},{"Typeface name":"Wingdings 3","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"129124","Unicode hex":"1F864"},{"Typeface name":"Wingdings 3","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"129125","Unicode hex":"1F865"},{"Typeface name":"Wingdings 3","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"129127","Unicode hex":"1F867"},{"Typeface name":"Wingdings 3","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"129126","Unicode hex":"1F866"},{"Typeface name":"Wingdings 3","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"129136","Unicode hex":"1F870"},{"Typeface name":"Wingdings 3","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"129138","Unicode hex":"1F872"},{"Typeface name":"Wingdings 3","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"129137","Unicode hex":"1F871"},{"Typeface name":"Wingdings 3","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"129139","Unicode hex":"1F873"},{"Typeface name":"Wingdings 3","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"129140","Unicode hex":"1F874"},{"Typeface name":"Wingdings 3","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"129141","Unicode hex":"1F875"},{"Typeface name":"Wingdings 3","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"129143","Unicode hex":"1F877"},{"Typeface name":"Wingdings 3","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"129142","Unicode hex":"1F876"},{"Typeface name":"Wingdings 3","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"129152","Unicode hex":"1F880"},{"Typeface name":"Wingdings 3","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"129154","Unicode hex":"1F882"},{"Typeface name":"Wingdings 3","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"129153","Unicode hex":"1F881"},{"Typeface name":"Wingdings 3","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"129155","Unicode hex":"1F883"},{"Typeface name":"Wingdings 3","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"129156","Unicode hex":"1F884"},{"Typeface name":"Wingdings 3","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"129157","Unicode hex":"1F885"},{"Typeface name":"Wingdings 3","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"129159","Unicode hex":"1F887"},{"Typeface name":"Wingdings 3","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"129158","Unicode hex":"1F886"},{"Typeface name":"Wingdings 3","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"129168","Unicode hex":"1F890"},{"Typeface name":"Wingdings 3","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"129170","Unicode hex":"1F892"},{"Typeface name":"Wingdings 3","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"129169","Unicode hex":"1F891"},{"Typeface name":"Wingdings 3","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"129171","Unicode hex":"1F893"},{"Typeface name":"Wingdings 3","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"129172","Unicode hex":"1F894"},{"Typeface name":"Wingdings 3","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"129174","Unicode hex":"1F896"},{"Typeface name":"Wingdings 3","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"129173","Unicode hex":"1F895"},{"Typeface name":"Wingdings 3","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"129175","Unicode hex":"1F897"}];return Fm.default=t,Fm}var Bz;function jUe(){if(Bz)return Zi;Bz=1;var t=Zi&&Zi.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(Zi,"__esModule",{value:!0}),Zi.hex=Zi.dec=Zi.codePoint=void 0;for(var e=t(BUe()),n={},r=String.fromCodePoint?String.fromCodePoint:p,i=0,s=e.default;i<s.length;i++){var a=s[i],o=parseInt(a["Unicode dec"],10),l={codePoint:o,string:r(o)};n[a["Typeface name"].toUpperCase()+"_"+a["Dingbat dec"]]=l}function c(g,v){return n[g.toUpperCase()+"_"+v]}Zi.codePoint=c;function d(g,v){return c(g,parseInt(v,10))}Zi.dec=d;function h(g,v){return c(g,parseInt(v,16))}Zi.hex=h;function p(g){if(g<=65535)return String.fromCharCode(g);var v=Math.floor((g-65536)/1024)+55296,y=(g-65536)%1024+56320;return String.fromCharCode(v,y)}return Zi}var so={},jz;function WZ(){if(jz)return so;jz=1;var t=En;so.paragraph=e,so.run=n,so._elements=i,so._elementsOfType=r,so.getDescendantsOfType=s,so.getDescendants=a;function e(l){return r("paragraph",l)}function n(l){return r("run",l)}function r(l,c){return i(function(d){return d.type===l?c(d):d})}function i(l){return function c(d){if(d.children){var h=t.map(d.children,c);d=t.extend(d,{children:h})}return l(d)}}function s(l,c){return a(l).filter(function(d){return d.type===c})}function a(l){var c=[];return o(l,function(d){c.push(d)}),c}function o(l,c){l.children&&l.children.forEach(function(d){o(d,c),c(d)})}return so}var Im={},zz;function zUe(){if(zz)return Im;zz=1,Im.uriToZipEntryName=t,Im.replaceFragment=e;function t(n,r){return r.charAt(0)==="/"?r.substr(1):n+"/"+r}function e(n,r){var i=n.indexOf("#");return i!==-1&&(n=n.substring(0,i)),n+"#"+r}return Im}var qz;function qUe(){if(qz)return Nm;qz=1,Nm.createBodyReader=l,Nm._readNumberingProperties=d;var t=jUe(),e=En,n=ac(),r=Ea().Result,i=Ea().warning,s=X3(),a=WZ(),o=zUe();function l(A){return{readXmlElement:function(S){return new c(A).readXmlElement(S)},readXmlElements:function(S){return new c(A).readXmlElements(S)}}}function c(A){var S=[],T=[],M=[],R=A.relationships,O=A.contentTypes,z=A.docxFile,F=A.files,q=A.numbering,k=A.styles;function H(pe){var Te=pe.map(N);return w(Te)}function N(pe){if(pe.type==="element"){var Te=Q[pe.name];if(Te)return Te(pe);if(!Object.prototype.hasOwnProperty.call(p,pe.name)){var Be=i("An unrecognised element was ignored: "+pe.name);return g([Be])}}return v()}function B(pe){return Y(pe).map(function(Te){return{type:"paragraphProperties",styleId:Te.styleId,styleName:Te.name,alignment:pe.firstOrEmpty("w:jc").attributes["w:val"],numbering:d(Te.styleId,pe.firstOrEmpty("w:numPr"),q),indent:G(pe.firstOrEmpty("w:ind"))}})}function G(pe){return{start:pe.attributes["w:start"]||pe.attributes["w:left"],end:pe.attributes["w:end"]||pe.attributes["w:right"],firstLine:pe.attributes["w:firstLine"],hanging:pe.attributes["w:hanging"]}}function $(pe){return ee(pe).map(function(Te){var Be=pe.firstOrEmpty("w:sz").attributes["w:val"],Ie=/^[0-9]+$/.test(Be)?parseInt(Be,10)/2:null;return{type:"runProperties",styleId:Te.styleId,styleName:Te.name,verticalAlignment:pe.firstOrEmpty("w:vertAlign").attributes["w:val"],font:pe.firstOrEmpty("w:rFonts").attributes["w:ascii"],fontSize:Ie,isBold:L(pe.first("w:b")),isUnderline:W(pe.first("w:u")),isItalic:L(pe.first("w:i")),isStrikethrough:L(pe.first("w:strike")),isAllCaps:L(pe.first("w:caps")),isSmallCaps:L(pe.first("w:smallCaps")),highlight:j(pe.firstOrEmpty("w:highlight").attributes["w:val"])}})}function W(pe){if(pe){var Te=pe.attributes["w:val"];return Te!==void 0&&Te!=="false"&&Te!=="0"&&Te!=="none"}else return!1}function L(pe){if(pe){var Te=pe.attributes["w:val"];return Te!=="false"&&Te!=="0"}else return!1}function K(pe){return pe!=="false"&&pe!=="0"}function j(pe){return!pe||pe==="none"?null:pe}function Y(pe){return se(pe,"w:pStyle","Paragraph",k.findParagraphStyleById)}function ee(pe){return se(pe,"w:rStyle","Run",k.findCharacterStyleById)}function re(pe){return se(pe,"w:tblStyle","Table",k.findTableStyleById)}function se(pe,Te,Be,Ie){var Qe=[],st=pe.first(Te),qt=null,Kt=null;if(st&&(qt=st.attributes["w:val"],qt)){var Pn=Ie(qt);Pn?Kt=Pn.name:Qe.push(tt(Be,qt))}return b({styleId:qt,name:Kt},Qe)}function ye(pe){var Te=pe.attributes["w:fldCharType"];if(Te==="begin")S.push({type:"begin",fldChar:pe}),T=[];else if(Te==="end"){var Be=S.pop();if(Be.type==="begin"&&(Be=Re(Be)),Be.type==="checkbox")return y(n.checkbox({checked:Be.checked}))}else if(Te==="separate"){var Ie=S.pop(),Qe=Re(Ie);S.push(Qe)}return v()}function xe(){var pe=e.last(S.filter(function(Te){return Te.type==="hyperlink"}));return pe?pe.options:null}function Re(pe){return Fe(T.join(""),pe.type==="begin"?pe.fldChar:s.emptyElement)}function Fe(pe,Te){var Be=/\s*HYPERLINK "(.*)"/.exec(pe);if(Be)return{type:"hyperlink",options:{href:Be[1]}};var Ie=/\s*HYPERLINK\s+\\l\s+"(.*)"/.exec(pe);if(Ie)return{type:"hyperlink",options:{anchor:Ie[1]}};var Qe=/\s*FORMCHECKBOX\s*/.exec(pe);if(Qe){var st=Te.firstOrEmpty("w:ffData").firstOrEmpty("w:checkBox"),qt=st.first("w:checked"),Kt=qt==null?L(st.first("w:default")):L(qt);return{type:"checkbox",checked:Kt}}return{type:"unknown"}}function qe(pe){return T.push(pe.text()),v()}function We(pe){var Te=pe.attributes["w:font"],Be=pe.attributes["w:char"],Ie=t.hex(Te,Be);return Ie==null&&/^F0..$/.test(Be)&&(Ie=t.hex(Te,Be.substring(2))),Ie==null?g([i("A w:sym element with an unsupported character was ignored: char "+Be+" in font "+Te)]):y(new n.Text(Ie.string))}function P(pe){return function(Te){var Be=Te.attributes["w:id"];return y(new n.NoteReference({noteType:pe,noteId:Be}))}}function oe(pe){return y(n.commentReference({commentId:pe.attributes["w:id"]}))}function ce(pe){return H(pe.children)}var Q={"w:p":function(pe){var Te=pe.firstOrEmpty("w:pPr"),Be=!!Te.firstOrEmpty("w:rPr").first("w:del");if(Be)return pe.children.forEach(function(Qe){M.push(Qe)}),v();var Ie=pe.children;return M.length>0&&(Ie=M.concat(Ie),M=[]),x.map(B(Te),H(Ie),function(Qe,st){return new n.Paragraph(st,Qe)}).insertExtra()},"w:r":function(pe){return x.map($(pe.firstOrEmpty("w:rPr")),H(pe.children),function(Te,Be){var Ie=xe();return Ie!==null&&(Be=[new n.Hyperlink(Be,Ie)]),new n.Run(Be,Te)})},"w:fldChar":ye,"w:instrText":qe,"w:t":function(pe){return y(new n.Text(pe.text()))},"w:tab":function(pe){return y(new n.Tab)},"w:noBreakHyphen":function(){return y(new n.Text(""))},"w:softHyphen":function(pe){return y(new n.Text(""))},"w:sym":We,"w:hyperlink":function(pe){var Te=pe.attributes["r:id"],Be=pe.attributes["w:anchor"];return H(pe.children).map(function(Ie){function Qe(qt){var Kt=pe.attributes["w:tgtFrame"]||null;return new n.Hyperlink(Ie,e.extend({targetFrame:Kt},qt))}if(Te){var st=R.findTargetByRelationshipId(Te);return Be&&(st=o.replaceFragment(st,Be)),Qe({href:st})}else return Be?Qe({anchor:Be}):Ie})},"w:tbl":J,"w:tr":De,"w:tc":Se,"w:footnoteReference":P("footnote"),"w:endnoteReference":P("endnote"),"w:commentReference":oe,"w:br":function(pe){var Te=pe.attributes["w:type"];return Te==null||Te==="textWrapping"?y(n.lineBreak):Te==="page"?y(n.pageBreak):Te==="column"?y(n.columnBreak):g([i("Unsupported break type: "+Te)])},"w:bookmarkStart":function(pe){var Te=pe.attributes["w:name"];return Te==="_GoBack"?v():y(new n.BookmarkStart({name:Te}))},"mc:AlternateContent":function(pe){return ce(pe.firstOrEmpty("mc:Fallback"))},"w:sdt":function(pe){var Te=H(pe.firstOrEmpty("w:sdtContent").children);return Te.map(function(Be){var Ie=pe.firstOrEmpty("w:sdtPr").first("wordml:checkbox");if(Ie){var Qe=Ie.first("wordml:checked"),st=!!Qe&&K(Qe.attributes["wordml:val"]),qt=n.checkbox({checked:st}),Kt=!1,Pn=Be.map(a._elementsOfType(n.types.text,function(Z){return Z.value.length>0&&!Kt?(Kt=!0,qt):Z}));return Kt?Pn:qt}else return Be})},"w:ins":ce,"w:object":ce,"w:smartTag":ce,"w:drawing":ce,"w:pict":function(pe){return ce(pe).toExtra()},"v:roundrect":ce,"v:shape":ce,"v:textbox":ce,"w:txbxContent":ce,"wp:inline":me,"wp:anchor":me,"v:imagedata":Le,"v:group":ce,"v:rect":ce};return{readXmlElement:N,readXmlElements:H};function J(pe){var Te=ue(pe.firstOrEmpty("w:tblPr"));return H(pe.children).flatMap(ie).flatMap(function(Be){return Te.map(function(Ie){return n.Table(Be,Ie)})})}function ue(pe){return re(pe).map(function(Te){return{styleId:Te.styleId,styleName:Te.name}})}function De(pe){var Te=pe.firstOrEmpty("w:trPr"),Be=!!Te.first("w:del");if(Be)return v();var Ie=!!Te.first("w:tblHeader");return H(pe.children).map(function(Qe){return n.TableRow(Qe,{isHeader:Ie})})}function Se(pe){return H(pe.children).map(function(Te){var Be=pe.firstOrEmpty("w:tcPr"),Ie=Be.firstOrEmpty("w:gridSpan").attributes["w:val"],Qe=Ie?parseInt(Ie,10):1,st=n.TableCell(Te,{colSpan:Qe});return st._vMerge=fe(Be),st})}function fe(pe){var Te=pe.first("w:vMerge");if(Te){var Be=Te.attributes["w:val"];return Be==="continue"||!Be}else return null}function ie(pe){var Te=e.any(pe,function(Qe){return Qe.type!==n.types.tableRow});if(Te)return le(pe),b(pe,[i("unexpected non-row element in table, cell merging may be incorrect")]);var Be=e.any(pe,function(Qe){return e.any(Qe.children,function(st){return st.type!==n.types.tableCell})});if(Be)return le(pe),b(pe,[i("unexpected non-cell element in table row, cell merging may be incorrect")]);var Ie={};return pe.forEach(function(Qe){var st=0;Qe.children.forEach(function(qt){qt._vMerge&&Ie[st]?Ie[st].rowSpan++:(Ie[st]=qt,qt._vMerge=!1),st+=qt.colSpan})}),pe.forEach(function(Qe){Qe.children=Qe.children.filter(function(st){return!st._vMerge}),Qe.children.forEach(function(st){delete st._vMerge})}),y(pe)}function le(pe){pe.forEach(function(Te){var Be=a.getDescendantsOfType(Te,n.types.tableCell);Be.forEach(function(Ie){delete Ie._vMerge})})}function me(pe){var Te=pe.getElementsByTagName("a:graphic").getElementsByTagName("a:graphicData").getElementsByTagName("pic:pic").getElementsByTagName("pic:blipFill").getElementsByTagName("a:blip");return w(Te.map(ae.bind(null,pe)))}function ae(pe,Te){var Be=pe.first("wp:docPr").attributes,Ie=ve(Be.descr)?Be.title:Be.descr,Qe=Ue(Te);return Qe===null?g([i("Could not find image file for a:blip element")]):Ve(Qe,Ie)}function ve(pe){return pe==null||/^\s*$/.test(pe)}function Ue(pe){var Te=pe.attributes["r:embed"],Be=pe.attributes["r:link"];if(Te)return Pe(Te);if(Be){var Ie=R.findTargetByRelationshipId(Be);return{path:Ie,read:F.read.bind(F,Ie)}}else return null}function Le(pe){var Te=pe.attributes["r:id"];return Te?Ve(Pe(Te),pe.attributes["o:title"]):g([i("A v:imagedata element without a relationship ID was ignored")])}function Pe(pe){var Te=o.uriToZipEntryName("word",R.findTargetByRelationshipId(pe));return{path:Te,read:z.read.bind(z,Te)}}function Ve(pe,Te){var Be=O.findContentType(pe.path),Ie=n.Image({readImage:pe.read,altText:Te,contentType:Be}),Qe=h[Be]?[]:i("Image of type "+Be+" is unlikely to display in web browsers");return b(Ie,Qe)}function tt(pe,Te){return i(pe+" style with ID "+Te+" was referenced but not defined in the document")}}function d(A,S,T){var M=S.firstOrEmpty("w:ilvl").attributes["w:val"],R=S.firstOrEmpty("w:numId").attributes["w:val"];if(M!==void 0&&R!==void 0)return T.findLevel(R,M);if(A!=null){var O=T.findLevelByParagraphStyleId(A);if(O!=null)return O}return R!==void 0?T.findLevel(R,"0"):null}var h={"image/png":!0,"image/gif":!0,"image/jpeg":!0,"image/svg+xml":!0,"image/tiff":!0},p={"office-word:wrap":!0,"v:shadow":!0,"v:shapetype":!0,"w:annotationRef":!0,"w:bookmarkEnd":!0,"w:sectPr":!0,"w:proofErr":!0,"w:lastRenderedPageBreak":!0,"w:commentRangeStart":!0,"w:commentRangeEnd":!0,"w:del":!0,"w:footnoteRef":!0,"w:endnoteRef":!0,"w:pPr":!0,"w:rPr":!0,"w:tblPr":!0,"w:tblGrid":!0,"w:trPr":!0,"w:tcPr":!0};function g(A){return new x(null,null,A)}function v(){return new x(null)}function y(A){return new x(A)}function b(A,S){return new x(A,null,S)}function x(A,S,T){this.value=A||[],this.extra=S||[],this._result=new r({element:this.value,extra:S},T),this.messages=this._result.messages}x.prototype.toExtra=function(){return new x(null,D(this.extra,this.value),this.messages)},x.prototype.insertExtra=function(){var A=this.extra;return A&&A.length?new x(D(this.value,A),null,this.messages):this},x.prototype.map=function(A){var S=this._result.map(function(T){return A(T.element)});return new x(S.value,this.extra,S.messages)},x.prototype.flatMap=function(A){var S=this._result.flatMap(function(T){return A(T.element)._result});return new x(S.value.element,D(this.extra,S.value.extra),S.messages)},x.map=function(A,S,T){return new x(T(A.value,S.value),D(A.extra,S.extra),A.messages.concat(S.messages))};function w(A){var S=r.combine(e.pluck(A,"_result"));return new x(e.flatten(e.pluck(S.value,"element")),e.filter(e.flatten(e.pluck(S.value,"extra")),E),S.messages)}function D(A,S){return e.flatten([A,S])}function E(A){return A}return Nm}var AA={},Wz;function WUe(){if(Wz)return AA;Wz=1,AA.DocumentXmlReader=n;var t=ac(),e=Ea().Result;function n(r){var i=r.bodyReader;function s(a){var o=a.first("w:body");if(o==null)throw new Error("Could not find the body element: are you sure this is a docx file?");var l=i.readXmlElements(o.children).map(function(c){return new t.Document(c,{notes:r.notes,comments:r.comments})});return new e(l.value,l.messages)}return{convertXmlToDocument:s}}return AA}var Rh={},Vz;function VUe(){if(Vz)return Rh;Vz=1,Rh.readRelationships=t,Rh.defaultValue=new e([]),Rh.Relationships=e;function t(n){var r=[];return n.children.forEach(function(i){if(i.name==="relationships:Relationship"){var s={relationshipId:i.attributes.Id,target:i.attributes.Target,type:i.attributes.Type};r.push(s)}}),new e(r)}function e(n){var r={};n.forEach(function(s){r[s.relationshipId]=s.target});var i={};return n.forEach(function(s){i[s.type]||(i[s.type]=[]),i[s.type].push(s.target)}),{findTargetByRelationshipId:function(s){return r[s]},findTargetsByType:function(s){return i[s]||[]}}}return Rh}var Pm={},Hz;function HUe(){if(Hz)return Pm;Hz=1,Pm.readContentTypesFromXml=e;var t={png:"png",gif:"gif",jpeg:"jpeg",jpg:"jpeg",tif:"tiff",tiff:"tiff",bmp:"bmp"};Pm.defaultContentTypes=n({},{});function e(r){var i={},s={};return r.children.forEach(function(a){if(a.name==="content-types:Default"&&(i[a.attributes.Extension]=a.attributes.ContentType),a.name==="content-types:Override"){var o=a.attributes.PartName;o.charAt(0)==="/"&&(o=o.substring(1)),s[o]=a.attributes.ContentType}}),n(s,i)}function n(r,i){return{findContentType:function(s){var a=r[s];if(a)return a;var o=s.split("."),l=o[o.length-1];if(i.hasOwnProperty(l))return i[l];var c=t[l.toLowerCase()];return c?"image/"+c:null}}}return Pm}var Uh={},$z;function $Ue(){if($z)return Uh;$z=1;var t=En;Uh.readNumberingXml=n,Uh.Numbering=e,Uh.defaultNumbering=new e({},{});function e(a,o,l){var c=t.flatten(t.values(o).map(function(g){return t.values(g.levels)})),d=t.indexBy(c.filter(function(g){return g.paragraphStyleId!=null}),"paragraphStyleId");function h(g,v){var y=a[g];if(y){var b=o[y.abstractNumId];if(b){if(b.numStyleLink==null)return o[y.abstractNumId].levels[v];var x=l.findNumberingStyleById(b.numStyleLink);return h(x.numId,v)}else return null}else return null}function p(g){return d[g]||null}return{findLevel:h,findLevelByParagraphStyleId:p}}function n(a,o){if(!o||!o.styles)throw new Error("styles is missing");var l=r(a),c=s(a);return new e(c,l,o.styles)}function r(a){var o={};return a.getElementsByTagName("w:abstractNum").forEach(function(l){var c=l.attributes["w:abstractNumId"];o[c]=i(l)}),o}function i(a){var o={},l=null;a.getElementsByTagName("w:lvl").forEach(function(d){var h=d.attributes["w:ilvl"],p=d.firstOrEmpty("w:numFmt").attributes["w:val"],g=p!=="bullet",v=d.firstOrEmpty("w:pStyle").attributes["w:val"];h===void 0?l={isOrdered:g,level:"0",paragraphStyleId:v}:o[h]={isOrdered:g,level:h,paragraphStyleId:v}}),l!==null&&o[l.level]===void 0&&(o[l.level]=l);var c=a.firstOrEmpty("w:numStyleLink").attributes["w:val"];return{levels:o,numStyleLink:c}}function s(a){var o={};return a.getElementsByTagName("w:num").forEach(function(l){var c=l.attributes["w:numId"],d=l.first("w:abstractNumId").attributes["w:val"];o[c]={abstractNumId:d}}),o}return Uh}var Mh={},Gz;function GUe(){if(Gz)return Mh;Gz=1,Mh.readStylesXml=e,Mh.Styles=t,Mh.defaultStyles=new t({},{});function t(a,o,l,c){return{findParagraphStyleById:function(d){return a[d]},findCharacterStyleById:function(d){return o[d]},findTableStyleById:function(d){return l[d]},findNumberingStyleById:function(d){return c[d]}}}t.EMPTY=new t({},{},{},{});function e(a){var o={},l={},c={},d={},h={paragraph:o,character:l,table:c,numbering:d};return a.getElementsByTagName("w:style").forEach(function(p){var g=n(p),v=h[g.type];v&&v[g.styleId]===void 0&&(v[g.styleId]=g)}),new t(o,l,c,d)}function n(a){var o=a.attributes["w:type"];if(o==="numbering")return i(o,a);var l=s(a),c=r(a);return{type:o,styleId:l,name:c}}function r(a){var o=a.first("w:name");return o?o.attributes["w:val"]:null}function i(a,o){var l=s(o),c=o.firstOrEmpty("w:pPr").firstOrEmpty("w:numPr").firstOrEmpty("w:numId").attributes["w:val"];return{type:a,numId:c,styleId:l}}function s(a){return a.attributes["w:styleId"]}return Mh}var ou={},Xz;function XUe(){if(Xz)return ou;Xz=1;var t=ac(),e=Ea().Result;ou.createFootnotesReader=n.bind(ou,"footnote"),ou.createEndnotesReader=n.bind(ou,"endnote");function n(r,i){function s(l){return e.combine(l.getElementsByTagName("w:"+r).filter(a).map(o))}function a(l){var c=l.attributes["w:type"];return c!=="continuationSeparator"&&c!=="separator"}function o(l){var c=l.attributes["w:id"];return i.readXmlElements(l.children).map(function(d){return t.Note({noteType:r,noteId:c,body:d})})}return s}return ou}var TA={},Kz;function KUe(){if(Kz)return TA;Kz=1;var t=ac(),e=Ea().Result;function n(r){function i(a){return e.combine(a.getElementsByTagName("w:comment").map(s))}function s(a){var o=a.attributes["w:id"];function l(c){return(a.attributes[c]||"").trim()||null}return r.readXmlElements(a.children).map(function(c){return t.comment({commentId:o,body:c,authorName:l("w:author"),authorInitials:l("w:initials")})})}return i}return TA.createCommentsReader=n,TA}var CA={},Yz;function YUe(){if(Yz)return CA;Yz=1;var t=Lo();CA.Files=e;function e(){function n(r){return t.reject(new Error("could not open external image: '"+r+`'
cannot open linked files from a web browser`))}return{read:n}}return CA}var Zz;function ZUe(){if(Zz)return Cm;Zz=1,Cm.read=v,Cm._findPartPaths=y;var t=Lo(),e=ac(),n=Ea().Result,r=LZ(),i=LUe().readXmlFromZipFile,s=qUe().createBodyReader,a=WUe().DocumentXmlReader,o=VUe(),l=HUe(),c=$Ue(),d=GUe(),h=XUe(),p=KUe(),g=YUe().Files;function v(R,O,z){O=O||{},z=z||{};var F=new g({externalFileAccess:z.externalFileAccess,relativeToFile:O.path});return t.props({contentTypes:A(R),partPaths:y(R),docxFile:R,files:F}).also(function(q){return{styles:T(R,q.partPaths.styles)}}).also(function(q){return{numbering:S(R,q.partPaths.numbering,q.styles)}}).also(function(q){return{footnotes:D(q.partPaths.footnotes,q,function(k,H){return H?h.createFootnotesReader(k)(H):new n([])}),endnotes:D(q.partPaths.endnotes,q,function(k,H){return H?h.createEndnotesReader(k)(H):new n([])}),comments:D(q.partPaths.comments,q,function(k,H){return H?p.createCommentsReader(k)(H):new n([])})}}).also(function(q){return{notes:q.footnotes.flatMap(function(k){return q.endnotes.map(function(H){return new e.Notes(k.concat(H))})})}}).then(function(q){return D(q.partPaths.mainDocument,q,function(k,H){return q.notes.flatMap(function(N){return q.comments.flatMap(function(B){var G=new a({bodyReader:k,notes:N,comments:B});return G.convertXmlToDocument(H)})})})})}function y(R){return M(R).then(function(O){var z=b({docxFile:R,relationships:O,relationshipType:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",basePath:"",fallbackPath:"word/document.xml"});if(!R.exists(z))throw new Error("Could not find main document part. Are you sure this is a valid .docx file?");return w({filename:E(z),readElement:o.readRelationships,defaultValue:o.defaultValue})(R).then(function(F){function q(k){return b({docxFile:R,relationships:F,relationshipType:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/"+k,basePath:r.splitPath(z).dirname,fallbackPath:"word/"+k+".xml"})}return{mainDocument:z,comments:q("comments"),endnotes:q("endnotes"),footnotes:q("footnotes"),numbering:q("numbering"),styles:q("styles")}})})}function b(R){var O=R.docxFile,z=R.relationships,F=R.relationshipType,q=R.basePath,k=R.fallbackPath,H=z.findTargetsByType(F),N=H.map(function(G){return x(r.joinPath(q,G),"/")}),B=N.filter(function(G){return O.exists(G)});return B.length===0?k:B[0]}function x(R,O){return R.substring(0,O.length)===O?R.substring(O.length):R}function w(R){return function(O){return i(O,R.filename).then(function(z){return z?R.readElement(z):R.defaultValue})}}function D(R,O,z){var F=w({filename:E(R),readElement:o.readRelationships,defaultValue:o.defaultValue});return F(O.docxFile).then(function(q){var k=new s({relationships:q,contentTypes:O.contentTypes,docxFile:O.docxFile,numbering:O.numbering,styles:O.styles,files:O.files});return i(O.docxFile,R).then(function(H){return z(k,H)})})}function E(R){var O=r.splitPath(R);return r.joinPath(O.dirname,"_rels",O.basename+".rels")}var A=w({filename:"[Content_Types].xml",readElement:l.readContentTypesFromXml,defaultValue:l.defaultContentTypes});function S(R,O,z){return w({filename:O,readElement:function(F){return c.readNumberingXml(F,{styles:z})},defaultValue:c.defaultNumbering})(R)}function T(R,O){return w({filename:O,readElement:d.readStylesXml,defaultValue:d.defaultStyles})(R)}var M=w({filename:"_rels/.rels",readElement:o.readRelationships,defaultValue:o.defaultValue});return Cm}var Lm={},Jz;function JUe(){if(Jz)return Lm;Jz=1;var t=En,e=Lo(),n=X3();Lm.writeStyleMap=a,Lm.readStyleMap=d;var r="http://schemas.zwobble.org/mammoth/style-map",i="mammoth/style-map",s="/"+i;function a(h,p){return h.write(i,p),o(h).then(function(){return l(h)})}function o(h){var p="word/_rels/document.xml.rels",g="http://schemas.openxmlformats.org/package/2006/relationships",v="{"+g+"}Relationship";return h.read(p,"utf8").then(n.readString).then(function(y){var b=y.children;c(b,v,"Id",{Id:"rMammothStyleMap",Type:r,Target:s});var x={"":g};return h.write(p,n.writeString(y,x))})}function l(h){var p="[Content_Types].xml",g="http://schemas.openxmlformats.org/package/2006/content-types",v="{"+g+"}Override";return h.read(p,"utf8").then(n.readString).then(function(y){var b=y.children;c(b,v,"PartName",{PartName:s,ContentType:"text/prs.mammoth.style-map"});var x={"":g};return h.write(p,n.writeString(y,x))})}function c(h,p,g,v){var y=t.find(h,function(b){return b.name===p&&b.attributes[g]===v[g]});y?y.attributes=v:h.push(n.element(p,v))}function d(h){return h.exists(i)?h.read(i,"utf8"):e.resolve(null)}return Lm}var Bm={},dl={},ca={},ao={},Qz;function VZ(){if(Qz)return ao;Qz=1;var t=jv();function e(l,c,d){return r(t.element(l,c,{fresh:!1}),d)}function n(l,c,d){var h=t.element(l,c,{fresh:!0});return r(h,d)}function r(l,c){return{type:"element",tag:l,children:c||[]}}function i(l){return{type:"text",value:l}}var s={type:"forceWrite"};ao.freshElement=n,ao.nonFreshElement=e,ao.elementWithTag=r,ao.text=i,ao.forceWrite=s;var a={br:!0,hr:!0,img:!0,input:!0};function o(l){return l.children.length===0&&a[l.tag.tagName]}return ao.isVoidElement=o,ao}var kA,eq;function QUe(){if(eq)return kA;eq=1;var t=En,e=VZ();function n(y){return r(c(y))}function r(y){var b=[];return y.map(i).forEach(function(x){l(b,x)}),b}function i(y){return s[y.type](y)}var s={element:a,text:o,forceWrite:o};function a(y){return e.elementWithTag(y.tag,r(y.children))}function o(y){return y}function l(y,b){var x=y[y.length-1];b.type==="element"&&!b.tag.fresh&&x&&x.type==="element"&&b.tag.matchesElement(x.tag)?(b.tag.separator&&l(x.children,e.text(b.tag.separator)),b.children.forEach(function(w){l(x.children,w)})):y.push(b)}function c(y){return d(y,function(b){return h[b.type](b)})}function d(y,b){return t.flatten(t.map(y,b),!0)}var h={element:g,text:v,forceWrite:p};function p(y){return[y]}function g(y){var b=c(y.children);return b.length===0&&!e.isVoidElement(y)?[]:[e.elementWithTag(y.tag,b)]}function v(y){return y.value.length===0?[]:[y]}return kA=n,kA}var tq;function Bv(){if(tq)return ca;tq=1;var t=VZ();ca.freshElement=t.freshElement,ca.nonFreshElement=t.nonFreshElement,ca.elementWithTag=t.elementWithTag,ca.text=t.text,ca.forceWrite=t.forceWrite,ca.simplify=QUe();function e(a,o){o.forEach(function(l){n(a,l)})}function n(a,o){r[o.type](a,o)}var r={element:i,text:s,forceWrite:function(){}};function i(a,o){t.isVoidElement(o)?a.selfClosing(o.tag.tagName,o.tag.attributes):(a.open(o.tag.tagName,o.tag.attributes),e(a,o.children),a.close(o.tag.tagName))}function s(a,o){a.text(o.value)}return ca.write=e,ca}var nq;function jv(){if(nq)return dl;nq=1;var t=En,e=Bv();dl.topLevelElement=n,dl.elements=r,dl.element=s;function n(o,l){return r([s(o,l,{fresh:!0})])}function r(o){return new i(o.map(function(l){return t.isString(l)?s(l):l}))}function i(o){this._elements=o}i.prototype.wrap=function(l){for(var c=l(),d=this._elements.length-1;d>=0;d--)c=this._elements[d].wrapNodes(c);return c};function s(o,l,c){return c=c||{},new a(o,l,c)}function a(o,l,c){var d={};t.isArray(o)?(o.forEach(function(h){d[h]=!0}),o=o[0]):d[o]=!0,this.tagName=o,this.tagNames=d,this.attributes=l||{},this.fresh=c.fresh,this.separator=c.separator}return a.prototype.matchesElement=function(o){return this.tagNames[o.tagName]&&t.isEqual(this.attributes||{},o.attributes||{})},a.prototype.wrap=function(l){return this.wrapNodes(l())},a.prototype.wrapNodes=function(l){return[e.elementWithTag(this,l)]},dl.empty=r([]),dl.ignore={wrap:function(){return[]}},dl}var RA={},rq;function HZ(){return rq||(rq=1,(function(t){var e=En,n=Lo(),r=Bv();t.imgElement=i;function i(s){return function(a,o){return n.when(s(a)).then(function(l){var c={};return a.altText&&(c.alt=a.altText),e.extend(c,l),[r.freshElement("img",c)]})}}t.inline=t.imgElement,t.dataUri=i(function(s){return s.readAsBase64String().then(function(a){return{src:"data:"+s.contentType+";base64,"+a}})})})(RA)),RA}var UA={},MA={},iq;function eMe(){if(iq)return MA;iq=1;var t=En;MA.writer=e;function e(o){return o=o||{},o.prettyPrint?r():i()}var n={div:!0,p:!0,ul:!0,li:!0};function r(){var o=0,l="  ",c=[],d=!0,h=!1,p=i();function g(A,S){n[A]&&D(),c.push(A),p.open(A,S),n[A]&&o++,d=!1}function v(A){n[A]&&(o--,D()),c.pop(),p.close(A)}function y(A){w();var S=E()?A:A.replace(`
`,`
`+l);p.text(S)}function b(A,S){D(),p.selfClosing(A,S)}function x(){return c.length===0||n[c[c.length-1]]}function w(){h||(D(),h=!0)}function D(){if(h=!1,!d&&x()&&!E()){p._append(`
`);for(var A=0;A<o;A++)p._append(l)}}function E(){return t.some(c,function(A){return A==="pre"})}return{asString:p.asString,open:g,close:v,text:y,selfClosing:b}}function i(){var o=[];function l(y,b){var x=h(b);o.push("<"+y+x+">")}function c(y){o.push("</"+y+">")}function d(y,b){var x=h(b);o.push("<"+y+x+" />")}function h(y){return t.map(y,function(b,x){return" "+x+'="'+a(b)+'"'}).join("")}function p(y){o.push(s(y))}function g(y){o.push(y)}function v(){return o.join("")}return{asString:v,open:l,close:c,text:p,selfClosing:d,_append:g}}function s(o){return o.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function a(o){return o.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}return MA}var OA={},sq;function tMe(){if(sq)return OA;sq=1;var t=En;function e(h){return n(h,h)}function n(h,p){return function(){return{start:h,end:p}}}function r(h){var p=h.href||"";return p?{start:"[",end:"]("+p+")",anchorPosition:"before"}:{}}function i(h){var p=h.src||"",g=h.alt||"";return p||g?{start:"!["+g+"]("+p+")"}:{}}function s(h){return function(p,g){return{start:g?`
`:"",end:g?"":`
`,list:{isOrdered:h.isOrdered,indent:g?g.indent+1:0,count:0}}}}function a(h,p,g){p=p||{indent:0,isOrdered:!1,count:0},p.count++,g.hasClosed=!1;var v=p.isOrdered?p.count+".":"-",y=l("	",p.indent)+v+" ";return{start:y,end:function(){if(!g.hasClosed)return g.hasClosed=!0,`
`}}}var o={p:n("",`

`),br:n("",`  
`),ul:s({isOrdered:!1}),ol:s({isOrdered:!0}),li:a,strong:e("__"),em:e("*"),a:r,img:i};(function(){for(var h=1;h<=6;h++)o["h"+h]=n(l("#",h)+" ",`

`)})();function l(h,p){return new Array(p+1).join(h)}function c(){var h=[],p=[],g=null,v={};function y(A,S){S=S||{};var T=o[A]||function(){return{}},M=T(S,g,v);p.push({end:M.end,list:g}),M.list&&(g=M.list);var R=M.anchorPosition==="before";R&&b(S),h.push(M.start||""),R||b(S)}function b(A){A.id&&h.push('<a id="'+A.id+'"></a>')}function x(A){var S=p.pop();g=S.list;var T=t.isFunction(S.end)?S.end():S.end;h.push(T||"")}function w(A,S){y(A,S),x()}function D(A){h.push(d(A))}function E(){return h.join("")}return{asString:E,open:y,close:x,text:D,selfClosing:w}}OA.writer=c;function d(h){return h.replace(/\\/g,"\\\\").replace(/([\`\*_\{\}\[\]\(\)\#\+\-\.\!])/g,"\\$1")}return OA}var aq;function nMe(){if(aq)return UA;aq=1;var t=eMe(),e=tMe();UA.writer=n;function n(r){return r=r||{},r.outputFormat==="markdown"?e.writer():t.writer(r)}return UA}var oq;function rMe(){if(oq)return Bm;oq=1;var t=En,e=Lo(),n=ac(),r=jv(),i=Ea(),s=HZ(),a=Bv(),o=nMe();Bm.DocumentConverter=l;function l(b){return{convertToHtml:function(x){var w=t.indexBy(x.type===n.types.document?x.comments:[],"commentId"),D=new c(b,w);return D.convertToHtml(x)}}}function c(b,x){var w=1,D=[],E=[];b=t.extend({ignoreEmptyParagraphs:!0},b);var A=b.idPrefix===void 0?"":b.idPrefix,S=b.ignoreEmptyParagraphs,T=r.topLevelElement("p"),M=b.styleMap||[];function R(P){var oe=[],ce=z(P,oe,{}),Q=[];v(ce,function(ue){ue.type==="deferred"&&Q.push(ue)});var J={};return e.mapSeries(Q,function(ue){return ue.value().then(function(De){J[ue.id]=De})}).then(function(){function ue(Se){return g(Se,function(fe){return fe.type==="deferred"?J[fe.id]:fe.children?[t.extend({},fe,{children:ue(fe.children)})]:[fe]})}var De=o.writer({prettyPrint:b.prettyPrint,outputFormat:b.outputFormat});return a.write(De,a.simplify(ue(ce))),new i.Result(De.asString(),oe)})}function O(P,oe,ce){return g(P,function(Q){return z(Q,oe,ce)})}function z(P,oe,ce){if(!ce)throw new Error("options not set");var Q=We[P.type];return Q?Q(P,oe,ce):[]}function F(P,oe,ce){return q(P,oe).wrap(function(){var Q=O(P.children,oe,ce);return S?Q:[a.forceWrite].concat(Q)})}function q(P,oe){var ce=B(P);return ce?ce.to:(P.styleId&&oe.push(p("paragraph",P)),T)}function k(P,oe,ce){var Q=function(){return O(P.children,oe,ce)},J=[];if(P.highlight!==null){var ue=N({type:"highlight",color:P.highlight});ue&&J.push(ue)}P.isSmallCaps&&J.push(H("smallCaps")),P.isAllCaps&&J.push(H("allCaps")),P.isStrikethrough&&J.push(H("strikethrough","s")),P.isUnderline&&J.push(H("underline")),P.verticalAlignment===n.verticalAlignment.subscript&&J.push(r.element("sub",{},{fresh:!1})),P.verticalAlignment===n.verticalAlignment.superscript&&J.push(r.element("sup",{},{fresh:!1})),P.isItalic&&J.push(H("italic","em")),P.isBold&&J.push(H("bold","strong"));var De=r.empty,Se=B(P);return Se?De=Se.to:P.styleId&&oe.push(p("run",P)),J.push(De),J.forEach(function(fe){Q=fe.wrap.bind(fe,Q)}),Q()}function H(P,oe){var ce=N({type:P});return ce||(oe?r.element(oe,{},{fresh:!1}):r.empty)}function N(P,oe){var ce=B(P);return ce?ce.to:oe}function B(P){for(var oe=0;oe<M.length;oe++)if(M[oe].from.matches(P))return M[oe]}function G(P){return function(oe,ce){return e.attempt(function(){return P(oe,ce)}).caught(function(Q){return ce.push(i.error(Q)),[]})}}function $(P){return L(P.noteType,P.noteId)}function W(P){return K(P.noteType,P.noteId)}function L(P,oe){return j(P+"-"+oe)}function K(P,oe){return j(P+"-ref-"+oe)}function j(P){return A+P}var Y=r.elements([r.element("table",{},{fresh:!0})]);function ee(P,oe,ce){return N(P,Y).wrap(function(){return re(P,oe,ce)})}function re(P,oe,ce){var Q=t.findIndex(P.children,function(Se){return!Se.type===n.types.tableRow||!Se.isHeader});Q===-1&&(Q=P.children.length);var J;if(Q===0)J=O(P.children,oe,t.extend({},ce,{isTableHeader:!1}));else{var ue=O(P.children.slice(0,Q),oe,t.extend({},ce,{isTableHeader:!0})),De=O(P.children.slice(Q),oe,t.extend({},ce,{isTableHeader:!1}));J=[a.freshElement("thead",{},ue),a.freshElement("tbody",{},De)]}return[a.forceWrite].concat(J)}function se(P,oe,ce){var Q=O(P.children,oe,ce);return[a.freshElement("tr",{},[a.forceWrite].concat(Q))]}function ye(P,oe,ce){var Q=ce.isTableHeader?"th":"td",J=O(P.children,oe,ce),ue={};return P.colSpan!==1&&(ue.colspan=P.colSpan.toString()),P.rowSpan!==1&&(ue.rowspan=P.rowSpan.toString()),[a.freshElement(Q,ue,[a.forceWrite].concat(J))]}function xe(P,oe,ce){return N(P,r.ignore).wrap(function(){var Q=x[P.commentId],J=E.length+1,ue="["+y(Q)+J+"]";return E.push({label:ue,comment:Q}),[a.freshElement("a",{href:"#"+L("comment",P.commentId),id:K("comment",P.commentId)},[a.text(ue)])]})}function Re(P,oe,ce){var Q=P.label,J=P.comment,ue=O(J.body,oe,ce).concat([a.nonFreshElement("p",{},[a.text(" "),a.freshElement("a",{href:"#"+K("comment",J.commentId)},[a.text("")])])]);return[a.freshElement("dt",{id:L("comment",J.commentId)},[a.text("Comment "+Q)]),a.freshElement("dd",{},ue)]}function Fe(P,oe,ce){return qe(P).wrap(function(){return[]})}function qe(P){var oe=B(P);return oe?oe.to:P.breakType==="line"?r.topLevelElement("br"):r.empty}var We={document:function(P,oe,ce){var Q=O(P.children,oe,ce),J=D.map(function(De){return P.notes.resolve(De)}),ue=O(J,oe,ce);return Q.concat([a.freshElement("ol",{},ue),a.freshElement("dl",{},g(E,function(De){return Re(De,oe,ce)}))])},paragraph:F,run:k,text:function(P,oe,ce){return[a.text(P.value)]},tab:function(P,oe,ce){return[a.text("	")]},hyperlink:function(P,oe,ce){var Q=P.anchor?"#"+j(P.anchor):P.href,J={href:Q};P.targetFrame!=null&&(J.target=P.targetFrame);var ue=O(P.children,oe,ce);return[a.nonFreshElement("a",J,ue)]},checkbox:function(P){var oe={type:"checkbox"};return P.checked&&(oe.checked="checked"),[a.freshElement("input",oe)]},bookmarkStart:function(P,oe,ce){var Q=a.freshElement("a",{id:j(P.name)},[a.forceWrite]);return[Q]},noteReference:function(P,oe,ce){D.push(P);var Q=a.freshElement("a",{href:"#"+$(P),id:W(P)},[a.text("["+w+++"]")]);return[a.freshElement("sup",{},[Q])]},note:function(P,oe,ce){var Q=O(P.body,oe,ce),J=a.elementWithTag(r.element("p",{},{fresh:!1}),[a.text(" "),a.freshElement("a",{href:"#"+W(P)},[a.text("")])]),ue=Q.concat([J]);return a.freshElement("li",{id:$(P)},ue)},commentReference:xe,comment:Re,image:h(G(b.convertImage||s.dataUri)),table:ee,tableRow:se,tableCell:ye,break:Fe};return{convertToHtml:R}}var d=1;function h(b){return function(x,w,D){return[{type:"deferred",id:d++,value:function(){return b(x,w,D)}}]}}function p(b,x){return i.warning("Unrecognised "+b+" style: '"+x.styleName+"' (Style ID: "+x.styleId+")")}function g(b,x){return t.flatten(b.map(x),!0)}function v(b,x){b.forEach(function(w){x(w),w.children&&v(w.children,x)})}var y=Bm.commentAuthorLabel=function(x){return x.authorInitials||""};return Bm}var NA={},lq;function iMe(){if(lq)return NA;lq=1;var t=ac();function e(n){if(n.type==="text")return n.value;if(n.type===t.types.tab)return"	";var r=n.type==="paragraph"?`

`:"";return(n.children||[]).map(e).join("")+r}return NA.convertElementToRawText=e,NA}var Oh={},Ji={},FA={},IA={exports:{}},cq;function sMe(){if(cq)return IA.exports;cq=1;var t=IA.exports=function(e,n){this._tokens=e,this._startIndex=n||0};return t.prototype.head=function(){return this._tokens[this._startIndex]},t.prototype.tail=function(e){return new t(this._tokens,this._startIndex+1)},t.prototype.toArray=function(){return this._tokens.slice(this._startIndex)},t.prototype.end=function(){return this._tokens[this._tokens.length-1]},t.prototype.to=function(e){var n=this.head().source,r=e.head()||e.end();return n.to(r.source)},IA.exports}var uq;function aMe(){if(uq)return FA;uq=1;var t=sMe();return FA.Parser=function(e){var n=function(r,i){return r(new t(i))};return{parseTokens:n}},FA}var PA={},LA={},dq;function oMe(){return dq||(dq=1,(function(t){t.none=Object.create({value:function(){throw new Error("Called value on none")},isNone:function(){return!0},isSome:function(){return!1},map:function(){return t.none},flatMap:function(){return t.none},filter:function(){return t.none},toArray:function(){return[]},orElse:e,valueOrElse:e});function e(r){return typeof r=="function"?r():r}t.some=function(r){return new n(r)};var n=function(r){this._value=r};n.prototype.value=function(){return this._value},n.prototype.isNone=function(){return!1},n.prototype.isSome=function(){return!0},n.prototype.map=function(r){return new n(r(this._value))},n.prototype.flatMap=function(r){return r(this._value)},n.prototype.filter=function(r){return r(this._value)?this:t.none},n.prototype.toArray=function(){return[this._value]},n.prototype.orElse=function(r){return this},n.prototype.valueOrElse=function(r){return this._value},t.isOption=function(r){return r===t.none||r instanceof n},t.fromNullable=function(r){return r==null?t.none:new n(r)}})(LA)),LA}var BA,hq;function K3(){if(hq)return BA;hq=1,BA={failure:function(e,n){if(e.length<1)throw new Error("Failure must have errors");return new t({status:"failure",remaining:n,errors:e})},error:function(e,n){if(e.length<1)throw new Error("Failure must have errors");return new t({status:"error",remaining:n,errors:e})},success:function(e,n,r){return new t({status:"success",value:e,source:r,remaining:n,errors:[]})},cut:function(e){return new t({status:"cut",remaining:e,errors:[]})}};var t=function(e){this._value=e.value,this._status=e.status,this._hasValue=e.value!==void 0,this._remaining=e.remaining,this._source=e.source,this._errors=e.errors};return t.prototype.map=function(e){return this._hasValue?new t({value:e(this._value,this._source),status:this._status,remaining:this._remaining,source:this._source,errors:this._errors}):this},t.prototype.changeRemaining=function(e){return new t({value:this._value,status:this._status,remaining:e,source:this._source,errors:this._errors})},t.prototype.isSuccess=function(){return this._status==="success"||this._status==="cut"},t.prototype.isFailure=function(){return this._status==="failure"},t.prototype.isError=function(){return this._status==="error"},t.prototype.isCut=function(){return this._status==="cut"},t.prototype.value=function(){return this._value},t.prototype.remaining=function(){return this._remaining},t.prototype.source=function(){return this._source},t.prototype.errors=function(){return this._errors},BA}var jA={},fq;function $Z(){if(fq)return jA;fq=1,jA.error=function(e){return new t(e)};var t=function(e){this.expected=e.expected,this.actual=e.actual,this._location=e.location};return t.prototype.describe=function(){var e=this._location?this._location.describe()+`:
`:"";return e+"Expected "+this.expected+`
but got `+this.actual},t.prototype.lineNumber=function(){return this._location.lineNumber()},t.prototype.characterNumber=function(){return this._location.characterNumber()},jA}var zA={},pq;function lMe(){if(pq)return zA;pq=1,zA.fromArray=function(e){var n=0,r=function(){return n<e.length};return new t({hasNext:r,next:function(){if(r())return e[n++];throw new Error("No more elements")}})};var t=function(e){this._iterator=e};return t.prototype.map=function(e){var n=this._iterator;return new t({hasNext:function(){return n.hasNext()},next:function(){return e(n.next())}})},t.prototype.filter=function(e){var n=this._iterator,r=!1,i=!1,s,a=function(){if(!r)for(r=!0,i=!1;n.hasNext()&&!i;)s=n.next(),i=e(s)};return new t({hasNext:function(){return a(),i},next:function(){a();var o=s;return r=!1,o}})},t.prototype.first=function(){var e=this._iterator;return this._iterator.hasNext()?e.next():null},t.prototype.toArray=function(){for(var e=[];this._iterator.hasNext();)e.push(this._iterator.next());return e},zA}var gq;function GZ(){return gq||(gq=1,(function(t){var e=En,n=oMe(),r=K3(),i=$Z(),s=lMe();t.token=function(p,g){var v=g!==void 0;return function(y){var b=y.head();if(b&&b.name===p&&(!v||b.value===g))return r.success(b.value,y.tail(),b.source);var x=d({name:p,value:g});return h(y,x)}},t.tokenOfType=function(p){return t.token(p)},t.firstOf=function(p,g){return e.isArray(g)||(g=Array.prototype.slice.call(arguments,1)),function(v){return s.fromArray(g).map(function(y){return y(v)}).filter(function(y){return y.isSuccess()||y.isError()}).first()||h(v,p)}},t.then=function(p,g){return function(v){var y=p(v);return y.map||console.log(y),y.map(g)}},t.sequence=function(){var p=Array.prototype.slice.call(arguments,0),g=function(y){var b=e.foldl(p,function(w,D){var E=w.result,A=w.hasCut;if(!E.isSuccess())return{result:E,hasCut:A};var S=D(E.remaining());if(S.isCut())return{result:E,hasCut:!0};if(S.isSuccess()){var T;D.isCaptured?T=E.value().withValue(D,S.value()):T=E.value();var M=S.remaining(),R=y.to(M);return{result:r.success(T,M,R),hasCut:A}}else return A?{result:r.error(S.errors(),S.remaining()),hasCut:A}:{result:S,hasCut:A}},{result:r.success(new a,y),hasCut:!1}).result,x=y.to(b.remaining());return b.map(function(w){return w.withValue(t.sequence.source,x)})};g.head=function(){var y=e.find(p,v);return t.then(g,t.sequence.extract(y))},g.map=function(y){return t.then(g,function(b){return y.apply(this,b.toArray())})};function v(y){return y.isCaptured}return g};var a=function(p,g){this._values=p||{},this._valuesArray=g||[]};a.prototype.withValue=function(p,g){if(p.captureName&&p.captureName in this._values)throw new Error('Cannot add second value for capture "'+p.captureName+'"');var v=e.clone(this._values);v[p.captureName]=g;var y=this._valuesArray.concat([g]);return new a(v,y)},a.prototype.get=function(p){if(p.captureName in this._values)return this._values[p.captureName];throw new Error('No value for capture "'+p.captureName+'"')},a.prototype.toArray=function(){return this._valuesArray},t.sequence.capture=function(p,g){var v=function(){return p.apply(this,arguments)};return v.captureName=g,v.isCaptured=!0,v},t.sequence.extract=function(p){return function(g){return g.get(p)}},t.sequence.applyValues=function(p){var g=Array.prototype.slice.call(arguments,1);return function(v){var y=g.map(function(b){return v.get(b)});return p.apply(this,y)}},t.sequence.source={captureName:"source"},t.sequence.cut=function(){return function(p){return r.cut(p)}},t.optional=function(p){return function(g){var v=p(g);return v.isSuccess()?v.map(n.some):v.isFailure()?r.success(n.none,g):v}},t.zeroOrMoreWithSeparator=function(p,g){return c(p,g,!1)},t.oneOrMoreWithSeparator=function(p,g){return c(p,g,!0)};var o=t.zeroOrMore=function(p){return function(g){for(var v=[],y;(y=p(g))&&y.isSuccess();)g=y.remaining(),v.push(y.value());return y.isError()?y:r.success(v,g)}};t.oneOrMore=function(p){return t.oneOrMoreWithSeparator(p,l)};function l(p){return r.success(null,p)}var c=function(p,g,v){return function(y){var b=p(y);if(b.isSuccess()){var x=t.sequence.capture(p,"main"),w=o(t.then(t.sequence(g,x),t.sequence.extract(x))),D=w(b.remaining());return r.success([b.value()].concat(D.value()),D.remaining())}else return v||b.isError()?b:r.success([],y)}};t.leftAssociative=function(p,g,v){var y;v?y=[{func:v,rule:g}]:y=g,y=y.map(function(x){return t.then(x.rule,function(w){return function(D,E){return x.func(D,w,E)}})});var b=t.firstOf.apply(null,["rules"].concat(y));return function(x){var w=x,D=p(x);if(!D.isSuccess())return D;for(var E=b(D.remaining());E.isSuccess();){var A=E.remaining(),S=w.to(E.remaining()),T=E.value();D=r.success(T(D.value(),S),A,S),E=b(D.remaining())}return E.isError()?E:D}},t.leftAssociative.firstOf=function(){return Array.prototype.slice.call(arguments,0)},t.nonConsuming=function(p){return function(g){return p(g).changeRemaining(g)}};var d=function(p){return p.value?p.name+' "'+p.value+'"':p.name};function h(p,g){var v,y=p.head();return y?v=i.error({expected:g,actual:d(y),location:y.source}):v=i.error({expected:g,actual:"end of tokens"}),r.failure([v],p)}})(PA)),PA}var qA={exports:{}},mq;function XZ(){if(mq)return qA.exports;mq=1,qA.exports=function(e,n){var r={asString:function(){return e},range:function(i,s){return new t(e,n,i,s)}};return r};var t=function(e,n,r,i){this._string=e,this._description=n,this._startIndex=r,this._endIndex=i};return t.prototype.to=function(e){return new t(this._string,this._description,this._startIndex,e._endIndex)},t.prototype.describe=function(){var e=this._position(),n=this._description?this._description+`
`:"";return n+"Line number: "+e.lineNumber+`
Character number: `+e.characterNumber},t.prototype.lineNumber=function(){return this._position().lineNumber},t.prototype.characterNumber=function(){return this._position().characterNumber},t.prototype._position=function(){for(var e=this,n=0,r=function(){return e._string.indexOf(`
`,n)},i=1;r()!==-1&&r()<this._startIndex;)n=r()+1,i+=1;var s=this._startIndex-n+1;return{lineNumber:i,characterNumber:s}},qA.exports}var WA,yq;function KZ(){return yq||(yq=1,WA=function(t,e,n){this.name=t,this.value=e,n&&(this.source=n)}),WA}var VA={},bq;function cMe(){return bq||(bq=1,(function(t){var e=GZ(),n=K3();t.parser=function(s,a,o){var l={rule:p,leftAssociative:g,rightAssociative:v},c=new r(o.map(h)),d=e.firstOf(s,a);function h(x){return{name:x.name,rule:i(x.ruleBuilder.bind(null,l))}}function p(){return y(c)}function g(x){return y(c.untilExclusive(x))}function v(x){return y(c.untilInclusive(x))}function y(x){return b.bind(null,x)}function b(x,w){var D=d(w);return D.isSuccess()?x.apply(D):D}return l};function r(s){function a(h){return new r(s.slice(0,l().indexOf(h)))}function o(h){return new r(s.slice(0,l().indexOf(h)+1))}function l(){return s.map(function(h){return h.name})}function c(h){for(var p,g;;)if(p=d(h.remaining()),p.isSuccess())g=h.source().to(p.source()),h=n.success(p.value()(h.value(),g),p.remaining(),g);else return p.isFailure()?h:p}function d(h){return e.firstOf("infix",s.map(function(p){return p.rule}))(h)}return{apply:c,untilExclusive:a,untilInclusive:o}}t.infix=function(s,a){function o(l){return t.infix(s,function(c){var d=a(c);return function(h){var p=d(h);return p.map(function(g){return function(v,y){return l(v,g,y)}})}})}return{name:s,ruleBuilder:a,map:o}};var i=function(s){var a;return function(o){return a||(a=s()),a(o)}}})(VA)),VA}var HA={},vq;function uMe(){if(vq)return HA;vq=1;var t=KZ(),e=XZ();HA.RegexTokeniser=n;function n(r){r=r.map(function(o){return{name:o.name,regex:new RegExp(o.regex.source,"g")}});function i(o,l){for(var c=new e(o,l),d=0,h=[];d<o.length;){var p=s(o,d,c);d=p.endIndex,h.push(p.token)}return h.push(a(o,c)),h}function s(o,l,c){for(var d=0;d<r.length;d++){var h=r[d].regex;h.lastIndex=l;var p=h.exec(o);if(p){var v=l+p[0].length;if(p.index===l&&v>l){var g=p[1],y=new t(r[d].name,g,c.range(l,v));return{token:y,endIndex:v}}}}var v=l+1,y=new t("unrecognisedCharacter",o.substring(l,v),c.range(l,v));return{token:y,endIndex:v}}function a(o,l){return new t("end",null,l.range(o.length,o.length))}return{tokenise:i}}return HA}var xq;function YZ(){return xq||(xq=1,Ji.Parser=aMe().Parser,Ji.rules=GZ(),Ji.errors=$Z(),Ji.results=K3(),Ji.StringSource=XZ(),Ji.Token=KZ(),Ji.bottomUp=cMe(),Ji.RegexTokeniser=uMe().RegexTokeniser,Ji.rule=function(t){var e;return function(n){return e||(e=t()),e(n)}}),Ji}var Xn={},wq;function dMe(){if(wq)return Xn;wq=1,Xn.paragraph=t,Xn.run=e,Xn.table=n,Xn.bold=new i("bold"),Xn.italic=new i("italic"),Xn.underline=new i("underline"),Xn.strikethrough=new i("strikethrough"),Xn.allCaps=new i("allCaps"),Xn.smallCaps=new i("smallCaps"),Xn.highlight=r,Xn.commentReference=new i("commentReference"),Xn.lineBreak=new a({breakType:"line"}),Xn.pageBreak=new a({breakType:"page"}),Xn.columnBreak=new a({breakType:"column"}),Xn.equalTo=l,Xn.startsWith=c;function t(p){return new i("paragraph",p)}function e(p){return new i("run",p)}function n(p){return new i("table",p)}function r(p){return new s(p)}function i(p,g){g=g||{},this._elementType=p,this._styleId=g.styleId,this._styleName=g.styleName,g.list&&(this._listIndex=g.list.levelIndex,this._listIsOrdered=g.list.isOrdered)}i.prototype.matches=function(p){return p.type===this._elementType&&(this._styleId===void 0||p.styleId===this._styleId)&&(this._styleName===void 0||p.styleName&&this._styleName.operator(this._styleName.operand,p.styleName))&&(this._listIndex===void 0||o(p,this._listIndex,this._listIsOrdered))&&(this._breakType===void 0||this._breakType===p.breakType)};function s(p){p=p||{},this._color=p.color}s.prototype.matches=function(p){return p.type==="highlight"&&(this._color===void 0||p.color===this._color)};function a(p){p=p||{},this._breakType=p.breakType}a.prototype.matches=function(p){return p.type==="break"&&(this._breakType===void 0||p.breakType===this._breakType)};function o(p,g,v){return p.numbering&&p.numbering.level==g&&p.numbering.isOrdered==v}function l(p){return{operator:d,operand:p}}function c(p){return{operator:h,operand:p}}function d(p,g){return p.toUpperCase()===g.toUpperCase()}function h(p,g){return g.toUpperCase().indexOf(p.toUpperCase())===0}return Xn}var $A={},_q;function hMe(){if(_q)return $A;_q=1;var t=YZ(),e=t.RegexTokeniser;$A.tokenise=r;var n="'((?:\\\\.|[^'])*)";function r(i){var s="(?:[a-zA-Z\\-_]|\\\\.)",a=new e([{name:"identifier",regex:new RegExp("("+s+"(?:"+s+"|[0-9])*)")},{name:"dot",regex:/\./},{name:"colon",regex:/:/},{name:"gt",regex:/>/},{name:"whitespace",regex:/\s+/},{name:"arrow",regex:/=>/},{name:"equals",regex:/=/},{name:"startsWith",regex:/\^=/},{name:"open-paren",regex:/\(/},{name:"close-paren",regex:/\)/},{name:"open-square-bracket",regex:/\[/},{name:"close-square-bracket",regex:/\]/},{name:"string",regex:new RegExp(n+"'")},{name:"unterminated-string",regex:new RegExp(n)},{name:"integer",regex:/([0-9]+)/},{name:"choice",regex:/\|/},{name:"bang",regex:/(!)/}]);return a.tokenise(i)}return $A}var Dq;function fMe(){if(Dq)return Oh;Dq=1;var t=En,e=YZ(),n=dMe(),r=jv(),i=hMe().tokenise,s=Ea();Oh.readHtmlPath=d,Oh.readDocumentMatcher=l,Oh.readStyle=a;function a(M){return E(T,M)}function o(){return e.rules.sequence(e.rules.sequence.capture(c()),e.rules.tokenOfType("whitespace"),e.rules.tokenOfType("arrow"),e.rules.sequence.capture(e.rules.optional(e.rules.sequence(e.rules.tokenOfType("whitespace"),e.rules.sequence.capture(h())).head())),e.rules.tokenOfType("end")).map(function(M,R){return{from:M,to:R.valueOrElse(r.empty)}})}function l(M){return E(c(),M)}function c(){var M=e.rules.sequence,R=function(Re,Fe){return e.rules.then(e.rules.token("identifier",Re),function(){return Fe})},O=R("p",n.paragraph),z=R("r",n.run),F=e.rules.firstOf("p or r or table",O,z),q=e.rules.sequence(e.rules.tokenOfType("dot"),e.rules.sequence.cut(),e.rules.sequence.capture(p)).map(function(Re){return{styleId:Re}}),k=e.rules.firstOf("style name matcher",e.rules.then(e.rules.sequence(e.rules.tokenOfType("equals"),e.rules.sequence.cut(),e.rules.sequence.capture(v)).head(),function(Re){return{styleName:n.equalTo(Re)}}),e.rules.then(e.rules.sequence(e.rules.tokenOfType("startsWith"),e.rules.sequence.cut(),e.rules.sequence.capture(v)).head(),function(Re){return{styleName:n.startsWith(Re)}})),H=e.rules.sequence(e.rules.tokenOfType("open-square-bracket"),e.rules.sequence.cut(),e.rules.token("identifier","style-name"),e.rules.sequence.capture(k),e.rules.tokenOfType("close-square-bracket")).head(),N=e.rules.firstOf("list type",R("ordered-list",{isOrdered:!0}),R("unordered-list",{isOrdered:!1})),B=M(e.rules.tokenOfType("colon"),M.capture(N),M.cut(),e.rules.tokenOfType("open-paren"),M.capture(g),e.rules.tokenOfType("close-paren")).map(function(Re,Fe){return{list:{isOrdered:Re.isOrdered,levelIndex:Fe-1}}});function G(Re){var Fe=e.rules.firstOf.apply(e.rules.firstOf,["matcher suffix"].concat(Re)),qe=e.rules.zeroOrMore(Fe);return e.rules.then(qe,function(We){var P={};return We.forEach(function(oe){t.extend(P,oe)}),P})}var $=M(M.capture(F),M.capture(G([q,H,B]))).map(function(Re,Fe){return Re(Fe)}),W=M(e.rules.token("identifier","table"),M.capture(G([q,H]))).map(function(Re){return n.table(Re)}),L=R("b",n.bold),K=R("i",n.italic),j=R("u",n.underline),Y=R("strike",n.strikethrough),ee=R("all-caps",n.allCaps),re=R("small-caps",n.smallCaps),se=M(e.rules.token("identifier","highlight"),e.rules.sequence.capture(e.rules.optional(e.rules.sequence(e.rules.tokenOfType("open-square-bracket"),e.rules.sequence.cut(),e.rules.token("identifier","color"),e.rules.tokenOfType("equals"),e.rules.sequence.capture(v),e.rules.tokenOfType("close-square-bracket")).head()))).map(function(Re){return n.highlight({color:Re.valueOrElse(void 0)})}),ye=R("comment-reference",n.commentReference),xe=M(e.rules.token("identifier","br"),M.cut(),e.rules.tokenOfType("open-square-bracket"),e.rules.token("identifier","type"),e.rules.tokenOfType("equals"),M.capture(v),e.rules.tokenOfType("close-square-bracket")).map(function(Re){switch(Re){case"line":return n.lineBreak;case"page":return n.pageBreak;case"column":return n.columnBreak}});return e.rules.firstOf("element type",$,W,L,K,j,Y,ee,re,se,ye,xe)}function d(M){return E(h(),M)}function h(){var M=e.rules.sequence.capture,R=e.rules.tokenOfType("whitespace"),O=e.rules.then(e.rules.optional(e.rules.sequence(e.rules.tokenOfType("colon"),e.rules.token("identifier","fresh"))),function(k){return k.map(function(){return!0}).valueOrElse(!1)}),z=e.rules.then(e.rules.optional(e.rules.sequence(e.rules.tokenOfType("colon"),e.rules.token("identifier","separator"),e.rules.tokenOfType("open-paren"),M(v),e.rules.tokenOfType("close-paren")).head()),function(k){return k.valueOrElse("")}),F=e.rules.oneOrMoreWithSeparator(p,e.rules.tokenOfType("choice")),q=e.rules.sequence(M(F),M(e.rules.zeroOrMore(D)),M(O),M(z)).map(function(k,H,N,B){var G={},$={};return H.forEach(function(W){W.append&&G[W.name]?G[W.name]+=" "+W.value:G[W.name]=W.value}),N&&($.fresh=!0),B&&($.separator=B),r.element(k,G,$)});return e.rules.firstOf("html path",e.rules.then(e.rules.tokenOfType("bang"),function(){return r.ignore}),e.rules.then(e.rules.zeroOrMoreWithSeparator(q,e.rules.sequence(R,e.rules.tokenOfType("gt"),R)),r.elements))}var p=e.rules.then(e.rules.tokenOfType("identifier"),b),g=e.rules.tokenOfType("integer"),v=e.rules.then(e.rules.tokenOfType("string"),b),y={n:`
`,r:"\r",t:"	"};function b(M){return M.replace(/\\(.)/g,function(R,O){return y[O]||O})}var x=e.rules.sequence(e.rules.tokenOfType("open-square-bracket"),e.rules.sequence.cut(),e.rules.sequence.capture(p),e.rules.tokenOfType("equals"),e.rules.sequence.capture(v),e.rules.tokenOfType("close-square-bracket")).map(function(M,R){return{name:M,value:R,append:!1}}),w=e.rules.sequence(e.rules.tokenOfType("dot"),e.rules.sequence.cut(),e.rules.sequence.capture(p)).map(function(M){return{name:"class",value:M,append:!0}}),D=e.rules.firstOf("attribute or class",x,w);function E(M,R){var O=i(R),z=e.Parser(),F=z.parseTokens(M,O);return F.isSuccess()?s.success(F.value()):new s.Result(null,[s.warning(A(R,F))])}function A(M,R){return"Did not understand this style mapping, so ignored it: "+M+`
`+R.errors().map(S).join(`
`)}function S(M){return"Error was at character number "+M.characterNumber()+": Expected "+M.expected+" but got "+M.actual}var T=o();return Oh}var Nh={},Eq;function pMe(){if(Eq)return Nh;Eq=1,Nh.readOptions=r;var t=En,e=Nh._defaultStyleMap=["p.Heading1 => h1:fresh","p.Heading2 => h2:fresh","p.Heading3 => h3:fresh","p.Heading4 => h4:fresh","p.Heading5 => h5:fresh","p.Heading6 => h6:fresh","p[style-name='Heading 1'] => h1:fresh","p[style-name='Heading 2'] => h2:fresh","p[style-name='Heading 3'] => h3:fresh","p[style-name='Heading 4'] => h4:fresh","p[style-name='Heading 5'] => h5:fresh","p[style-name='Heading 6'] => h6:fresh","p[style-name='heading 1'] => h1:fresh","p[style-name='heading 2'] => h2:fresh","p[style-name='heading 3'] => h3:fresh","p[style-name='heading 4'] => h4:fresh","p[style-name='heading 5'] => h5:fresh","p[style-name='heading 6'] => h6:fresh","p.Heading => h1:fresh","p[style-name='Heading'] => h1:fresh","r[style-name='Strong'] => strong","p[style-name='footnote text'] => p:fresh","r[style-name='footnote reference'] =>","p[style-name='endnote text'] => p:fresh","r[style-name='endnote reference'] =>","p[style-name='annotation text'] => p:fresh","r[style-name='annotation reference'] =>","p[style-name='Footnote'] => p:fresh","r[style-name='Footnote anchor'] =>","p[style-name='Endnote'] => p:fresh","r[style-name='Endnote anchor'] =>","p:unordered-list(1) => ul > li:fresh","p:unordered-list(2) => ul|ol > li > ul > li:fresh","p:unordered-list(3) => ul|ol > li > ul|ol > li > ul > li:fresh","p:unordered-list(4) => ul|ol > li > ul|ol > li > ul|ol > li > ul > li:fresh","p:unordered-list(5) => ul|ol > li > ul|ol > li > ul|ol > li > ul|ol > li > ul > li:fresh","p:ordered-list(1) => ol > li:fresh","p:ordered-list(2) => ul|ol > li > ol > li:fresh","p:ordered-list(3) => ul|ol > li > ul|ol > li > ol > li:fresh","p:ordered-list(4) => ul|ol > li > ul|ol > li > ul|ol > li > ol > li:fresh","p:ordered-list(5) => ul|ol > li > ul|ol > li > ul|ol > li > ul|ol > li > ol > li:fresh","r[style-name='Hyperlink'] =>","p[style-name='Normal'] => p:fresh","p.Body => p:fresh","p[style-name='Body'] => p:fresh"],n=Nh._standardOptions={externalFileAccess:!1,transformDocument:s,includeDefaultStyleMap:!0,includeEmbeddedStyleMap:!0};function r(a){return a=a||{},t.extend({},n,a,{customStyleMap:i(a.styleMap),readStyleMap:function(){var o=this.customStyleMap;return this.includeEmbeddedStyleMap&&(o=o.concat(i(this.embeddedStyleMap))),this.includeDefaultStyleMap&&(o=o.concat(e)),o}})}function i(a){return a?t.isString(a)?a.split(`
`).map(function(o){return o.trim()}).filter(function(o){return o!==""&&o.charAt(0)!=="#"}):a:[]}function s(a){return a}return Nh}var GA={},Sq;function gMe(){if(Sq)return GA;Sq=1;var t=Lo(),e=LZ();GA.openZip=n;function n(r){return r.arrayBuffer?t.resolve(e.openArrayBuffer(r.arrayBuffer)):t.reject(new Error("Could not find file in options"))}return GA}var XA={},Aq;function mMe(){if(Aq)return XA;Aq=1;var t=jv(),e=Bv();XA.element=n;function n(r){return function(i){return e.elementWithTag(t.element(r),[i])}}return XA}var Tq;function yMe(){if(Tq)return Ui;Tq=1;var t=En,e=ZUe(),n=JUe(),r=rMe().DocumentConverter,i=iMe().convertElementToRawText,s=fMe().readStyle,a=pMe().readOptions,o=gMe(),l=Ea().Result;Ui.convertToHtml=c,Ui.convertToMarkdown=d,Ui.convert=h,Ui.extractRawText=y,Ui.images=HZ(),Ui.transforms=WZ(),Ui.underline=mMe(),Ui.embedStyleMap=b,Ui.readEmbeddedStyleMap=p;function c(x,w){return h(x,w)}function d(x,w){var D=Object.create(w||{});return D.outputFormat="markdown",h(x,D)}function h(x,w){return w=a(w),o.openZip(x).tap(function(D){return n.readStyleMap(D).then(function(E){w.embeddedStyleMap=E})}).then(function(D){return e.read(D,x,w).then(function(E){return E.map(w.transformDocument)}).then(function(E){return g(E,w)})})}function p(x){return o.openZip(x).then(n.readStyleMap)}function g(x,w){var D=v(w.readStyleMap()),E=t.extend({},w,{styleMap:D.value}),A=new r(E);return x.flatMapThen(function(S){return D.flatMapThen(function(T){return A.convertToHtml(S)})})}function v(x){return l.combine((x||[]).map(s)).map(function(w){return w.filter(function(D){return!!D})})}function y(x){return o.openZip(x).then(e.read).then(function(w){return w.map(i)})}function b(x,w){return o.openZip(x).tap(function(D){return n.writeStyleMap(D,w)}).then(function(D){return D.toArrayBuffer()}).then(function(D){return{toArrayBuffer:function(){return D},toBuffer:function(){return Buffer.from(D)}}})}return Ui.styleMapping=function(){throw new Error(`Use a raw string instead of mammoth.styleMapping e.g. "p[style-name='Title'] => h1" instead of mammoth.styleMapping("p[style-name='Title'] => h1")`)},Ui}var bMe=yMe();const vMe=$l(bMe);Fu.workerSrc=`https://unpkg.com/pdfjs-dist@${rY}/build/pdf.worker.min.mjs`;async function xMe(t){const e=t.type,n=t.name,r=t.size;let i="";if(e==="application/pdf"||n.endsWith(".pdf"))i=await wMe(t);else if(e==="application/vnd.openxmlformats-officedocument.wordprocessingml.document"||n.endsWith(".docx"))i=await _Me(t);else{if(e==="application/msword"||n.endsWith(".doc"))throw new Error("Alte .doc Dateien werden nicht untersttzt. Bitte als .docx speichern.");if(e==="text/plain"||e==="text/markdown"||n.endsWith(".txt")||n.endsWith(".md"))i=await DMe(t);else throw new Error(`Dateityp nicht untersttzt: ${e||n.split(".").pop()}`)}return{name:n,type:e,content:i,size:r}}async function wMe(t){const e=await t.arrayBuffer(),n=await QK({data:e}).promise,r=[];for(let i=1;i<=n.numPages;i++){const o=(await(await n.getPage(i)).getTextContent()).items.map(l=>"str"in l?l.str:"").join(" ");r.push(o)}return r.join(`

`)}async function _Me(t){const e=await t.arrayBuffer();return(await vMe.extractRawText({arrayBuffer:e})).value}async function DMe(t){return await t.text()}function EMe(t){return`${(t/(1024*1024)).toFixed(1)} MB`}const SMe=[".pdf",".docx",".txt",".md"],Cq=10*1024*1024;function AMe({onSend:t,isLoading:e,placeholder:n="Beschreibe deine Software-Architektur..."}){const{pendingChatMessage:r,setPendingChatMessage:i}=Zn(),[s,a]=V.useState(""),[o,l]=V.useState([]),[c,d]=V.useState(!1),[h,p]=V.useState(null),g=V.useRef(null),v=V.useRef(null);V.useEffect(()=>{g.current&&(g.current.style.height="auto",g.current.style.height=`${Math.min(g.current.scrollHeight,200)}px`)},[s]),V.useEffect(()=>{r&&(a(r),i(null),setTimeout(()=>{g.current?.focus()},100))},[r,i]);const y=async S=>{const T=S.target.files;if(!T||T.length===0)return;p(null),d(!0);const M=[],R=[];for(const O of Array.from(T)){if(O.size>Cq){R.push(`${O.name}: zu gro (max ${EMe(Cq)})`);continue}try{const z=await xMe(O);M.push(z)}catch(z){R.push(`${O.name}: ${z instanceof Error?z.message:"Fehler"}`)}}M.length>0&&l(O=>[...O,...M]),R.length>0&&p(R.join(`
`)),d(!1),v.current&&(v.current.value="")},b=S=>{l(T=>T.filter((M,R)=>R!==S)),p(null)},x=()=>{l([]),p(null)},w=S=>{if(S.preventDefault(),(s.trim()||o.length>0)&&!e){const T=o.length>0?o.map(M=>`

--- Angehngte Datei: ${M.name} ---
${M.content}
--- Ende der Datei ---`).join(""):void 0;t(s.trim()||`Analysiere die ${o.length} angehngte${o.length>1?"n":""} Datei${o.length>1?"en":""} und erstelle eine passende Architektur.`,T),a(""),l([])}},D=S=>{S.key==="Enter"&&!S.shiftKey&&(S.preventDefault(),w(S))},E=S=>S.includes("pdf")?I.jsx(xf,{className:"h-4 w-4 text-red-500"}):S.includes("word")||S.includes("document")?I.jsx(xf,{className:"h-4 w-4 text-blue-500"}):I.jsx(ade,{className:"h-4 w-4 text-muted-foreground"}),A=o.reduce((S,T)=>S+T.content.length,0);return I.jsxs("form",{onSubmit:w,className:"border-t border-border/50 bg-card/50 p-4",children:[o.length>0&&I.jsxs("div",{className:"mb-3 space-y-2",children:[I.jsxs("div",{className:"flex items-center justify-between",children:[I.jsxs("span",{className:"text-xs text-muted-foreground",children:[o.length," Datei",o.length>1?"en":"","  ",A.toLocaleString()," Zeichen"]}),o.length>1&&I.jsx(dt,{type:"button",variant:"ghost",size:"sm",className:"h-6 text-xs",onClick:x,children:"Alle entfernen"})]}),I.jsx("div",{className:"flex flex-wrap gap-2",children:o.map((S,T)=>I.jsxs("div",{className:"flex items-center gap-2 rounded-lg border border-border/50 bg-muted/30 px-2 py-1",children:[E(S.type),I.jsx("span",{className:"text-xs font-medium truncate max-w-[150px]",children:S.name}),I.jsx(dt,{type:"button",variant:"ghost",size:"icon",className:"h-5 w-5 shrink-0",onClick:()=>b(T),children:I.jsx(dk,{className:"h-3 w-3"})})]},T))})]}),h&&I.jsx("div",{className:"mb-3 rounded-lg border border-destructive/50 bg-destructive/10 px-3 py-2 text-sm text-destructive whitespace-pre-line",children:h}),I.jsxs("div",{className:"flex items-end gap-2",children:[I.jsx("input",{ref:v,type:"file",accept:SMe.join(","),onChange:y,multiple:!0,className:"hidden"}),I.jsx(dt,{type:"button",variant:"ghost",size:"icon",className:"h-10 w-10 flex-shrink-0 rounded-lg",onClick:()=>v.current?.click(),disabled:e||c,title:"Dateien anhngen (PDF, Word, Text) - mehrere mglich",children:c?I.jsx(xo,{className:"h-4 w-4 animate-spin"}):I.jsx(Mde,{className:"h-4 w-4"})}),I.jsx("div",{className:"flex-1 relative",children:I.jsx("textarea",{ref:g,value:s,onChange:S=>a(S.target.value),onKeyDown:D,placeholder:o.length>0?"Anweisungen zu den Dateien (optional)...":n,disabled:e,rows:1,className:Et("w-full resize-none rounded-xl border border-border/50 bg-background px-4 py-3 text-sm","placeholder:text-muted-foreground","focus:outline-none focus:ring-2 focus:ring-ring/50 focus:border-primary/30","disabled:cursor-not-allowed disabled:opacity-50","max-h-[200px] overflow-y-auto transition-all duration-200")})}),I.jsx(dt,{type:"submit",size:"icon",disabled:!s.trim()&&o.length===0||e,className:"h-10 w-10 flex-shrink-0 rounded-lg shadow-sm",children:e?I.jsx(xo,{className:"h-4 w-4 animate-spin"}):I.jsx(Bde,{className:"h-4 w-4"})})]}),I.jsxs("p",{className:"mt-2 text-xs text-muted-foreground",children:[I.jsx("span",{className:"hidden sm:inline",children:"Drcke Enter zum Senden, Shift+Enter fr neue Zeile  "}),"Mehrere PDF, Word, Text-Dateien mglich"]})]})}const TMe=[{id:"claude-sonnet-4-20250514",name:"Claude Sonnet 4",description:"Schnell & effizient"},{id:"claude-sonnet-4-5-20250929",name:"Claude Sonnet 4.5",description:"Ausgewogen - empfohlen"},{id:"claude-opus-4-5-20251101",name:"Claude Opus 4.5",description:"Maximale Qualitt"}],ZZ=SH()(AH(t=>({aiModel:"claude-sonnet-4-5-20250929",setAIModel:e=>t({aiModel:e})}),{name:"vibe-architect-settings",storage:kk(()=>localStorage)}));function CMe(){const{currentProject:t,messages:e,nodes:n,edges:r,gaps:i,addMessage:s,applyAIResponse:a,updateNodePosition:o,setIsSending:l,setError:c}=Zn(),{aiModel:d}=ZZ();return{sendMessage:V.useCallback(async(p,g)=>{const v=g?`${p}${g}`:p;if(!t){c("Kein Projekt ausgewhlt");return}l(!0),c(null);const y={id:crypto.randomUUID(),project_id:t.id,role:"user",content:g?`${p}

 Datei angehngt`:p,created_at:new Date().toISOString()};s(y);try{const{error:b}=await Dt.from("messages").insert({project_id:t.id,role:"user",content:v});if(b)throw new Error(`Nachricht konnte nicht gespeichert werden: ${b.message}`);const x=e.map(T=>({role:T.role,content:T.content}));x.push({role:"user",content:v});const w={nodes:n.map(T=>({id:T.id,type:T.type,label:T.data.label,description:T.data.description})),edges:r.map(T=>({id:T.id,source:T.source,target:T.target,label:T.label})),gaps:i.filter(T=>!T.resolved)},{data:D,error:E}=await Dt.functions.invoke("architect-brain",{body:{messages:x,currentGraph:w,model:d}});if(E)throw new Error(`AI-Fehler: ${E.message}`);const A={message:D.message||"",nodes:Array.isArray(D.nodes)?D.nodes:[],edges:Array.isArray(D.edges)?D.edges:[],gaps:Array.isArray(D.gaps)?D.gaps:[],removedNodeIds:Array.isArray(D.removedNodeIds)?D.removedNodeIds:[],removedEdgeIds:Array.isArray(D.removedEdgeIds)?D.removedEdgeIds:[],resolvedGapIds:Array.isArray(D.resolvedGapIds)?D.resolvedGapIds:[],suggestions:Array.isArray(D.suggestions)?D.suggestions:[]},S={id:crypto.randomUUID(),project_id:t.id,role:"assistant",content:A.message,created_at:new Date().toISOString()};if(s(S),await Dt.from("messages").insert({project_id:t.id,role:"assistant",content:A.message}),a(A),A.nodes.length>0){const T=Zn.getState(),{nodes:M}=DX(T.nodes,T.edges,"TB");for(const R of M)o(R.id,R.position)}}catch(b){const x=b instanceof Error?b.message:"Ein Fehler ist aufgetreten";c(x);const w={id:crypto.randomUUID(),project_id:t.id,role:"assistant",content:`Entschuldigung, es ist ein Fehler aufgetreten: ${x}. Bitte versuche es erneut.`,created_at:new Date().toISOString()};s(w)}finally{l(!1)}},[t,e,n,r,i,s,a,o,l,c,d])}}function kMe({headerAction:t}){const e=V.useRef(null),{messages:n,isSending:r,currentProject:i}=Zn(),{sendMessage:s}=CMe();return V.useEffect(()=>{e.current&&(e.current.scrollTop=e.current.scrollHeight)},[n]),i?I.jsxs("div",{className:"flex flex-col h-full overflow-hidden bg-background",children:[I.jsxs("div",{className:"border-b px-4 py-3 shrink-0 flex items-center justify-between gap-4",children:[I.jsxs("div",{className:"min-w-0",children:[I.jsx("h2",{className:"font-semibold truncate",children:i.name}),i.description&&I.jsx("p",{className:"text-sm text-muted-foreground truncate",children:i.description})]}),t]}),I.jsx(id,{ref:e,className:"flex-1 overflow-y-auto p-4",children:n.length===0?I.jsx("div",{className:"flex h-full items-center justify-center",children:I.jsxs("div",{className:"text-center max-w-md",children:[I.jsx("p",{className:"text-muted-foreground",children:"Beschreibe deine Software-Architektur, und ich werde dir helfen, sie zu visualisieren."}),I.jsxs("div",{className:"mt-4 space-y-2 text-left text-sm text-muted-foreground",children:[I.jsx("p",{children:"Du kannst mir zum Beispiel sagen:"}),I.jsxs("ul",{className:"list-disc pl-4 space-y-1",children:[I.jsx("li",{children:'"Ich baue eine E-Commerce-Plattform mit React und Node.js"'}),I.jsx("li",{children:'"Ich brauche eine Microservices-Architektur fr eine Banking-App"'}),I.jsx("li",{children:'"Erklre mir die beste Architektur fr eine Chat-Anwendung"'})]})]})]})}):I.jsxs("div",{className:"space-y-4",children:[n.map(a=>I.jsx(tke,{message:a},a.id)),r&&I.jsx("div",{className:"flex gap-3",children:I.jsx("div",{className:"flex h-8 w-8 flex-shrink-0 items-center justify-center rounded-full bg-secondary",children:I.jsxs("div",{className:"flex gap-1",children:[I.jsx("span",{className:"h-2 w-2 animate-bounce rounded-full bg-muted-foreground",style:{animationDelay:"0ms"}}),I.jsx("span",{className:"h-2 w-2 animate-bounce rounded-full bg-muted-foreground",style:{animationDelay:"150ms"}}),I.jsx("span",{className:"h-2 w-2 animate-bounce rounded-full bg-muted-foreground",style:{animationDelay:"300ms"}})]})})})]})}),I.jsx("div",{className:"shrink-0",children:I.jsx(AMe,{onSend:s,isLoading:r})})]}):I.jsx("div",{className:"flex flex-1 items-center justify-center bg-background p-8",children:I.jsxs("div",{className:"text-center",children:[I.jsx("h2",{className:"text-lg font-semibold",children:"Willkommen bei VibeArchitect"}),I.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Erstelle ein neues Projekt oder whle ein existierendes aus, um zu beginnen."})]})})}const jm={standard:"Standard PRD",lovable:"Lovable Knowledge-File","claude-code":"Claude Code (CLAUDE.md)","firebase-studio":"Firebase Studio / Antigravity",navigation:"Navigationsstruktur","user-stories":"User Stories (Kunden-Version)",dashboard:"Dashboard Design"},RMe={standard:"Vollstndiges Product Requirements Document mit allen technischen Details",lovable:"Optimiert fr lovable.dev - Knowledge-File mit Design-Philosophie und User Journeys","claude-code":"Kompaktes CLAUDE.md Memory-File fr Claude Code CLI (<300 Zeilen)","firebase-studio":"Elevator-Pitch Format fr Firebase Studio App Prototyping",navigation:"Hierarchische Sitemap mit Mermaid-Diagramm - zeigt Screens, Unterpunkte und Verknpfungen","user-stories":"Einfache User Stories fr Kundenbesprechungen - ohne technische Details",dashboard:"KPIs, Widgets und Visualisierungen aus der Architektur abgeleitet"};function UMe(){const[t,e]=V.useState(!1),[n,r]=V.useState(""),[i,s]=V.useState(null),a=V.useRef(null),{currentProject:o,messages:l,nodes:c,edges:d,gaps:h}=Zn(),p=V.useCallback(()=>{a.current&&(a.current.abort(),a.current=null),e(!1),s(null)},[]);return{generatePRD:V.useCallback(async v=>{if(!o)return null;const y=v?.format||"standard";e(!0),r(""),s(1),a.current=new AbortController;try{const b={nodes:c.map(R=>({id:R.id,type:R.type,label:R.data.label,description:R.data.description,...Object.fromEntries(Object.entries(R.data).filter(([O])=>!["label","description"].includes(O)))})),edges:d.map(R=>({id:R.id,source:R.source,target:R.target,label:R.label})),gaps:h.map(R=>({id:R.id,description:R.description,severity:R.severity,resolved:R.resolved}))},x=l.map(R=>({role:R.role,content:R.content})),{data:{session:w}}=await Dt.auth.getSession(),E="https://supabase.rolandhentschel.agency/functions/v1/vibe-packer",A={projectName:o.name,projectDescription:o.description,graph:b,messages:x,format:y};let S="";const T=await fetch(E,{method:"POST",headers:{"Content-Type":"application/json",apikey:"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJzdXBhYmFzZSIsImlhdCI6MTc2NzU0NTUyMCwiZXhwIjo0OTIzMjE5MTIwLCJyb2xlIjoiYW5vbiJ9.tV14wzA_fdkuIHXepJ3d8SdNUGNqRLecJX6xpnnPfA8",Authorization:`Bearer ${w?.access_token||"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJzdXBhYmFzZSIsImlhdCI6MTc2NzU0NTUyMCwiZXhwIjo0OTIzMjE5MTIwLCJyb2xlIjoiYW5vbiJ9.tV14wzA_fdkuIHXepJ3d8SdNUGNqRLecJX6xpnnPfA8"}`},body:JSON.stringify({...A,part:1}),signal:a.current.signal});if(!T.ok){const R=await T.json().catch(()=>({error:"Unknown error"}));throw new Error(R.error||`HTTP ${T.status}`)}if(S=await hl(T,S,r,v),v?.onPartComplete?.(1),y==="navigation"||y==="user-stories")return r(S),v?.onComplete?.(S),S;if(a.current?.signal.aborted)return null;s(2),S+=`

`,r(S);const M=await fetch(E,{method:"POST",headers:{"Content-Type":"application/json",apikey:"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJzdXBhYmFzZSIsImlhdCI6MTc2NzU0NTUyMCwiZXhwIjo0OTIzMjE5MTIwLCJyb2xlIjoiYW5vbiJ9.tV14wzA_fdkuIHXepJ3d8SdNUGNqRLecJX6xpnnPfA8",Authorization:`Bearer ${w?.access_token||"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJzdXBhYmFzZSIsImlhdCI6MTc2NzU0NTUyMCwiZXhwIjo0OTIzMjE5MTIwLCJyb2xlIjoiYW5vbiJ9.tV14wzA_fdkuIHXepJ3d8SdNUGNqRLecJX6xpnnPfA8"}`},body:JSON.stringify({...A,part:2}),signal:a.current.signal});if(!M.ok){const R=await M.json().catch(()=>({error:"Unknown error"}));throw new Error(R.error||`HTTP ${M.status}`)}if(S=await hl(M,S,r,v),v?.onPartComplete?.(2),a.current?.signal.aborted)return null;if(y==="standard"||y==="lovable"||y==="dashboard"){s(3),S+=`

`,r(S);const R=await fetch(E,{method:"POST",headers:{"Content-Type":"application/json",apikey:"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJzdXBhYmFzZSIsImlhdCI6MTc2NzU0NTUyMCwiZXhwIjo0OTIzMjE5MTIwLCJyb2xlIjoiYW5vbiJ9.tV14wzA_fdkuIHXepJ3d8SdNUGNqRLecJX6xpnnPfA8",Authorization:`Bearer ${w?.access_token||"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJzdXBhYmFzZSIsImlhdCI6MTc2NzU0NTUyMCwiZXhwIjo0OTIzMjE5MTIwLCJyb2xlIjoiYW5vbiJ9.tV14wzA_fdkuIHXepJ3d8SdNUGNqRLecJX6xpnnPfA8"}`},body:JSON.stringify({...A,part:3}),signal:a.current.signal});if(!R.ok){const O=await R.json().catch(()=>({error:"Unknown error"}));throw new Error(O.error||`HTTP ${R.status}`)}if(S=await hl(R,S,r,v),v?.onPartComplete?.(3),!(y!=="dashboard"&&y!=="lovable"&&y!=="standard")){if(a.current?.signal.aborted)return null;s(4),S+=`

`,r(S);const O=await fetch(E,{method:"POST",headers:{"Content-Type":"application/json",apikey:"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJzdXBhYmFzZSIsImlhdCI6MTc2NzU0NTUyMCwiZXhwIjo0OTIzMjE5MTIwLCJyb2xlIjoiYW5vbiJ9.tV14wzA_fdkuIHXepJ3d8SdNUGNqRLecJX6xpnnPfA8",Authorization:`Bearer ${w?.access_token||"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJzdXBhYmFzZSIsImlhdCI6MTc2NzU0NTUyMCwiZXhwIjo0OTIzMjE5MTIwLCJyb2xlIjoiYW5vbiJ9.tV14wzA_fdkuIHXepJ3d8SdNUGNqRLecJX6xpnnPfA8"}`},body:JSON.stringify({...A,part:4}),signal:a.current.signal});if(!O.ok){const z=await O.json().catch(()=>({error:"Unknown error"}));throw new Error(z.error||`HTTP ${O.status}`)}if(S=await hl(O,S,r,v),v?.onPartComplete?.(4),y!=="lovable"){if(a.current?.signal.aborted)return null;s(5),S+=`

`,r(S);const z=await fetch(E,{method:"POST",headers:{"Content-Type":"application/json",apikey:"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJzdXBhYmFzZSIsImlhdCI6MTc2NzU0NTUyMCwiZXhwIjo0OTIzMjE5MTIwLCJyb2xlIjoiYW5vbiJ9.tV14wzA_fdkuIHXepJ3d8SdNUGNqRLecJX6xpnnPfA8",Authorization:`Bearer ${w?.access_token||"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJzdXBhYmFzZSIsImlhdCI6MTc2NzU0NTUyMCwiZXhwIjo0OTIzMjE5MTIwLCJyb2xlIjoiYW5vbiJ9.tV14wzA_fdkuIHXepJ3d8SdNUGNqRLecJX6xpnnPfA8"}`},body:JSON.stringify({...A,part:5}),signal:a.current.signal});if(!z.ok){const F=await z.json().catch(()=>({error:"Unknown error"}));throw new Error(F.error||`HTTP ${z.status}`)}if(S=await hl(z,S,r,v),v?.onPartComplete?.(5),y==="standard"){if(a.current?.signal.aborted)return null;s(6),S+=`

`,r(S);const F=await fetch(E,{method:"POST",headers:{"Content-Type":"application/json",apikey:"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJzdXBhYmFzZSIsImlhdCI6MTc2NzU0NTUyMCwiZXhwIjo0OTIzMjE5MTIwLCJyb2xlIjoiYW5vbiJ9.tV14wzA_fdkuIHXepJ3d8SdNUGNqRLecJX6xpnnPfA8",Authorization:`Bearer ${w?.access_token||"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJzdXBhYmFzZSIsImlhdCI6MTc2NzU0NTUyMCwiZXhwIjo0OTIzMjE5MTIwLCJyb2xlIjoiYW5vbiJ9.tV14wzA_fdkuIHXepJ3d8SdNUGNqRLecJX6xpnnPfA8"}`},body:JSON.stringify({...A,part:6}),signal:a.current.signal});if(!F.ok){const q=await F.json().catch(()=>({error:"Unknown error"}));throw new Error(q.error||`HTTP ${F.status}`)}S=await hl(F,S,r,v),v?.onPartComplete?.(6)}if(y==="dashboard")for(let F=6;F<=10;F++){if(a.current?.signal.aborted)return null;s(F),S+=`

`,r(S);const q=await fetch(E,{method:"POST",headers:{"Content-Type":"application/json",apikey:"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJzdXBhYmFzZSIsImlhdCI6MTc2NzU0NTUyMCwiZXhwIjo0OTIzMjE5MTIwLCJyb2xlIjoiYW5vbiJ9.tV14wzA_fdkuIHXepJ3d8SdNUGNqRLecJX6xpnnPfA8",Authorization:`Bearer ${w?.access_token||"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJzdXBhYmFzZSIsImlhdCI6MTc2NzU0NTUyMCwiZXhwIjo0OTIzMjE5MTIwLCJyb2xlIjoiYW5vbiJ9.tV14wzA_fdkuIHXepJ3d8SdNUGNqRLecJX6xpnnPfA8"}`},body:JSON.stringify({...A,part:F}),signal:a.current.signal});if(!q.ok){const k=await q.json().catch(()=>({error:"Unknown error"}));throw new Error(k.error||`HTTP ${q.status}`)}S=await hl(q,S,r,v),v?.onPartComplete?.(F)}}}}return S=S.replace(/\*\*\[FORTSETZUNG IN TEIL \d\]\*\*/g,"").replace(/\*\*\[TEIL 1 ENDE - FORTSETZUNG IN TEIL 2\]\*\*/g,"").replace(/---\s*\n\s*\n\s*##\s*4\./g,`---

## 4.`).replace(/---\s*\n\s*\n\s*##\s*5\./g,`---

## 5.`).replace(/---\s*\n\s*\n\s*##\s*6\./g,`---

## 6.`).replace(/---\s*\n\s*\n\s*##\s*9\./g,`---

## 9.`).replace(/---\s*\n\s*\n\s*##\s*Backend/g,`---

## Backend`).replace(/---\s*\n\s*\n\s*##\s*Commands/g,`---

## Commands`).replace(/---\s*\n\s*\n\s*##\s*Technical Requirements/g,`---

## Technical Requirements`),r(S),v?.onComplete?.(S),S}catch(b){if(b instanceof Error&&b.name==="AbortError")return null;const x=b instanceof Error?b.message:"Unbekannter Fehler";return v?.onError?.(x),`# Fehler bei der PRD-Generierung

${x}`}finally{e(!1),s(null),a.current=null}},[o,l,c,d,h]),isGenerating:t,streamedContent:n,currentPart:i,cancelGeneration:p}}async function hl(t,e,n,r){const i=t.headers.get("content-type")||"";let s=e;if(i.includes("text/event-stream")){const a=t.body?.getReader();if(!a)throw new Error("No response body");const o=new TextDecoder;let l="";for(;;){const{done:c,value:d}=await a.read();if(c)break;l+=o.decode(d,{stream:!0});const h=l.split(`
`);l=h.pop()||"";for(const p of h)if(p.startsWith("data: ")){const g=p.slice(6).trim();if(g==="[DONE]")continue;try{const v=JSON.parse(g);v.text&&(s+=v.text,n(s),r?.onChunk?.(v.text))}catch{}}}}else{const a=await t.json();if(a.error)throw new Error(a.error);s=a.prd||"",n(s)}return s}function MMe({open:t,onOpenChange:e}){const[n,r]=V.useState(null),[i,s]=V.useState(!1),[a,o]=V.useState("standard"),{currentProject:l}=Zn(),{generatePRD:c,isGenerating:d,streamedContent:h,currentPart:p,cancelGeneration:g}=UMe(),v=async()=>{const A=await c({format:a,onComplete:S=>{r(S)}});A&&r(A)},y=()=>{g()},b=async()=>{const A=n||h;A&&(await navigator.clipboard.writeText(A),s(!0),setTimeout(()=>s(!1),2e3))},x=()=>{const A=n||h;if(A&&l){const S={standard:"prd.md",lovable:"lovable-knowledge.md","claude-code":"CLAUDE.md","firebase-studio":"firebase-studio-prompt.md",navigation:"navigation.md","user-stories":"user-stories.md",dashboard:"dashboard-design.md"},T=new Blob([A],{type:"text/markdown"}),M=URL.createObjectURL(T),R=document.createElement("a");R.href=M,R.download=`${l.name.toLowerCase().replace(/\s+/g,"-")}-${S[a]}`,R.click(),URL.revokeObjectURL(M)}},w=()=>{d&&g(),e(!1),r(null),o("standard")},D=n||(d?h:null),E=D&&D.length>0;return I.jsx(Ll,{open:t,onOpenChange:w,children:I.jsxs(Bl,{className:"max-w-4xl max-h-[90vh] flex flex-col",children:[I.jsxs(jl,{children:[I.jsxs(zl,{className:"flex items-center gap-2",children:[I.jsx(xf,{className:"h-5 w-5"}),"PRD Export"]}),I.jsx(Hu,{children:"Generiere ein Product Requirements Document basierend auf deiner Architektur."})]}),I.jsx("div",{className:"flex-1 min-h-0",children:!E&&!d?I.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[I.jsx(xf,{className:"h-12 w-12 text-muted-foreground"}),I.jsx("p",{className:"mt-4 text-sm text-muted-foreground text-center max-w-sm",children:"Whle ein Export-Format und generiere ein Dokument basierend auf deiner Architektur und Konversation."}),I.jsxs("div",{className:"mt-6 w-full max-w-md space-y-4",children:[I.jsxs("div",{className:"space-y-2",children:[I.jsx("label",{className:"text-sm font-medium",children:"Export Format"}),I.jsxs(Tk,{children:[I.jsx(Ck,{asChild:!0,children:I.jsxs(dt,{variant:"outline",className:"w-full justify-between",children:[jm[a],I.jsx(Ly,{className:"ml-2 h-4 w-4 opacity-50"})]})}),I.jsx(Fb,{className:"w-[400px]",children:Object.keys(jm).map(A=>I.jsxs(Sf,{onClick:()=>o(A),className:"flex flex-col items-start py-3",children:[I.jsx("span",{className:"font-medium",children:jm[A]}),I.jsx("span",{className:"text-xs text-muted-foreground mt-1",children:RMe[A]})]},A))})]})]}),I.jsxs(dt,{onClick:v,className:"w-full",children:[jm[a]," Generieren"]})]})]}):I.jsxs(I.Fragment,{children:[d&&I.jsxs("div",{className:"flex items-center gap-2 mb-4 text-sm text-muted-foreground",children:[I.jsx(xo,{className:"h-4 w-4 animate-spin"}),I.jsxs("span",{children:[a==="navigation"?"Navigationsstruktur":a==="user-stories"?"User Stories":a==="dashboard"?"Dashboard Design":a==="lovable"?"Lovable Knowledge-File":"PRD"," wird generiert... ",p&&`(Teil ${p}/${a==="dashboard"?10:a==="standard"?6:a==="lovable"?4:["navigation","user-stories"].includes(a)?1:2})`]}),I.jsxs(dt,{variant:"ghost",size:"sm",onClick:y,className:"ml-auto h-7 px-2",children:[I.jsx(dk,{className:"h-4 w-4 mr-1"}),"Abbrechen"]})]}),I.jsx(id,{className:"h-[60vh] rounded-lg border p-4",children:I.jsxs("div",{className:"prose prose-sm dark:prose-invert max-w-none",children:[I.jsx(sK,{remarkPlugins:[kK],children:D||""}),d&&I.jsx("span",{className:"inline-block w-2 h-4 bg-primary animate-pulse ml-1"})]})})]})}),E&&I.jsxs(Vu,{className:"gap-2 sm:gap-0",children:[I.jsx(dt,{variant:"outline",onClick:b,disabled:d,children:i?I.jsxs(I.Fragment,{children:[I.jsx(GW,{className:"mr-2 h-4 w-4"}),"Kopiert!"]}):I.jsxs(I.Fragment,{children:[I.jsx(Zue,{className:"mr-2 h-4 w-4"}),"Kopieren"]})}),I.jsxs(dt,{onClick:x,disabled:d,children:[I.jsx(lk,{className:"mr-2 h-4 w-4"}),"Als Markdown herunterladen"]})]})]})})}function OMe({open:t,onOpenChange:e}){const{aiModel:n,setAIModel:r}=ZZ();return I.jsx(Ll,{open:t,onOpenChange:e,children:I.jsxs(Bl,{className:"max-w-md",children:[I.jsxs(jl,{children:[I.jsx(zl,{children:"Einstellungen"}),I.jsx(Hu,{children:"Konfiguriere die globalen App-Einstellungen."})]}),I.jsx("div",{className:"space-y-4 py-4",children:I.jsxs("div",{className:"space-y-2",children:[I.jsx("label",{className:"text-sm font-medium",children:"KI-Modell"}),I.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"Whle das Claude-Modell fr die Architektur-Analyse."}),I.jsx("div",{className:"space-y-2",children:TMe.map(i=>I.jsxs("label",{className:`flex items-start gap-3 p-3 rounded-lg border cursor-pointer transition-colors ${n===i.id?"border-primary bg-primary/5":"border-border hover:bg-accent"}`,children:[I.jsx("input",{type:"radio",name:"aiModel",value:i.id,checked:n===i.id,onChange:s=>r(s.target.value),className:"mt-1"}),I.jsxs("div",{children:[I.jsx("div",{className:"font-medium",children:i.name}),I.jsx("div",{className:"text-sm text-muted-foreground",children:i.description})]})]},i.id))})]})})]})})}function NMe(t){return Hf({queryKey:["project-members",t],queryFn:async()=>{if(!t)return[];const{data:e,error:n}=await Dt.from("project_members").select("*").eq("project_id",t).order("created_at",{ascending:!0});if(n)throw n;return e},enabled:!!t})}function FMe(t,e){return Hf({queryKey:["project-role",t,e],queryFn:async()=>{if(!t||!e)return"guest";const{data:n}=await Dt.from("projects").select("user_id").eq("id",t).single();if(n?.user_id===e)return"owner";const{data:i}=await Dt.from("project_members").select("role").eq("project_id",t).eq("user_id",e).single();return i?.role||"guest"},enabled:!!t&&!!e})}function IMe(){const t=Gl();return Zu({mutationFn:async({memberId:e})=>{const{error:n}=await Dt.from("project_members").delete().eq("id",e);if(n)throw n},onSuccess:(e,{projectId:n})=>{t.invalidateQueries({queryKey:["project-members",n]})}})}function PMe(){const t=Gl();return Zu({mutationFn:async({projectId:e,guestUserId:n,invitedBy:r})=>{const{data:i,error:s}=await Dt.from("project_members").insert({project_id:e,user_id:n,role:"guest",invited_by:r}).select().single();if(s)throw s.code==="23505"?new Error("Dieser Gast ist bereits in diesem Projekt."):s;return i},onSuccess:(e,{projectId:n})=>{t.invalidateQueries({queryKey:["project-members",n]})}})}function LMe(t,e){return Hf({queryKey:["known-guests",e,t],queryFn:async()=>{if(!e||!t)return[];const{data:n,error:r}=await Dt.from("projects").select("id").eq("user_id",e);if(r)throw r;const i=(n||[]).map(p=>p.id);if(i.length===0)return[];const{data:s,error:a}=await Dt.from("project_members").select("user_id, email").in("project_id",i).eq("role","guest");if(a)throw a;const{data:o,error:l}=await Dt.from("project_members").select("user_id").eq("project_id",t);if(l)throw l;const c=new Set((o||[]).map(p=>p.user_id)),d=new Set,h=[];for(const p of s||[])!c.has(p.user_id)&&!d.has(p.user_id)&&(d.add(p.user_id),h.push({user_id:p.user_id,email:p.email||`Gast ${p.user_id.slice(0,8)}`}));return h},enabled:!!t&&!!e})}function BMe(){const t=Gl();return Zu({mutationFn:async({email:e,password:n,projectId:r,invitedBy:i})=>{const{data:s,error:a}=await Dt.functions.invoke("create-user",{body:{email:e,password:n,projectId:r,invitedBy:i}});if(a)throw new Error(a.message||"Fehler beim Erstellen des Benutzers");if(s.error)throw new Error(s.error);return s},onSuccess:(e,{projectId:n})=>{t.invalidateQueries({queryKey:["project-members",n]})}})}function jMe({open:t,onOpenChange:e,projectId:n,projectName:r}){const[i,s]=V.useState(""),[a,o]=V.useState(""),[l,c]=V.useState(!1),[d,h]=V.useState(null),[p,g]=V.useState(null),[v,y]=V.useState(""),[b,x]=V.useState(null),[w,D]=V.useState(null),{user:E}=WC(),{data:A=[],isLoading:S}=NMe(n),T=IMe(),M=BMe(),{data:R=[]}=LMe(n,E?.id),O=PMe(),z=async k=>{if(k.preventDefault(),h(null),g(null),!i.trim()||!a.trim()){h("E-Mail und Passwort sind erforderlich");return}if(a.length<6){h("Passwort muss mindestens 6 Zeichen haben");return}try{const H=await M.mutateAsync({email:i.trim(),password:a,projectId:n,invitedBy:E.id});g(H.message),s(""),o(""),setTimeout(()=>g(null),5e3)}catch(H){h(H instanceof Error?H.message:"Fehler beim Erstellen des Benutzers")}},F=async k=>{confirm("Mchtest du diesen Gast wirklich entfernen?")&&await T.mutateAsync({memberId:k,projectId:n})},q=async()=>{if(!(!v||!E)){x(null),D(null);try{await O.mutateAsync({projectId:n,guestUserId:v,invitedBy:E.id});const k=R.find(H=>H.user_id===v);D(`${k?.email??"Gast"} wurde dem Projekt zugewiesen.`),y(""),setTimeout(()=>D(null),5e3)}catch(k){x(k instanceof Error?k.message:"Fehler beim Zuweisen")}}};return I.jsx(Ll,{open:t,onOpenChange:e,children:I.jsxs(Bl,{className:"max-w-md",children:[I.jsxs(jl,{children:[I.jsxs(zl,{className:"flex items-center gap-2",children:[I.jsx(uk,{className:"h-5 w-5"}),"Gste verwalten"]}),I.jsxs(Hu,{children:['Erstelle Benutzerkonten und fge sie als Gste zu "',r,'" hinzu.']})]}),I.jsxs("div",{className:"space-y-4 py-4",children:[I.jsxs("form",{onSubmit:z,className:"space-y-3",children:[I.jsxs("label",{className:"text-sm font-medium flex items-center gap-2",children:[I.jsx(CI,{className:"h-4 w-4"}),"Neuen Gast einladen"]}),I.jsxs("div",{className:"space-y-2",children:[I.jsx(_o,{type:"email",value:i,onChange:k=>s(k.target.value),placeholder:"E-Mail-Adresse",disabled:M.isPending}),I.jsxs("div",{className:"relative",children:[I.jsx(_o,{type:l?"text":"password",value:a,onChange:k=>o(k.target.value),placeholder:"Passwort (min. 6 Zeichen)",disabled:M.isPending}),I.jsx("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",onClick:()=>c(!l),children:l?I.jsx(tde,{className:"h-4 w-4"}):I.jsx(rde,{className:"h-4 w-4"})})]}),I.jsx(dt,{type:"submit",className:"w-full",disabled:M.isPending||!i.trim()||!a.trim(),children:M.isPending?I.jsxs(I.Fragment,{children:[I.jsx(xo,{className:"mr-2 h-4 w-4 animate-spin"}),"Erstelle..."]}):I.jsxs(I.Fragment,{children:[I.jsx(CI,{className:"mr-2 h-4 w-4"}),"Benutzer erstellen & einladen"]})})]}),d&&I.jsx("p",{className:"text-sm text-destructive",children:d}),p&&I.jsx("p",{className:"text-sm text-green-600",children:p}),I.jsx("p",{className:"text-xs text-muted-foreground",children:"Der Benutzer kann sich direkt mit diesen Zugangsdaten anmelden."})]}),R.length>0&&I.jsxs("div",{className:"space-y-3 pt-2 border-t",children:[I.jsxs("label",{className:"text-sm font-medium flex items-center gap-2",children:[I.jsx(Zde,{className:"h-4 w-4"}),"Bestehenden Gast zuweisen"]}),I.jsxs("div",{className:"flex gap-2",children:[I.jsxs("select",{value:v,onChange:k=>y(k.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",disabled:O.isPending,children:[I.jsx("option",{value:"",children:"Gast auswhlen..."}),R.map(k=>I.jsx("option",{value:k.user_id,children:k.email},k.user_id))]}),I.jsx(dt,{onClick:q,disabled:!v||O.isPending,size:"sm",className:"shrink-0",children:O.isPending?I.jsx(xo,{className:"h-4 w-4 animate-spin"}):"Zuweisen"})]}),b&&I.jsx("p",{className:"text-sm text-destructive",children:b}),w&&I.jsx("p",{className:"text-sm text-green-600",children:w})]}),I.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[I.jsxs("label",{className:"text-sm font-medium",children:["Aktuelle Gste (",A.filter(k=>k.role==="guest").length,")"]}),I.jsx(id,{className:"max-h-[200px]",children:S?I.jsx("div",{className:"flex items-center justify-center py-4",children:I.jsx(xo,{className:"h-4 w-4 animate-spin"})}):A.filter(k=>k.role==="guest").length===0?I.jsx("p",{className:"text-sm text-muted-foreground py-4 text-center",children:"Noch keine Gste eingeladen."}):I.jsx("div",{className:"space-y-2",children:A.filter(k=>k.role==="guest").map(k=>I.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-2",children:[I.jsxs("div",{className:"flex items-center gap-2",children:[I.jsx("div",{className:"h-8 w-8 rounded-full bg-muted flex items-center justify-center text-xs font-medium",children:k.email?.charAt(0).toUpperCase()||"G"}),I.jsxs("div",{children:[I.jsx("p",{className:"text-sm font-medium truncate max-w-[180px]",children:k.email||`Gast ${k.user_id.slice(0,8)}`}),I.jsx(TH,{variant:"outline",className:"text-xs",children:"Gast"})]})]}),I.jsx(dt,{variant:"ghost",size:"icon",onClick:()=>F(k.id),disabled:T.isPending,className:"h-8 w-8",children:I.jsx(ck,{className:"h-4 w-4 text-muted-foreground hover:text-destructive"})})]},k.id))})})]})]}),I.jsx(Vu,{children:I.jsx(dt,{variant:"outline",onClick:()=>e(!1),children:"Schlieen"})})]})})}function zMe(t){return Hf({queryKey:["projects",t],queryFn:async()=>{if(!t)return[];const{data:e,error:n}=await Dt.from("projects").select("*").eq("user_id",t).order("updated_at",{ascending:!1});if(n)throw n;const{data:r,error:i}=await Dt.from("project_members").select("project_id").eq("user_id",t);if(i)throw i;const a=r?.map(d=>d.project_id)||[];let o=[];if(a.length>0){const{data:d,error:h}=await Dt.from("projects").select("*").in("id",a).order("updated_at",{ascending:!1});if(h)throw h;o=d||[]}return[...e||[],...o].filter((d,h,p)=>h===p.findIndex(g=>g.id===d.id)).sort((d,h)=>new Date(h.updated_at).getTime()-new Date(d.updated_at).getTime())},enabled:!!t})}function qMe(){const t=Gl(),{setCurrentProject:e,reset:n}=Zn();return Zu({mutationFn:async({name:r,description:i,userId:s})=>{const{data:a,error:o}=await Dt.from("projects").insert({name:r,description:i,user_id:s}).select().single();if(o)throw o;return a},onSuccess:r=>{t.invalidateQueries({queryKey:["projects"]}),n(),e(r)}})}function WMe(){const{setCurrentProject:t,setMessages:e,setGraph:n,setLocalVersion:r,reset:i}=Zn();return Zu({mutationFn:async s=>{const[a,o,l]=await Promise.all([Dt.from("projects").select("*").eq("id",s).single(),Dt.from("messages").select("*").eq("project_id",s).order("created_at",{ascending:!0}),Dt.from("architecture_snapshots").select("*").eq("project_id",s).order("version",{ascending:!1}).limit(1).single()]);if(a.error)throw a.error;return{project:a.data,messages:o.data||[],snapshot:l.data}},onSuccess:({project:s,messages:a,snapshot:o})=>{i(),t(s),e(a),o?.graph_data&&n(o.graph_data),r(o?.version??0)}})}function VMe(){const t=Gl(),{currentProject:e,reset:n}=Zn();return Zu({mutationFn:async r=>{const{error:i}=await Dt.from("projects").delete().eq("id",r);if(i)throw i},onSuccess:(r,i)=>{t.invalidateQueries({queryKey:["projects"]}),e?.id===i&&n()}})}function HMe(t,e){let n=null,r=null;const i=()=>{n!==null&&(clearTimeout(n),n=null),r=null},s=()=>{n!==null&&r!==null&&(clearTimeout(n),n=null,t(...r),r=null)},a=(...o)=>{r=o,n!==null&&clearTimeout(n),n=setTimeout(()=>{n=null,r!==null&&(t(...r),r=null)},e)};return a.cancel=i,a.flush=s,a}const $Me=1500;function GMe({enabled:t=!0}={}){const{currentProject:e,nodes:n,edges:r,gaps:i,localVersion:s,lastModifiedAt:a,syncStatus:o,conflictData:l,setLocalVersion:c,setSyncStatus:d,setConflictData:h,setGraphFromRemote:p}=Zn(),g=V.useRef(null),v=V.useRef(!1),y=V.useRef(null),b=V.useCallback(()=>({nodes:n.map(A=>({id:A.id,type:A.type,label:A.data.label,description:A.data.description,position:A.position})),edges:r.map(A=>({id:A.id,source:A.source,target:A.target,label:A.label,type:A.type||"smoothstep"})),gaps:i.map(A=>({id:A.id,description:A.description,severity:A.severity,relatedNodeIds:A.relatedNodeIds,resolved:A.resolved}))}),[n,r,i]),x=V.useCallback(async()=>{if(!(!e||v.current)){v.current=!0,d("saving");try{const{data:A}=await Dt.from("architecture_snapshots").select("version, graph_data").eq("project_id",e.id).order("version",{ascending:!1}).limit(1).single(),S=A,T=S?.version??0;if(T>s){const F=S?.graph_data,q=F.nodes.map(N=>({id:N.id,type:N.type,position:N.position||{x:0,y:0},data:{label:N.label,description:N.description}})),k=F.edges.map(N=>({id:N.id,source:N.source,target:N.target,label:N.label,type:N.type||"smoothstep"})),H=F.gaps.map(N=>({id:N.id,description:N.description,severity:N.severity,relatedNodeIds:N.relatedNodeIds,resolved:N.resolved}));h({localVersion:s,remoteVersion:T,localGraph:{nodes:n,edges:r,gaps:i},remoteGraph:{nodes:q,edges:k,gaps:H}}),d("conflict"),v.current=!1;return}const M=b(),{data:R,error:O}=await Dt.from("architecture_snapshots").insert({project_id:e.id,graph_data:M}).select("version").single();if(O)throw O;c(R.version),y.current=Date.now(),d("saved"),setTimeout(()=>{Zn.getState().syncStatus==="saved"&&d("idle")},2e3)}catch{d("error")}finally{v.current=!1}}},[e,s,n,r,i,b,c,d,h]),w=V.useMemo(()=>HMe(x,$Me),[x]);V.useEffect(()=>{if(!(!t||!e||a===null)&&!(y.current!==null&&a<=y.current))return w(),()=>{w.cancel()}},[t,e,a,w]),V.useEffect(()=>{if(!t||!e)return;g.current&&Dt.removeChannel(g.current);const A=Dt.channel(`snapshots:${e.id}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"architecture_snapshots",filter:`project_id=eq.${e.id}`},S=>{const T=S.new.version,M=Zn.getState().localVersion,R=Zn.getState().syncStatus;if(T<=M||R==="saving"||R==="conflict")return;const O=S.new.graph_data;p({nodes:O.nodes.map(z=>({id:z.id,type:z.type,label:z.label,description:z.description,position:z.position})),edges:O.edges.map(z=>({id:z.id,source:z.source,target:z.target,label:z.label,type:z.type||"smoothstep"})),gaps:O.gaps},T)}).subscribe();return g.current=A,()=>{g.current&&(Dt.removeChannel(g.current),g.current=null)}},[t,e,p]);const D=V.useCallback((A,S)=>{const T=new Map;for(const k of A.nodes)T.set(k.id,k);for(const k of S.nodes)T.set(k.id,k);const M=Array.from(T.values()),R=new Set(M.map(k=>k.id)),O=new Map;for(const k of A.edges)R.has(k.source)&&R.has(k.target)&&O.set(k.id,k);for(const k of S.edges)R.has(k.source)&&R.has(k.target)&&O.set(k.id,k);const z=Array.from(O.values()),F=new Map;for(const k of A.gaps)F.set(k.id,k);for(const k of S.gaps)F.set(k.id,k);const q=Array.from(F.values());return{nodes:M,edges:z,gaps:q}},[]),E=V.useCallback(async A=>{if(!(!l||!e)){d("saving");try{let S;switch(A){case"keep_local":S=b();break;case"load_remote":p({nodes:l.remoteGraph.nodes.map(O=>({id:O.id,type:O.type,label:O.data.label,description:O.data.description,position:O.position})),edges:l.remoteGraph.edges.map(O=>({id:O.id,source:O.source,target:O.target,label:O.label,type:O.type||"smoothstep"})),gaps:l.remoteGraph.gaps},l.remoteVersion),h(null),d("saved"),setTimeout(()=>d("idle"),2e3);return;case"merge":{const O=D(l.localGraph,l.remoteGraph);S={nodes:O.nodes.map(z=>({id:z.id,type:z.type,label:z.data.label,description:z.data.description,position:z.position})),edges:O.edges.map(z=>({id:z.id,source:z.source,target:z.target,label:z.label,type:z.type||"smoothstep"})),gaps:O.gaps};break}}const{data:T,error:M}=await Dt.from("architecture_snapshots").insert({project_id:e.id,graph_data:S}).select("version").single();if(M)throw M;const R=T;if(A==="merge"){const O=D(l.localGraph,l.remoteGraph);p({nodes:O.nodes.map(z=>({id:z.id,type:z.type,label:z.data.label,description:z.data.description,position:z.position})),edges:O.edges.map(z=>({id:z.id,source:z.source,target:z.target,label:z.label,type:z.type||"smoothstep"})),gaps:O.gaps},R.version)}else c(R.version);h(null),d("saved"),setTimeout(()=>d("idle"),2e3)}catch{d("error")}}},[l,e,b,D,p,c,h,d]);return{syncStatus:o,conflictData:l,resolveConflict:E}}function XMe(){const{user:t}=WC(),{data:e,isLoading:n}=Hf({queryKey:["user-role",t?.id],queryFn:async()=>{if(!t)return{ownsProjects:!1,guestProjects:[]};const[a,o]=await Promise.all([Dt.from("projects").select("id").eq("user_id",t.id).limit(1),Dt.from("project_members").select("id, project_id").eq("user_id",t.id).eq("role","guest")]);if(a.error)throw a.error;if(o.error)throw o.error;const l=(a.data?.length??0)>0,c=o.data;let d=[];if(c&&c.length>0){const h=c.map(v=>v.project_id),{data:p,error:g}=await Dt.from("projects").select("*").in("id",h).order("updated_at",{ascending:!1});if(g)throw g;d=(p||[]).map(v=>({...v,membershipId:c.find(y=>y.project_id===v.id)?.id??""}))}return{ownsProjects:l,guestProjects:d}},enabled:!!t}),r=e?.ownsProjects??!1,i=e?.guestProjects??[];return{isGuest:!r&&i.length>0,guestProjects:i,isLoading:n}}function KMe({conflictData:t,onResolve:e}){if(!t)return null;const n={nodes:t.localGraph.nodes.length,edges:t.localGraph.edges.length,gaps:t.localGraph.gaps.filter(i=>!i.resolved).length},r={nodes:t.remoteGraph.nodes.length,edges:t.remoteGraph.edges.length,gaps:t.remoteGraph.gaps.filter(i=>!i.resolved).length};return I.jsx(Ll,{open:!!t,onOpenChange:()=>{},children:I.jsxs(Bl,{className:"sm:max-w-xl",children:[I.jsxs(jl,{children:[I.jsxs(zl,{className:"flex items-center gap-2",children:[I.jsx(wf,{className:"h-5 w-5 text-amber-500"}),"Versionskonflikt"]}),I.jsx(Hu,{children:"Ein anderer Benutzer hat nderungen vorgenommen. Wie mchtest du fortfahren?"})]}),I.jsxs("div",{className:"grid grid-cols-2 gap-4 py-4",children:[I.jsxs("div",{className:"rounded-lg border p-4 bg-muted/30",children:[I.jsxs("p",{className:"text-sm font-medium mb-2",children:["Deine Version (v",t.localVersion,")"]}),I.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[I.jsxs("li",{children:[n.nodes," Nodes"]}),I.jsxs("li",{children:[n.edges," Verbindungen"]}),I.jsxs("li",{children:[n.gaps," offene Gaps"]})]})]}),I.jsxs("div",{className:"rounded-lg border p-4 bg-muted/30",children:[I.jsxs("p",{className:"text-sm font-medium mb-2",children:["Serverversion (v",t.remoteVersion,")"]}),I.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[I.jsxs("li",{children:[r.nodes," Nodes"]}),I.jsxs("li",{children:[r.edges," Verbindungen"]}),I.jsxs("li",{children:[r.gaps," offene Gaps"]})]})]})]}),I.jsxs(Vu,{className:"flex-col sm:flex-row gap-2 sm:justify-between",children:[I.jsxs(dt,{variant:"outline",onClick:()=>e("keep_local"),className:"w-full sm:w-auto",children:[I.jsx(Kde,{className:"mr-2 h-4 w-4"}),"Meine behalten"]}),I.jsxs(dt,{variant:"outline",onClick:()=>e("load_remote"),className:"w-full sm:w-auto",children:[I.jsx(lk,{className:"mr-2 h-4 w-4"}),"Server laden"]}),I.jsxs(dt,{onClick:()=>e("merge"),className:"w-full sm:w-auto",children:[I.jsx(cde,{className:"mr-2 h-4 w-4"}),"Zusammenfhren"]})]})]})})}function YMe(){const{user:t,signOut:e}=WC(),[n,r]=V.useState(!1),[i,s]=V.useState(!1),[a,o]=V.useState(!1),[l,c]=V.useState(!1),[d,h]=V.useState(!1),[p,g]=V.useState(!1),[v,y]=V.useState(""),[b,x]=V.useState(""),{currentProject:w}=Zn(),{syncStatus:D,conflictData:E,resolveConflict:A}=GMe({enabled:!!w}),{data:S}=FMe(w?.id,t?.id),T=!w||S==="owner"||w.user_id===t?.id,{isGuest:M,guestProjects:R,isLoading:O}=XMe(),{data:z=[],isLoading:F}=zMe(t?.id),q=qMe(),k=WMe(),H=VMe(),N=V.useRef(!1);V.useEffect(()=>{M&&!w&&R.length>0&&!N.current&&(N.current=!0,k.mutateAsync(R[0].id))},[M,w,R,k]);const B=async()=>{!v.trim()||!t||(await q.mutateAsync({name:v.trim(),description:b.trim()||void 0,userId:t.id}),y(""),x(""),s(!1))},G=async W=>{await k.mutateAsync(W),o(!1)},$=async W=>{confirm("Mchtest du dieses Projekt wirklich lschen?")&&await H.mutateAsync(W)};return I.jsxs("div",{className:"flex h-screen flex-col",children:[I.jsx(Mme,{onMenuToggle:()=>r(!n),onNewProject:()=>{M||s(!0)},onOpenProjects:()=>{M||o(!0)},onSettings:()=>h(!0),onGuestManagement:()=>g(!0),onExportPRD:()=>c(!0),onLogout:e,userName:t?.email,isOwner:T,isGlobalGuest:M,guestProjects:R,onSwitchProject:W=>k.mutateAsync(W),sidebarOpen:n,syncStatus:D}),I.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[I.jsx(Ome,{isOpen:n,onClose:()=>r(!1)}),I.jsx("main",{className:"flex-1 overflow-hidden",children:w?I.jsx(ok,{children:I.jsx(Nme,{leftPanel:I.jsx(M_e,{}),rightPanel:I.jsx(kMe,{})})}):M||O?I.jsx("div",{className:"flex h-full items-center justify-center",children:I.jsxs("div",{className:"text-center",children:[I.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),I.jsx("p",{className:"mt-4 text-muted-foreground",children:"Projekt wird geladen..."})]})}):I.jsx("div",{className:"flex h-full items-center justify-center",children:I.jsxs("div",{className:"text-center",children:[I.jsx("h2",{className:"text-2xl font-semibold",children:"Willkommen bei VibeArchitect"}),I.jsx("p",{className:"mt-2 text-muted-foreground",children:"Erstelle ein neues Projekt oder whle ein existierendes aus."}),I.jsxs("div",{className:"mt-6 flex justify-center gap-4",children:[I.jsx(dt,{onClick:()=>s(!0),children:"Neues Projekt"}),I.jsx(dt,{variant:"outline",onClick:()=>o(!0),children:"Projekte ffnen"})]})]})})})]}),I.jsx(Ll,{open:i,onOpenChange:s,children:I.jsxs(Bl,{children:[I.jsxs(jl,{children:[I.jsx(zl,{children:"Neues Projekt erstellen"}),I.jsx(Hu,{children:"Gib deinem Projekt einen Namen und optional eine Beschreibung."})]}),I.jsxs("div",{className:"space-y-4 py-4",children:[I.jsxs("div",{className:"space-y-2",children:[I.jsx("label",{htmlFor:"name",className:"text-sm font-medium",children:"Projektname"}),I.jsx(_o,{id:"name",value:v,onChange:W=>y(W.target.value),placeholder:"Mein Architektur-Projekt"})]}),I.jsxs("div",{className:"space-y-2",children:[I.jsx("label",{htmlFor:"description",className:"text-sm font-medium",children:"Beschreibung (optional)"}),I.jsx(_o,{id:"description",value:b,onChange:W=>x(W.target.value),placeholder:"Eine kurze Beschreibung..."})]})]}),I.jsxs(Vu,{children:[I.jsx(dt,{variant:"outline",onClick:()=>s(!1),children:"Abbrechen"}),I.jsx(dt,{onClick:B,disabled:!v.trim()||q.isPending,children:q.isPending?"Erstelle...":"Erstellen"})]})]})}),I.jsx(Ll,{open:a,onOpenChange:o,children:I.jsxs(Bl,{className:"max-w-md",children:[I.jsxs(jl,{children:[I.jsx(zl,{children:"Meine Projekte"}),I.jsx(Hu,{children:"Whle ein Projekt aus oder erstelle ein neues."})]}),I.jsx(id,{className:"max-h-[400px]",children:F?I.jsx("div",{className:"py-8 text-center text-muted-foreground",children:"Lade..."}):z.length===0?I.jsx("div",{className:"py-8 text-center text-muted-foreground",children:"Noch keine Projekte vorhanden."}):I.jsx("div",{className:"space-y-2",children:z.map(W=>I.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-3 hover:bg-accent cursor-pointer",onClick:()=>G(W.id),children:[I.jsxs("div",{className:"min-w-0 flex-1",children:[I.jsx("p",{className:"font-medium truncate",children:W.name}),W.description&&I.jsx("p",{className:"text-sm text-muted-foreground truncate",children:W.description}),I.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:new Date(W.updated_at).toLocaleDateString("de-DE")})]}),I.jsx(dt,{variant:"ghost",size:"icon",className:"flex-shrink-0 ml-2",onClick:L=>{L.stopPropagation(),$(W.id)},children:I.jsx(ck,{className:"h-4 w-4 text-muted-foreground hover:text-destructive"})})]},W.id))})}),I.jsx(Vu,{children:I.jsx(dt,{onClick:()=>{o(!1),s(!0)},children:"Neues Projekt"})})]})}),I.jsx(MMe,{open:l,onOpenChange:c}),I.jsx(OMe,{open:d,onOpenChange:h}),w&&I.jsx(jMe,{open:p,onOpenChange:g,projectId:w.id,projectName:w.name}),I.jsx(KMe,{conflictData:E,onResolve:A})]})}gee.createRoot(document.getElementById("root")).render(I.jsx(V.StrictMode,{children:I.jsx(Qee,{children:I.jsx(vie,{children:I.jsx(YMe,{})})})}));
